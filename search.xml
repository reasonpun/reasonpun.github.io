<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>C++å›¾è®ºåŸºç¡€-æ¦‚å¿µå’Œéå†</title>
      <link href="/C-%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80-%E6%A6%82%E5%BF%B5%E5%92%8C%E9%81%8D%E5%8E%86.html"/>
      <url>/C-%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80-%E6%A6%82%E5%BF%B5%E5%92%8C%E9%81%8D%E5%8E%86.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-å›¾çš„å®šä¹‰å’ŒåŸºæœ¬æ¦‚å¿µ"><a href="#1-å›¾çš„å®šä¹‰å’ŒåŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. å›¾çš„å®šä¹‰å’ŒåŸºæœ¬æ¦‚å¿µ"></a>1. å›¾çš„å®šä¹‰å’ŒåŸºæœ¬æ¦‚å¿µ</h3><p>åœ¨å›¾è®ºä¸­ï¼Œå›¾ï¼ˆGraphï¼‰æ˜¯ç”±é¡¶ç‚¹ï¼ˆVertexï¼‰å’Œè¾¹ï¼ˆEdgeï¼‰æ„æˆçš„é›†åˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å›¾æ¥è¡¨ç¤ºå„ç§å…³ç³»ï¼Œæ¯”å¦‚ç¤¾äº¤ç½‘ç»œä¸­çš„äººé™…å…³ç³»ã€åŸå¸‚äº¤é€šä¸­çš„è·¯çº¿ç­‰ã€‚å›¾çš„åŸºæœ¬å…ƒç´ åŒ…æ‹¬é¡¶ç‚¹å’Œè¾¹ã€‚</p><span id="more"></span><h4 id="1-1-å›¾çš„åŸºæœ¬ç»„æˆ"><a href="#1-1-å›¾çš„åŸºæœ¬ç»„æˆ" class="headerlink" title="1.1 å›¾çš„åŸºæœ¬ç»„æˆ"></a>1.1 å›¾çš„åŸºæœ¬ç»„æˆ</h4><ul><li><strong>é¡¶ç‚¹ï¼ˆVertexï¼‰ï¼š</strong> å›¾ä¸­çš„åŸºæœ¬å•ä½ï¼Œè¡¨ç¤ºå¯¹è±¡æˆ–å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œç¤¾äº¤ç½‘ç»œä¸­çš„â€œäººâ€ã€åŸå¸‚å›¾ä¸­çš„â€œåŸå¸‚â€ç­‰ã€‚</li><li><strong>è¾¹ï¼ˆEdgeï¼‰ï¼š</strong> è¿æ¥ä¸¤ä¸ªé¡¶ç‚¹çš„çº¿ï¼Œè¡¨ç¤ºè¿™äº›é¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ã€‚ä¾‹å¦‚ï¼Œç¤¾äº¤ç½‘ç»œä¸­çš„â€œæœ‹å‹å…³ç³»â€ã€åŸå¸‚å›¾ä¸­çš„â€œå…¬è·¯â€ã€‚</li></ul><p>å›¾å¯ä»¥ç”¨ä¸åŒçš„æ–¹å¼åˆ†ç±»ï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç±»ï¼š</p><ul><li><strong>æœ‰å‘å›¾ï¼ˆDirected Graphï¼‰ï¼š</strong> è¾¹æœ‰æ–¹å‘ã€‚å³è¾¹ä»ä¸€ä¸ªé¡¶ç‚¹æŒ‡å‘å¦ä¸€ä¸ªé¡¶ç‚¹ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªç½‘é¡µçš„é“¾æ¥ã€‚</li><li><strong>æ— å‘å›¾ï¼ˆUndirected Graphï¼‰ï¼š</strong> è¾¹æ²¡æœ‰æ–¹å‘ï¼Œè¡¨ç¤ºä¸¤ä¸ªé¡¶ç‚¹ä¹‹é—´çš„åŒå‘å…³ç³»ã€‚ä¾‹å¦‚ï¼Œç¤¾äº¤ç½‘ç»œä¸­çš„æœ‹å‹å…³ç³»ã€‚</li><li><strong>åŠ æƒå›¾ï¼ˆWeighted Graphï¼‰ï¼š</strong> è¾¹æœ‰æƒé‡ï¼Œè¡¨ç¤ºè¾¹çš„â€œå¤§å°â€æˆ–â€œæˆæœ¬â€ï¼Œä¾‹å¦‚åœ°å›¾ä¸­çš„è·¯ç¨‹é•¿åº¦ã€‚</li><li><strong>éåŠ æƒå›¾ï¼ˆUnweighted Graphï¼‰ï¼š</strong> è¾¹æ²¡æœ‰æƒé‡ï¼Œè¾¹åªè¡¨ç¤ºæ˜¯å¦å­˜åœ¨è¿æ¥ã€‚</li><li><strong>ç®€å•å›¾ï¼ˆSimple Graphï¼‰ï¼š</strong> ä¸åŒ…å«è‡ªç¯å’Œå¤šé‡è¾¹ï¼Œå³æ¯å¯¹é¡¶ç‚¹ä¹‹é—´è‡³å¤šæœ‰ä¸€æ¡è¾¹ã€‚</li></ul><h3 id="2-å›¾çš„å­˜å‚¨ç»“æ„"><a href="#2-å›¾çš„å­˜å‚¨ç»“æ„" class="headerlink" title="2. å›¾çš„å­˜å‚¨ç»“æ„"></a>2. å›¾çš„å­˜å‚¨ç»“æ„</h3><p>åœ¨è®¡ç®—æœºä¸­ï¼Œå›¾çš„å­˜å‚¨æ–¹å¼æœ‰å¤šç§ï¼Œæœ€å¸¸ç”¨çš„å­˜å‚¨æ–¹å¼æ˜¯ <strong>é‚»æ¥çŸ©é˜µ</strong> å’Œ <strong>é‚»æ¥è¡¨</strong>ã€‚</p><h4 id="2-1-é‚»æ¥çŸ©é˜µï¼ˆAdjacency-Matrixï¼‰"><a href="#2-1-é‚»æ¥çŸ©é˜µï¼ˆAdjacency-Matrixï¼‰" class="headerlink" title="2.1 é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰"></a>2.1 é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰</h4><p>é‚»æ¥çŸ©é˜µæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè¡¨ç¤ºå›¾ä¸­é¡¶ç‚¹ä¹‹é—´çš„è¿æ¥å…³ç³»ã€‚å¦‚æœå›¾æœ‰ <code>n</code> ä¸ªé¡¶ç‚¹ï¼Œé‚£ä¹ˆé‚»æ¥çŸ©é˜µæ˜¯ä¸€ä¸ª <code>n x n</code> çš„çŸ©é˜µã€‚çŸ©é˜µä¸­çš„å…ƒç´ è¡¨ç¤ºé¡¶ç‚¹ä¹‹é—´æ˜¯å¦æœ‰è¾¹ï¼Œå¦‚æœå­˜åœ¨è¾¹ï¼Œåˆ™å€¼ä¸º <code>1</code> æˆ– <code>æƒé‡</code>ï¼›å¦‚æœä¸å­˜åœ¨è¾¹ï¼Œåˆ™å€¼ä¸º <code>0</code> æˆ–æ— ç©·å¤§ã€‚</p><ul><li><strong>ä¼˜ç‚¹</strong>ï¼š<ul><li>åˆ¤æ–­ä¸¤é¡¶ç‚¹ä¹‹é—´æ˜¯å¦æœ‰è¾¹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ã€‚</li><li>å®ç°ç®€å•ï¼Œé€‚ç”¨äºè¾¹æ•°è¾ƒå¤šçš„å›¾ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼š<ul><li>ç©ºé—´å¤æ‚åº¦ä¸º O(n^2)ï¼Œå¯¹äºç¨€ç–å›¾ï¼Œç©ºé—´æµªè´¹è¾ƒå¤§ã€‚</li><li>è¾¹çš„éå†æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ï¼Œéå†æ‰€æœ‰è¾¹çš„æ—¶é—´æ˜¯ O(n^2)ã€‚</li></ul></li></ul><h4 id="2-2-é‚»æ¥è¡¨ï¼ˆAdjacency-Listï¼‰"><a href="#2-2-é‚»æ¥è¡¨ï¼ˆAdjacency-Listï¼‰" class="headerlink" title="2.2 é‚»æ¥è¡¨ï¼ˆAdjacency Listï¼‰"></a>2.2 é‚»æ¥è¡¨ï¼ˆAdjacency Listï¼‰</h4><p>é‚»æ¥è¡¨ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„é‚»æ¥ç‚¹ï¼Œé€šå¸¸ä½¿ç”¨é“¾è¡¨æˆ–åŠ¨æ€æ•°ç»„æ¥å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„é‚»æ¥ç‚¹ã€‚è¿™ç§å­˜å‚¨æ–¹å¼é€‚åˆç¨€ç–å›¾ã€‚</p><ul><li><strong>ä¼˜ç‚¹</strong>ï¼š<ul><li>ç©ºé—´æ•ˆç‡é«˜ï¼Œé€‚åˆç¨€ç–å›¾ï¼Œç©ºé—´å¤æ‚åº¦ä¸º O(n + m)ï¼Œå…¶ä¸­ <code>n</code> æ˜¯é¡¶ç‚¹æ•°ï¼Œ<code>m</code> æ˜¯è¾¹æ•°ã€‚</li><li>éå†é¡¶ç‚¹çš„æ‰€æœ‰é‚»æ¥ç‚¹æ—¶é—´å¤æ‚åº¦ä¸º O(d)ï¼Œå…¶ä¸­ d æ˜¯é¡¶ç‚¹çš„åº¦ã€‚</li></ul></li><li><strong>ç¼ºç‚¹</strong>ï¼š<ul><li>åˆ¤æ–­ä¸¤é¡¶ç‚¹ä¹‹é—´æ˜¯å¦æœ‰è¾¹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(d)ï¼Œå…¶ä¸­ d æ˜¯é¡¶ç‚¹çš„åº¦ã€‚</li></ul></li></ul><h3 id="3-æ•°ç»„æ¨¡æ‹Ÿä¸´ç•Œè¡¨å­˜å‚¨"><a href="#3-æ•°ç»„æ¨¡æ‹Ÿä¸´ç•Œè¡¨å­˜å‚¨" class="headerlink" title="3. æ•°ç»„æ¨¡æ‹Ÿä¸´ç•Œè¡¨å­˜å‚¨"></a>3. æ•°ç»„æ¨¡æ‹Ÿä¸´ç•Œè¡¨å­˜å‚¨</h3><p>åœ¨å›¾çš„å®ç°ä¸­ï¼Œé€šå¸¸ç”¨é‚»æ¥è¡¨æ¥å­˜å‚¨å›¾ï¼Œå› ä¸ºå®ƒæ¯”é‚»æ¥çŸ©é˜µæ›´èŠ‚çœç©ºé—´ã€‚æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨å­˜å‚¨æ—¶ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ•°ç»„ï¼Œæ¯ä¸ªæ•°ç»„çš„å…ƒç´ ä¿å­˜ä¸€ä¸ªé“¾è¡¨ï¼Œé“¾è¡¨ä¸­çš„èŠ‚ç‚¹è¡¨ç¤ºä¸è¯¥é¡¶ç‚¹ç›¸è¿çš„å…¶ä»–é¡¶ç‚¹ã€‚</p><h4 id="3-1-å®ç°æ€è·¯"><a href="#3-1-å®ç°æ€è·¯" class="headerlink" title="3.1 å®ç°æ€è·¯"></a>3.1 å®ç°æ€è·¯</h4><ol><li>å®šä¹‰ä¸€ä¸ªç»“æ„ä½“ <code>Edge</code>ï¼Œè¡¨ç¤ºå›¾ä¸­çš„è¾¹ï¼Œå­˜å‚¨è¾¹çš„ç»ˆç‚¹ã€‚</li><li>ç”¨ä¸€ä¸ª <code>vector&lt;vector&lt;int&gt;&gt;</code> æˆ– <code>vector&lt;list&lt;int&gt;&gt;</code> æ¥è¡¨ç¤ºé‚»æ¥è¡¨ã€‚</li></ol><h4 id="3-2-ç¤ºä¾‹ä»£ç "><a href="#3-2-ç¤ºä¾‹ä»£ç " class="headerlink" title="3.2 ç¤ºä¾‹ä»£ç "></a>3.2 ç¤ºä¾‹ä»£ç </h4><p>ä»¥ä¸‹æ˜¯ä½¿ç”¨é‚»æ¥è¡¨æ¥å­˜å‚¨å›¾å¹¶è¿›è¡Œè¾¹çš„æ·»åŠ çš„ä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;list&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> MAXN <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>  <span class="token comment">// é¡¶ç‚¹æœ€å¤§æ•°</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> adjList<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// é‚»æ¥è¡¨</span><span class="token comment">// æ·»åŠ ä¸€æ¡è¾¹</span><span class="token keyword">void</span> <span class="token function">addEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>    adjList<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æœ‰å‘å›¾ï¼Œu -&gt; v</span>    adjList<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ— å‘å›¾ï¼Œéœ€è¦åå‘æ·»åŠ </span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>  <span class="token comment">// é¡¶ç‚¹æ•°nå’Œè¾¹æ•°m</span>    cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> m<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span>        cin <span class="token operator">&gt;&gt;</span> u <span class="token operator">&gt;&gt;</span> v<span class="token punctuation">;</span>        <span class="token function">addEdge</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// è¾“å‡ºé‚»æ¥è¡¨</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Vertex "</span> <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> adjList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> v <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-å›¾çš„éå†"><a href="#4-å›¾çš„éå†" class="headerlink" title="4. å›¾çš„éå†"></a>4. å›¾çš„éå†</h3><p>å›¾çš„éå†ç®—æ³•æ˜¯å›¾è®ºä¸­çš„ä¸€ä¸ªåŸºç¡€é—®é¢˜ï¼Œå¸¸è§çš„éå†ç®—æ³•æœ‰ <strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</strong> å’Œ <strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</strong>ã€‚è¿™ä¸¤ç§ç®—æ³•åˆ†åˆ«ä½¿ç”¨é€’å½’å’Œé˜Ÿåˆ—æ¥éå†å›¾ä¸­çš„é¡¶ç‚¹ã€‚</p><h4 id="4-1-æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰"><a href="#4-1-æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰" class="headerlink" title="4.1 æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰"></a>4.1 æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</h4><p><strong>DFS</strong> æ˜¯ä¸€ç§æ·±åº¦ä¼˜å…ˆçš„éå†æ–¹å¼ï¼Œå®ƒä¼šä»ä¸€ä¸ªèµ·å§‹ç‚¹å‡ºå‘ï¼Œæ²¿ç€ä¸€æ¡è·¯å¾„ä¸€ç›´æ·±å…¥ç›´åˆ°æ²¡æœ‰æœªè®¿é—®çš„é‚»æ¥ç‚¹ï¼Œå†å›æº¯åˆ°ä¸Šä¸€ä¸ªé¡¶ç‚¹ã€‚DFS çš„ç‰¹ç‚¹æ˜¯é€šè¿‡é€’å½’æˆ–æ ˆæ¥å®ç°ã€‚</p><ul><li><strong>æ—¶é—´å¤æ‚åº¦ï¼š</strong> O(V + E)ï¼Œå…¶ä¸­ V æ˜¯é¡¶ç‚¹æ•°ï¼ŒE æ˜¯è¾¹æ•°ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ï¼š</strong> O(V)ï¼Œæ ˆç©ºé—´æœ€å¤šå­˜å‚¨ V ä¸ªé¡¶ç‚¹ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> adjList<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// é‚»æ¥è¡¨</span><span class="token keyword">bool</span> visited<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// è®°å½•è®¿é—®çŠ¶æ€</span><span class="token comment">// æ·±åº¦ä¼˜å…ˆæœç´¢</span><span class="token keyword">void</span> <span class="token function">DFS</span><span class="token punctuation">(</span><span class="token keyword">int</span> u<span class="token punctuation">)</span> <span class="token punctuation">{</span>    visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> u <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºå½“å‰è®¿é—®çš„é¡¶ç‚¹</span>    <span class="token comment">// é€’å½’è®¿é—®ä¸uç›¸è¿çš„æ‰€æœ‰æœªè®¿é—®çš„é‚»æ¥ç‚¹</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> adjList<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">DFS</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> m<span class="token punctuation">;</span>    <span class="token comment">// æ„å»ºé‚»æ¥è¡¨</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span>        cin <span class="token operator">&gt;&gt;</span> u <span class="token operator">&gt;&gt;</span> v<span class="token punctuation">;</span>        adjList<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        adjList<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ— å‘å›¾</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä»èŠ‚ç‚¹1å¼€å§‹DFSéå†</span>    <span class="token function">DFS</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-2-å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰"><a href="#4-2-å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰" class="headerlink" title="4.2 å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰"></a>4.2 å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</h4><p><strong>BFS</strong> æ˜¯ä¸€ç§å±‚æ¬¡ä¼˜å…ˆçš„éå†æ–¹å¼ï¼Œå®ƒä¼šä»èµ·å§‹ç‚¹å‡ºå‘ï¼Œé¦–å…ˆè®¿é—®æ‰€æœ‰é‚»æ¥ç‚¹ï¼Œç„¶åå†è®¿é—®æ¯ä¸ªé‚»æ¥ç‚¹çš„é‚»æ¥ç‚¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚BFS ä½¿ç”¨é˜Ÿåˆ—æ¥å®ç°ã€‚</p><ul><li><strong>æ—¶é—´å¤æ‚åº¦ï¼š</strong> O(V + E)ï¼Œå…¶ä¸­ V æ˜¯é¡¶ç‚¹æ•°ï¼ŒE æ˜¯è¾¹æ•°ã€‚</li><li><strong>ç©ºé—´å¤æ‚åº¦ï¼š</strong> O(V)ï¼Œé˜Ÿåˆ—æœ€å¤šå­˜å‚¨ V ä¸ªé¡¶ç‚¹ã€‚</li></ul><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> adjList<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// é‚»æ¥è¡¨</span><span class="token keyword">bool</span> visited<span class="token punctuation">[</span>MAXN<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// è®°å½•è®¿é—®çŠ¶æ€</span><span class="token comment">// å¹¿åº¦ä¼˜å…ˆæœç´¢</span><span class="token keyword">void</span> <span class="token function">BFS</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">)</span> <span class="token punctuation">{</span>    queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> q<span class="token punctuation">;</span>    visited<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> u <span class="token operator">=</span> q<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> u <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºå½“å‰è®¿é—®çš„é¡¶ç‚¹</span>        <span class="token comment">// è®¿é—®ä¸uç›¸è¿çš„æ‰€æœ‰æœªè®¿é—®çš„é‚»æ¥ç‚¹</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> v <span class="token operator">:</span> adjList<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> m<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> m<span class="token punctuation">;</span>    <span class="token comment">// æ„å»ºé‚»æ¥è¡¨</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> u<span class="token punctuation">,</span> v<span class="token punctuation">;</span>        cin <span class="token operator">&gt;&gt;</span> u <span class="token operator">&gt;&gt;</span> v<span class="token punctuation">;</span>        adjList<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">;</span>        adjList<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ— å‘å›¾</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä»èŠ‚ç‚¹1å¼€å§‹BFSéå†</span>    <span class="token function">BFS</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><strong>å›¾çš„å®šä¹‰</strong>ï¼šå›¾æ˜¯ç”±é¡¶ç‚¹å’Œè¾¹ç»„æˆçš„æ•°æ®ç»“æ„ã€‚å›¾å¯ä»¥æ˜¯æœ‰å‘çš„ã€æ— å‘çš„ã€åŠ æƒçš„ç­‰ã€‚</li><li><strong>å›¾çš„å­˜å‚¨ç»“æ„</strong>ï¼šä¸»è¦æœ‰é‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨ä¸¤ç§ã€‚é‚»æ¥çŸ©é˜µé€‚ç”¨äºè¾¹å¤šçš„å›¾ï¼Œè€Œé‚»æ¥è¡¨é€‚ç”¨äºç¨€ç–å›¾ã€‚</li><li><strong>æ•°ç»„æ¨¡æ‹Ÿé‚»æ¥è¡¨</strong>ï¼šä½¿ç”¨ <code>vector</code> æˆ– <code>list</code> æ¥å­˜å‚¨æ¯ä¸ªé¡¶ç‚¹çš„é‚»æ¥ç‚¹ã€‚</li><li></li></ul><p> <strong>å›¾çš„éå†</strong>ï¼š</p><ul><li><strong>æ·±åº¦ä¼˜å…ˆæœç´¢ï¼ˆDFSï¼‰</strong>ï¼šåˆ©ç”¨é€’å½’æˆ–è€…æ ˆçš„æ–¹å¼ä»ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘ï¼Œå°½å¯èƒ½æ·±å…¥åœ°è®¿é—®æ¯ä¸ªé¡¶ç‚¹ã€‚</li><li><strong>å¹¿åº¦ä¼˜å…ˆæœç´¢ï¼ˆBFSï¼‰</strong>ï¼šåˆ©ç”¨é˜Ÿåˆ—çš„æ–¹å¼ï¼Œä»èµ·å§‹é¡¶ç‚¹å¼€å§‹ï¼Œå±‚å±‚å±•å¼€åœ°è®¿é—®å›¾ä¸­çš„é¡¶ç‚¹ã€‚</li></ul><p>è¿™äº›åŸºç¡€çŸ¥è¯†å’Œä»£ç ç¤ºä¾‹æ„æˆäº†ç†è§£å’Œå®ç°å›¾è®ºç›¸å…³é—®é¢˜çš„åŸºç¡€ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼ŒæŒæ¡è¿™äº›ç®—æ³•å’Œæ•°æ®ç»“æ„å°†å¸®åŠ©ä½ è§£å†³è®¸å¤šå›¾ç›¸å…³çš„è®¡ç®—æœºé—®é¢˜ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• å›¾è®º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++Dijkstraç®—æ³•</title>
      <link href="/C-Dijkstra%E7%AE%97%E6%B3%95.html"/>
      <url>/C-Dijkstra%E7%AE%97%E6%B3%95.html</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ“š-Dijkstra-ç®—æ³•è¯¦è§£ï¼ˆC-ï¼‰"><a href="#ğŸ“š-Dijkstra-ç®—æ³•è¯¦è§£ï¼ˆC-ï¼‰" class="headerlink" title="ğŸ“š Dijkstra ç®—æ³•è¯¦è§£ï¼ˆC++ï¼‰"></a>ğŸ“š <strong>Dijkstra ç®—æ³•è¯¦è§£ï¼ˆC++ï¼‰</strong></h1><h2 id="1-ä»€ä¹ˆæ˜¯-Dijkstra-ç®—æ³•ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-Dijkstra-ç®—æ³•ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Dijkstra ç®—æ³•ï¼Ÿ"></a><strong>1. ä»€ä¹ˆæ˜¯ Dijkstra ç®—æ³•ï¼Ÿ</strong></h2><p><strong>Dijkstra ç®—æ³•</strong>æ˜¯ä¸€ç§ç”¨äº<strong>è®¡ç®—å•æºæœ€çŸ­è·¯å¾„</strong>çš„ç»å…¸ç®—æ³•ã€‚å®ƒå¯ä»¥åœ¨<strong>åŠ æƒæœ‰å‘å›¾æˆ–æ— å‘å›¾</strong>ä¸­æ‰¾åˆ°<strong>ä»èµ·ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„</strong>ã€‚</p><span id="more"></span><h3 id="1-1-é€‚ç”¨èŒƒå›´"><a href="#1-1-é€‚ç”¨èŒƒå›´" class="headerlink" title="1.1 é€‚ç”¨èŒƒå›´"></a><strong>1.1 é€‚ç”¨èŒƒå›´</strong></h3><ul><li>å›¾ä¸­<strong>æ²¡æœ‰è´Ÿæƒè¾¹</strong>ï¼ˆæœ‰è´Ÿæƒè¾¹æ—¶åº”ä½¿ç”¨ <strong>Bellman-Ford ç®—æ³•</strong>ï¼‰ã€‚  </li><li>å¯ä»¥å¤„ç†<strong>ç¨ å¯†å›¾</strong>ï¼ˆé‚»æ¥çŸ©é˜µï¼‰å’Œ<strong>ç¨€ç–å›¾</strong>ï¼ˆé‚»æ¥è¡¨ï¼‰ã€‚</li></ul><h3 id="1-2-åŸºæœ¬æ€æƒ³"><a href="#1-2-åŸºæœ¬æ€æƒ³" class="headerlink" title="1.2 åŸºæœ¬æ€æƒ³"></a><strong>1.2 åŸºæœ¬æ€æƒ³</strong></h3><ul><li>ä½¿ç”¨<strong>è´ªå¿ƒç­–ç•¥</strong>ï¼šæ¯æ¬¡é€‰æ‹©<strong>å½“å‰è·ç¦»èµ·ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹</strong>ï¼Œå¹¶æ›´æ–°å…¶ç›¸é‚»èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚  </li><li>ä½¿ç”¨ä¸€ä¸ª<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ï¼ˆå°é¡¶å †ï¼‰æ¥åŠ é€Ÿæ‰¾åˆ°å½“å‰æœ€çŸ­è·¯å¾„çš„èŠ‚ç‚¹ã€‚</li></ul><h2 id="2-Dijkstra-ç®—æ³•æ­¥éª¤"><a href="#2-Dijkstra-ç®—æ³•æ­¥éª¤" class="headerlink" title="2. Dijkstra ç®—æ³•æ­¥éª¤"></a><strong>2. Dijkstra ç®—æ³•æ­¥éª¤</strong></h2><h3 id="2-1-åˆå§‹åŒ–"><a href="#2-1-åˆå§‹åŒ–" class="headerlink" title="2.1 åˆå§‹åŒ–"></a><strong>2.1 åˆå§‹åŒ–</strong></h3><ol><li>è®¾å®šä¸€ä¸ª<strong>æºç‚¹</strong>ï¼ˆèµ·å§‹èŠ‚ç‚¹ï¼‰ã€‚  </li><li>å°†æºç‚¹åˆ°è‡ªèº«çš„è·ç¦»è®¾ä¸º <code>0</code>ï¼Œå…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„è·ç¦»è®¾ä¸º <strong>æ— ç©·å¤§ï¼ˆâˆï¼‰</strong>ã€‚  </li><li>ä½¿ç”¨<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ï¼ˆå°é¡¶å †ï¼‰å­˜å‚¨å½“å‰çš„èŠ‚ç‚¹å’Œæœ€çŸ­è·ç¦»ã€‚</li></ol><h3 id="2-2-è¿‡ç¨‹"><a href="#2-2-è¿‡ç¨‹" class="headerlink" title="2.2 è¿‡ç¨‹"></a><strong>2.2 è¿‡ç¨‹</strong></h3><ol><li>ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­å–å‡º<strong>å½“å‰è·ç¦»æœ€å°çš„èŠ‚ç‚¹</strong>ã€‚  </li><li>éå†è¯¥èŠ‚ç‚¹çš„<strong>æ‰€æœ‰ç›¸é‚»èŠ‚ç‚¹</strong>ï¼Œæ›´æ–°ç›¸é‚»èŠ‚ç‚¹çš„<strong>æœ€çŸ­è·¯å¾„</strong>ï¼š  <pre class="line-numbers language-none"><code class="language-none">d[v] = min(d[v], d[u] + w(u, v))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>å…¶ä¸­ï¼š<ul><li>( d[v] )ï¼šå½“å‰åˆ°èŠ‚ç‚¹ ( v ) çš„æœ€çŸ­è·ç¦»ã€‚  </li><li>( d[u] )ï¼šèµ·å§‹ç‚¹åˆ°å½“å‰èŠ‚ç‚¹ ( u ) çš„æœ€çŸ­è·ç¦»ã€‚  </li><li>( w(u, v) )ï¼šä»èŠ‚ç‚¹ ( u ) åˆ° ( v ) çš„è¾¹çš„æƒé‡ã€‚</li></ul></li><li>å°†æ›´æ–°åçš„èŠ‚ç‚¹é‡æ–°åŠ å…¥<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ã€‚  </li><li>é‡å¤ä¸Šè¿°æ­¥éª¤ï¼Œç›´åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸ºç©ºã€‚</li></ol><h3 id="2-3-ç»“æŸ"><a href="#2-3-ç»“æŸ" class="headerlink" title="2.3 ç»“æŸ"></a><strong>2.3 ç»“æŸ</strong></h3><ul><li>å½“æ‰€æœ‰èŠ‚ç‚¹éƒ½è¢«è®¿é—®è¿‡åï¼Œç®—æ³•ç»“æŸã€‚  </li><li>ç»“æœæ˜¯<strong>æºç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„</strong>ã€‚</li></ul><h2 id="3-C-å®ç°-Dijkstra-ç®—æ³•"><a href="#3-C-å®ç°-Dijkstra-ç®—æ³•" class="headerlink" title="3. C++ å®ç° Dijkstra ç®—æ³•"></a><strong>3. C++ å®ç° Dijkstra ç®—æ³•</strong></h2><h3 id="3-1-é‚»æ¥è¡¨è¡¨ç¤ºçš„-Dijkstra-ç®—æ³•"><a href="#3-1-é‚»æ¥è¡¨è¡¨ç¤ºçš„-Dijkstra-ç®—æ³•" class="headerlink" title="3.1 é‚»æ¥è¡¨è¡¨ç¤ºçš„ Dijkstra ç®—æ³•"></a><strong>3.1 é‚»æ¥è¡¨è¡¨ç¤ºçš„ Dijkstra ç®—æ³•</strong></h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;climits&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å®šä¹‰é‚»æ¥è¡¨ä¸­çš„è¾¹</span><span class="token keyword">struct</span> <span class="token class-name">Edge</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> to<span class="token punctuation">;</span>     <span class="token comment">// ç›®æ ‡èŠ‚ç‚¹</span>    <span class="token keyword">int</span> weight<span class="token punctuation">;</span> <span class="token comment">// è¾¹çš„æƒé‡</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// Dijkstra ç®—æ³•å‡½æ•°</span><span class="token keyword">void</span> <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">const</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>Edge<span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> graph<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> graph<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">dist</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> INT_MAX<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å­˜å‚¨ä»èµ·ç‚¹åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»</span>    vector<span class="token operator">&lt;</span><span class="token keyword">bool</span><span class="token operator">&gt;</span> <span class="token function">visited</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ ‡è®°èŠ‚ç‚¹æ˜¯å¦å·²ç»è¢«è®¿é—®</span>    <span class="token comment">// å°é¡¶å †ï¼šæŒ‰æœ€çŸ­è·ç¦»æ’åº</span>    priority_queue<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> pq<span class="token punctuation">;</span>    <span class="token comment">// èµ·ç‚¹åˆ°è‡ªèº«çš„è·ç¦»ä¸º 0</span>    dist<span class="token punctuation">[</span>start<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> start<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>pq<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// å–å‡ºå½“å‰è·ç¦»æœ€å°çš„èŠ‚ç‚¹</span>        pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> current <span class="token operator">=</span> pq<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        pq<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> currentDist <span class="token operator">=</span> current<span class="token punctuation">.</span>first<span class="token punctuation">;</span> <span class="token comment">// å½“å‰èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»</span>        <span class="token keyword">int</span> u <span class="token operator">=</span> current<span class="token punctuation">.</span>second<span class="token punctuation">;</span>          <span class="token comment">// å½“å‰èŠ‚ç‚¹çš„ç¼–å·</span>        <span class="token comment">// å¦‚æœå½“å‰èŠ‚ç‚¹å·²è®¿é—®ï¼Œåˆ™è·³è¿‡</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>        visited<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token comment">// éå†å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰é‚»æ¥è¾¹</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> Edge<span class="token operator">&amp;</span> edge <span class="token operator">:</span> graph<span class="token punctuation">[</span>u<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> v <span class="token operator">=</span> edge<span class="token punctuation">.</span>to<span class="token punctuation">;</span>            <span class="token keyword">int</span> weight <span class="token operator">=</span> edge<span class="token punctuation">.</span>weight<span class="token punctuation">;</span>            <span class="token comment">// æ›´æ–°æœ€çŸ­è·¯å¾„</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> dist<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> weight <span class="token operator">&lt;</span> dist<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                dist<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> dist<span class="token punctuation">[</span>u<span class="token punctuation">]</span> <span class="token operator">+</span> weight<span class="token punctuation">;</span>                pq<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>dist<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token punctuation">,</span> v<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">// è¾“å‡ºç»“æœ</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Node\tShortest Distance from Source"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">"\t"</span> <span class="token operator">&lt;&lt;</span> dist<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// æµ‹è¯•</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// èŠ‚ç‚¹æ•°</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span>Edge<span class="token operator">&gt;&gt;</span> <span class="token function">graph</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ·»åŠ è¾¹ (èŠ‚ç‚¹ç¼–å·ä» 0 å¼€å§‹)</span>    graph<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    graph<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æºç‚¹ä¸ºèŠ‚ç‚¹ 0</span>    <span class="token function">dijkstra</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> graph<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-ä»£ç è§£æ"><a href="#4-ä»£ç è§£æ" class="headerlink" title="4. ä»£ç è§£æ"></a><strong>4. ä»£ç è§£æ</strong></h2><h3 id="4-1-æ•°æ®ç»“æ„"><a href="#4-1-æ•°æ®ç»“æ„" class="headerlink" title="4.1 æ•°æ®ç»“æ„"></a><strong>4.1 æ•°æ®ç»“æ„</strong></h3><ul><li><code>vector&lt;vector&lt;Edge&gt;&gt; graph</code>ï¼šé‚»æ¥è¡¨å­˜å‚¨å›¾ç»“æ„ã€‚  </li><li><code>vector&lt;int&gt; dist</code>ï¼šå­˜å‚¨ä»èµ·ç‚¹åˆ°å„ä¸ªèŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚  </li><li><code>priority_queue</code>ï¼šå­˜å‚¨å½“å‰èŠ‚ç‚¹åŠå…¶æœ€çŸ­è·ç¦»ï¼Œä½¿ç”¨<strong>å°é¡¶å †</strong>ç¡®ä¿æ¯æ¬¡è®¿é—®çš„æ˜¯<strong>å½“å‰è·ç¦»æœ€å°çš„èŠ‚ç‚¹</strong>ã€‚</li></ul><h3 id="4-2-ç®—æ³•æµç¨‹"><a href="#4-2-ç®—æ³•æµç¨‹" class="headerlink" title="4.2 ç®—æ³•æµç¨‹"></a><strong>4.2 ç®—æ³•æµç¨‹</strong></h3><ol><li>åˆå§‹åŒ–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ä¸º <code>INT_MAX</code>ï¼Œæºç‚¹è·ç¦»ä¸º <code>0</code>ã€‚  </li><li>ä½¿ç”¨å°é¡¶å †ç»´æŠ¤æ¯æ¬¡è¦è®¿é—®çš„<strong>æœ€çŸ­è·ç¦»èŠ‚ç‚¹</strong>ã€‚  </li><li>è®¿é—®èŠ‚ç‚¹å¹¶æ›´æ–°å…¶ç›¸é‚»èŠ‚ç‚¹çš„æœ€çŸ­è·ç¦»ã€‚  </li><li>å¦‚æœæœ‰æ›´çŸ­çš„è·¯å¾„ï¼Œå°†èŠ‚ç‚¹é‡æ–°åŠ å…¥åˆ°ä¼˜å…ˆé˜Ÿåˆ—ä¸­ã€‚</li></ol><h2 id="5-æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦"><a href="#5-æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦" class="headerlink" title="5. æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦"></a><strong>5. æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦</strong></h2><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š( O((V + E) \cdot \log V) )  <ul><li>( V )ï¼šèŠ‚ç‚¹æ•°  </li><li>( E )ï¼šè¾¹æ•°  </li><li>æ¯æ¬¡ä»ä¼˜å…ˆé˜Ÿåˆ—ä¸­å–å‡ºèŠ‚ç‚¹éœ€è¦ ( \log V )ï¼Œéå†æ‰€æœ‰è¾¹å…±è®¡ ( O(E) )ã€‚</li></ul></li><li><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š( O(V + E) )  <ul><li>å­˜å‚¨é‚»æ¥è¡¨å’Œä¼˜å…ˆé˜Ÿåˆ—æ‰€éœ€çš„ç©ºé—´ã€‚</li></ul></li></ul><h2 id="6-Dijkstra-ç®—æ³•çš„åº”ç”¨"><a href="#6-Dijkstra-ç®—æ³•çš„åº”ç”¨" class="headerlink" title="6. Dijkstra ç®—æ³•çš„åº”ç”¨"></a><strong>6. Dijkstra ç®—æ³•çš„åº”ç”¨</strong></h2><ol><li><strong>åœ°å›¾å¯¼èˆª</strong>ï¼šè®¡ç®—æœ€çŸ­è·¯å¾„ã€‚  </li><li><strong>ç½‘ç»œè·¯ç”±</strong>ï¼šæœ€çŸ­è·¯å¾„é€‰æ‹©ã€‚  </li><li><strong>èµ„æºåˆ†é…</strong>ï¼šåœ¨æœ‰é™èµ„æºä¸‹çš„æœ€ä¼˜åˆ†é…è·¯å¾„ã€‚  </li><li><strong>æ¸¸æˆå¼€å‘</strong>ï¼šè§’è‰²ç§»åŠ¨è·¯å¾„è§„åˆ’ã€‚</li></ol><h2 id="7-æ³¨æ„äº‹é¡¹"><a href="#7-æ³¨æ„äº‹é¡¹" class="headerlink" title="7. æ³¨æ„äº‹é¡¹"></a><strong>7. æ³¨æ„äº‹é¡¹</strong></h2><ul><li><strong>ä¸èƒ½å¤„ç†è´Ÿæƒè¾¹</strong>ï¼šè´Ÿæƒè¾¹ä¼šå¯¼è‡´è·¯å¾„æ›´æ–°å‡ºé”™ã€‚  </li><li><strong>å¤šæºæœ€çŸ­è·¯å¾„</strong>ï¼šéœ€è¦å¯¹æ¯ä¸ªæºç‚¹åˆ†åˆ«æ‰§è¡Œ Dijkstra ç®—æ³•ï¼Œæˆ–è€…ä½¿ç”¨ <strong>Floyd-Warshall ç®—æ³•</strong>ã€‚</li></ul><h2 id="8-æ€»ç»“"><a href="#8-æ€»ç»“" class="headerlink" title="8. æ€»ç»“"></a><strong>8. æ€»ç»“</strong></h2><ul><li><strong>æ ¸å¿ƒæ€æƒ³</strong>ï¼šæ¯æ¬¡é€‰æ‹©å½“å‰æœªè®¿é—®èŠ‚ç‚¹ä¸­<strong>è·ç¦»æºç‚¹æœ€è¿‘çš„èŠ‚ç‚¹</strong>ï¼Œå¹¶æ›´æ–°å…¶ç›¸é‚»èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚  </li><li><strong>å…³é”®æ•°æ®ç»“æ„</strong>ï¼š<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ï¼ˆå°é¡¶å †ï¼‰ã€‚  </li><li><strong>é™åˆ¶</strong>ï¼šä¸èƒ½æœ‰è´Ÿæƒè¾¹ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• Dijkstraç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++å“ˆå¤«æ›¼ç¼–ç </title>
      <link href="/C-%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81.html"/>
      <url>/C-%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81.html</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ“š-å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman-Codingï¼‰è¯¦è§£"><a href="#ğŸ“š-å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman-Codingï¼‰è¯¦è§£" class="headerlink" title="ğŸ“š å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman Codingï¼‰è¯¦è§£"></a>ğŸ“š <strong>å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman Codingï¼‰è¯¦è§£</strong></h1><h2 id="1-ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼ç¼–ç ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼ç¼–ç ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼ç¼–ç ï¼Ÿ"></a><strong>1. ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼ç¼–ç ï¼Ÿ</strong></h2><p><strong>å“ˆå¤«æ›¼ç¼–ç ï¼ˆHuffman Codingï¼‰</strong> æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„<strong>æ•°æ®å‹ç¼©ç®—æ³•</strong>ï¼Œç”¨äºå‡å°‘æ•°æ®ä¼ è¾“å’Œå­˜å‚¨æ‰€éœ€çš„ç©ºé—´ã€‚å®ƒå±äºä¸€ç§<strong>å‰ç¼€ç¼–ç </strong>ï¼ˆPrefix Codeï¼‰ï¼Œå³ä»»æ„ä¸€ä¸ªå­—ç¬¦çš„ç¼–ç éƒ½ä¸ä¼šæ˜¯å¦ä¸€ä¸ªå­—ç¬¦ç¼–ç çš„å‰ç¼€ï¼Œé¿å…äº†è§£ç æ­§ä¹‰ã€‚</p><span id="more"></span><h3 id="1-1-åº”ç”¨åœºæ™¯"><a href="#1-1-åº”ç”¨åœºæ™¯" class="headerlink" title="1.1 åº”ç”¨åœºæ™¯"></a><strong>1.1 åº”ç”¨åœºæ™¯</strong></h3><ul><li>æ–‡ä»¶å‹ç¼©ï¼ˆä¾‹å¦‚ ZIPã€GZIP ç­‰ï¼‰</li><li>å›¾åƒå‹ç¼©ï¼ˆä¾‹å¦‚ JPEGï¼‰</li><li>ç½‘ç»œé€šä¿¡ä¼ è¾“æ•°æ®</li></ul><h3 id="1-2-åŸºæœ¬æ€æƒ³"><a href="#1-2-åŸºæœ¬æ€æƒ³" class="headerlink" title="1.2 åŸºæœ¬æ€æƒ³"></a><strong>1.2 åŸºæœ¬æ€æƒ³</strong></h3><ul><li>é¢‘ç‡ï¼ˆæˆ–æƒé‡ï¼‰è¶Šé«˜çš„å­—ç¬¦ä½¿ç”¨çš„<strong>ç¼–ç è¶ŠçŸ­</strong>ï¼Œé¢‘ç‡è¶Šä½çš„å­—ç¬¦ä½¿ç”¨çš„<strong>ç¼–ç è¶Šé•¿</strong>ã€‚</li><li>ä½¿ç”¨<strong>äºŒå‰æ ‘</strong>æ„å»ºç¼–ç ï¼Œé¢‘ç‡è¾ƒå°çš„å­—ç¬¦å¤„äºæ ‘çš„åº•éƒ¨ï¼Œé¢‘ç‡è¾ƒå¤§çš„å­—ç¬¦é è¿‘æ ¹èŠ‚ç‚¹ã€‚</li></ul><h2 id="2-å“ˆå¤«æ›¼ç¼–ç çš„æ ¸å¿ƒæ­¥éª¤"><a href="#2-å“ˆå¤«æ›¼ç¼–ç çš„æ ¸å¿ƒæ­¥éª¤" class="headerlink" title="2. å“ˆå¤«æ›¼ç¼–ç çš„æ ¸å¿ƒæ­¥éª¤"></a><strong>2. å“ˆå¤«æ›¼ç¼–ç çš„æ ¸å¿ƒæ­¥éª¤</strong></h2><ol><li><p><strong>ç»Ÿè®¡å­—ç¬¦é¢‘ç‡</strong>  </p><ul><li>ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦åœ¨æ•°æ®ä¸­çš„å‡ºç°æ¬¡æ•°ã€‚</li></ul></li><li><p><strong>æ„å»ºå“ˆå¤«æ›¼æ ‘</strong>  </p><ul><li>å°†æ¯ä¸ªå­—ç¬¦ä½œä¸ºä¸€ä¸ª<strong>å¶å­èŠ‚ç‚¹</strong>ï¼Œé¢‘ç‡ä½œä¸ºèŠ‚ç‚¹æƒé‡ã€‚  </li><li>å–å‡º<strong>é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</strong>ï¼Œåˆå¹¶æˆä¸€ä¸ªæ–°çš„èŠ‚ç‚¹ï¼Œæ–°çš„èŠ‚ç‚¹çš„é¢‘ç‡æ˜¯ä¸¤è€…ä¹‹å’Œã€‚  </li><li>é‡å¤æ­¤è¿‡ç¨‹ï¼Œç›´åˆ°æ‰€æœ‰èŠ‚ç‚¹åˆå¹¶æˆä¸€æ£µæ ‘ã€‚</li></ul></li><li><p><strong>ç”Ÿæˆç¼–ç </strong>  </p><ul><li>ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œ<strong>å·¦å­æ ‘ç¼–ç ä¸º 0ï¼Œå³å­æ ‘ç¼–ç ä¸º 1</strong>ã€‚  </li><li>éå†æ•´æ£µæ ‘ï¼Œä¸ºæ¯ä¸ªå­—ç¬¦ç”Ÿæˆå¯¹åº”çš„äºŒè¿›åˆ¶ç¼–ç ã€‚</li></ul></li><li><p><strong>ç¼–ç ä¸è§£ç </strong>  </p><ul><li>ä½¿ç”¨ç”Ÿæˆçš„äºŒè¿›åˆ¶ç¼–ç è¿›è¡Œæ•°æ®å‹ç¼©ã€‚  </li><li>è§£ç æ—¶ï¼Œä½¿ç”¨å“ˆå¤«æ›¼æ ‘è¿›è¡Œè¿˜åŸã€‚</li></ul></li></ol><h2 id="3-å“ˆå¤«æ›¼ç¼–ç ç¤ºä¾‹"><a href="#3-å“ˆå¤«æ›¼ç¼–ç ç¤ºä¾‹" class="headerlink" title="3. å“ˆå¤«æ›¼ç¼–ç ç¤ºä¾‹"></a><strong>3. å“ˆå¤«æ›¼ç¼–ç ç¤ºä¾‹</strong></h2><h3 id="æ­¥éª¤è§£æ"><a href="#æ­¥éª¤è§£æ" class="headerlink" title="æ­¥éª¤è§£æ"></a><strong>æ­¥éª¤è§£æ</strong></h3><h3 id="3-1-åˆå¹¶èŠ‚ç‚¹çš„æ ¸å¿ƒæ€æƒ³"><a href="#3-1-åˆå¹¶èŠ‚ç‚¹çš„æ ¸å¿ƒæ€æƒ³" class="headerlink" title="3.1. åˆå¹¶èŠ‚ç‚¹çš„æ ¸å¿ƒæ€æƒ³"></a><strong>3.1. åˆå¹¶èŠ‚ç‚¹çš„æ ¸å¿ƒæ€æƒ³</strong></h3><ol><li><p><strong>æ¯æ¬¡é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</strong>  </p><ul><li>å°†è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä½œä¸ºæ–°èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹ã€‚  </li><li>æ–°èŠ‚ç‚¹çš„é¢‘ç‡æ˜¯è¿™ä¸¤ä¸ªèŠ‚ç‚¹çš„é¢‘ç‡ä¹‹å’Œã€‚</li></ul></li><li><p><strong>å°†æ–°èŠ‚ç‚¹åŠ å…¥åˆ°é›†åˆä¸­</strong>  </p><ul><li>å°†åˆå¹¶åçš„æ–°èŠ‚ç‚¹é‡æ–°åŠ å…¥åˆ°èŠ‚ç‚¹é›†åˆä¸­ï¼Œç»§ç»­è¿›è¡Œä¸‹ä¸€è½®åˆå¹¶ã€‚</li></ul></li><li><p><strong>é‡å¤ä»¥ä¸Šæ­¥éª¤ï¼Œç›´åˆ°åªå‰©ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</strong>  </p><ul><li>æœ€ç»ˆï¼Œæ‰€æœ‰èŠ‚ç‚¹å°†åˆå¹¶æˆä¸€æ£µ<strong>å“ˆå¤«æ›¼æ ‘</strong>ã€‚  </li><li>æ ¹èŠ‚ç‚¹çš„é¢‘ç‡æ˜¯æ‰€æœ‰å­—ç¬¦é¢‘ç‡çš„æ€»å’Œã€‚</li></ul></li></ol><h3 id="3-2-è¯¦ç»†ç¤ºä¾‹è§£æ"><a href="#3-2-è¯¦ç»†ç¤ºä¾‹è§£æ" class="headerlink" title="3.2. è¯¦ç»†ç¤ºä¾‹è§£æ"></a><strong>3.2. è¯¦ç»†ç¤ºä¾‹è§£æ</strong></h3><h3 id="ç¤ºä¾‹æ•°æ®"><a href="#ç¤ºä¾‹æ•°æ®" class="headerlink" title="ç¤ºä¾‹æ•°æ®"></a><strong>ç¤ºä¾‹æ•°æ®</strong></h3><p>å‡è®¾æœ‰ä»¥ä¸‹å­—ç¬¦åŠå…¶é¢‘ç‡ï¼š</p><table><thead><tr><th>å­—ç¬¦</th><th>é¢‘ç‡</th></tr></thead><tbody><tr><td>a</td><td>5</td></tr><tr><td>b</td><td>9</td></tr><tr><td>c</td><td>12</td></tr><tr><td>d</td><td>13</td></tr><tr><td>e</td><td>16</td></tr><tr><td>f</td><td>45</td></tr></tbody></table><h3 id="3-2-1-ç¬¬ä¸€æ­¥ï¼šå°†æ¯ä¸ªå­—ç¬¦ä½œä¸ºç‹¬ç«‹èŠ‚ç‚¹"><a href="#3-2-1-ç¬¬ä¸€æ­¥ï¼šå°†æ¯ä¸ªå­—ç¬¦ä½œä¸ºç‹¬ç«‹èŠ‚ç‚¹" class="headerlink" title="3.2.1 ç¬¬ä¸€æ­¥ï¼šå°†æ¯ä¸ªå­—ç¬¦ä½œä¸ºç‹¬ç«‹èŠ‚ç‚¹"></a><strong>3.2.1 ç¬¬ä¸€æ­¥ï¼šå°†æ¯ä¸ªå­—ç¬¦ä½œä¸ºç‹¬ç«‹èŠ‚ç‚¹</strong></h3><pre class="line-numbers language-none"><code class="language-none">a(5), b(9), c(12), d(13), e(16), f(45)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-2-2-ç¬¬äºŒæ­¥ï¼šé€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆå¹¶"><a href="#3-2-2-ç¬¬äºŒæ­¥ï¼šé€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆå¹¶" class="headerlink" title="3.2.2 ç¬¬äºŒæ­¥ï¼šé€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆå¹¶"></a><strong>3.2.2 ç¬¬äºŒæ­¥ï¼šé€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆå¹¶</strong></h3><ul><li>é€‰æ‹© <code>a(5)</code> å’Œ <code>b(9)</code>ï¼Œåˆå¹¶æˆæ–°èŠ‚ç‚¹ï¼Œé¢‘ç‡ä¸º <code>5 + 9 = 14</code>ã€‚</li></ul><pre class="line-numbers language-none"><code class="language-none">  (a+b)(14)  /      \a(5)    b(9)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>å°†æ–°èŠ‚ç‚¹ <code>(a+b)(14)</code> åŠ å›èŠ‚ç‚¹é›†åˆï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">(a+b)(14), c(12), d(13), e(16), f(45)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-2-3-ç¬¬ä¸‰æ­¥ï¼šå†æ¬¡é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹"><a href="#3-2-3-ç¬¬ä¸‰æ­¥ï¼šå†æ¬¡é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹" class="headerlink" title="3.2.3 ç¬¬ä¸‰æ­¥ï¼šå†æ¬¡é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹"></a><strong>3.2.3 ç¬¬ä¸‰æ­¥ï¼šå†æ¬¡é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</strong></h3><ul><li>é€‰æ‹© <code>c(12)</code> å’Œ <code>d(13)</code>ï¼Œåˆå¹¶æˆæ–°èŠ‚ç‚¹ï¼Œé¢‘ç‡ä¸º <code>12 + 13 = 25</code>ã€‚</li></ul><pre class="line-numbers language-none"><code class="language-none">  (c+d)(25)  /      \c(12)   d(13)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>å°†æ–°èŠ‚ç‚¹ <code>(c+d)(25)</code> åŠ å›èŠ‚ç‚¹é›†åˆï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">(a+b)(14), (c+d)(25), e(16), f(45)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-2-4-ç¬¬å››æ­¥ï¼šç»§ç»­é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹"><a href="#3-2-4-ç¬¬å››æ­¥ï¼šç»§ç»­é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹" class="headerlink" title="3.2.4 ç¬¬å››æ­¥ï¼šç»§ç»­é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹"></a><strong>3.2.4 ç¬¬å››æ­¥ï¼šç»§ç»­é€‰æ‹©é¢‘ç‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</strong></h3><ul><li>é€‰æ‹© <code>(a+b)(14)</code> å’Œ <code>e(16)</code>ï¼Œåˆå¹¶æˆæ–°èŠ‚ç‚¹ï¼Œé¢‘ç‡ä¸º <code>14 + 16 = 30</code>ã€‚</li></ul><pre class="line-numbers language-none"><code class="language-none">      ((a+b)+e)(30)      /       \  (a+b)(14)   e(16)  /     \a(5)   b(9)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å°†æ–°èŠ‚ç‚¹ <code>(a+b+e)(30)</code> åŠ å›èŠ‚ç‚¹é›†åˆï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">(c+d)(25), ((a+b)+e)(30), f(45)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-2-5-ç¬¬äº”æ­¥ï¼šåˆå¹¶å‰©ä¸‹çš„ä¸¤ä¸ªæœ€å°èŠ‚ç‚¹"><a href="#3-2-5-ç¬¬äº”æ­¥ï¼šåˆå¹¶å‰©ä¸‹çš„ä¸¤ä¸ªæœ€å°èŠ‚ç‚¹" class="headerlink" title="3.2.5 ç¬¬äº”æ­¥ï¼šåˆå¹¶å‰©ä¸‹çš„ä¸¤ä¸ªæœ€å°èŠ‚ç‚¹"></a><strong>3.2.5 ç¬¬äº”æ­¥ï¼šåˆå¹¶å‰©ä¸‹çš„ä¸¤ä¸ªæœ€å°èŠ‚ç‚¹</strong></h3><ul><li>é€‰æ‹© <code>(c+d)(25)</code> å’Œ <code>((a+b)+e)(30)</code>ï¼Œåˆå¹¶æˆæ–°èŠ‚ç‚¹ï¼Œé¢‘ç‡ä¸º <code>25 + 30 = 55</code>ã€‚</li></ul><pre class="line-numbers language-none"><code class="language-none">      ((c+d)+((a+b)+e))(55)      /                \  (c+d)(25)        ((a+b)+e)(30)  /     \           /       \c(12)  d(13)   (a+b)(14)   e(16)                    /  \                  a(5) b(9)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å°†æ–°èŠ‚ç‚¹åŠ å…¥é›†åˆï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">((c+d)+((a+b)+e))(55), f(45)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-2-6-ç¬¬å…­æ­¥ï¼šåˆå¹¶æœ€åä¸¤ä¸ªèŠ‚ç‚¹"><a href="#3-2-6-ç¬¬å…­æ­¥ï¼šåˆå¹¶æœ€åä¸¤ä¸ªèŠ‚ç‚¹" class="headerlink" title="3.2.6 ç¬¬å…­æ­¥ï¼šåˆå¹¶æœ€åä¸¤ä¸ªèŠ‚ç‚¹"></a><strong>3.2.6 ç¬¬å…­æ­¥ï¼šåˆå¹¶æœ€åä¸¤ä¸ªèŠ‚ç‚¹</strong></h3><ul><li>åˆå¹¶ <code>f(45)</code> å’Œ <code>((c+d)+((a+b)+e))(55)</code>ï¼Œé¢‘ç‡ä¸º <code>45 + 55 = 100</code>ã€‚</li></ul><pre class="line-numbers language-none"><code class="language-none">   ROOT(100)   /       \f(45)   ((c+d)+((a+b)+e))(55)           /                \       (c+d)(25)       ((a+b)+e)(30)       /     \           /       \     c(12)  d(13)   (a+b)(14)   e(16)                         /  \                       a(5) b(9)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-3-ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç "><a href="#3-3-ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç " class="headerlink" title="3.3. ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç "></a><strong>3.3. ç”Ÿæˆå“ˆå¤«æ›¼ç¼–ç </strong></h3><h3 id="3-3-1-ç¼–ç è§„åˆ™"><a href="#3-3-1-ç¼–ç è§„åˆ™" class="headerlink" title="3.3.1 ç¼–ç è§„åˆ™"></a><strong>3.3.1 ç¼–ç è§„åˆ™</strong></h3><ul><li><strong>å‘å·¦èµ°ï¼Œç¼–ç ä¸º 0</strong>  </li><li><strong>å‘å³èµ°ï¼Œç¼–ç ä¸º 1</strong></li></ul><h3 id="3-3-2-ç¼–ç ç”Ÿæˆ"><a href="#3-3-2-ç¼–ç ç”Ÿæˆ" class="headerlink" title="3.3.2 ç¼–ç ç”Ÿæˆ"></a><strong>3.3.2 ç¼–ç ç”Ÿæˆ</strong></h3><ul><li><code>f</code> â†’ <code>0</code>  </li><li><code>c</code> â†’ <code>100</code>  </li><li><code>d</code> â†’ <code>101</code>  </li><li><code>a</code> â†’ <code>1100</code>  </li><li><code>b</code> â†’ <code>1101</code>  </li><li><code>e</code> â†’ <code>111</code></li></ul><h3 id="3-4-åˆå¹¶èŠ‚ç‚¹çš„è´ªå¿ƒæ€æƒ³"><a href="#3-4-åˆå¹¶èŠ‚ç‚¹çš„è´ªå¿ƒæ€æƒ³" class="headerlink" title="3.4. åˆå¹¶èŠ‚ç‚¹çš„è´ªå¿ƒæ€æƒ³"></a><strong>3.4. åˆå¹¶èŠ‚ç‚¹çš„è´ªå¿ƒæ€æƒ³</strong></h3><h3 id="ä¸ºä»€ä¹ˆæ¯æ¬¡é€‰æ‹©æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæ¯æ¬¡é€‰æ‹©æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæ¯æ¬¡é€‰æ‹©æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ï¼Ÿ"></a><strong>ä¸ºä»€ä¹ˆæ¯æ¬¡é€‰æ‹©æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ï¼Ÿ</strong></h3><ol><li><p><strong>å‡å°‘æ ‘çš„é«˜åº¦</strong>  </p><ul><li>é¢‘ç‡å°çš„èŠ‚ç‚¹æ”¾åœ¨æ ‘çš„åº•å±‚ï¼Œå‡å°‘é«˜é¢‘å­—ç¬¦çš„è·¯å¾„é•¿åº¦ã€‚</li></ul></li><li><p><strong>ä¿è¯æ•´ä½“ç¼–ç é•¿åº¦æœ€å°</strong>  </p><ul><li>é¢‘ç‡è¶Šé«˜çš„å­—ç¬¦è·¯å¾„è¶ŠçŸ­ï¼Œå‡å°‘æ•´ä½“ç¼–ç çš„é•¿åº¦ã€‚</li></ul></li><li><p><strong>è´ªå¿ƒé€‰æ‹©å±€éƒ¨æœ€ä¼˜è§£</strong>  </p><ul><li>æ¯æ¬¡é€‰æ‹©æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹åˆå¹¶ï¼Œæœ€ç»ˆå¾—åˆ°æ•´ä½“æœ€ä¼˜çš„å“ˆå¤«æ›¼æ ‘ã€‚</li></ul></li></ol><h3 id="3-5-ä»£ç å›é¡¾"><a href="#3-5-ä»£ç å›é¡¾" class="headerlink" title="3.5. ä»£ç å›é¡¾"></a><strong>3.5. ä»£ç å›é¡¾</strong></h3><h3 id="æ ¸å¿ƒé€»è¾‘ï¼ˆåˆå¹¶èŠ‚ç‚¹éƒ¨åˆ†ï¼‰"><a href="#æ ¸å¿ƒé€»è¾‘ï¼ˆåˆå¹¶èŠ‚ç‚¹éƒ¨åˆ†ï¼‰" class="headerlink" title="æ ¸å¿ƒé€»è¾‘ï¼ˆåˆå¹¶èŠ‚ç‚¹éƒ¨åˆ†ï¼‰"></a><strong>æ ¸å¿ƒé€»è¾‘ï¼ˆåˆå¹¶èŠ‚ç‚¹éƒ¨åˆ†ï¼‰</strong></h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">while</span> <span class="token punctuation">(</span>minHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    HuffmanNode<span class="token operator">*</span> left <span class="token operator">=</span> minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> minHeap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    HuffmanNode<span class="token operator">*</span> right <span class="token operator">=</span> minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> minHeap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åˆå¹¶ä¸¤ä¸ªæœ€å°é¢‘ç‡èŠ‚ç‚¹</span>    HuffmanNode<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">HuffmanNode</span><span class="token punctuation">(</span><span class="token char">'$'</span><span class="token punctuation">,</span> left<span class="token operator">-&gt;</span>freq <span class="token operator">+</span> right<span class="token operator">-&gt;</span>freq<span class="token punctuation">)</span><span class="token punctuation">;</span>    newNode<span class="token operator">-&gt;</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>    newNode<span class="token operator">-&gt;</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>    <span class="token comment">// å°†æ–°èŠ‚ç‚¹åŠ å…¥å°é¡¶å †</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newNode<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ¯æ¬¡å–å‡º<strong>ä¸¤ä¸ªæœ€å°èŠ‚ç‚¹</strong>ã€‚</li><li>åˆå¹¶ä¸ºæ–°èŠ‚ç‚¹ï¼Œæ–°çš„é¢‘ç‡æ˜¯ä¸¤è€…ä¹‹å’Œã€‚</li><li>å°†æ–°èŠ‚ç‚¹é‡æ–°æ’å…¥åˆ°<strong>å°é¡¶å †</strong>ä¸­ã€‚</li></ul><h3 id="3-6-æ€»ç»“"><a href="#3-6-æ€»ç»“" class="headerlink" title="3.6. æ€»ç»“"></a><strong>3.6. æ€»ç»“</strong></h3><ol><li><strong>æ¯æ¬¡åˆå¹¶æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</strong>ï¼Œç¡®ä¿å±€éƒ¨æœ€ä¼˜ã€‚  </li><li><strong>é‡å¤åˆå¹¶ï¼Œç›´åˆ°æ„å»ºå‡ºä¸€æ£µå®Œæ•´çš„å“ˆå¤«æ›¼æ ‘</strong>ã€‚  </li><li><strong>ä½¿ç”¨äºŒå‰æ ‘çš„å·¦ 0 å³ 1 è§„åˆ™ç”Ÿæˆç¼–ç </strong>ã€‚  </li><li><strong>å°é¡¶å †ä¿è¯æ¯æ¬¡èƒ½å¤Ÿå¿«é€Ÿæ‰¾åˆ°æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹</strong>ã€‚</li></ol><h2 id="4-å“ˆå¤«æ›¼ç¼–ç -C-å®ç°"><a href="#4-å“ˆå¤«æ›¼ç¼–ç -C-å®ç°" class="headerlink" title="4. å“ˆå¤«æ›¼ç¼–ç  C++ å®ç°"></a><strong>4. å“ˆå¤«æ›¼ç¼–ç  C++ å®ç°</strong></h2><h3 id="4-1-ä»£ç ç¤ºä¾‹"><a href="#4-1-ä»£ç ç¤ºä¾‹" class="headerlink" title="4.1 ä»£ç ç¤ºä¾‹"></a><strong>4.1 ä»£ç ç¤ºä¾‹</strong></h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;unordered_map&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å®šä¹‰å“ˆå¤«æ›¼æ ‘çš„èŠ‚ç‚¹</span><span class="token keyword">struct</span> <span class="token class-name">HuffmanNode</span> <span class="token punctuation">{</span>    <span class="token keyword">char</span> data<span class="token punctuation">;</span>        <span class="token comment">// å­—ç¬¦</span>    <span class="token keyword">int</span> freq<span class="token punctuation">;</span>         <span class="token comment">// é¢‘ç‡</span>    HuffmanNode <span class="token operator">*</span>left<span class="token punctuation">,</span> <span class="token operator">*</span>right<span class="token punctuation">;</span>    <span class="token function">HuffmanNode</span><span class="token punctuation">(</span><span class="token keyword">char</span> d<span class="token punctuation">,</span> <span class="token keyword">int</span> f<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token function">data</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">freq</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">left</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">right</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// æ¯”è¾ƒå‡½æ•°ï¼Œç”¨äºä¼˜å…ˆé˜Ÿåˆ—</span><span class="token keyword">struct</span> <span class="token class-name">Compare</span> <span class="token punctuation">{</span>    <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span>HuffmanNode<span class="token operator">*</span> l<span class="token punctuation">,</span> HuffmanNode<span class="token operator">*</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> l<span class="token operator">-&gt;</span>freq <span class="token operator">&gt;</span> r<span class="token operator">-&gt;</span>freq<span class="token punctuation">;</span> <span class="token comment">// å°é¡¶å †</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// é€’å½’æ‰“å°å“ˆå¤«æ›¼ç¼–ç </span><span class="token keyword">void</span> <span class="token function">printCodes</span><span class="token punctuation">(</span>HuffmanNode<span class="token operator">*</span> root<span class="token punctuation">,</span> string code<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>root<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token comment">// å¦‚æœæ˜¯å¶å­èŠ‚ç‚¹ï¼Œæ‰“å°å­—ç¬¦å’Œå¯¹åº”ç¼–ç </span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>data <span class="token operator">!=</span> <span class="token char">'$'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> root<span class="token operator">-&gt;</span>data <span class="token operator">&lt;&lt;</span> <span class="token string">": "</span> <span class="token operator">&lt;&lt;</span> code <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printCodes</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>left<span class="token punctuation">,</span> code <span class="token operator">+</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">printCodes</span><span class="token punctuation">(</span>root<span class="token operator">-&gt;</span>right<span class="token punctuation">,</span> code <span class="token operator">+</span> <span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å“ˆå¤«æ›¼ç¼–ç ä¸»å‡½æ•°</span><span class="token keyword">void</span> <span class="token function">HuffmanCoding</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> freqTable<span class="token punctuation">)</span> <span class="token punctuation">{</span>    priority_queue<span class="token operator">&lt;</span>HuffmanNode<span class="token operator">*</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>HuffmanNode<span class="token operator">*</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> Compare<span class="token operator">&gt;</span> minHeap<span class="token punctuation">;</span>    <span class="token comment">// å°†å­—ç¬¦å’Œé¢‘ç‡åŠ å…¥æœ€å°å †</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> pair <span class="token operator">:</span> freqTable<span class="token punctuation">)</span> <span class="token punctuation">{</span>        minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token function">HuffmanNode</span><span class="token punctuation">(</span>pair<span class="token punctuation">.</span>first<span class="token punctuation">,</span> pair<span class="token punctuation">.</span>second<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ„å»ºå“ˆå¤«æ›¼æ ‘</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>minHeap<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        HuffmanNode<span class="token operator">*</span> left <span class="token operator">=</span> minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> minHeap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        HuffmanNode<span class="token operator">*</span> right <span class="token operator">=</span> minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> minHeap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ›å»ºä¸€ä¸ªæ–°èŠ‚ç‚¹ï¼Œå°†å·¦å³å­èŠ‚ç‚¹åˆå¹¶</span>        HuffmanNode<span class="token operator">*</span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">HuffmanNode</span><span class="token punctuation">(</span><span class="token char">'$'</span><span class="token punctuation">,</span> left<span class="token operator">-&gt;</span>freq <span class="token operator">+</span> right<span class="token operator">-&gt;</span>freq<span class="token punctuation">)</span><span class="token punctuation">;</span>        newNode<span class="token operator">-&gt;</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>        newNode<span class="token operator">-&gt;</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>        minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>newNode<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ‰“å°å“ˆå¤«æ›¼ç¼–ç </span>    <span class="token function">printCodes</span><span class="token punctuation">(</span>minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// ä¸»å‡½æ•°</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> freqTable <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token punctuation">{</span><span class="token char">'a'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token char">'b'</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token char">'c'</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token char">'d'</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token char">'e'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token char">'f'</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">HuffmanCoding</span><span class="token punctuation">(</span>freqTable<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-2-ä»£ç è§£æ"><a href="#4-2-ä»£ç è§£æ" class="headerlink" title="4.2 ä»£ç è§£æ"></a><strong>4.2 ä»£ç è§£æ</strong></h3><ol><li><p><strong>å®šä¹‰èŠ‚ç‚¹ç»“æ„ä½“</strong>  </p><ul><li>æ¯ä¸ªèŠ‚ç‚¹åŒ…å«å­—ç¬¦ã€é¢‘ç‡ã€å·¦å³å­èŠ‚ç‚¹æŒ‡é’ˆã€‚</li></ul></li><li><p><strong>ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼ˆå°é¡¶å †ï¼‰</strong>  </p><ul><li>é¢‘ç‡å°çš„èŠ‚ç‚¹ä¼˜å…ˆå‡ºé˜Ÿã€‚</li></ul></li><li><p><strong>æ„å»ºå“ˆå¤«æ›¼æ ‘</strong>  </p><ul><li>æ¯æ¬¡åˆå¹¶ä¸¤ä¸ªé¢‘ç‡æœ€å°çš„èŠ‚ç‚¹ï¼Œå½¢æˆæ–°èŠ‚ç‚¹å¹¶é‡æ–°åŠ å…¥å †ä¸­ã€‚</li></ul></li><li><p><strong>ç”Ÿæˆç¼–ç </strong>  </p><ul><li>ä½¿ç”¨<strong>é€’å½’éå†</strong>ç”Ÿæˆæ¯ä¸ªå­—ç¬¦çš„ç¼–ç ã€‚</li></ul></li><li><p><strong>æ‰“å°ç¼–ç </strong>  </p><ul><li>å¯¹å¶å­èŠ‚ç‚¹è¿›è¡Œç¼–ç è¾“å‡ºã€‚</li></ul></li></ol><h3 id="4-3-ç¤ºä¾‹è¾“å‡º"><a href="#4-3-ç¤ºä¾‹è¾“å‡º" class="headerlink" title="4.3 ç¤ºä¾‹è¾“å‡º"></a><strong>4.3 ç¤ºä¾‹è¾“å‡º</strong></h3><pre class="line-numbers language-none"><code class="language-none">f: 0c: 100d: 101a: 1100b: 1101e: 111<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="5-å“ˆå¤«æ›¼ç¼–ç çš„ä¼˜ç¼ºç‚¹"><a href="#5-å“ˆå¤«æ›¼ç¼–ç çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="5. å“ˆå¤«æ›¼ç¼–ç çš„ä¼˜ç¼ºç‚¹"></a><strong>5. å“ˆå¤«æ›¼ç¼–ç çš„ä¼˜ç¼ºç‚¹</strong></h2><h3 id="âœ…-ä¼˜ç‚¹"><a href="#âœ…-ä¼˜ç‚¹" class="headerlink" title="âœ… ä¼˜ç‚¹"></a>âœ… <strong>ä¼˜ç‚¹</strong></h3><ol><li>é«˜æ•ˆçš„å‹ç¼©ç®—æ³•ã€‚  </li><li>é€‚ç”¨äºå­—ç¬¦é¢‘ç‡åˆ†å¸ƒä¸å‡åŒ€çš„åœºæ™¯ã€‚  </li><li>å‰ç¼€ç¼–ç ï¼Œæ— è§£ç æ­§ä¹‰ã€‚</li></ol><h3 id="âŒ-ç¼ºç‚¹"><a href="#âŒ-ç¼ºç‚¹" class="headerlink" title="âŒ ç¼ºç‚¹"></a>âŒ <strong>ç¼ºç‚¹</strong></h3><ol><li>é¢‘ç‡ç»Ÿè®¡å¯èƒ½è¾ƒè€—æ—¶ã€‚  </li><li>å¯¹äºå­—ç¬¦é¢‘ç‡ç›¸å¯¹å‡åŒ€çš„æ•°æ®ï¼Œå‹ç¼©æ•ˆæœä¸æ˜¾è‘—ã€‚  </li><li>åœ¨åŠ¨æ€æ•°æ®æµä¸­ç¼–ç æ•ˆç‡è¾ƒä½ã€‚</li></ol><h2 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6. æ€»ç»“"></a><strong>6. æ€»ç»“</strong></h2><ul><li>å“ˆå¤«æ›¼ç¼–ç æ˜¯ä¸€ç§<strong>è´ªå¿ƒç®—æ³•</strong>ï¼Œåœ¨æ¯ä¸€æ­¥éƒ½é€‰æ‹©é¢‘ç‡æœ€å°çš„èŠ‚ç‚¹è¿›è¡Œåˆå¹¶ã€‚  </li><li>æ„å»ºå“ˆå¤«æ›¼æ ‘çš„æ ¸å¿ƒæ˜¯<strong>å°é¡¶å †</strong>ï¼Œä»¥ç¡®ä¿é¢‘ç‡æœ€å°çš„èŠ‚ç‚¹è¢«ä¼˜å…ˆå¤„ç†ã€‚  </li><li>å“ˆå¤«æ›¼ç¼–ç æ˜¯ä¸€ç§<strong>æ— å‰ç¼€ç¼–ç </strong>ï¼Œæœ‰æ•ˆé¿å…äº†ç¼–ç æ­§ä¹‰ã€‚</li></ul><p>é€šè¿‡è¿™ä¸ªç¤ºä¾‹å’Œè®²è§£ï¼Œç›¸ä¿¡ä½ å·²ç»å¯¹å“ˆå¤«æ›¼ç¼–ç æœ‰äº†æ¸…æ™°çš„ç†è§£ï¼ğŸš€</p><h1 id="ğŸ“š-æ³¨ï¼šå°é¡¶å †ï¼ˆMin-Heapï¼‰è¯¦è§£"><a href="#ğŸ“š-æ³¨ï¼šå°é¡¶å †ï¼ˆMin-Heapï¼‰è¯¦è§£" class="headerlink" title="ğŸ“š æ³¨ï¼šå°é¡¶å †ï¼ˆMin Heapï¼‰è¯¦è§£"></a>ğŸ“š <strong>æ³¨ï¼šå°é¡¶å †ï¼ˆMin Heapï¼‰è¯¦è§£</strong></h1><h2 id="1-ä»€ä¹ˆæ˜¯å°é¡¶å †ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯å°é¡¶å †ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å°é¡¶å †ï¼Ÿ"></a><strong>1. ä»€ä¹ˆæ˜¯å°é¡¶å †ï¼Ÿ</strong></h2><p><strong>å°é¡¶å †ï¼ˆMin Heapï¼‰</strong> æ˜¯ä¸€ç§<strong>äºŒå‰å †</strong>ï¼ˆBinary Heapï¼‰ï¼Œå®ƒæ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªç‰¹æ€§ï¼š</p><ol><li><p><strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼š  </p><ul><li>å°é¡¶å †å¿…é¡»æ˜¯ä¸€æ£µ<strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼Œå³æ¯ä¸€å±‚éƒ½è¢«å®Œå…¨å¡«æ»¡ï¼Œé™¤äº†æœ€åä¸€å±‚å¯ä»¥ä¸æ»¡ï¼Œä½†èŠ‚ç‚¹å¿…é¡»ä»å·¦åˆ°å³è¿ç»­æ’åˆ—ã€‚</li></ul></li><li><p><strong>å †åºæ€§ï¼ˆå †æ€§è´¨ï¼‰</strong>ï¼š  </p><ul><li><strong>æ ¹èŠ‚ç‚¹çš„å€¼å°äºæˆ–ç­‰äºå…¶æ‰€æœ‰å­èŠ‚ç‚¹çš„å€¼</strong>ã€‚  </li><li>å¯¹äºæ¯ä¸€ä¸ªèŠ‚ç‚¹ ( i )ï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">A[i] &lt;= A[2i+1] // (å·¦å­èŠ‚ç‚¹)A[i] &lt;= A[2i+2] // (å³å­èŠ‚ç‚¹)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li></ol><h2 id="2-å°é¡¶å †çš„å…³é”®ç‰¹æ€§"><a href="#2-å°é¡¶å †çš„å…³é”®ç‰¹æ€§" class="headerlink" title="2. å°é¡¶å †çš„å…³é”®ç‰¹æ€§"></a><strong>2. å°é¡¶å †çš„å…³é”®ç‰¹æ€§</strong></h2><ol><li><p><strong>æ ¹èŠ‚ç‚¹</strong>  </p><ul><li>å †é¡¶ï¼ˆæ ¹èŠ‚ç‚¹ï¼‰æ€»æ˜¯å­˜å‚¨<strong>æœ€å°çš„å…ƒç´ </strong>ã€‚</li></ul></li><li><p><strong>æ’å…¥æ“ä½œ</strong>  </p><ul><li>æ–°å…ƒç´ æ’å…¥åˆ°å †çš„æœ«å°¾ï¼Œç„¶åè¿›è¡Œ<strong>ä¸Šæµ®æ“ä½œ</strong>ï¼Œä»¥ç¡®ä¿å †çš„æ€§è´¨ä¿æŒä¸å˜ã€‚</li></ul></li><li><p><strong>åˆ é™¤æ“ä½œ</strong>  </p><ul><li>é€šå¸¸åˆ é™¤<strong>æ ¹èŠ‚ç‚¹</strong>ï¼ˆæœ€å°å€¼ï¼‰ã€‚  </li><li>ç”¨å †çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹æ›¿æ¢æ ¹èŠ‚ç‚¹ï¼Œç„¶åè¿›è¡Œ<strong>ä¸‹æ²‰æ“ä½œ</strong>ï¼Œä»¥é‡æ–°ç»´æŒå †çš„æ€§è´¨ã€‚</li></ul></li><li><p><strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>  </p><ul><li>å°é¡¶å †å¸¸ç”¨äºå®ç°<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ï¼ˆPriority Queueï¼‰ï¼Œä¿è¯æ¯æ¬¡å‡ºé˜Ÿçš„éƒ½æ˜¯å½“å‰æœ€å°çš„å…ƒç´ ã€‚</li></ul></li></ol><h2 id="3-å°é¡¶å †ä¸å¤§é¡¶å †çš„åŒºåˆ«"><a href="#3-å°é¡¶å †ä¸å¤§é¡¶å †çš„åŒºåˆ«" class="headerlink" title="3. å°é¡¶å †ä¸å¤§é¡¶å †çš„åŒºåˆ«"></a><strong>3. å°é¡¶å †ä¸å¤§é¡¶å †çš„åŒºåˆ«</strong></h2><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>å°é¡¶å † (Min Heap)</strong></th><th><strong>å¤§é¡¶å † (Max Heap)</strong></th></tr></thead><tbody><tr><td><strong>æ ¹èŠ‚ç‚¹</strong></td><td>æœ€å°å€¼</td><td>æœ€å¤§å€¼</td></tr><tr><td><strong>å­èŠ‚ç‚¹</strong></td><td>å­èŠ‚ç‚¹å€¼ &gt;= æ ¹èŠ‚ç‚¹å€¼</td><td>å­èŠ‚ç‚¹å€¼ &lt;= æ ¹èŠ‚ç‚¹å€¼</td></tr><tr><td><strong>åº”ç”¨åœºæ™¯</strong></td><td>å“ˆå¤«æ›¼ç¼–ç ã€æœ€çŸ­è·¯å¾„ç®—æ³•</td><td>å †æ’åºã€æœ€å¤§å€¼æŸ¥æ‰¾</td></tr></tbody></table><h2 id="4-C-ä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—ä¸å°é¡¶å †"><a href="#4-C-ä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—ä¸å°é¡¶å †" class="headerlink" title="4. C++ ä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—ä¸å°é¡¶å †"></a><strong>4. C++ ä¸­çš„ä¼˜å…ˆé˜Ÿåˆ—ä¸å°é¡¶å †</strong></h2><h3 id="4-1-std-priority-queue"><a href="#4-1-std-priority-queue" class="headerlink" title="4.1 std::priority_queue"></a><strong>4.1 <code>std::priority_queue</code></strong></h3><p>åœ¨ C++ ä¸­ï¼Œé»˜è®¤çš„ <code>std::priority_queue</code> æ˜¯<strong>å¤§é¡¶å †</strong>ï¼Œå³æœ€å¤§å€¼ä¼˜å…ˆã€‚</p><p>è¦å®ç°<strong>å°é¡¶å †</strong>ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p><ol><li><strong>è‡ªå®šä¹‰æ¯”è¾ƒå™¨</strong>  </li><li><strong>ä½¿ç”¨ <code>std::greater</code> å‡½æ•°å¯¹è±¡</strong></li></ol><h3 id="4-2-å°é¡¶å †ç¤ºä¾‹"><a href="#4-2-å°é¡¶å †ç¤ºä¾‹" class="headerlink" title="4.2 å°é¡¶å †ç¤ºä¾‹"></a><strong>4.2 å°é¡¶å †ç¤ºä¾‹</strong></h3><h4 id="ç¤ºä¾‹-1ï¼šä½¿ç”¨-std-greater-å®ç°å°é¡¶å †"><a href="#ç¤ºä¾‹-1ï¼šä½¿ç”¨-std-greater-å®ç°å°é¡¶å †" class="headerlink" title="ç¤ºä¾‹ 1ï¼šä½¿ç”¨ std::greater å®ç°å°é¡¶å †"></a><strong>ç¤ºä¾‹ 1ï¼šä½¿ç”¨ <code>std::greater</code> å®ç°å°é¡¶å †</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// ä½¿ç”¨ greater&lt;int&gt; å®ç°å°é¡¶å †</span>    priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> minHeap<span class="token punctuation">;</span>    <span class="token comment">// æ’å…¥å…ƒç´ </span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å–å‡ºæœ€å°å…ƒç´ </span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å°é¡¶å †çš„å…ƒç´ å‡ºé˜Ÿé¡ºåºï¼š"</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>minHeap<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        minHeap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>âœ… è¾“å‡ºï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">å°é¡¶å †çš„å…ƒç´ å‡ºé˜Ÿé¡ºåºï¼š1 5 10 20<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ç¤ºä¾‹-2ï¼šä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨"><a href="#ç¤ºä¾‹-2ï¼šä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨" class="headerlink" title="ç¤ºä¾‹ 2ï¼šä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨"></a><strong>ç¤ºä¾‹ 2ï¼šä½¿ç”¨è‡ªå®šä¹‰æ¯”è¾ƒå™¨</strong></h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;queue&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// è‡ªå®šä¹‰æ¯”è¾ƒå™¨</span><span class="token keyword">struct</span> <span class="token class-name">Compare</span> <span class="token punctuation">{</span>    <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> a <span class="token operator">&gt;</span> b<span class="token punctuation">;</span> <span class="token comment">// a å¤§äº b æ—¶ï¼Œa æ’åœ¨åé¢</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    priority_queue<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> Compare<span class="token operator">&gt;</span> minHeap<span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    minHeap<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å°é¡¶å †çš„å…ƒç´ å‡ºé˜Ÿé¡ºåºï¼š"</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>minHeap<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> minHeap<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        minHeap<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>âœ… è¾“å‡ºï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">å°é¡¶å †çš„å…ƒç´ å‡ºé˜Ÿé¡ºåºï¼š1 3 8 15<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="5-å°é¡¶å †çš„åº”ç”¨åœºæ™¯"><a href="#5-å°é¡¶å †çš„åº”ç”¨åœºæ™¯" class="headerlink" title="5. å°é¡¶å †çš„åº”ç”¨åœºæ™¯"></a><strong>5. å°é¡¶å †çš„åº”ç”¨åœºæ™¯</strong></h2><ol><li><strong>å“ˆå¤«æ›¼ç¼–ç </strong>  <ul><li>ä½¿ç”¨å°é¡¶å †ç¡®ä¿æ¯æ¬¡é€‰æ‹©æƒé‡æœ€å°çš„ä¸¤ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆå¹¶ã€‚</li></ul></li><li><strong>Dijkstra ç®—æ³•</strong>  <ul><li>å¯»æ‰¾æœ€çŸ­è·¯å¾„æ—¶ï¼Œä½¿ç”¨å°é¡¶å †ä¼˜å…ˆé€‰æ‹©å½“å‰è·¯å¾„æœ€çŸ­çš„èŠ‚ç‚¹ã€‚</li></ul></li><li><strong>Top K é—®é¢˜</strong>  <ul><li>åœ¨å¤§é‡æ•°æ®ä¸­å¿«é€Ÿæ‰¾åˆ°å‰ K å°çš„å…ƒç´ ã€‚</li></ul></li><li><strong>äº‹ä»¶é©±åŠ¨ä»¿çœŸ</strong>  <ul><li>æ¨¡æ‹Ÿå™¨ä¸­æŒ‰ç…§äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´é¡ºåºå¤„ç†äº‹ä»¶ã€‚</li></ul></li></ol><h2 id="6-æ€»ç»“-1"><a href="#6-æ€»ç»“-1" class="headerlink" title="6. æ€»ç»“"></a><strong>6. æ€»ç»“</strong></h2><ul><li><strong>å°é¡¶å †</strong>æ˜¯ä¸€ç§<strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼Œæ¯ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å­èŠ‚ç‚¹çš„å€¼ã€‚  </li><li>åœ¨ C++ ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>std::priority_queue</code> é…åˆ <code>std::greater</code> æˆ–è‡ªå®šä¹‰æ¯”è¾ƒå™¨æ¥å®ç°å°é¡¶å †ã€‚  </li><li>å°é¡¶å †çš„æ ¸å¿ƒæ“ä½œåŒ…æ‹¬<strong>æ’å…¥ï¼ˆä¸Šæµ®ï¼‰</strong>ã€<strong>åˆ é™¤ï¼ˆä¸‹æ²‰ï¼‰</strong>ã€‚  </li><li>ä¸»è¦åº”ç”¨äº<strong>ä¼˜å…ˆé˜Ÿåˆ—</strong>ã€<strong>å“ˆå¤«æ›¼ç¼–ç </strong>ã€<strong>Dijkstra ç®—æ³•</strong>ç­‰åœºæ™¯ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• å“ˆå¤«æ›¼ç¼–ç  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++è´ªå¿ƒç®—æ³•</title>
      <link href="/C-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95.html"/>
      <url>/C-%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95.html</url>
      
        <content type="html"><![CDATA[<h1 id="ğŸ“š-C-ä¸­è´ªå¿ƒç®—æ³•è¯¦è§£"><a href="#ğŸ“š-C-ä¸­è´ªå¿ƒç®—æ³•è¯¦è§£" class="headerlink" title="ğŸ“š C++ ä¸­è´ªå¿ƒç®—æ³•è¯¦è§£"></a>ğŸ“š C++ ä¸­è´ªå¿ƒç®—æ³•è¯¦è§£</h1><h2 id="1-è´ªå¿ƒç®—æ³•çš„å®šä¹‰"><a href="#1-è´ªå¿ƒç®—æ³•çš„å®šä¹‰" class="headerlink" title="1. è´ªå¿ƒç®—æ³•çš„å®šä¹‰"></a><strong>1. è´ªå¿ƒç®—æ³•çš„å®šä¹‰</strong></h2><p><strong>è´ªå¿ƒç®—æ³•</strong>ï¼ˆGreedy Algorithmï¼‰æ˜¯ä¸€ç§åœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–å½“å‰çŠ¶æ€ä¸‹<strong>å±€éƒ¨æœ€ä¼˜</strong>çš„é€‰æ‹©ï¼Œä»¥æœŸæœ€ç»ˆè¾¾åˆ°<strong>å…¨å±€æœ€ä¼˜è§£</strong>çš„ç®—æ³•ã€‚</p><span id="more"></span><h3 id="1-1-æ ¸å¿ƒæ€æƒ³"><a href="#1-1-æ ¸å¿ƒæ€æƒ³" class="headerlink" title="1.1 æ ¸å¿ƒæ€æƒ³"></a><strong>1.1 æ ¸å¿ƒæ€æƒ³</strong></h3><ul><li><strong>å±€éƒ¨æœ€ä¼˜é€‰æ‹©</strong>ï¼šåœ¨é—®é¢˜çš„æ¯ä¸€æ­¥ä¸­ï¼Œéƒ½é€‰æ‹©å½“å‰çœ‹èµ·æ¥æœ€ä¼˜æˆ–æœ€æœ‰åˆ©çš„é€‰é¡¹ã€‚  </li><li><strong>å…¨å±€æœ€ä¼˜ç›®æ ‡</strong>ï¼šé€šè¿‡ä¸€ç³»åˆ—å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©ï¼Œæœ€ç»ˆè¾¾åˆ°å…¨å±€æœ€ä¼˜æˆ–è¿‘ä¼¼æœ€ä¼˜è§£ã€‚  </li><li><strong>ä¸å¯å›æº¯æ€§</strong>ï¼šä¸€æ—¦åšå‡ºé€‰æ‹©ï¼Œæ— æ³•å›å¤´æ›´æ”¹ä¹‹å‰çš„é€‰æ‹©ã€‚</li></ul><h3 id="1-2-è´ªå¿ƒç®—æ³•çš„é€‚ç”¨æ¡ä»¶"><a href="#1-2-è´ªå¿ƒç®—æ³•çš„é€‚ç”¨æ¡ä»¶" class="headerlink" title="1.2 è´ªå¿ƒç®—æ³•çš„é€‚ç”¨æ¡ä»¶"></a><strong>1.2 è´ªå¿ƒç®—æ³•çš„é€‚ç”¨æ¡ä»¶</strong></h3><p>è´ªå¿ƒç®—æ³•å¹¶ä¸æ€»èƒ½ä¿è¯å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œå®ƒåªåœ¨æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶æ—¶æ‰é€‚ç”¨ï¼š</p><ol><li><p><strong>è´ªå¿ƒé€‰æ‹©æ€§</strong>  </p><ul><li>å¯ä»¥é€šè¿‡æ¯ä¸€æ­¥çš„å±€éƒ¨æœ€ä¼˜é€‰æ‹©ï¼Œæœ€ç»ˆå¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚</li></ul></li><li><p><strong>æœ€ä¼˜å­ç»“æ„</strong>  </p><ul><li>é—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å…¶å­é—®é¢˜çš„æœ€ä¼˜è§£ã€‚</li></ul></li></ol><h3 id="1-3-è´ªå¿ƒç®—æ³•ä¸å…¶ä»–ç®—æ³•çš„åŒºåˆ«"><a href="#1-3-è´ªå¿ƒç®—æ³•ä¸å…¶ä»–ç®—æ³•çš„åŒºåˆ«" class="headerlink" title="1.3 è´ªå¿ƒç®—æ³•ä¸å…¶ä»–ç®—æ³•çš„åŒºåˆ«"></a><strong>1.3 è´ªå¿ƒç®—æ³•ä¸å…¶ä»–ç®—æ³•çš„åŒºåˆ«</strong></h3><ul><li><strong>åŠ¨æ€è§„åˆ’</strong>ï¼šé€‚åˆæœ‰é‡å å­é—®é¢˜çš„åœºæ™¯ï¼Œç»“æœéœ€è¦åŸºäºå¤šä¸ªå­é—®é¢˜çš„è§£ã€‚  </li><li><strong>å›æº¯ç®—æ³•</strong>ï¼šä¼šè€ƒè™‘æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©ï¼Œæ‰¾åˆ°æœ€ä½³è§£ã€‚  </li><li><strong>è´ªå¿ƒç®—æ³•</strong>ï¼šåœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­åšå‡ºæœ€ä¼˜å†³å®šï¼Œä¸å†è€ƒè™‘ä¹‹å‰çš„é€‰æ‹©æˆ–ä¹‹åçš„ç»“æœã€‚</li></ul><h2 id="2-è´ªå¿ƒç®—æ³•çš„åŸºæœ¬æ­¥éª¤"><a href="#2-è´ªå¿ƒç®—æ³•çš„åŸºæœ¬æ­¥éª¤" class="headerlink" title="2. è´ªå¿ƒç®—æ³•çš„åŸºæœ¬æ­¥éª¤"></a><strong>2. è´ªå¿ƒç®—æ³•çš„åŸºæœ¬æ­¥éª¤</strong></h2><ol><li><strong>é—®é¢˜åˆ†è§£</strong>ï¼šå°†é—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªå­é—®é¢˜ã€‚  </li><li><strong>è´ªå¿ƒç­–ç•¥</strong>ï¼šé’ˆå¯¹æ¯ä¸ªå­é—®é¢˜ï¼Œé€‰æ‹©å½“å‰æœ€ä¼˜è§£ã€‚  </li><li><strong>åˆå¹¶ç»“æœ</strong>ï¼šå°†æ‰€æœ‰å­é—®é¢˜çš„æœ€ä¼˜è§£ç»„åˆèµ·æ¥ï¼Œå½¢æˆé—®é¢˜çš„æœ€ç»ˆè§£ã€‚  </li><li><strong>éªŒè¯ç»“æœ</strong>ï¼šåˆ¤æ–­æœ€ç»ˆè§£æ˜¯å¦æ»¡è¶³é—®é¢˜çš„è¦æ±‚ã€‚</li></ol><h2 id="3-è´ªå¿ƒç®—æ³•çš„ä¼˜ç¼ºç‚¹"><a href="#3-è´ªå¿ƒç®—æ³•çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="3. è´ªå¿ƒç®—æ³•çš„ä¼˜ç¼ºç‚¹"></a><strong>3. è´ªå¿ƒç®—æ³•çš„ä¼˜ç¼ºç‚¹</strong></h2><h3 id="âœ…-ä¼˜ç‚¹ï¼š"><a href="#âœ…-ä¼˜ç‚¹ï¼š" class="headerlink" title="âœ… ä¼˜ç‚¹ï¼š"></a>âœ… <strong>ä¼˜ç‚¹ï¼š</strong></h3><ul><li>ç®€å•ç›´è§‚ï¼Œæ˜“äºç†è§£å’Œå®ç°ã€‚  </li><li>åœ¨æŸäº›é—®é¢˜ä¸Šï¼Œå¯ä»¥æä¾›é«˜æ•ˆçš„æœ€ä¼˜è§£ã€‚  </li><li>æ—¶é—´å¤æ‚åº¦è¾ƒä½ï¼Œé€šå¸¸æ¯”åŠ¨æ€è§„åˆ’æ›´å¿«ã€‚</li></ul><h3 id="âŒ-ç¼ºç‚¹ï¼š"><a href="#âŒ-ç¼ºç‚¹ï¼š" class="headerlink" title="âŒ ç¼ºç‚¹ï¼š"></a>âŒ <strong>ç¼ºç‚¹ï¼š</strong></h3><ul><li>å¹¶ä¸é€‚ç”¨äºæ‰€æœ‰é—®é¢˜ï¼Œå¯èƒ½æ— æ³•å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚  </li><li>ä¸€æ—¦é€‰æ‹©æŸä¸€æ­¥ï¼Œæ— æ³•å›æº¯è¿›è¡Œæ›´æ”¹ã€‚  </li><li>ä¾èµ–é—®é¢˜æ˜¯å¦æ»¡è¶³<strong>è´ªå¿ƒé€‰æ‹©æ€§</strong>å’Œ<strong>æœ€ä¼˜å­ç»“æ„</strong>ã€‚</li></ul><h2 id="4-è´ªå¿ƒç®—æ³•çš„ç»å…¸åº”ç”¨åœºæ™¯"><a href="#4-è´ªå¿ƒç®—æ³•çš„ç»å…¸åº”ç”¨åœºæ™¯" class="headerlink" title="4. è´ªå¿ƒç®—æ³•çš„ç»å…¸åº”ç”¨åœºæ™¯"></a><strong>4. è´ªå¿ƒç®—æ³•çš„ç»å…¸åº”ç”¨åœºæ™¯</strong></h2><ol><li><strong>æ´»åŠ¨é€‰æ‹©é—®é¢˜</strong>ï¼ˆActivity Selection Problemï¼‰  </li><li><strong>å“ˆå¤«æ›¼ç¼–ç </strong>ï¼ˆHuffman Codingï¼‰  </li><li><strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼ˆMinimum Spanning Treeï¼‰ï¼šKruskalç®—æ³•ã€Primç®—æ³•  </li><li><strong>å•æºæœ€çŸ­è·¯å¾„é—®é¢˜</strong>ï¼ˆShortest Path Problemï¼‰ï¼šDijkstraç®—æ³•  </li><li><strong>èƒŒåŒ…é—®é¢˜</strong>ï¼ˆFractional Knapsack Problemï¼‰</li></ol><h2 id="5-è´ªå¿ƒç®—æ³•çš„ç»å…¸ä¾‹é¢˜"><a href="#5-è´ªå¿ƒç®—æ³•çš„ç»å…¸ä¾‹é¢˜" class="headerlink" title="5. è´ªå¿ƒç®—æ³•çš„ç»å…¸ä¾‹é¢˜"></a><strong>5. è´ªå¿ƒç®—æ³•çš„ç»å…¸ä¾‹é¢˜</strong></h2><h3 id="ç¤ºä¾‹ï¼šåˆ†æ•°èƒŒåŒ…é—®é¢˜ï¼ˆFractional-Knapsack-Problemï¼‰"><a href="#ç¤ºä¾‹ï¼šåˆ†æ•°èƒŒåŒ…é—®é¢˜ï¼ˆFractional-Knapsack-Problemï¼‰" class="headerlink" title="ç¤ºä¾‹ï¼šåˆ†æ•°èƒŒåŒ…é—®é¢˜ï¼ˆFractional Knapsack Problemï¼‰"></a><strong>ç¤ºä¾‹ï¼šåˆ†æ•°èƒŒåŒ…é—®é¢˜ï¼ˆFractional Knapsack Problemï¼‰</strong></h3><p><strong>é—®é¢˜æè¿°ï¼š</strong></p><ul><li>æœ‰ä¸€èƒŒåŒ…ï¼Œå®¹é‡ä¸º ( W )ã€‚  </li><li>æœ‰ ( n ) ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€ä¸ªé‡é‡ ( w_i ) å’Œä»·å€¼ ( v_i )ã€‚  </li><li>å¯ä»¥å°†ç‰©å“åˆ‡åˆ†æˆä»»æ„éƒ¨åˆ†æ”¾å…¥èƒŒåŒ…ã€‚  </li><li><strong>ç›®æ ‡</strong>ï¼šåœ¨ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡çš„å‰æä¸‹ï¼Œä½¿å¾—èƒŒåŒ…ä¸­çš„æ€»ä»·å€¼æœ€å¤§åŒ–ã€‚</li></ul><p><strong>è´ªå¿ƒç­–ç•¥ï¼š</strong></p><ul><li>ä¼˜å…ˆé€‰æ‹©<strong>å•ä½ä»·å€¼æœ€é«˜</strong>çš„ç‰©å“ã€‚</li></ul><h3 id="C-å®ç°"><a href="#C-å®ç°" class="headerlink" title="C++ å®ç°"></a><strong>C++ å®ç°</strong></h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// ç‰©å“ç»“æ„ä½“</span><span class="token keyword">struct</span> <span class="token class-name">Item</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> weight<span class="token punctuation">;</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// æ¯”è¾ƒå•ä½ä»·å€¼</span><span class="token keyword">bool</span> <span class="token function">compare</span><span class="token punctuation">(</span>Item a<span class="token punctuation">,</span> Item b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">double</span> r1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>a<span class="token punctuation">.</span>value <span class="token operator">/</span> a<span class="token punctuation">.</span>weight<span class="token punctuation">;</span>    <span class="token keyword">double</span> r2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>b<span class="token punctuation">.</span>value <span class="token operator">/</span> b<span class="token punctuation">.</span>weight<span class="token punctuation">;</span>    <span class="token keyword">return</span> r1 <span class="token operator">&gt;</span> r2<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// åˆ†æ•°èƒŒåŒ…é—®é¢˜</span><span class="token keyword">double</span> <span class="token function">fractionalKnapsack</span><span class="token punctuation">(</span><span class="token keyword">int</span> W<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>Item<span class="token operator">&gt;</span><span class="token operator">&amp;</span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æŒ‰å•ä½ä»·å€¼æ’åº</span>    <span class="token function">sort</span><span class="token punctuation">(</span>items<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> items<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> compare<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> totalValue <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span> <span class="token comment">// èƒŒåŒ…ä¸­ç‰©å“çš„æ€»ä»·å€¼</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> item <span class="token operator">:</span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>W <span class="token operator">&gt;=</span> item<span class="token punctuation">.</span>weight<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// å¦‚æœå½“å‰ç‰©å“å¯ä»¥å®Œå…¨è£…å…¥</span>            W <span class="token operator">-=</span> item<span class="token punctuation">.</span>weight<span class="token punctuation">;</span>            totalValue <span class="token operator">+=</span> item<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token comment">// è£…å…¥éƒ¨åˆ†ç‰©å“</span>            totalValue <span class="token operator">+=</span> item<span class="token punctuation">.</span>value <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>W <span class="token operator">/</span> item<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// èƒŒåŒ…å·²æ»¡</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> totalValue<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> W <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span> <span class="token comment">// èƒŒåŒ…å®¹é‡</span>    vector<span class="token operator">&lt;</span>Item<span class="token operator">&gt;</span> items <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">double</span> maxValue <span class="token operator">=</span> <span class="token function">fractionalKnapsack</span><span class="token punctuation">(</span>W<span class="token punctuation">,</span> items<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"èƒŒåŒ…å¯ä»¥è£…å…¥çš„æœ€å¤§ä»·å€¼ä¸º: "</span> <span class="token operator">&lt;&lt;</span> maxValue <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ğŸ“ ä»£ç è§£æï¼š</strong></p><ol><li>å°†ç‰©å“æŒ‰<strong>å•ä½ä»·å€¼</strong>é™åºæ’åºã€‚  </li><li>éå†ç‰©å“ï¼š<ul><li>å¦‚æœç‰©å“å¯ä»¥å®Œå…¨è£…å…¥èƒŒåŒ…ï¼Œåˆ™åŠ å…¥èƒŒåŒ…ã€‚  </li><li>å¦‚æœä¸èƒ½å®Œå…¨è£…å…¥ï¼Œåˆ™åŠ å…¥éƒ¨åˆ†ç‰©å“ã€‚</li></ul></li><li>è¿”å›èƒŒåŒ…ä¸­çš„æ€»ä»·å€¼ã€‚</li></ol><p><strong>âœ… è¾“å‡ºç¤ºä¾‹ï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">èƒŒåŒ…å¯ä»¥è£…å…¥çš„æœ€å¤§ä»·å€¼ä¸º: 240<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="6-è´ªå¿ƒç®—æ³•çš„æ€»ç»“"><a href="#6-è´ªå¿ƒç®—æ³•çš„æ€»ç»“" class="headerlink" title="6. è´ªå¿ƒç®—æ³•çš„æ€»ç»“"></a><strong>6. è´ªå¿ƒç®—æ³•çš„æ€»ç»“</strong></h2><h3 id="6-1-ä½¿ç”¨è´ªå¿ƒç®—æ³•çš„æ­¥éª¤"><a href="#6-1-ä½¿ç”¨è´ªå¿ƒç®—æ³•çš„æ­¥éª¤" class="headerlink" title="6.1 ä½¿ç”¨è´ªå¿ƒç®—æ³•çš„æ­¥éª¤"></a><strong>6.1 ä½¿ç”¨è´ªå¿ƒç®—æ³•çš„æ­¥éª¤</strong></h3><ol><li>ç†è§£é—®é¢˜ï¼Œåˆ¤æ–­æ˜¯å¦æ»¡è¶³<strong>è´ªå¿ƒé€‰æ‹©æ€§</strong>å’Œ<strong>æœ€ä¼˜å­ç»“æ„</strong>ã€‚  </li><li>æ˜ç¡®æ¯ä¸€æ­¥çš„<strong>è´ªå¿ƒç­–ç•¥</strong>ã€‚  </li><li>å®ç°è´ªå¿ƒç®—æ³•ï¼Œç¡®ä¿é€‰æ‹©çš„å±€éƒ¨æœ€ä¼˜è§£æ˜¯åˆç†çš„ã€‚  </li><li>éªŒè¯æœ€ç»ˆè§£æ˜¯å¦æ˜¯å…¨å±€æœ€ä¼˜è§£ã€‚</li></ol><h3 id="6-2-è´ªå¿ƒç®—æ³•çš„æ€ç»´æ–¹å¼"><a href="#6-2-è´ªå¿ƒç®—æ³•çš„æ€ç»´æ–¹å¼" class="headerlink" title="6.2 è´ªå¿ƒç®—æ³•çš„æ€ç»´æ–¹å¼"></a><strong>6.2 è´ªå¿ƒç®—æ³•çš„æ€ç»´æ–¹å¼</strong></h3><ul><li>æ¯æ¬¡åšå‡º<strong>å±€éƒ¨æœ€ä¼˜</strong>é€‰æ‹©ã€‚  </li><li>ç¡®ä¿å½“å‰é€‰æ‹©ä¸ä¼šå½±å“æ•´ä½“è§£çš„æœ€ä¼˜æ€§ã€‚  </li><li>ç»“åˆå®é™…é—®é¢˜ï¼Œçµæ´»è®¾è®¡è´ªå¿ƒç­–ç•¥ã€‚</li></ul><hr><h2 id="7-å¸¸è§çš„è´ªå¿ƒç®—æ³•é¢˜å‹"><a href="#7-å¸¸è§çš„è´ªå¿ƒç®—æ³•é¢˜å‹" class="headerlink" title="7. å¸¸è§çš„è´ªå¿ƒç®—æ³•é¢˜å‹"></a><strong>7. å¸¸è§çš„è´ªå¿ƒç®—æ³•é¢˜å‹</strong></h2><ul><li><strong>é€‰æ‹©é—®é¢˜</strong>ï¼šæ´»åŠ¨é€‰æ‹©é—®é¢˜  </li><li><strong>è·¯å¾„é—®é¢˜</strong>ï¼šDijkstra æœ€çŸ­è·¯å¾„  </li><li><strong>æ„å»ºé—®é¢˜</strong>ï¼šå“ˆå¤«æ›¼ç¼–ç   </li><li><strong>åˆ†é…é—®é¢˜</strong>ï¼šåˆ†æ•°èƒŒåŒ…é—®é¢˜</li></ul><hr><p>è´ªå¿ƒç®—æ³•è™½ç„¶ç®€å•é«˜æ•ˆï¼Œä½†éœ€è¦ä»”ç»†åˆ†æé—®é¢˜ï¼Œç¡®ä¿æ»¡è¶³<strong>è´ªå¿ƒé€‰æ‹©æ€§</strong>å’Œ<strong>æœ€ä¼˜å­ç»“æ„</strong>ã€‚åœ¨é€‚ç”¨åœºæ™¯ä¸‹ï¼Œè´ªå¿ƒç®—æ³•æ— ç–‘æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€»è¾‘è¿ç®—çŸ¥è¯†ç‚¹: 3 &lt;= i &lt;= 5</title>
      <link href="/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%9F%A5%E8%AF%86%E7%82%B9-3-i-5.html"/>
      <url>/%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%9F%A5%E8%AF%86%E7%82%B9-3-i-5.html</url>
      
        <content type="html"><![CDATA[<h1 id="åœ¨-C-ä¸­ï¼Œè¡¨è¾¾å¼-3"><a href="#åœ¨-C-ä¸­ï¼Œè¡¨è¾¾å¼-3" class="headerlink" title="åœ¨ C++ ä¸­ï¼Œè¡¨è¾¾å¼ 3 <= i <= 5 çš„è§£æ"></a>åœ¨ C++ ä¸­ï¼Œè¡¨è¾¾å¼ <code>3 &lt;= i &lt;= 5</code> çš„è§£æ</h1><p>åœ¨ C++ ä¸­ï¼Œè¡¨è¾¾å¼ <code>3 &lt;= i &lt;= 5</code> å¹¶ä¸æ˜¯ä½ å¯èƒ½é¢„æœŸçš„ â€œi åœ¨ 3 åˆ° 5 ä¹‹é—´â€ çš„æ„æ€ã€‚å®é™…ä¸Šï¼Œè¿™ä¸ªè¡¨è¾¾å¼æ˜¯ç”±ä¸¤ä¸ªæ¯”è¾ƒæ“ä½œç¬¦æ„æˆçš„ï¼Œå…·ä½“å«ä¹‰å¦‚ä¸‹ï¼š</p><h2 id="è§£ææ­¥éª¤ï¼š"><a href="#è§£ææ­¥éª¤ï¼š" class="headerlink" title="è§£ææ­¥éª¤ï¼š"></a>è§£ææ­¥éª¤ï¼š</h2><ol><li><p><code>3 &lt;= i</code>ï¼šé¦–å…ˆï¼Œæ¯”è¾ƒ 3 æ˜¯å¦å°äºæˆ–ç­‰äº iã€‚</p><ul><li>å¦‚æœ i çš„å€¼å¤§äºæˆ–ç­‰äº 3ï¼Œåˆ™ <code>3 &lt;= i</code> çš„ç»“æœä¸º trueï¼ˆå³ 1ï¼‰ï¼Œå¦åˆ™ä¸º falseï¼ˆå³ 0ï¼‰ã€‚</li></ul></li><li><p><code>(ç»“æœ) &lt;= 5</code>ï¼šç„¶åï¼Œå°†ä¸Šä¸€æ­¥çš„ç»“æœä¸ 5 è¿›è¡Œæ¯”è¾ƒã€‚</p><ul><li>å¦‚æœ <code>3 &lt;= i</code> çš„ç»“æœæ˜¯ trueï¼ˆå³ 1ï¼‰ï¼Œé‚£ä¹ˆ 1 &lt;= 5ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„ç»“æœä¸º trueã€‚</li><li>å¦‚æœ <code>3 &lt;= i</code> çš„ç»“æœæ˜¯ falseï¼ˆå³ 0ï¼‰ï¼Œé‚£ä¹ˆ 0 &lt;= 5ï¼Œè¿™ä¸ªè¡¨è¾¾å¼çš„ç»“æœä»ç„¶æ˜¯ trueã€‚</li></ul></li></ol><h2 id="ä¸¾ä¸ªä¾‹å­ï¼š"><a href="#ä¸¾ä¸ªä¾‹å­ï¼š" class="headerlink" title="ä¸¾ä¸ªä¾‹å­ï¼š"></a>ä¸¾ä¸ªä¾‹å­ï¼š</h2><ul><li><p>å½“ i = 4 æ—¶ï¼š</p><ul><li><code>3 &lt;= 4</code> æ˜¯ trueï¼Œå³ 1ã€‚</li><li>ç„¶åï¼Œ1 &lt;= 5 ä¹Ÿæ˜¯ trueï¼Œæ‰€ä»¥æ•´ä¸ªè¡¨è¾¾å¼ <code>3 &lt;= 4 &lt;= 5</code> çš„ç»“æœæ˜¯ trueã€‚</li></ul></li><li><p>å½“ i = 2 æ—¶ï¼š</p><ul><li><code>3 &lt;= 2</code> æ˜¯ falseï¼Œå³ 0ã€‚</li><li>ç„¶åï¼Œ0 &lt;= 5 æ˜¯ trueï¼Œæ‰€ä»¥æ•´ä¸ªè¡¨è¾¾å¼ <code>3 &lt;= 2 &lt;= 5</code> çš„ç»“æœæ˜¯ trueã€‚</li></ul></li><li><p>å½“ i = 6 æ—¶ï¼š</p><ul><li><code>3 &lt;= 6</code> æ˜¯ trueï¼Œå³ 1ã€‚</li><li>ç„¶åï¼Œ1 &lt;= 5 æ˜¯ trueï¼Œæ‰€ä»¥æ•´ä¸ªè¡¨è¾¾å¼ <code>3 &lt;= 6 &lt;= 5</code> çš„ç»“æœæ˜¯ trueã€‚</li></ul></li></ul><h2 id="æ€»ç»“ï¼š"><a href="#æ€»ç»“ï¼š" class="headerlink" title="æ€»ç»“ï¼š"></a>æ€»ç»“ï¼š</h2><p><code>3 &lt;= i &lt;= 5</code> å®é™…ä¸Šä¼šè¢«è§£é‡Šä¸ºï¼š</p><ul><li>å…ˆè®¡ç®— <code>3 &lt;= i</code> çš„ç»“æœï¼ˆtrue æˆ– falseï¼‰ï¼Œç„¶å</li><li>å†æ£€æŸ¥è¿™ä¸ªç»“æœæ˜¯å¦å°äºæˆ–ç­‰äº 5ã€‚</li></ul><p>è¿™æ„å‘³ç€ï¼Œ<code>3 &lt;= i &lt;= 5</code> å¯èƒ½ä¸ä¼šæŒ‰ä½ æœŸæœ›çš„æ–¹å¼å·¥ä½œï¼Œå®ƒçš„å®é™…è¡Œä¸ºå¯èƒ½ä¸ç¬¦åˆæ•°å­¦ä¸Šçš„ <code>3 &lt;= i &lt;= 5</code> è¿™ä¸€ä¸ç­‰å¼çš„æ„ä¹‰ã€‚</p><p>å¦‚æœä½ æƒ³æ£€æŸ¥ i æ˜¯å¦åœ¨ 3 åˆ° 5 çš„èŒƒå›´å†…ï¼Œåº”è¯¥ä½¿ç”¨ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">3</span> <span class="token operator">&lt;=</span> i <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ ·ï¼Œè¡¨è¾¾å¼ä¼šå…ˆåˆ¤æ–­ i æ˜¯å¦å¤§äºæˆ–ç­‰äº 3ï¼Œå†åˆ¤æ–­ i æ˜¯å¦å°äºæˆ–ç­‰äº 5ï¼Œç¡®ä¿ç»“æœç¬¦åˆä½ é¢„æœŸçš„èŒƒå›´åˆ¤æ–­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• é€»è¾‘è¿ç®— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¨¡æ‹ŸåŠ æ³•å™¨deä»£ç è§£é‡Š</title>
      <link href="/%E6%A8%A1%E6%8B%9F%E5%8A%A0%E6%B3%95%E5%99%A8de%E4%BB%A3%E7%A0%81%E8%A7%A3%E9%87%8A.html"/>
      <url>/%E6%A8%A1%E6%8B%9F%E5%8A%A0%E6%B3%95%E5%99%A8de%E4%BB%A3%E7%A0%81%E8%A7%A3%E9%87%8A.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>å·¦ç§»æ“ä½œåœ¨åŠ æ³•å™¨è®¾è®¡ä¸­çš„ä¸»è¦ä½œç”¨æ˜¯å¤„ç†å’Œä¼ é€’è¿›ä½ï¼Œè¿™æ˜¯å®ç°äºŒè¿›åˆ¶åŠ æ³•çš„æ ¸å¿ƒã€‚é€šè¿‡å·¦ç§»æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹ŸåŠ æ³•è¿‡ç¨‹ä¸­çš„è¿›ä½ä¼ é€’ï¼Œä»è€Œå®ç°ä¸¤ä¸ªæ•°çš„ç²¾ç¡®ç›¸åŠ ã€‚è¿™ç§æ–¹æ³•ä¸ä»…é€‚ç”¨äºç®€å•çš„åŠ æ³•å™¨ï¼Œä¹Ÿæ˜¯ç°ä»£è®¡ç®—æœºä¸­ç®—æœ¯é€»è¾‘å•å…ƒï¼ˆALUï¼‰æ‰§è¡ŒåŠ æ³•æ“ä½œçš„åŸºç¡€ã€‚</p><span id="more"></span><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ¨¡æ‹ŸåŠ æ³•å™¨</span><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> carry <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—è¿›ä½</span>        a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>        <span class="token comment">// è®¡ç®—å½“å‰ä½çš„å’Œ</span>        b <span class="token operator">=</span> carry <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// è¿›ä½å·¦ç§»</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"5 + 7 = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªç®€å•çš„C++ç¨‹åºï¼Œç”¨äºæ¨¡æ‹Ÿä¸¤ä¸ªæ•´æ•°çš„åŠ æ³•æ“ä½œï¼Œä½¿ç”¨çš„æ˜¯ä½è¿ç®—ã€‚ä¸‹é¢æˆ‘å°†è¯¦ç»†è§£é‡Šä»£ç çš„æ¯ä¸ªéƒ¨åˆ†ï¼š</p><h3 id="åŒ…å«å¤´æ–‡ä»¶"><a href="#åŒ…å«å¤´æ–‡ä»¶" class="headerlink" title="åŒ…å«å¤´æ–‡ä»¶"></a>åŒ…å«å¤´æ–‡ä»¶</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™è¡Œä»£ç åŒ…å«äº†C++æ ‡å‡†åº“ä¸­çš„<code>iostream</code>å¤´æ–‡ä»¶ï¼Œå®ƒå…è®¸ç¨‹åºä½¿ç”¨è¾“å…¥è¾“å‡ºæµï¼Œæ¯”å¦‚<code>cin</code>å’Œ<code>cout</code>ã€‚</p><h3 id="ä½¿ç”¨å‘½åç©ºé—´"><a href="#ä½¿ç”¨å‘½åç©ºé—´" class="headerlink" title="ä½¿ç”¨å‘½åç©ºé—´"></a>ä½¿ç”¨å‘½åç©ºé—´</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™è¡Œä»£ç å‘Šè¯‰ç¼–è¯‘å™¨ä½¿ç”¨<code>std</code>å‘½åç©ºé—´ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨<code>cout</code>è€Œä¸æ˜¯<code>std::cout</code>ï¼Œ<code>endl</code>è€Œä¸æ˜¯<code>std::endl</code>ç­‰ã€‚</p><h3 id="å®šä¹‰åŠ æ³•å‡½æ•°"><a href="#å®šä¹‰åŠ æ³•å‡½æ•°" class="headerlink" title="å®šä¹‰åŠ æ³•å‡½æ•°"></a>å®šä¹‰åŠ æ³•å‡½æ•°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> carry <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—è¿›ä½</span>        a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>        <span class="token comment">// è®¡ç®—å½“å‰ä½çš„å’Œ</span>        b <span class="token operator">=</span> carry <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// è¿›ä½å·¦ç§»</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ä¸€ä¸ªåä¸º<code>add</code>çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸¤ä¸ªæ•´æ•°å‚æ•°<code>a</code>å’Œ<code>b</code>ï¼Œå¹¶è¿”å›å®ƒä»¬çš„å’Œã€‚å‡½æ•°çš„å®ç°ä½¿ç”¨äº†ä½è¿ç®—æ¥æ¨¡æ‹ŸåŠ æ³•çš„è¿‡ç¨‹ã€‚</p><ul><li><p><code>while (b != 0)</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œåªè¦<code>b</code>ä¸ä¸º0ï¼Œå¾ªç¯å°±ä¼šç»§ç»­ã€‚å› ä¸º<code>b</code>ç”¨äºå­˜å‚¨æ¯æ¬¡è¿­ä»£åçš„è¿›ä½ï¼Œæ‰€ä»¥å½“æ²¡æœ‰è¿›ä½æ—¶ï¼Œå¾ªç¯ç»“æŸã€‚</p></li><li><p><code>int carry = a &amp; b;</code>ï¼šè¿™ä¸€è¡Œè®¡ç®—<code>a</code>å’Œ<code>b</code>çš„æŒ‰ä½ä¸ï¼ˆANDï¼‰æ“ä½œçš„ç»“æœï¼Œè¿™ä¸ªç»“æœå°±æ˜¯éœ€è¦è¿›ä½çš„ä½ã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œåªæœ‰å½“ä¸¤ä¸ªç›¸åº”çš„ä½éƒ½æ˜¯1æ—¶ï¼Œç»“æœæ‰æ˜¯1ï¼Œè¿™è¡¨ç¤ºè¿™ä¸¤ä¸ªä½ç›¸åŠ ä¼šäº§ç”Ÿä¸€ä¸ªè¿›ä½ã€‚</p></li><li><p><code>a = a ^ b;</code>ï¼šè¿™ä¸€è¡Œè®¡ç®—<code>a</code>å’Œ<code>b</code>çš„æŒ‰ä½å¼‚æˆ–ï¼ˆXORï¼‰æ“ä½œçš„ç»“æœï¼Œè¿™ä¸ªç»“æœå°±æ˜¯ä¸è€ƒè™‘è¿›ä½æ—¶çš„å’Œã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œå½“ä¸¤ä¸ªç›¸åº”çš„ä½ä¸åŒçš„æ—¶å€™ï¼Œç»“æœæ˜¯1ï¼Œè¿™è¡¨ç¤ºè¿™ä¸¤ä¸ªä½ç›¸åŠ çš„ç»“æœã€‚</p></li><li><p><code>b = carry &lt;&lt; 1;</code>ï¼šè¿™ä¸€è¡Œå°†è¿›ä½<code>carry</code>å·¦ç§»ä¸€ä½ï¼Œä¸ºä¸‹ä¸€æ¬¡è¿­ä»£å‡†å¤‡ã€‚åœ¨äºŒè¿›åˆ¶ä¸­ï¼Œå·¦ç§»æ“ä½œç›¸å½“äºä¹˜ä»¥2ï¼Œè¿™æ ·ä¸‹ä¸€æ¬¡å¾ªç¯å°±å¯ä»¥å¤„ç†ä¸‹ä¸€ä¸ªæ›´é«˜çš„ä½ã€‚</p></li></ul><p>å½“ç„¶ï¼Œè®©æˆ‘ä»¬æ›´è¯¦ç»†åœ°æ¢è®¨è¿™ä¸€è¡Œä»£ç ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">b <span class="token operator">=</span> carry <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™è¡Œä»£ç æ˜¯åŠ æ³•æ¨¡æ‹Ÿè¿‡ç¨‹ä¸­çš„å…³é”®éƒ¨åˆ†ï¼Œå®ƒæ¶‰åŠåˆ°è®¡ç®—æœºç§‘å­¦ä¸­çš„ä½è¿ç®—ã€‚åœ¨è¿™é‡Œï¼Œ<code>carry</code>æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨å½“å‰ä½ç›¸åŠ åäº§ç”Ÿçš„è¿›ä½ã€‚<code>&lt;&lt;</code>æ˜¯ä½å·¦ç§»è¿ç®—ç¬¦ï¼Œå®ƒå°†<code>carry</code>çš„æ‰€æœ‰ä½å‘å·¦ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ï¼ˆåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯1ä½ï¼‰ã€‚</p><h3 id="ä½å·¦ç§»è¿ç®—"><a href="#ä½å·¦ç§»è¿ç®—" class="headerlink" title="ä½å·¦ç§»è¿ç®— (<<)"></a>ä½å·¦ç§»è¿ç®— (<code>&lt;&lt;</code>)</h3><p>ä½å·¦ç§»è¿ç®—ç¬¦<code>&lt;&lt;</code>å°†ä¸€ä¸ªæ•°çš„æ‰€æœ‰ä½å‘å·¦ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚åœ¨äºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œè¿™æ„å‘³ç€æ¯ä¸ªä½éƒ½å‘å·¦ç§»åŠ¨ï¼Œç©ºå‡ºæ¥çš„ä½ç½®ç”¨0å¡«å……ï¼ˆå¯¹äºæ— ç¬¦å·æ•°ï¼‰æˆ–è€…ç”¨ç¬¦å·ä½å¡«å……ï¼ˆå¯¹äºæœ‰ç¬¦å·æ•°ï¼Œè¿™æ˜¯ç®—æœ¯å·¦ç§»ï¼‰ã€‚å·¦ç§»æ“ä½œçš„æ•ˆæœç­‰åŒäºå°†åŸæ•°ä¹˜ä»¥2çš„æŒ‡å®šæ¬¡å¹‚ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ª8ä½çš„äºŒè¿›åˆ¶æ•°<code>00000001</code>ï¼ˆåè¿›åˆ¶ä¸­çš„1ï¼‰ï¼Œå‘å·¦ç§»åŠ¨1ä½å°†ä¼šå¾—åˆ°<code>00000010</code>ï¼ˆåè¿›åˆ¶ä¸­çš„2ï¼‰ã€‚è¿™ç­‰åŒäºå°†1ä¹˜ä»¥2ã€‚</p><h3 id="è¿›ä½ï¼ˆCarryï¼‰"><a href="#è¿›ä½ï¼ˆCarryï¼‰" class="headerlink" title="è¿›ä½ï¼ˆCarryï¼‰"></a>è¿›ä½ï¼ˆCarryï¼‰</h3><p>åœ¨åŠ æ³•è¿ç®—ä¸­ï¼Œå½“ä¸¤ä¸ªä½ç›¸åŠ çš„ç»“æœè¶…è¿‡1ï¼ˆå³äºŒè¿›åˆ¶ä¸­çš„<code>10</code>ï¼‰ï¼Œå°±ä¼šæœ‰ä¸€ä¸ªè¿›ä½åˆ°ä¸‹ä¸€ä¸ªæ›´é«˜çš„ä½ã€‚ä¾‹å¦‚ï¼Œåœ¨äºŒè¿›åˆ¶ä¸­ï¼Œ<code>01 + 01</code>çš„ç»“æœæ˜¯<code>10</code>ï¼Œå…¶ä¸­<code>1</code>æ˜¯å½“å‰ä½çš„ç»“æœï¼Œè€Œ<code>0</code>éœ€è¦è¿›ä½åˆ°ä¸‹ä¸€ä¸ªæ›´é«˜çš„ä½ã€‚</p><h3 id="ä»£ç ä¸­çš„b-carry-1"><a href="#ä»£ç ä¸­çš„b-carry-1" class="headerlink" title="ä»£ç ä¸­çš„b = carry << 1;"></a>ä»£ç ä¸­çš„<code>b = carry &lt;&lt; 1;</code></h3><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>carry</code>å˜é‡ä¿å­˜äº†å½“å‰ä½ç›¸åŠ åäº§ç”Ÿçš„è¿›ä½ã€‚è¿™ä¸ªè¿›ä½éœ€è¦è¢«å¸¦åˆ°ä¸‹ä¸€ä¸ªæ›´é«˜çš„ä½è¿›è¡Œè®¡ç®—ã€‚é€šè¿‡å°†<code>carry</code>å·¦ç§»1ä½ï¼Œæˆ‘ä»¬å®é™…ä¸Šæ˜¯å°†è¿™ä¸ªè¿›ä½ä¹˜ä»¥2ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­æ­£ç¡®åœ°å¤„ç†ä¸‹ä¸€ä¸ªæ›´é«˜çš„ä½ã€‚</p><p>ä¾‹å¦‚ï¼Œå‡è®¾æˆ‘ä»¬æ­£åœ¨è®¡ç®—<code>5 + 7</code>ï¼ˆäºŒè¿›åˆ¶ä¸­åˆ†åˆ«æ˜¯<code>0101</code>å’Œ<code>0111</code>ï¼‰ï¼Œåœ¨æœ€ä½ä½ï¼ˆå³è¾¹ç¬¬ä¸€ä½ï¼‰ç›¸åŠ æ—¶æ²¡æœ‰è¿›ä½ï¼Œä½†åœ¨ä¸‹ä¸€ä½ï¼ˆå³è¾¹ç¬¬äºŒä½ï¼‰ç›¸åŠ æ—¶äº§ç”Ÿäº†è¿›ä½ã€‚è¿™ä¸ªè¿›ä½è¢«ä¿å­˜åœ¨<code>carry</code>ä¸­ï¼Œç„¶åé€šè¿‡<code>carry &lt;&lt; 1</code>å·¦ç§»1ä½ï¼Œä¸ºä¸‹ä¸€æ¬¡è¿­ä»£å‡†å¤‡ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p><code>b = carry &lt;&lt; 1;</code>è¿™è¡Œä»£ç çš„ç›®çš„æ˜¯å°†å½“å‰ä½çš„è¿›ä½å·¦ç§»ä¸€ä½ï¼Œä»¥ä¾¿åœ¨ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£ä¸­å¤„ç†ä¸‹ä¸€ä¸ªæ›´é«˜çš„ä½ã€‚è¿™ç§ä½è¿ç®—çš„æ–¹æ³•æœ‰æ•ˆåœ°æ¨¡æ‹Ÿäº†åŠ æ³•è¿‡ç¨‹ä¸­çš„è¿›ä½æ“ä½œï¼Œæ˜¯è®¡ç®—æœºå†…éƒ¨æ‰§è¡ŒåŠ æ³•çš„ä¸€ç§æ–¹å¼ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæˆ‘ä»¬å¯ä»¥é€æ­¥æ„å»ºå‡ºä¸¤ä¸ªæ•°çš„æ€»å’Œï¼Œå®Œå…¨ä¾èµ–äºä½è¿ç®—ï¼Œè€Œä¸ä½¿ç”¨ä¼ ç»Ÿçš„åŠ æ³•æ“ä½œç¬¦ã€‚</p><h3 id="ä¸»å‡½æ•°"><a href="#ä¸»å‡½æ•°" class="headerlink" title="ä¸»å‡½æ•°"></a>ä¸»å‡½æ•°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"5 + 7 = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ˜¯ç¨‹åºçš„å…¥å£ç‚¹ï¼Œ<code>main</code>å‡½æ•°ã€‚</p><ul><li><p><code>int a = 5, b = 7;</code>ï¼šè¿™é‡Œå®šä¹‰äº†ä¸¤ä¸ªæ•´æ•°å˜é‡<code>a</code>å’Œ<code>b</code>ï¼Œå¹¶åˆ†åˆ«åˆå§‹åŒ–ä¸º5å’Œ7ã€‚</p></li><li><p><code>cout &lt;&lt; "5 + 7 = " &lt;&lt; add(a, b) &lt;&lt; endl;</code>ï¼šè¿™è¡Œä»£ç ä½¿ç”¨<code>cout</code>è¾“å‡ºå­—ç¬¦ä¸²â€5 + 7 = â€œï¼Œç„¶åè°ƒç”¨<code>add</code>å‡½æ•°è®¡ç®—<code>a</code>å’Œ<code>b</code>çš„å’Œï¼Œå¹¶è¾“å‡ºç»“æœã€‚<code>endl</code>ç”¨äºè¾“å‡ºä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œå¹¶åˆ·æ–°è¾“å‡ºç¼“å†²åŒºã€‚</p></li><li><p><code>return 0;</code>ï¼šè¿™è¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸã€‚</p></li></ul><h3 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™ä¸ªç¨‹åºæ¼”ç¤ºäº†å¦‚ä½•ä¸ä½¿ç”¨ä¼ ç»Ÿçš„ç®—æœ¯åŠ æ³•æ“ä½œç¬¦<code>+</code>ï¼Œè€Œæ˜¯é€šè¿‡ä½è¿ç®—æ¥å®ç°ä¸¤ä¸ªæ•´æ•°çš„åŠ æ³•ã€‚è¿™ç§æ–¹æ³•åœ¨è®¡ç®—æœºå†…éƒ¨å®é™…ä¸Šå°±æ˜¯è¿™æ ·è¿›è¡Œçš„ï¼Œå› ä¸ºè®¡ç®—æœºåªèƒ½ç†è§£å’Œæ‰§è¡ŒäºŒè¿›åˆ¶æ“ä½œã€‚</p><p>åœ¨åŠ æ³•å™¨è®¾è®¡ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨ä½è¿ç®—æ¨¡æ‹ŸåŠ æ³•çš„è¿‡ç¨‹ä¸­ï¼Œå·¦ç§»æ“ä½œæ‰®æ¼”ç€è‡³å…³é‡è¦çš„è§’è‰²ã€‚å®ƒç”¨äºå¤„ç†è¿›ä½ï¼ˆcarryï¼‰ï¼Œè¿™æ˜¯äºŒè¿›åˆ¶åŠ æ³•ä¸­ä¸å¯æˆ–ç¼ºçš„éƒ¨åˆ†ã€‚ä¸‹é¢è¯¦ç»†è§£é‡Šå·¦ç§»æ“ä½œåœ¨åŠ æ³•å™¨è®¾è®¡ä¸­çš„ç”¨é€”ï¼š</p><h3 id="1-è¿›ä½ä¼ é€’"><a href="#1-è¿›ä½ä¼ é€’" class="headerlink" title="1. è¿›ä½ä¼ é€’"></a>1. è¿›ä½ä¼ é€’</h3><p>åœ¨äºŒè¿›åˆ¶åŠ æ³•ä¸­ï¼Œæ¯ä¸€ä½çš„ç›¸åŠ å¯èƒ½äº§ç”Ÿä¸€ä¸ªè¿›ä½ï¼Œè¿™ä¸ªè¿›ä½éœ€è¦è¢«ä¼ é€’åˆ°æ›´é«˜ä½ï¼ˆä¸‹ä¸€ä¸ªæ›´å·¦è¾¹çš„ä½ï¼‰ã€‚ä¾‹å¦‚ï¼Œå½“ä½ åœ¨æœ€ä½ä½ï¼ˆæœ€å³è¾¹çš„ä½ï¼‰ç›¸åŠ å¾—åˆ°ä¸€ä¸ªè¿›ä½æ—¶ï¼Œè¿™ä¸ªè¿›ä½éœ€è¦è¢«åŠ åˆ°ä¸‹ä¸€ä½çš„è®¡ç®—ä¸­ã€‚å·¦ç§»æ“ä½œæ­£æ˜¯ç”¨äºå°†è¿™ä¸ªè¿›ä½ä¼ é€’åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</p><h3 id="2-æ¨¡æ‹ŸåŠ æ³•çš„è¿­ä»£è¿‡ç¨‹"><a href="#2-æ¨¡æ‹ŸåŠ æ³•çš„è¿­ä»£è¿‡ç¨‹" class="headerlink" title="2. æ¨¡æ‹ŸåŠ æ³•çš„è¿­ä»£è¿‡ç¨‹"></a>2. æ¨¡æ‹ŸåŠ æ³•çš„è¿­ä»£è¿‡ç¨‹</h3><p>åœ¨æ¨¡æ‹ŸåŠ æ³•çš„è¿‡ç¨‹ä¸­ï¼Œä½ é€šå¸¸ä»æœ€ä½ä½å¼€å§‹ï¼Œé€æ­¥å‘æœ€é«˜ä½ç§»åŠ¨ã€‚æ¯æ¬¡è¿­ä»£å¤„ç†ä¸€ä½ï¼Œè®¡ç®—å½“å‰ä½çš„å’Œä»¥åŠè¿›ä½ã€‚å·¦ç§»æ“ä½œå…è®¸ä½ å°†è¿›ä½ç§»åŠ¨åˆ°ä¸‹ä¸€ä½ï¼Œè¿™æ ·åœ¨ä¸‹ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œè¿™ä¸ªè¿›ä½å°±å¯ä»¥è¢«åŠ åˆ°ä¸‹ä¸€ä½çš„è®¡ç®—ä¸­ã€‚</p><h3 id="3-ä¿æŒè¿›ä½çš„æ•°å€¼"><a href="#3-ä¿æŒè¿›ä½çš„æ•°å€¼" class="headerlink" title="3. ä¿æŒè¿›ä½çš„æ•°å€¼"></a>3. ä¿æŒè¿›ä½çš„æ•°å€¼</h3><p>åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œè¿›ä½çš„æ•°å€¼éœ€è¦è¢«ä¿æŒå’Œæ›´æ–°ã€‚å·¦ç§»æ“ä½œä¸ä»…å°†è¿›ä½ç§»åŠ¨åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œè¿˜ä¿æŒäº†è¿›ä½çš„æ•°å€¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå½“å‰ä½çš„è¿›ä½æ˜¯1ï¼Œå·¦ç§»ä¸€ä½åï¼Œè¿™ä¸ªè¿›ä½å°±å˜æˆäº†2ï¼ˆäºŒè¿›åˆ¶ä¸­çš„<code>10</code>ï¼‰ï¼Œè¿™æ­£æ˜¯ä¸‹ä¸€ä½ç›¸åŠ æ—¶éœ€è¦çš„è¿›ä½å€¼ã€‚</p><h3 id="4-é¿å…ä½¿ç”¨é¢å¤–çš„å­˜å‚¨"><a href="#4-é¿å…ä½¿ç”¨é¢å¤–çš„å­˜å‚¨" class="headerlink" title="4. é¿å…ä½¿ç”¨é¢å¤–çš„å­˜å‚¨"></a>4. é¿å…ä½¿ç”¨é¢å¤–çš„å­˜å‚¨</h3><p>åœ¨ä½è¿ç®—æ¨¡æ‹Ÿçš„åŠ æ³•å™¨ä¸­ï¼Œé€šå¸¸ä¸éœ€è¦é¢å¤–çš„å­˜å‚¨æ¥ä¿å­˜è¿›ä½ï¼Œå› ä¸ºè¿›ä½å¯ä»¥ç›´æ¥é€šè¿‡å·¦ç§»æ“ä½œä¼ é€’åˆ°ä¸‹ä¸€ä½ã€‚è¿™ä½¿å¾—åŠ æ³•å™¨çš„è®¾è®¡æ›´åŠ ç®€æ´å’Œé«˜æ•ˆã€‚</p><h3 id="5-å®ç°äºŒè¿›åˆ¶åŠ æ³•çš„åŸºæœ¬åŸåˆ™"><a href="#5-å®ç°äºŒè¿›åˆ¶åŠ æ³•çš„åŸºæœ¬åŸåˆ™" class="headerlink" title="5. å®ç°äºŒè¿›åˆ¶åŠ æ³•çš„åŸºæœ¬åŸåˆ™"></a>5. å®ç°äºŒè¿›åˆ¶åŠ æ³•çš„åŸºæœ¬åŸåˆ™</h3><p>äºŒè¿›åˆ¶åŠ æ³•çš„åŸºæœ¬åŸåˆ™æ˜¯ï¼Œæ¯ä¸€ä½çš„ç›¸åŠ ç»“æœåŠ ä¸Šå‰ä¸€ä½çš„è¿›ä½ï¼Œå¾—åˆ°å½“å‰ä½çš„å’Œä»¥åŠä¸‹ä¸€ä½çš„è¿›ä½ã€‚å·¦ç§»æ“ä½œæ­£æ˜¯å®ç°è¿™ä¸€åŸåˆ™çš„å…³é”®ï¼Œå®ƒç¡®ä¿äº†è¿›ä½èƒ½å¤Ÿæ­£ç¡®åœ°è¢«åŠ åˆ°ä¸‹ä¸€ä½ã€‚</p><h3 id="6-æé«˜è®¡ç®—æ•ˆç‡"><a href="#6-æé«˜è®¡ç®—æ•ˆç‡" class="headerlink" title="6. æé«˜è®¡ç®—æ•ˆç‡"></a>6. æé«˜è®¡ç®—æ•ˆç‡</h3><p>ä½¿ç”¨ä½è¿ç®—ï¼Œç‰¹åˆ«æ˜¯å·¦ç§»æ“ä½œï¼Œå¯ä»¥æé«˜åŠ æ³•è®¡ç®—çš„æ•ˆç‡ã€‚ä½è¿ç®—é€šå¸¸æ¯”ä¼ ç»Ÿçš„ç®—æœ¯è¿ç®—æ›´å¿«ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç›´æ¥åœ¨ç¡¬ä»¶å±‚é¢ä¸Šæ‰§è¡Œçš„ã€‚åœ¨é«˜æ€§èƒ½è®¡ç®—å’ŒåµŒå…¥å¼ç³»ç»Ÿè®¾è®¡ä¸­ï¼Œè¿™ç§æ•ˆç‡çš„æå‡å°¤ä¸ºé‡è¦ã€‚</p><h3 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>å·¦ç§»æ“ä½œåœ¨åŠ æ³•å™¨è®¾è®¡ä¸­çš„ä¸»è¦ä½œç”¨æ˜¯å¤„ç†å’Œä¼ é€’è¿›ä½ï¼Œè¿™æ˜¯å®ç°äºŒè¿›åˆ¶åŠ æ³•çš„æ ¸å¿ƒã€‚é€šè¿‡å·¦ç§»æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥æ¨¡æ‹ŸåŠ æ³•è¿‡ç¨‹ä¸­çš„è¿›ä½ä¼ é€’ï¼Œä»è€Œå®ç°ä¸¤ä¸ªæ•°çš„ç²¾ç¡®ç›¸åŠ ã€‚è¿™ç§æ–¹æ³•ä¸ä»…é€‚ç”¨äºç®€å•çš„åŠ æ³•å™¨ï¼Œä¹Ÿæ˜¯ç°ä»£è®¡ç®—æœºä¸­ç®—æœ¯é€»è¾‘å•å…ƒï¼ˆALUï¼‰æ‰§è¡ŒåŠ æ³•æ“ä½œçš„åŸºç¡€ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• åŠ æ³•å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­æ¨¡æ‹Ÿç®—æ³•</title>
      <link href="/C-%E4%B8%AD%E6%A8%A1%E6%8B%9F%E7%AE%97%E6%B3%95.html"/>
      <url>/C-%E4%B8%AD%E6%A8%A1%E6%8B%9F%E7%AE%97%E6%B3%95.html</url>
      
        <content type="html"><![CDATA[<h1 id="C-ä¸­æ¨¡æ‹Ÿç®—æ³•è¯¦è§£ä¸ä»£ç ç¤ºä¾‹"><a href="#C-ä¸­æ¨¡æ‹Ÿç®—æ³•è¯¦è§£ä¸ä»£ç ç¤ºä¾‹" class="headerlink" title="C++ä¸­æ¨¡æ‹Ÿç®—æ³•è¯¦è§£ä¸ä»£ç ç¤ºä¾‹"></a>C++ä¸­æ¨¡æ‹Ÿç®—æ³•è¯¦è§£ä¸ä»£ç ç¤ºä¾‹</h1><h2 id="ğŸ“š-1-æ¨¡æ‹Ÿç®—æ³•ç®€ä»‹"><a href="#ğŸ“š-1-æ¨¡æ‹Ÿç®—æ³•ç®€ä»‹" class="headerlink" title="ğŸ“š 1. æ¨¡æ‹Ÿç®—æ³•ç®€ä»‹"></a>ğŸ“š 1. æ¨¡æ‹Ÿç®—æ³•ç®€ä»‹</h2><p>æ¨¡æ‹Ÿç®—æ³•æ˜¯ä¸€ç§é€šè¿‡ä»£ç ç›´æ¥æ¨¡æ‹Ÿé—®é¢˜æè¿°ä¸­æ‰€ç»™å‡ºçš„æ“ä½œæˆ–è¿‡ç¨‹ï¼Œæ¥è¾¾åˆ°è§£å†³é—®é¢˜ç›®çš„çš„ç®—æ³•æ€æƒ³ã€‚<br>æ¨¡æ‹Ÿç®—æ³•æ²¡æœ‰å›ºå®šçš„æ¨¡æ¿ï¼Œé€šå¸¸ä¾èµ–å¯¹é—®é¢˜çš„ç†è§£å’Œé€æ­¥è¿˜åŸæ“ä½œæµç¨‹ã€‚</p><span id="more"></span><h3 id="1-1-æ¨¡æ‹Ÿç®—æ³•çš„æ ¸å¿ƒæ€æƒ³"><a href="#1-1-æ¨¡æ‹Ÿç®—æ³•çš„æ ¸å¿ƒæ€æƒ³" class="headerlink" title="1.1 æ¨¡æ‹Ÿç®—æ³•çš„æ ¸å¿ƒæ€æƒ³"></a>1.1 æ¨¡æ‹Ÿç®—æ³•çš„æ ¸å¿ƒæ€æƒ³</h3><ul><li>è¿˜åŸé—®é¢˜è¿‡ç¨‹ï¼šé€æ­¥æ¨¡æ‹Ÿé¢˜ç›®æè¿°çš„æ“ä½œæ­¥éª¤ã€‚</li><li>æ•°æ®ç»“æ„é€‰æ‹©ï¼šæ ¹æ®é—®é¢˜é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼ˆæ•°ç»„ã€é“¾è¡¨ã€é˜Ÿåˆ—ç­‰ï¼‰ã€‚</li><li>ç»†èŠ‚å¤„ç†ï¼šæ³¨é‡è¾¹ç•Œæ¡ä»¶ã€å¼‚å¸¸æƒ…å†µç­‰ã€‚</li><li>è¿­ä»£ä¸é€’å½’ï¼šæ ¹æ®éœ€æ±‚ä½¿ç”¨å¾ªç¯æˆ–é€’å½’æ¥å®Œæˆæ¨¡æ‹Ÿã€‚</li></ul><h3 id="ğŸ› ï¸-2-æ¨¡æ‹Ÿç®—æ³•å¸¸è§ç±»å‹"><a href="#ğŸ› ï¸-2-æ¨¡æ‹Ÿç®—æ³•å¸¸è§ç±»å‹" class="headerlink" title="ğŸ› ï¸ 2. æ¨¡æ‹Ÿç®—æ³•å¸¸è§ç±»å‹"></a>ğŸ› ï¸ 2. æ¨¡æ‹Ÿç®—æ³•å¸¸è§ç±»å‹</h3><ul><li>ç®€å•æ¨¡æ‹Ÿï¼šç›´æ¥æŒ‰ç…§é¢˜ç›®è¦æ±‚è¿›è¡Œæ“ä½œã€‚</li><li>çŸ©é˜µ/ç½‘æ ¼æ¨¡æ‹Ÿï¼šäºŒç»´ç½‘æ ¼ä¸Šè¿›è¡Œç§»åŠ¨ã€å¡«å……ç­‰æ“ä½œã€‚</li><li>å­—ç¬¦ä¸²æ¨¡æ‹Ÿï¼šæ¨¡æ‹Ÿå­—ç¬¦ä¸²ç¼–è¾‘ã€åŒ¹é…ã€ç§»åŠ¨ç­‰æ“ä½œã€‚</li><li>æ—¶é—´æ¨¡æ‹Ÿï¼šæŒ‰ç…§æ—¶é—´é¡ºåºé€æ­¥è¿›è¡Œæ“ä½œã€‚</li><li>çŠ¶æ€æœºæ¨¡æ‹Ÿï¼šæ ¹æ®ä¸åŒçŠ¶æ€è¿›è¡ŒçŠ¶æ€è½¬ç§»ã€‚</li></ul><h2 id="ğŸ§ -3-çŸ¥è¯†ç‚¹è¯¦è§£ä¸ä»£ç ç¤ºä¾‹"><a href="#ğŸ§ -3-çŸ¥è¯†ç‚¹è¯¦è§£ä¸ä»£ç ç¤ºä¾‹" class="headerlink" title="ğŸ§  3. çŸ¥è¯†ç‚¹è¯¦è§£ä¸ä»£ç ç¤ºä¾‹"></a>ğŸ§  3. çŸ¥è¯†ç‚¹è¯¦è§£ä¸ä»£ç ç¤ºä¾‹</h2><h3 id="3-1-ç®€å•æ¨¡æ‹Ÿ"><a href="#3-1-ç®€å•æ¨¡æ‹Ÿ" class="headerlink" title="3.1 ç®€å•æ¨¡æ‹Ÿ"></a>3.1 ç®€å•æ¨¡æ‹Ÿ</h3><p><strong>é¢˜ç›®ï¼š</strong> æ¨¡æ‹ŸåŠ æ³•å™¨ï¼Œç»™å®šä¸¤ä¸ªæ•´æ•°ï¼Œé€ä½ç›¸åŠ ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ¨¡æ‹ŸåŠ æ³•å™¨</span><span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>b <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> carry <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—è¿›ä½</span>        a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>        <span class="token comment">// è®¡ç®—å½“å‰ä½çš„å’Œ</span>        b <span class="token operator">=</span> carry <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// è¿›ä½å·¦ç§»</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> a<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"5 + 7 = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">add</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>çŸ¥è¯†ç‚¹è§£æï¼š</strong></p><ul><li>ä½¿ç”¨ ä½è¿ç®— è¿›è¡ŒåŠ æ³•æ¨¡æ‹Ÿã€‚</li><li><code>a ^ b</code>ï¼šæ¨¡æ‹ŸåŠ æ³•ï¼Œä¸è€ƒè™‘è¿›ä½ã€‚</li><li><code>a &amp; b</code>ï¼šè®¡ç®—è¿›ä½ã€‚</li><li><code>carry &lt;&lt; 1</code>ï¼šå°†è¿›ä½å·¦ç§»ä¸€ä½ã€‚</li></ul><h3 id="3-2-çŸ©é˜µ-ç½‘æ ¼æ¨¡æ‹Ÿ"><a href="#3-2-çŸ©é˜µ-ç½‘æ ¼æ¨¡æ‹Ÿ" class="headerlink" title="3.2 çŸ©é˜µ/ç½‘æ ¼æ¨¡æ‹Ÿ"></a>3.2 çŸ©é˜µ/ç½‘æ ¼æ¨¡æ‹Ÿ</h3><p><strong>é¢˜ç›®ï¼š</strong> æ¨¡æ‹Ÿæœºå™¨äººåœ¨äºŒç»´ç½‘æ ¼ä¸Šç§»åŠ¨ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ¨¡æ‹Ÿæœºå™¨äººç§»åŠ¨</span><span class="token keyword">void</span> <span class="token function">moveRobot</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> grid<span class="token punctuation">,</span> <span class="token keyword">int</span> startX<span class="token punctuation">,</span> <span class="token keyword">int</span> startY<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> rows <span class="token operator">=</span> grid<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cols <span class="token operator">=</span> grid<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> x <span class="token operator">=</span> startX<span class="token punctuation">,</span> y <span class="token operator">=</span> startY<span class="token punctuation">;</span>    string directions <span class="token operator">=</span> <span class="token string">"RRDDLLUU"</span><span class="token punctuation">;</span> <span class="token comment">// ç§»åŠ¨æ–¹å‘ï¼šå³ä¸‹å·¦ä¸Š</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> dir <span class="token operator">:</span> directions<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>dir<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token char">'R'</span><span class="token operator">:</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> cols<span class="token punctuation">)</span> y<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// å³ç§»</span>            <span class="token keyword">case</span> <span class="token char">'L'</span><span class="token operator">:</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>y <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> y<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// å·¦ç§»</span>            <span class="token keyword">case</span> <span class="token char">'D'</span><span class="token operator">:</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> rows<span class="token punctuation">)</span> x<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// ä¸‹ç§»</span>            <span class="token keyword">case</span> <span class="token char">'U'</span><span class="token operator">:</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> x<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// ä¸Šç§»</span>        <span class="token punctuation">}</span>        grid<span class="token punctuation">[</span>x<span class="token punctuation">]</span><span class="token punctuation">[</span>y<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// æ ‡è®°è·¯å¾„</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// æ‰“å°ç½‘æ ¼</span><span class="token keyword">void</span> <span class="token function">printGrid</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> grid<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> row <span class="token operator">:</span> grid<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> cell <span class="token operator">:</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> cell <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ä¸»å‡½æ•°</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// åˆ›å»ºä¸€ä¸ª5x5çš„ç½‘æ ¼ï¼Œåˆå§‹å€¼ä¸º0</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> <span class="token function">grid</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æœºå™¨äººä» (2, 2) å¼€å§‹ç§»åŠ¨</span>    <span class="token function">moveRobot</span><span class="token punctuation">(</span>grid<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// æ‰“å°ç½‘æ ¼</span>    <span class="token function">printGrid</span><span class="token punctuation">(</span>grid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>çŸ¥è¯†ç‚¹è§£æï¼š</strong></p><ul><li>ä½¿ç”¨äºŒç»´æ•°ç»„è¡¨ç¤ºç½‘æ ¼ã€‚</li><li>é€šè¿‡<code>switch</code>è¯­å¥æ§åˆ¶æœºå™¨äººç§»åŠ¨æ–¹å‘ã€‚</li><li>åœ¨ç§»åŠ¨åæ›´æ–°ç½‘æ ¼çŠ¶æ€ã€‚</li></ul><h3 id="3-3-å­—ç¬¦ä¸²æ¨¡æ‹Ÿ"><a href="#3-3-å­—ç¬¦ä¸²æ¨¡æ‹Ÿ" class="headerlink" title="3.3 å­—ç¬¦ä¸²æ¨¡æ‹Ÿ"></a>3.3 å­—ç¬¦ä¸²æ¨¡æ‹Ÿ</h3><p><strong>é¢˜ç›®ï¼š</strong> æ¨¡æ‹Ÿå­—ç¬¦ä¸²åè½¬ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ¨¡æ‹Ÿå­—ç¬¦ä¸²åè½¬</span>string <span class="token function">reverseString</span><span class="token punctuation">(</span>string str<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> right <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;</span> right<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">swap</span><span class="token punctuation">(</span>str<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> str<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        left<span class="token operator">++</span><span class="token punctuation">;</span>        right<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> str<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    string str <span class="token operator">=</span> <span class="token string">"hello"</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"åŸå§‹å­—ç¬¦ä¸²: "</span> <span class="token operator">&lt;&lt;</span> str <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"åè½¬å­—ç¬¦ä¸²: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">reverseString</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>çŸ¥è¯†ç‚¹è§£æï¼š</strong></p><ul><li>ä½¿ç”¨åŒæŒ‡é’ˆæ³•è¿›è¡Œå­—ç¬¦ä¸²åè½¬ã€‚</li><li><code>swap()</code>äº¤æ¢ä¸¤ä¸ªå­—ç¬¦ã€‚</li></ul><h3 id="3-4-æ—¶é—´æ¨¡æ‹Ÿ"><a href="#3-4-æ—¶é—´æ¨¡æ‹Ÿ" class="headerlink" title="3.4 æ—¶é—´æ¨¡æ‹Ÿ"></a>3.4 æ—¶é—´æ¨¡æ‹Ÿ</h3><p><strong>é¢˜ç›®ï¼š</strong> æ¨¡æ‹Ÿå€’è®¡æ—¶ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;chrono&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ¨¡æ‹Ÿå€’è®¡æ—¶</span><span class="token keyword">void</span> <span class="token function">countdown</span><span class="token punctuation">(</span><span class="token keyword">int</span> seconds<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>seconds <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å€’è®¡æ—¶: "</span> <span class="token operator">&lt;&lt;</span> seconds<span class="token operator">--</span> <span class="token operator">&lt;&lt;</span> <span class="token string">"ç§’"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        this_thread<span class="token double-colon punctuation">::</span><span class="token function">sleep_for</span><span class="token punctuation">(</span>chrono<span class="token double-colon punctuation">::</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å»¶è¿Ÿ1ç§’</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å€’è®¡æ—¶ç»“æŸ!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">countdown</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>çŸ¥è¯†ç‚¹è§£æï¼š</strong></p><ul><li>ä½¿ç”¨<code>this_thread::sleep_for</code>å»¶æ—¶æ¨¡æ‹Ÿå€’è®¡æ—¶ã€‚</li><li>å¾ªç¯é€ç§’è¾“å‡ºæ—¶é—´ã€‚</li></ul><h3 id="3-5-çŠ¶æ€æœºæ¨¡æ‹Ÿ"><a href="#3-5-çŠ¶æ€æœºæ¨¡æ‹Ÿ" class="headerlink" title="3.5 çŠ¶æ€æœºæ¨¡æ‹Ÿ"></a>3.5 çŠ¶æ€æœºæ¨¡æ‹Ÿ</h3><p><strong>é¢˜ç›®ï¼š</strong> ç®€å•çŠ¶æ€æœºï¼Œæ£€æµ‹å­—ç¬¦åºåˆ—æ˜¯å¦åˆæ³•ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ¨¡æ‹ŸçŠ¶æ€æœº</span><span class="token keyword">bool</span> <span class="token function">isValidSequence</span><span class="token punctuation">(</span>string s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> c <span class="token operator">:</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span> state <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">'a'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span> state <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">'b'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span> state <span class="token operator">=</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token char">'c'</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">3</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span><span class="token operator">:</span> state <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> state <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    string seq <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token function">isValidSequence</span><span class="token punctuation">(</span>seq<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"æœ‰æ•ˆåºåˆ—"</span> <span class="token operator">:</span> <span class="token string">"æ— æ•ˆåºåˆ—"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>çŸ¥è¯†ç‚¹è§£æï¼š</strong></p><ul><li>ä½¿ç”¨çŠ¶æ€å˜é‡<code>state</code>è¡¨ç¤ºå½“å‰çŠ¶æ€ã€‚</li><li><code>switch</code>æ§åˆ¶çŠ¶æ€è½¬ç§»ã€‚</li></ul><h3 id="3-6-ğŸš€-ç¤ºä¾‹1ï¼šæ¨¡æ‹Ÿæ‰«é›·æ¸¸æˆ"><a href="#3-6-ğŸš€-ç¤ºä¾‹1ï¼šæ¨¡æ‹Ÿæ‰«é›·æ¸¸æˆ" class="headerlink" title="3.6 ğŸš€ ç¤ºä¾‹1ï¼šæ¨¡æ‹Ÿæ‰«é›·æ¸¸æˆ"></a>3.6 ğŸš€ ç¤ºä¾‹1ï¼šæ¨¡æ‹Ÿæ‰«é›·æ¸¸æˆ</h3><p><strong>é¢˜ç›®æè¿°ï¼š</strong> ç»™å®šä¸€ä¸ªäºŒç»´å­—ç¬¦ç½‘æ ¼è¡¨ç¤ºæ‰«é›·æ¸¸æˆï¼Œ<code>M</code>è¡¨ç¤ºåœ°é›·ï¼Œç©ºæ ¼è¡¨ç¤ºæœªæ ‡è®°çš„åŒºåŸŸã€‚è¦æ±‚æ›´æ–°æ¯ä¸ªç©ºæ ¼ä¸ºå‘¨å›´åœ°é›·çš„æ•°é‡ã€‚<br><strong>æ€è·¯è§£æï¼š</strong></p><ul><li>éå†æ¯ä¸ªç½‘æ ¼ã€‚</li><li>å¦‚æœå½“å‰ä½ç½®æ˜¯ç©ºæ ¼ï¼Œåˆ™ç»Ÿè®¡å‘¨å›´8ä¸ªæ–¹å‘çš„åœ°é›·æ•°é‡ã€‚</li><li>å°†åœ°é›·æ•°é‡æ›´æ–°åˆ°å½“å‰ä½ç½®ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ–¹å‘æ•°ç»„ï¼Œè¡¨ç¤º8ä¸ªæ–¹å‘</span><span class="token keyword">const</span> <span class="token keyword">int</span> dx<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> dy<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">updateBoard</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> board<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> rows <span class="token operator">=</span> board<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> cols <span class="token operator">=</span> board<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rows<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> cols<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'M'</span><span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> mines <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">int</span> ni <span class="token operator">=</span> i <span class="token operator">+</span> dx<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> nj <span class="token operator">=</span> j <span class="token operator">+</span> dy<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>ni <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> ni <span class="token operator">&lt;</span> rows <span class="token operator">&amp;&amp;</span> nj <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> nj <span class="token operator">&lt;</span> cols <span class="token operator">&amp;&amp;</span> board<span class="token punctuation">[</span>ni<span class="token punctuation">]</span><span class="token punctuation">[</span>nj<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token char">'M'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    mines<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>mines <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                board<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> mines <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// æ‰“å°æ£‹ç›˜</span><span class="token keyword">void</span> <span class="token function">printBoard</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span><span class="token operator">&amp;</span> board<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> row <span class="token operator">:</span> board<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> cell <span class="token operator">:</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> cell <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span> board <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token punctuation">{</span><span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">'M'</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span><span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">'M'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">{</span><span class="token char">'M'</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">,</span> <span class="token char">' '</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Original Board:"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">printBoard</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">updateBoard</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\nUpdated Board:"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">printBoard</span><span class="token punctuation">(</span>board<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><strong>æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š</strong></li><li>äºŒç»´æ•°ç»„éå†ï¼šä½¿ç”¨åŒé‡å¾ªç¯éå†æ¯ä¸ªæ ¼å­ã€‚</li><li>æ–¹å‘æ•°ç»„ï¼šç”¨<code>dx</code>å’Œ<code>dy</code>æ•°ç»„è¡¨ç¤º8ä¸ªæ–¹å‘çš„åç§»ã€‚</li><li>è¾¹ç•Œæ£€æŸ¥ï¼šç¡®ä¿ä¸ä¼šè¶Šç•Œè®¿é—®ã€‚</li><li>å­—ç¬¦å’Œæ•°å­—è½¬æ¢ï¼š<code>mines + '0'</code>å°†æ•°å­—è½¬ä¸ºå­—ç¬¦ã€‚</li></ul><h3 id="æ¨¡æ‹Ÿè´ªåƒè›‡æ¸¸æˆ"><a href="#æ¨¡æ‹Ÿè´ªåƒè›‡æ¸¸æˆ" class="headerlink" title="æ¨¡æ‹Ÿè´ªåƒè›‡æ¸¸æˆ"></a>æ¨¡æ‹Ÿè´ªåƒè›‡æ¸¸æˆ</h3><p><strong>é¢˜ç›®æè¿°ï¼š</strong> åœ¨ä¸€ä¸ªäºŒç»´ç½‘æ ¼ä¸­ï¼Œè›‡å¯ä»¥å‘ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œåƒåˆ°é£Ÿç‰©åèº«ä½“ä¼šå˜é•¿ï¼Œæ’åˆ°å¢™æˆ–è‡ªå·±èº«ä½“åˆ™æ¸¸æˆç»“æŸã€‚<br><strong>æ ¸å¿ƒæ€è·¯ï¼š</strong></p><ul><li>ä½¿ç”¨<code>deque</code>ä¿å­˜è›‡çš„èº«ä½“åæ ‡ã€‚</li><li>æ ¹æ®æ–¹å‘ç§»åŠ¨è›‡å¤´ã€‚</li><li>åˆ¤æ–­æ˜¯å¦æ’å¢™æˆ–æ’è‡ªå·±ã€‚</li><li>åˆ¤æ–­æ˜¯å¦åƒåˆ°é£Ÿç‰©ï¼Œå†³å®šæ˜¯å¦å¢é•¿èº«ä½“ã€‚<br><strong>ç¤ºä¾‹ä»£ç ï¼š</strong><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;deque&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;set&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;thread&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;chrono&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// è´ªåƒè›‡æ¸¸æˆç±»</span><span class="token keyword">class</span> <span class="token class-name">SnakeGame</span> <span class="token punctuation">{</span><span class="token keyword">private</span><span class="token operator">:</span>    <span class="token keyword">int</span> width<span class="token punctuation">,</span> height<span class="token punctuation">;</span>  <span class="token comment">// æ¸¸æˆåŒºåŸŸå¤§å°</span>    <span class="token keyword">int</span> foodIndex<span class="token punctuation">;</span>      <span class="token comment">// å½“å‰é£Ÿç‰©ç´¢å¼•</span>    deque<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> snake<span class="token punctuation">;</span>  <span class="token comment">// è›‡çš„èº«ä½“</span>    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> food<span class="token punctuation">;</span>  <span class="token comment">// é£Ÿç‰©ä½ç½®</span>    set<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> snakeSet<span class="token punctuation">;</span> <span class="token comment">// åˆ¤æ–­è›‡çš„èº«ä½“æ˜¯å¦é‡å </span><span class="token keyword">public</span><span class="token operator">:</span>    <span class="token comment">// æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–æ¸¸æˆ</span>    <span class="token function">SnakeGame</span><span class="token punctuation">(</span><span class="token keyword">int</span> width<span class="token punctuation">,</span> <span class="token keyword">int</span> height<span class="token punctuation">,</span> vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> food<span class="token punctuation">)</span>        <span class="token operator">:</span> <span class="token function">width</span><span class="token punctuation">(</span>width<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">height</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">food</span><span class="token punctuation">(</span>food<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">foodIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        snake<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è›‡å¤´åˆå§‹ä½ç½®</span>        snakeSet<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// ç§»åŠ¨å‡½æ•°</span>    string <span class="token function">move</span><span class="token punctuation">(</span>string direction<span class="token punctuation">)</span> <span class="token punctuation">{</span>        pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;</span> head <span class="token operator">=</span> snake<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–è›‡å¤´ä½ç½®</span>        <span class="token comment">// æ ¹æ®æ–¹å‘ç§»åŠ¨è›‡å¤´</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>direction <span class="token operator">==</span> <span class="token string">"U"</span><span class="token punctuation">)</span> head<span class="token punctuation">.</span>first<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>direction <span class="token operator">==</span> <span class="token string">"D"</span><span class="token punctuation">)</span> head<span class="token punctuation">.</span>first<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>direction <span class="token operator">==</span> <span class="token string">"L"</span><span class="token punctuation">)</span> head<span class="token punctuation">.</span>second<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>direction <span class="token operator">==</span> <span class="token string">"R"</span><span class="token punctuation">)</span> head<span class="token punctuation">.</span>second<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token comment">// æ£€æŸ¥æ˜¯å¦æ’å¢™</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>first <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> head<span class="token punctuation">.</span>first <span class="token operator">&gt;=</span> height <span class="token operator">||</span> head<span class="token punctuation">.</span>second <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> head<span class="token punctuation">.</span>second <span class="token operator">&gt;=</span> width<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">"Game Over"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// æ£€æŸ¥æ˜¯å¦æ’åˆ°è‡ªå·±</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>snakeSet<span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> head <span class="token operator">!=</span> snake<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string">"Game Over"</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// ç§»åŠ¨è›‡å¤´</span>        snake<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>        snakeSet<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ£€æŸ¥æ˜¯å¦åƒåˆ°é£Ÿç‰©</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>foodIndex <span class="token operator">&lt;</span> food<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> head <span class="token operator">==</span> food<span class="token punctuation">[</span>foodIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            foodIndex<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token comment">// æ²¡æœ‰åƒåˆ°é£Ÿç‰©ï¼Œè›‡å°¾éœ€è¦ç§»é™¤</span>            snakeSet<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>snake<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            snake<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token string">"OK"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ‰“å°æ¸¸æˆçŠ¶æ€</span>    <span class="token keyword">void</span> <span class="token function">printBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        vector<span class="token operator">&lt;</span>vector<span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;&gt;</span> <span class="token function">board</span><span class="token punctuation">(</span>height<span class="token punctuation">,</span> <span class="token generic-function"><span class="token function">vector</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">char</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>width<span class="token punctuation">,</span> <span class="token char">'.'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹åŒ–ç©ºæ£‹ç›˜</span>        <span class="token comment">// ç»˜åˆ¶é£Ÿç‰©</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> foodIndex<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> food<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            board<span class="token punctuation">[</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span><span class="token punctuation">[</span>food<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'F'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// ç»˜åˆ¶è›‡</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> segment <span class="token operator">:</span> snake<span class="token punctuation">)</span> <span class="token punctuation">{</span>            board<span class="token punctuation">[</span>segment<span class="token punctuation">.</span>first<span class="token punctuation">]</span><span class="token punctuation">[</span>segment<span class="token punctuation">.</span>second<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'S'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// ç»˜åˆ¶è›‡å¤´</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>snake<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            board<span class="token punctuation">[</span>snake<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">]</span><span class="token punctuation">[</span>snake<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>second<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token char">'H'</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// è¾“å‡ºæ£‹ç›˜</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">auto</span><span class="token operator">&amp;</span> row <span class="token operator">:</span> board<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">char</span> cell <span class="token operator">:</span> row<span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> cell <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-------------------"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">// æ¸¸æˆä¸»å‡½æ•°</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// æ‰©å¤§æ¸¸æˆåŒºåŸŸä¸º 20x20ï¼Œå¹¶æ”¾ç½®é£Ÿç‰©</span>    SnakeGame <span class="token function">game</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è›‡çš„ç§»åŠ¨æŒ‡ä»¤ï¼ˆå¯ä»¥æ ¹æ®éœ€è¦è‡ªå®šä¹‰æ›´å¤šæŒ‡ä»¤ï¼‰</span>    vector<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span> moves <span class="token operator">=</span> <span class="token punctuation">{</span>        <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span><span class="token string">"L"</span><span class="token punctuation">,</span> <span class="token string">"L"</span><span class="token punctuation">,</span> <span class="token string">"U"</span><span class="token punctuation">,</span> <span class="token string">"U"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span>         <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"R"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"D"</span><span class="token punctuation">,</span> <span class="token string">"L"</span><span class="token punctuation">,</span> <span class="token string">"L"</span><span class="token punctuation">,</span> <span class="token string">"U"</span><span class="token punctuation">,</span> <span class="token string">"U"</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> direction <span class="token operator">:</span> moves<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">system</span><span class="token punctuation">(</span><span class="token string">"cls"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ¸…å± (Windows ä¸‹ä½¿ç”¨ system("cls"))</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Direction: "</span> <span class="token operator">&lt;&lt;</span> direction <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        string status <span class="token operator">=</span> game<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span>direction<span class="token punctuation">)</span><span class="token punctuation">;</span>        game<span class="token punctuation">.</span><span class="token function">printBoard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">==</span> <span class="token string">"Game Over"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Game Over!"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        this_thread<span class="token double-colon punctuation">::</span><span class="token function">sleep_for</span><span class="token punctuation">(</span>chrono<span class="token double-colon punctuation">::</span><span class="token function">milliseconds</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æš‚åœ0.5ç§’ï¼Œæ–¹ä¾¿è§‚çœ‹</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><strong>ğŸ¯ ä»£ç è¯´æ˜</strong></li><li><strong>ç±»ç»“æ„</strong><ul><li><code>SnakeGame</code>ï¼šä¸»ç±»ï¼ŒåŒ…å«è›‡çš„çŠ¶æ€ã€ç§»åŠ¨é€»è¾‘ã€å¯è§†åŒ–æ–¹æ³•ã€‚</li><li><code>move</code>ï¼šå¤„ç†è›‡çš„ç§»åŠ¨ã€é£Ÿç‰©çš„åˆ¤æ–­ã€æ¸¸æˆç»“æŸæ¡ä»¶ã€‚</li><li><code>printBoard</code>ï¼šæ‰“å°å½“å‰æ¸¸æˆç½‘æ ¼ï¼Œæ˜¾ç¤ºè›‡ã€é£Ÿç‰©å’Œç©ºæ ¼ã€‚</li></ul></li><li><strong>æ¸¸æˆé€»è¾‘</strong><ul><li>è›‡å¤´æŒ‰ç…§æŒ‡å®šæ–¹å‘ç§»åŠ¨ã€‚</li><li>æ’åˆ°å¢™æˆ–æ’åˆ°è‡ªå·±ï¼Œæ¸¸æˆç»“æŸã€‚</li><li>åƒåˆ°é£Ÿç‰©ï¼Œè›‡èº«ä½“å¢åŠ ã€‚</li></ul></li><li><strong>ç•Œé¢å¯è§†åŒ–</strong><ul><li>ä½¿ç”¨äºŒç»´æ•°ç»„æ¨¡æ‹Ÿç½‘æ ¼ã€‚<ul><li><code>'H'</code>ï¼šè›‡å¤´ã€‚</li><li><code>'S'</code>ï¼šè›‡èº«ä½“ã€‚</li><li><code>'F'</code>ï¼šé£Ÿç‰©ã€‚</li><li><code>'.'</code>ï¼šç©ºæ ¼ã€‚</li></ul></li></ul></li><li><strong>å»¶æ—¶æ˜¾ç¤º</strong><ul><li>ä½¿ç”¨ <code>this_thread::sleep_for</code> å»¶è¿Ÿ1ç§’ï¼Œä¾¿äºè§‚çœ‹ã€‚</li><li><code>system("clear")</code> æ¸…å±ï¼Œä¿è¯æ¯ä¸€æ­¥çš„çŠ¶æ€æ¸…æ™°å¯è§ã€‚</li></ul></li></ul><h2 id="ğŸš€-4-æ€»ç»“"><a href="#ğŸš€-4-æ€»ç»“" class="headerlink" title="ğŸš€ 4. æ€»ç»“"></a>ğŸš€ 4. æ€»ç»“</h2><ul><li>æ˜ç¡®é—®é¢˜é€»è¾‘ï¼Œé€æ­¥æ¨¡æ‹Ÿæ“ä½œã€‚</li><li>é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¦‚æ•°ç»„ã€é˜Ÿåˆ—ã€å­—ç¬¦ä¸²ç­‰ã€‚</li><li>æ³¨æ„è¾¹ç•Œæ¡ä»¶ å’Œå¼‚å¸¸æƒ…å†µå¤„ç†ã€‚</li><li>åˆç†ä½¿ç”¨å¾ªç¯å’Œé€’å½’ï¼Œé¿å…æ­»å¾ªç¯æˆ–æ ˆæº¢å‡ºã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• æ¨¡æ‹Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­æ’åºå’Œå¤æ‚åº¦</title>
      <link href="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6.html"/>
      <url>/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6.html</url>
      
        <content type="html"><![CDATA[<h1 id="C-ä¸­æ’åºç®—æ³•è¯¦è§£"><a href="#C-ä¸­æ’åºç®—æ³•è¯¦è§£" class="headerlink" title="C++ ä¸­æ’åºç®—æ³•è¯¦è§£"></a>C++ ä¸­æ’åºç®—æ³•è¯¦è§£</h1><p>æ’åºç®—æ³•æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­çš„åŸºç¡€å†…å®¹ä¹‹ä¸€ï¼Œç”¨äºæŒ‰ç‰¹å®šé¡ºåºæ’åˆ—å…ƒç´ ã€‚C++ æä¾›äº†å¤šç§æ’åºç®—æ³•ï¼Œå¸¸è§çš„æ’åºæ–¹æ³•åŒ…æ‹¬<strong>å¿«é€Ÿæ’åº</strong>ã€<strong>æ’å…¥æ’åº</strong>å’Œ<strong>å¸Œå°”æ’åº</strong>ã€‚æœ¬æ–‡å°†è¯¦ç»†è®²è§£è¿™äº›æ’åºç®—æ³•çš„æ¦‚å¿µã€å®ç°åŠå…¶æ—¶é—´å¤æ‚åº¦åˆ†æã€‚</p><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/time_complexity_trend.jpg" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><h2 id="1-å¿«é€Ÿæ’åº-Quick-Sort"><a href="#1-å¿«é€Ÿæ’åº-Quick-Sort" class="headerlink" title="1. å¿«é€Ÿæ’åº (Quick Sort)"></a>1. å¿«é€Ÿæ’åº (Quick Sort)</h2><h3 id="å¿«é€Ÿæ’åºæ¦‚è¿°"><a href="#å¿«é€Ÿæ’åºæ¦‚è¿°" class="headerlink" title="å¿«é€Ÿæ’åºæ¦‚è¿°"></a>å¿«é€Ÿæ’åºæ¦‚è¿°</h3><p>å¿«é€Ÿæ’åºæ˜¯ä¸€ç§åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰æ’åºç®—æ³•ã€‚å®ƒé€šè¿‡é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ï¼ˆpivotï¼‰ï¼Œå°†å¾…æ’åºå…ƒç´ åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ¯”åŸºå‡†å°ï¼Œå¦ä¸€éƒ¨åˆ†æ¯”åŸºå‡†å¤§ï¼Œç„¶åé€’å½’åœ°å¯¹è¿™ä¸¤éƒ¨åˆ†è¿›è¡Œæ’åºã€‚</p><h3 id="å¿«é€Ÿæ’åºçš„æ­¥éª¤ï¼š"><a href="#å¿«é€Ÿæ’åºçš„æ­¥éª¤ï¼š" class="headerlink" title="å¿«é€Ÿæ’åºçš„æ­¥éª¤ï¼š"></a>å¿«é€Ÿæ’åºçš„æ­¥éª¤ï¼š</h3><ol><li>é€‰æ‹©ä¸€ä¸ªåŸºå‡†å…ƒç´ ã€‚</li><li>å°†æ•°ç»„åˆ†æˆä¸¤éƒ¨åˆ†ï¼šä¸€éƒ¨åˆ†åŒ…å«æ‰€æœ‰å°äºåŸºå‡†çš„å…ƒç´ ï¼Œå¦ä¸€éƒ¨åˆ†åŒ…å«æ‰€æœ‰å¤§äºåŸºå‡†çš„å…ƒç´ ã€‚</li><li>å¯¹è¿™ä¸¤éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºã€‚</li><li>æœ€ç»ˆåˆå¹¶æ‰€æœ‰çš„éƒ¨åˆ†ï¼Œå¾—åˆ°æœ‰åºæ•°ç»„ã€‚</li></ol><h3 id="å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š"><a href="#å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š" class="headerlink" title="å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š"></a>å¿«é€Ÿæ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š</h3><ul><li><strong>æœ€ä½³æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n log n)</code>ï¼Œå½“æ¯æ¬¡åˆ†å‰²éƒ½æ¥è¿‘å‡åŒ€æ—¶ã€‚</li><li><strong>å¹³å‡æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n log n)</code>ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ã€‚</li><li><strong>æœ€å·®æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n^2)</code>ï¼Œå½“æ¯æ¬¡é€‰æ‹©çš„åŸºå‡†å…ƒç´ éƒ½æ˜¯æœ€å¤§æˆ–æœ€å°å…ƒç´ æ—¶ã€‚</li></ul><h3 id="å¿«é€Ÿæ’åºä»£ç ç¤ºä¾‹ï¼š"><a href="#å¿«é€Ÿæ’åºä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="å¿«é€Ÿæ’åºä»£ç ç¤ºä¾‹ï¼š"></a>å¿«é€Ÿæ’åºä»£ç ç¤ºä¾‹ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¿«é€Ÿæ’åºçš„åˆ†åŒºå‡½æ•°</span><span class="token keyword">int</span> <span class="token function">partition</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// é€‰æ‹©æœ€åä¸€ä¸ªå…ƒç´ ä½œä¸ºåŸºå‡†</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> low <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// iæ˜¯å°äºpivotå…ƒç´ çš„åŒºåŸŸçš„åˆ†éš”ç‚¹</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> low<span class="token punctuation">;</span> j <span class="token operator">&lt;</span> high<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;=</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">{</span>            i<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å°†å°äºpivotçš„å…ƒç´ äº¤æ¢åˆ°å‰é¢</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å°†pivotæ”¾åˆ°æ­£ç¡®çš„ä½ç½®</span>    <span class="token keyword">return</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// è¿”å›pivotçš„ç´¢å¼•</span><span class="token punctuation">}</span><span class="token comment">// å¿«é€Ÿæ’åºçš„é€’å½’å‡½æ•°</span><span class="token keyword">void</span> <span class="token function">quickSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// æ‰¾åˆ°åŸºå‡†å…ƒç´ çš„ä½ç½®</span>        <span class="token keyword">int</span> pi <span class="token operator">=</span> <span class="token function">partition</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// é€’å½’æ’åºåŸºå‡†å·¦è¾¹å’Œå³è¾¹çš„éƒ¨åˆ†</span>        <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> pi <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> pi <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">quickSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºåçš„æ•°ç»„ï¼š"</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è§£é‡Šï¼š"><a href="#è§£é‡Šï¼š" class="headerlink" title="è§£é‡Šï¼š"></a>è§£é‡Šï¼š</h3><ul><li><code>partition()</code>ï¼šç”¨äºå°†æ•°ç»„åˆ’åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå¹¶è¿”å›åŸºå‡†å…ƒç´ çš„æœ€ç»ˆä½ç½®ã€‚</li><li><code>quickSort()</code>ï¼šé€’å½’åœ°è°ƒç”¨<code>partition()</code>ï¼Œå¹¶å¯¹åˆ’åˆ†åçš„ä¸¤éƒ¨åˆ†åˆ†åˆ«è¿›è¡Œæ’åºã€‚</li><li>æœ€ç»ˆï¼Œæ•°ç»„å°†è¢«æ’æˆæœ‰åºåºåˆ—ã€‚</li></ul><hr><h2 id="2-æ’å…¥æ’åº-Insertion-Sort"><a href="#2-æ’å…¥æ’åº-Insertion-Sort" class="headerlink" title="2. æ’å…¥æ’åº (Insertion Sort)"></a>2. æ’å…¥æ’åº (Insertion Sort)</h2><h3 id="æ’å…¥æ’åºæ¦‚è¿°"><a href="#æ’å…¥æ’åºæ¦‚è¿°" class="headerlink" title="æ’å…¥æ’åºæ¦‚è¿°"></a>æ’å…¥æ’åºæ¦‚è¿°</h3><p>æ’å…¥æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯å°†æ¯ä¸ªå…ƒç´ æ’å…¥åˆ°å·²ç»æ’åºçš„éƒ¨åˆ†ä¸­ã€‚é€‚ç”¨äºå°è§„æ¨¡æ•°æ®çš„æ’åºï¼Œæ—¶é—´å¤æ‚åº¦è¾ƒä½ã€‚</p><h3 id="æ’å…¥æ’åºçš„æ­¥éª¤ï¼š"><a href="#æ’å…¥æ’åºçš„æ­¥éª¤ï¼š" class="headerlink" title="æ’å…¥æ’åºçš„æ­¥éª¤ï¼š"></a>æ’å…¥æ’åºçš„æ­¥éª¤ï¼š</h3><ol><li>ä»ç¬¬äºŒä¸ªå…ƒç´ å¼€å§‹ï¼Œå‡è®¾ç¬¬ä¸€ä¸ªå…ƒç´ å·²ç»æ˜¯æ’å¥½åºçš„ã€‚</li><li>å°†å½“å‰å…ƒç´ ä¸å‰é¢çš„å…ƒç´ è¿›è¡Œæ¯”è¾ƒï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®æ’å…¥ã€‚</li><li>æ¯æ¬¡æ’å…¥ä¸€ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½æ’åºå®Œæˆã€‚</li></ol><h3 id="æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š"><a href="#æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š" class="headerlink" title="æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š"></a>æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š</h3><ul><li><strong>æœ€ä½³æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n)</code>ï¼Œå½“æ•°ç»„å·²ç»æ’å¥½åºæ—¶ã€‚</li><li><strong>æœ€å·®æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n^2)</code>ï¼Œå½“æ•°ç»„å®Œå…¨åå‘æ—¶ã€‚</li><li><strong>å¹³å‡æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n^2)</code>ï¼Œå¸¸è§æƒ…å†µã€‚</li></ul><h3 id="æ’å…¥æ’åºä»£ç ç¤ºä¾‹ï¼š"><a href="#æ’å…¥æ’åºä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="æ’å…¥æ’åºä»£ç ç¤ºä¾‹ï¼š"></a>æ’å…¥æ’åºä»£ç ç¤ºä¾‹ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ’å…¥æ’åºå‡½æ•°</span><span class="token keyword">void</span> <span class="token function">insertionSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> key <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// å½“å‰è¦æ’å…¥çš„å…ƒç´ </span>        <span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token comment">// å°†æ‰€æœ‰æ¯”keyå¤§çš„å…ƒç´ å‘å³ç§»åŠ¨</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>            arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            j<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token comment">// æ’å…¥keyåˆ°æ­£ç¡®ä½ç½®</span>        arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">insertionSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºåçš„æ•°ç»„ï¼š"</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è§£é‡Šï¼š-1"><a href="#è§£é‡Šï¼š-1" class="headerlink" title="è§£é‡Šï¼š"></a>è§£é‡Šï¼š</h3><ul><li>æ¯æ¬¡å°†æ•°ç»„ä¸­çš„ä¸€ä¸ªå…ƒç´ æ’å…¥åˆ°å·²ç»æ’åºçš„éƒ¨åˆ†ã€‚</li><li><code>while</code>å¾ªç¯ç”¨äºç§»åŠ¨æ¯”å½“å‰å…ƒç´ å¤§çš„å…ƒç´ ï¼Œæ‰¾åˆ°åˆé€‚çš„ä½ç½®ã€‚</li></ul><hr><h2 id="3-å¸Œå°”æ’åº-Shell-Sort"><a href="#3-å¸Œå°”æ’åº-Shell-Sort" class="headerlink" title="3. å¸Œå°”æ’åº (Shell Sort)"></a>3. å¸Œå°”æ’åº (Shell Sort)</h2><h3 id="å¸Œå°”æ’åºæ¦‚è¿°"><a href="#å¸Œå°”æ’åºæ¦‚è¿°" class="headerlink" title="å¸Œå°”æ’åºæ¦‚è¿°"></a>å¸Œå°”æ’åºæ¦‚è¿°</h3><p>å¸Œå°”æ’åºæ˜¯ä¸€ç§åŸºäºæ’å…¥æ’åºçš„æ”¹è¿›ç®—æ³•ï¼Œå®ƒé€šè¿‡å°†æ•°ç»„åˆ†æˆè‹¥å¹²å­åºåˆ—æ¥å‡å°‘é€†åºçš„å…ƒç´ ï¼Œä½¿å¾—æ’å…¥æ’åºåœ¨åç»­æ‰§è¡Œæ—¶æ›´åŠ é«˜æ•ˆã€‚</p><h3 id="å¸Œå°”æ’åºçš„æ­¥éª¤ï¼š"><a href="#å¸Œå°”æ’åºçš„æ­¥éª¤ï¼š" class="headerlink" title="å¸Œå°”æ’åºçš„æ­¥éª¤ï¼š"></a>å¸Œå°”æ’åºçš„æ­¥éª¤ï¼š</h3><ol><li>é€‰æ‹©ä¸€ä¸ªå¢é‡ï¼ˆgapï¼‰ï¼Œå°†æ•°ç»„åˆ†æˆå¤šä¸ªå­åºåˆ—ï¼Œæ¯ä¸ªå­åºåˆ—ä½¿ç”¨æ’å…¥æ’åºè¿›è¡Œæ’åºã€‚</li><li>å‡å°å¢é‡ï¼Œç»§ç»­å¯¹è¾ƒå°çš„å­åºåˆ—è¿›è¡Œæ’åºã€‚</li><li>ç›´åˆ°å¢é‡ä¸º1æ—¶ï¼Œå¯¹æ•´ä¸ªæ•°ç»„æ‰§è¡Œä¸€æ¬¡æ’å…¥æ’åºã€‚</li></ol><h3 id="å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š"><a href="#å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š" class="headerlink" title="å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š"></a>å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼š</h3><ul><li><strong>æœ€å·®æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n^2)</code>ï¼Œå½“å¢é‡åºåˆ—é€‰æ‹©ä¸å½“æ—¶ã€‚</li><li><strong>æœ€ä½³æ—¶é—´å¤æ‚åº¦</strong>ï¼š<code>O(n log n)</code>ï¼Œéšç€å¢é‡åºåˆ—çš„ä¼˜åŒ–ï¼Œèƒ½è·å¾—æ›´å¥½çš„æ€§èƒ½ã€‚</li></ul><h3 id="å¸Œå°”æ’åºä»£ç ç¤ºä¾‹ï¼š"><a href="#å¸Œå°”æ’åºä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="å¸Œå°”æ’åºä»£ç ç¤ºä¾‹ï¼š"></a>å¸Œå°”æ’åºä»£ç ç¤ºä¾‹ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¸Œå°”æ’åºå‡½æ•°</span><span class="token keyword">void</span> <span class="token function">shellSort</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆå§‹å¢é‡</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> gap <span class="token operator">=</span> n <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> gap <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> gap <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// ä½¿ç”¨å½“å‰gapå¯¹æ•°ç»„è¿›è¡Œæ’å…¥æ’åº</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> key <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span>                        <span class="token comment">// æŒ‰ç…§gapé—´éš”è¿›è¡Œæ’å…¥æ’åº</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> gap <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>j <span class="token operator">-</span> gap<span class="token punctuation">]</span> <span class="token operator">&gt;</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>                arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">-</span> gap<span class="token punctuation">]</span><span class="token punctuation">;</span>                j <span class="token operator">-=</span> gap<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> key<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">shellSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºåçš„æ•°ç»„ï¼š"</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è§£é‡Šï¼š-2"><a href="#è§£é‡Šï¼š-2" class="headerlink" title="è§£é‡Šï¼š"></a>è§£é‡Šï¼š</h3><ul><li><code>gap</code>ç”¨äºæ§åˆ¶å­åºåˆ—çš„é—´éš”ï¼Œé€æ­¥å‡å°å¢é‡ï¼Œæœ€ç»ˆä¸º1æ—¶è¿›è¡Œå¸¸è§„æ’å…¥æ’åºã€‚</li><li>å¸Œå°”æ’åºé€šè¿‡é€æ­¥å‡å°‘é—´éš”æ¥åŠ é€Ÿæ’åºè¿‡ç¨‹ï¼Œé¿å…äº†å¤§é‡çš„é€†åºå…ƒç´ ã€‚</li></ul><hr><h2 id="æ—¶é—´å¤æ‚åº¦æ¦‚å¿µä¸åˆ†æ"><a href="#æ—¶é—´å¤æ‚åº¦æ¦‚å¿µä¸åˆ†æ" class="headerlink" title="æ—¶é—´å¤æ‚åº¦æ¦‚å¿µä¸åˆ†æ"></a>æ—¶é—´å¤æ‚åº¦æ¦‚å¿µä¸åˆ†æ</h2><h3 id="æ—¶é—´å¤æ‚åº¦-Time-Complexity"><a href="#æ—¶é—´å¤æ‚åº¦-Time-Complexity" class="headerlink" title="æ—¶é—´å¤æ‚åº¦ (Time Complexity)"></a>æ—¶é—´å¤æ‚åº¦ (Time Complexity)</h3><p>æ—¶é—´å¤æ‚åº¦ç”¨äºæè¿°ç®—æ³•æ‰§è¡Œæ‰€éœ€æ—¶é—´éšè¾“å…¥è§„æ¨¡ï¼ˆnï¼‰å˜åŒ–çš„å…³ç³»ã€‚å¸¸è§çš„æ—¶é—´å¤æ‚åº¦åŒ…æ‹¬ï¼š</p><ul><li>**O(1)**ï¼šå¸¸æ•°æ—¶é—´ï¼Œæ— è®ºè¾“å…¥è§„æ¨¡å¦‚ä½•ï¼Œæ‰§è¡Œæ—¶é—´éƒ½ç›¸åŒã€‚</li><li>**O(log n)**ï¼šå¯¹æ•°æ—¶é—´ï¼Œå¢é•¿è¾ƒæ…¢ï¼Œå¸¸è§äºäºŒåˆ†æŸ¥æ‰¾ç­‰ç®—æ³•ã€‚</li><li>**O(n)**ï¼šçº¿æ€§æ—¶é—´ï¼Œæ‰§è¡Œæ—¶é—´ä¸è¾“å…¥è§„æ¨¡æˆæ­£æ¯”ã€‚</li><li>**O(n log n)**ï¼šå¯¹æ•°çº¿æ€§æ—¶é—´ï¼Œå¸¸è§äºé«˜æ•ˆæ’åºç®—æ³•ï¼Œå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºç­‰ã€‚</li><li>**O(n^2)**ï¼šå¹³æ–¹æ—¶é—´ï¼Œå¸¸è§äºç®€å•çš„æ’åºç®—æ³•ï¼Œå¦‚æ’å…¥æ’åºã€å†’æ³¡æ’åºç­‰ã€‚</li><li>**O(2^n)**ï¼šæŒ‡æ•°æ—¶é—´ï¼Œå¢é•¿éå¸¸å¿«ï¼Œå¸¸è§äºæš´åŠ›æœç´¢ç®—æ³•ã€‚</li><li>**O(n!)**ï¼šé˜¶ä¹˜æ—¶é—´ï¼Œé€šå¸¸å‡ºç°åœ¨å…¨æ’åˆ—é—®é¢˜ä¸­ã€‚</li></ul><h3 id="æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ï¼š"><a href="#æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ï¼š"></a>æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ï¼š</h3><ul><li>**O(1)**ï¼šè®¿é—®æ•°ç»„çš„æŸä¸ªå…ƒç´ ã€‚</li><li>**O(n)**ï¼šéå†æ•°ç»„ï¼Œè¿›è¡Œä¸€æ¬¡çº¿æ€§æ‰«æã€‚</li><li>**O(n^2)**ï¼šåµŒå¥—çš„ä¸¤å±‚å¾ªç¯ï¼Œå¦‚å†’æ³¡æ’åºã€‚</li><li>**O(n log n)**ï¼šåˆ†æ²»æ³•æ’åºç®—æ³•ï¼Œå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºã€‚</li></ul><h3 id="æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ä»£ç ï¼ˆéå†æ•°ç»„ä¸åŒé‡å¾ªç¯ï¼‰ï¼š"><a href="#æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ä»£ç ï¼ˆéå†æ•°ç»„ä¸åŒé‡å¾ªç¯ï¼‰ï¼š" class="headerlink" title="æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ä»£ç ï¼ˆéå†æ•°ç»„ä¸åŒé‡å¾ªç¯ï¼‰ï¼š"></a>æ—¶é—´å¤æ‚åº¦ç¤ºä¾‹ä»£ç ï¼ˆéå†æ•°ç»„ä¸åŒé‡å¾ªç¯ï¼‰ï¼š</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// O(n) ç¤ºä¾‹ï¼šéå†æ•°ç»„</span><span class="token keyword">void</span> <span class="token function">linearExample</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// O(n^2) ç¤ºä¾‹ï¼šåŒé‡å¾ªç¯</span><span class="token keyword">void</span> <span class="token function">quadraticExample</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">","</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">linearExample</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// O(n)</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">quadraticExample</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// O(n^2)</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç©ºé—´å¤æ‚åº¦ï¼š"><a href="#ç©ºé—´å¤æ‚åº¦ï¼š" class="headerlink" title="ç©ºé—´å¤æ‚åº¦ï¼š"></a>ç©ºé—´å¤æ‚åº¦ï¼š</h3><p>ç©ºé—´å¤æ‚åº¦è¡¨ç¤ºç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„é¢å¤–ç©ºé—´ã€‚å¸¸è§çš„ç©ºé—´å¤æ‚åº¦æœ‰ï¼š</p><ul><li>**O(1)**ï¼šå¸¸æ•°ç©ºé—´ï¼Œç®—æ³•è¿è¡Œæ—¶ä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚</li><li>**O(n)**ï¼šçº¿æ€§ç©ºé—´ï¼Œç®—æ³•éœ€è¦å­˜å‚¨ä¸è¾“å…¥è§„æ¨¡æˆæ­£æ¯”çš„æ•°æ®ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå¿«é€Ÿæ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯ O(log n)ï¼Œå› ä¸ºå®ƒçš„é€’å½’æ ˆç©ºé—´ä¸è¾“å…¥è§„æ¨¡çš„å¯¹æ•°æˆæ­£æ¯”ã€‚</p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li><strong>å¿«é€Ÿæ’åº</strong>ï¼šé‡‡ç”¨åˆ†æ²»æ³•ï¼Œé€šè¿‡é€’å½’å°†æ•°ç»„åˆ†æˆå°éƒ¨åˆ†è¿›è¡Œæ’åºã€‚å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n log n)</code>ï¼Œæœ€åæƒ…å†µä¸‹ä¸º <code>O(n^2)</code>ã€‚</li><li><strong>æ’å…¥æ’åº</strong>ï¼šé€šè¿‡å°†å…ƒç´ æ’å…¥åˆ°å·²æ’åºçš„éƒ¨åˆ†ï¼Œé€‚ç”¨äºå°è§„æ¨¡æ•°æ®ã€‚æ—¶é—´å¤æ‚åº¦ä¸º <code>O(n^2)</code>ã€‚</li><li><strong>å¸Œå°”æ’åº</strong>ï¼šé€šè¿‡é€æ­¥ç¼©å°å¢é‡ï¼Œä½¿æ’å…¥æ’åºæ›´é«˜æ•ˆã€‚æ—¶é—´å¤æ‚åº¦å–å†³äºå¢é‡åºåˆ—çš„é€‰æ‹©ã€‚</li></ul><p>æ—¶é—´å¤æ‚åº¦åˆ†æå¸®åŠ©æˆ‘ä»¬äº†è§£ç®—æ³•åœ¨ä¸åŒè¾“å…¥è§„æ¨¡ä¸‹çš„è¡¨ç°ï¼Œé€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•å¯ä»¥æ˜¾è‘—æé«˜ç¨‹åºçš„æ€§èƒ½ã€‚</p><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/Onlogn_linear_log_time.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/On2_quadratic_time.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/O2n_exponential_time.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/O1_constant_time.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/Ologn_logarithmic_time.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/C-%E4%B8%AD%E6%8E%92%E5%BA%8F%E5%92%8C%E5%A4%8D%E6%9D%82%E5%BA%A6/On_linear_time.jpg" class="" title="ç¤ºæ„å›¾ width=400">]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• æ’åº </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­çš„é¡ºåºæœç´¢</title>
      <link href="/C-%E4%B8%AD%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%90%9C%E7%B4%A2.html"/>
      <url>/C-%E4%B8%AD%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%90%9C%E7%B4%A2.html</url>
      
        <content type="html"><![CDATA[<p>é¡ºåºæŸ¥æ‰¾ï¼Œä¹Ÿç§°ä¸ºçº¿æ€§æŸ¥æ‰¾ï¼Œæ˜¯ä¸€ç§æœ€åŸºæœ¬çš„æŸ¥æ‰¾æŠ€æœ¯ï¼Œç”¨äºåœ¨æ•°æ®ç»“æ„ï¼ˆå¦‚æ•°ç»„æˆ–åˆ—è¡¨ï¼‰ä¸­æœç´¢ç‰¹å®šçš„å€¼ã€‚</p><span id="more"></span><h3 id="çŸ¥è¯†ç‚¹è®²è§£ï¼š"><a href="#çŸ¥è¯†ç‚¹è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹è®²è§£ï¼š"></a>çŸ¥è¯†ç‚¹è®²è§£ï¼š</h3><ol><li><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šé¡ºåºæŸ¥æ‰¾ä»æ•°æ®ç»“æ„çš„ä¸€ç«¯å¼€å§‹ï¼Œé€ä¸ªæ£€æŸ¥æ¯ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰¾åˆ°æ‰€éœ€çš„å€¼æˆ–åˆ°è¾¾æ•°æ®ç»“æ„çš„æœ«å°¾ã€‚</p></li><li><p><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé¡ºåºæŸ¥æ‰¾é€‚ç”¨äºæ— åºæ•°æ®ç»“æ„ï¼Œæˆ–è€…æ•°æ®é‡è¾ƒå°æ—¶çš„æŸ¥æ‰¾æ“ä½œã€‚</p></li><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šé¡ºåºæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå…¶ä¸­næ˜¯æ•°æ®ç»“æ„ä¸­å…ƒç´ çš„æ•°é‡ã€‚åœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦æ£€æŸ¥æ‰€æœ‰å…ƒç´ ã€‚</p></li><li><p><strong>å®ç°æ–¹å¼</strong>ï¼šé¡ºåºæŸ¥æ‰¾å¯ä»¥é€šè¿‡å¾ªç¯ç»“æ„ï¼ˆå¦‚forå¾ªç¯æˆ–whileå¾ªç¯ï¼‰æ¥å®ç°ã€‚</p></li><li><p><strong>è¿”å›å€¼</strong>ï¼šå¦‚æœæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›å…¶åœ¨æ•°æ®ç»“æ„ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ï¼‰ï¼›å¦‚æœæœªæ‰¾åˆ°ï¼Œé€šå¸¸è¿”å›-1æˆ–å…¶ä»–ç‰¹å®šçš„å€¼è¡¨ç¤ºæŸ¥æ‰¾å¤±è´¥ã€‚</p></li></ol><h3 id="ä»£ç ç¤ºä¾‹ï¼š"><a href="#ä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="ä»£ç ç¤ºä¾‹ï¼š"></a>ä»£ç ç¤ºä¾‹ï¼š</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨é¡ºåºæŸ¥æ‰¾ç®—æ³•åœ¨C++æ•°ç»„ä¸­æŸ¥æ‰¾ç‰¹å®šå€¼çš„ä»£ç ç¤ºä¾‹ï¼Œä»¥åŠè¯¦ç»†çš„æ³¨é‡Šï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token comment">// é¡ºåºæŸ¥æ‰¾å‡½æ•°ï¼Œå‚æ•°ä¸ºæ•´æ•°å‘é‡ã€ç›®æ ‡å€¼</span><span class="token keyword">int</span> <span class="token function">sequentialSearch</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// éå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœå½“å‰å…ƒç´ ç­‰äºç›®æ ‡å€¼</span>            <span class="token keyword">return</span> i<span class="token punctuation">;</span> <span class="token comment">// è¿”å›å½“å‰å…ƒç´ çš„ç´¢å¼•</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœéå†ç»“æŸä»æœªæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›-1</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// å¾…æŸ¥æ‰¾çš„æ•°ç»„</span>    <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> <span class="token comment">// è¦æŸ¥æ‰¾çš„ç›®æ ‡å€¼</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">sequentialSearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è°ƒç”¨é¡ºåºæŸ¥æ‰¾å‡½æ•°</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœæ‰¾åˆ°äº†ç›®æ ‡å€¼</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Element found at index "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å€¼</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Element not found in the array"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ³¨é‡Šè§£é‡Šï¼š"><a href="#æ³¨é‡Šè§£é‡Šï¼š" class="headerlink" title="æ³¨é‡Šè§£é‡Šï¼š"></a>æ³¨é‡Šè§£é‡Šï¼š</h3><ul><li><code>#include &lt;iostream&gt;</code> å’Œ <code>#include &lt;vector&gt;</code>ï¼šå¼•å…¥æ ‡å‡†è¾“å…¥è¾“å‡ºæµå’Œå‘é‡å®¹å™¨çš„å¤´æ–‡ä»¶ã€‚</li><li><code>sequentialSearch</code> å‡½æ•°ï¼šå®šä¹‰äº†ä¸€ä¸ªé¡ºåºæŸ¥æ‰¾çš„å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªæ•´æ•°å‘é‡å’Œä¸€ä¸ªç›®æ ‡å€¼ä½œä¸ºå‚æ•°ã€‚</li><li><code>for</code> å¾ªç¯ï¼šéå†æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œä»ç´¢å¼•0å¼€å§‹ï¼Œç›´åˆ°æ•°ç»„çš„æœ«å°¾ã€‚</li><li><code>if</code> è¯­å¥ï¼šæ£€æŸ¥å½“å‰å…ƒç´ æ˜¯å¦ç­‰äºç›®æ ‡å€¼ã€‚</li><li><code>return i</code>ï¼šå¦‚æœæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›å…¶åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ã€‚</li><li><code>return -1</code>ï¼šå¦‚æœéå†ç»“æŸä»æœªæ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›-1è¡¨ç¤ºæŸ¥æ‰¾å¤±è´¥ã€‚</li><li><code>main</code> å‡½æ•°ï¼šå®šä¹‰äº†ä¸€ä¸ªå¾…æŸ¥æ‰¾çš„æ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œè°ƒç”¨ <code>sequentialSearch</code> å‡½æ•°ï¼Œå¹¶æ ¹æ®è¿”å›ç»“æœè¾“å‡ºç›¸åº”çš„ä¿¡æ¯ã€‚</li></ul><p>å¸Œæœ›è¿™ä¸ªè¯¦ç»†çš„è®²è§£å’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©å­©å­ä»¬ç†è§£é¡ºåºæŸ¥æ‰¾ç®—æ³•çš„å·¥ä½œåŸç†å’Œå®ç°æ–¹å¼ã€‚</p><h3 id="å†å¹´çœŸé¢˜"><a href="#å†å¹´çœŸé¢˜" class="headerlink" title="å†å¹´çœŸé¢˜"></a>å†å¹´çœŸé¢˜</h3><h3 id="1-CSP-J2019-ç¬¬ä¸€é¢˜"><a href="#1-CSP-J2019-ç¬¬ä¸€é¢˜" class="headerlink" title="1. CSP-J2019 ç¬¬ä¸€é¢˜"></a>1. CSP-J2019 ç¬¬ä¸€é¢˜</h3><p><strong>é¢˜ç›®æè¿°</strong>ï¼š<br>é¢˜ç›®è¦æ±‚è®¡ç®—æ‰€åœˆçš„çŸ©é˜µå’Œå…¶ä»–å·²æœ‰çŸ©é˜µçš„äº¤é›†é¢ç§¯ã€‚äº¤é›†é¢ç§¯çš„å³è¾¹ç•Œæ˜¯ä¸¤ä¸ªç›¸äº¤çŸ©é˜µçš„æœ€å³è¾¹çš„è¾¹ç•Œï¼Œå³<code>min(a, points[i][2])</code>ï¼Œå·¦è¾¹ç•Œæ˜¯ä¸¤ä¸ªç›¸äº¤çŸ©é˜µçš„æœ€å·¦è¾¹çš„è¾¹ç•Œï¼Œå³<code>max(0, points[i][0])</code>ã€‚ä¸Šä¸‹è¾¹ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚é€šè¿‡åˆ¤æ–­<code>x</code>å’Œ<code>y</code>æ˜¯å¦å¤§äºé›¶ï¼Œå¯ä»¥åˆ¤æ–­å‡ºçŸ©é˜µæ˜¯å¦äº¤å‰ï¼Œè‹¥å­˜åœ¨åˆ™<code>sum += x * y</code>ã€‚</p><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p><ul><li>ä½¿ç”¨é¡ºåºæŸ¥æ‰¾ï¼ˆçº¿æ€§æŸ¥æ‰¾ï¼‰æ¥éå†æ‰€æœ‰çŸ©é˜µçš„ç‚¹ã€‚</li><li>å¯¹äºæ¯ä¸ªç‚¹ï¼Œè®¡ç®—äº¤é›†çš„è¾¹ç•Œï¼Œç„¶åè®¡ç®—äº¤é›†é¢ç§¯ã€‚</li></ul><p><strong>ä»£ç ç¤ºä¾‹</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span> <span class="token comment">// çŸ©é˜µçš„æ•°é‡</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span>pair<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token operator">&gt;&gt;</span> points<span class="token punctuation">;</span> <span class="token comment">// å­˜å‚¨çŸ©é˜µçš„å·¦å³è¾¹ç•Œæˆ–ä¸Šä¸‹è¾¹ç•Œ</span>    <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// å­˜å‚¨æ€»çš„äº¤é›†é¢ç§¯</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">,</span> d<span class="token punctuation">;</span>        cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> b <span class="token operator">&gt;&gt;</span> c <span class="token operator">&gt;&gt;</span> d<span class="token punctuation">;</span> <span class="token comment">// è¯»å–çŸ©é˜µçš„å·¦å³è¾¹ç•Œå’Œä¸Šä¸‹è¾¹ç•Œ</span>        points<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token punctuation">,</span> b<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å­˜å‚¨å·¦è¾¹ç•Œ</span>        points<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token punctuation">{</span>c<span class="token punctuation">,</span> d<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å­˜å‚¨å³è¾¹ç•Œ</span>    <span class="token punctuation">}</span>    <span class="token function">sort</span><span class="token punctuation">(</span>points<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> points<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯¹ç‚¹è¿›è¡Œæ’åº</span>    <span class="token comment">// éå†æ‰€æœ‰ç‚¹ï¼Œè®¡ç®—äº¤é›†é¢ç§¯</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> points<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> x <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>first <span class="token operator">-</span> points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>second<span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—äº¤é›†çš„å®½åº¦</span>        <span class="token keyword">int</span> y <span class="token operator">=</span> points<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span>second <span class="token operator">-</span> points<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>first<span class="token punctuation">;</span> <span class="token comment">// è®¡ç®—äº¤é›†çš„é«˜åº¦</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> y <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// å¦‚æœäº¤é›†å­˜åœ¨</span>            sum <span class="token operator">+=</span> x <span class="token operator">*</span> y<span class="token punctuation">;</span> <span class="token comment">// ç´¯åŠ äº¤é›†é¢ç§¯</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºæ€»çš„äº¤é›†é¢ç§¯</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸Šæ˜¯CSP-J2019æ™®åŠç»„åˆèµ›ä¸­çš„ä¸€é“é¢˜ç›®ï¼Œæ¶‰åŠåˆ°é¡ºåºæŸ¥æ‰¾ç®—æ³•çš„åº”ç”¨ã€‚é€šè¿‡çº¿æ€§éå†æ‰€æœ‰çŸ©é˜µçš„è¾¹ç•Œç‚¹ï¼Œè®¡ç®—å‡ºæ‰€æœ‰çŸ©é˜µçš„äº¤é›†é¢ç§¯ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• äºŒåˆ†æœç´¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­çš„äºŒåˆ†æœç´¢</title>
      <link href="/C-%E4%B8%AD%E7%9A%84%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2.html"/>
      <url>/C-%E4%B8%AD%E7%9A%84%E4%BA%8C%E5%88%86%E6%90%9C%E7%B4%A2.html</url>
      
        <content type="html"><![CDATA[<p>äºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸€ç§åœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ç‰¹å®šå…ƒç´ çš„é«˜æ•ˆç®—æ³•ã€‚å®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯å°†æ•°ç»„åˆ†æˆä¸¤åŠï¼Œç„¶åæ ¹æ®ç›®æ ‡å€¼ä¸ä¸­é—´å…ƒç´ çš„å¤§å°å…³ç³»æ¥å†³å®šæ˜¯ç»§ç»­åœ¨å·¦åŠéƒ¨åˆ†è¿˜æ˜¯å³åŠéƒ¨åˆ†è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¼šä¸æ–­é‡å¤ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡å€¼æˆ–è€…æœç´¢èŒƒå›´ä¸ºç©ºã€‚</p><span id="more"></span><h3 id="çŸ¥è¯†ç‚¹è®²è§£ï¼š"><a href="#çŸ¥è¯†ç‚¹è®²è§£ï¼š" class="headerlink" title="çŸ¥è¯†ç‚¹è®²è§£ï¼š"></a>çŸ¥è¯†ç‚¹è®²è§£ï¼š</h3><ol><li><p><strong>æœ‰åºæ•°ç»„</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å‰ææ˜¯æ•°ç»„å¿…é¡»æ˜¯æœ‰åºçš„ï¼Œå³å…ƒç´ æ˜¯æŒ‰ç…§å‡åºæˆ–é™åºæ’åˆ—çš„ã€‚</p></li><li><p><strong>æŸ¥æ‰¾è¿‡ç¨‹</strong>ï¼šç®—æ³•ä¼šå–æ•°ç»„çš„ä¸­é—´å…ƒç´ ä¸ç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸ç­‰ï¼Œåˆ™æŸ¥æ‰¾æˆåŠŸï¼›å¦‚æœç›®æ ‡å€¼å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨å·¦åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ï¼›å¦‚æœç›®æ ‡å€¼å¤§äºä¸­é—´å…ƒç´ ï¼Œåˆ™åœ¨å³åŠéƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ã€‚</p></li><li><p><strong>é€’å½’ä¸è¿­ä»£</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾å¯ä»¥ç”¨é€’å½’æˆ–è¿­ä»£çš„æ–¹å¼æ¥å®ç°ã€‚</p></li><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(log n)ï¼Œå…¶ä¸­næ˜¯æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡ã€‚è¿™æ˜¯å› ä¸ºæ¯æ¬¡æ¯”è¾ƒéƒ½ä¼šå°†æœç´¢èŒƒå›´ç¼©å°ä¸€åŠã€‚</p></li><li><p><strong>è¾¹ç•Œæ¡ä»¶</strong>ï¼šåœ¨å®ç°äºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œéœ€è¦ç‰¹åˆ«æ³¨æ„è¾¹ç•Œæ¡ä»¶ï¼Œæ¯”å¦‚æ•°ç»„ä¸ºç©ºã€ç›®æ ‡å€¼åœ¨æ•°ç»„çš„ä¸¤ç«¯ç­‰æƒ…å†µã€‚</p></li></ol><h3 id="ä»£ç ç¤ºä¾‹ï¼š"><a href="#ä»£ç ç¤ºä¾‹ï¼š" class="headerlink" title="ä»£ç ç¤ºä¾‹ï¼š"></a>ä»£ç ç¤ºä¾‹ï¼š</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨è¿­ä»£æ–¹å¼å®ç°çš„äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„C++ä»£ç ç¤ºä¾‹ï¼Œä»¥åŠè¯¦ç»†çš„æ³¨é‡Šï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// äºŒåˆ†æŸ¥æ‰¾çš„éé€’å½’å®ç°</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// äºŒåˆ†æŸ¥æ‰¾å‡½æ•°ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­æŸ¥æ‰¾ targetï¼Œæ‰¾åˆ°è¿”å›ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å› -1</span><span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>              <span class="token comment">// å·¦è¾¹ç•Œåˆå§‹åŒ–ä¸º 0</span>    <span class="token keyword">int</span> high <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// å³è¾¹ç•Œåˆå§‹åŒ–ä¸ºæ•°ç»„çš„æœ€åä¸€ä¸ªç´¢å¼•</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// è®¡ç®—ä¸­é—´ç´¢å¼•ï¼Œä½¿ç”¨ (low + high) / 2 å¯èƒ½ä¼šæº¢å‡ºï¼Œå› æ­¤ç”¨ low + (high - low) / 2</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> low <span class="token operator">+</span> <span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token comment">// æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°ç›®æ ‡å€¼</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// è¿”å›ç›®æ ‡å€¼æ‰€åœ¨çš„ç´¢å¼•</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>            high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ç›®æ ‡å€¼åœ¨å·¦ä¾§ï¼Œæ›´æ–°å³è¾¹ç•Œ</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// ç›®æ ‡å€¼åœ¨å³ä¾§ï¼Œæ›´æ–°å·¦è¾¹ç•Œ</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// å¦‚æœæœªæ‰¾åˆ°ï¼Œè¿”å› -1</span><span class="token punctuation">}</span><span class="token comment">// ä¸»å‡½æ•°ï¼Œæµ‹è¯•äºŒåˆ†æŸ¥æ‰¾</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰åºæ•°ç»„</span>    <span class="token keyword">int</span> target<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„æ•°å­—: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> target<span class="token punctuation">;</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ‰¾åˆ°ç›®æ ‡å€¼ "</span> <span class="token operator">&lt;&lt;</span> target <span class="token operator">&lt;&lt;</span> <span class="token string">"ï¼Œç´¢å¼•ä¸º: "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æœªæ‰¾åˆ°ç›®æ ‡å€¼ "</span> <span class="token operator">&lt;&lt;</span> target <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// äºŒåˆ†æŸ¥æ‰¾çš„é€’å½’å®ç°</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// é€’å½’äºŒåˆ†æŸ¥æ‰¾å‡½æ•°</span><span class="token keyword">int</span> <span class="token function">binarySearchRecursive</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> low<span class="token punctuation">,</span> <span class="token keyword">int</span> high<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>low <span class="token operator">&gt;</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// åŸºå‡†æƒ…å†µï¼šæœç´¢èŒƒå›´ä¸ºç©ºï¼Œè¿”å› -1</span>    <span class="token punctuation">}</span>    <span class="token keyword">int</span> mid <span class="token operator">=</span> low <span class="token operator">+</span> <span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›ç´¢å¼•</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">&gt;</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">binarySearchRecursive</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> low<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç›®æ ‡å€¼åœ¨å·¦ä¾§</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">binarySearchRecursive</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> high<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç›®æ ‡å€¼åœ¨å³ä¾§</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// ä¸»å‡½æ•°ï¼Œæµ‹è¯•é€’å½’äºŒåˆ†æŸ¥æ‰¾</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> arr <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token comment">// æœ‰åºæ•°ç»„</span>    <span class="token keyword">int</span> target<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¯·è¾“å…¥è¦æŸ¥æ‰¾çš„æ•°å­—: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> target<span class="token punctuation">;</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token function">binarySearchRecursive</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ‰¾åˆ°ç›®æ ‡å€¼ "</span> <span class="token operator">&lt;&lt;</span> target <span class="token operator">&lt;&lt;</span> <span class="token string">"ï¼Œç´¢å¼•ä¸º: "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æœªæ‰¾åˆ°ç›®æ ‡å€¼ "</span> <span class="token operator">&lt;&lt;</span> target <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ³¨é‡Šè§£é‡Šï¼š"><a href="#æ³¨é‡Šè§£é‡Šï¼š" class="headerlink" title="æ³¨é‡Šè§£é‡Šï¼š"></a>æ³¨é‡Šè§£é‡Šï¼š</h3><ul><li><code>#include &lt;iostream&gt;</code> å’Œ <code>#include &lt;vector&gt;</code>ï¼šå¼•å…¥æ ‡å‡†è¾“å…¥è¾“å‡ºæµå’Œå‘é‡å®¹å™¨çš„å¤´æ–‡ä»¶ã€‚</li><li><code>binarySearch</code> å‡½æ•°ï¼šå®šä¹‰äº†ä¸€ä¸ªäºŒåˆ†æŸ¥æ‰¾çš„å‡½æ•°ï¼Œæ¥å—ä¸€ä¸ªæ•´æ•°å‘é‡ã€ç›®æ ‡å€¼å’Œæ•°ç»„å¤§å°ä½œä¸ºå‚æ•°ã€‚</li><li><code>left</code> å’Œ <code>right</code> å˜é‡ï¼šåˆ†åˆ«ä»£è¡¨æœç´¢èŒƒå›´çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œã€‚</li><li><code>while</code> å¾ªç¯ï¼šåªè¦å·¦è¾¹ç•Œä¸å¤§äºå³è¾¹ç•Œï¼Œå°±ç»§ç»­æŸ¥æ‰¾ã€‚</li><li><code>mid</code> å˜é‡ï¼šè®¡ç®—ä¸­é—´ä½ç½®çš„ç´¢å¼•ï¼Œä½¿ç”¨ <code>(left + right) / 2</code> å¯èƒ½ä¼šé€ æˆæ•´æ•°æº¢å‡ºï¼Œå› æ­¤ä½¿ç”¨ <code>left + (right - left) / 2</code>ã€‚</li><li><code>if-else if-else</code> è¯­å¥ï¼šæ ¹æ®ä¸­é—´å…ƒç´ ä¸ç›®æ ‡å€¼çš„æ¯”è¾ƒç»“æœï¼Œè°ƒæ•´æœç´¢èŒƒå›´ã€‚</li><li><code>main</code> å‡½æ•°ï¼šå®šä¹‰äº†ä¸€ä¸ªæœ‰åºæ•°ç»„ã€ç›®æ ‡å€¼å’Œæ•°ç»„å¤§å°ï¼Œè°ƒç”¨ <code>binarySearch</code> å‡½æ•°ï¼Œå¹¶æ ¹æ®è¿”å›ç»“æœè¾“å‡ºç›¸åº”çš„ä¿¡æ¯ã€‚</li></ul><p>å¸Œæœ›è¿™ä¸ªè¯¦ç»†çš„è®²è§£å’Œä»£ç ç¤ºä¾‹èƒ½å¸®åŠ©å­©å­ä»¬ç†è§£äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„å·¥ä½œåŸç†å’Œå®ç°æ–¹å¼ã€‚</p><p>äºŒåˆ†æŸ¥æ‰¾çš„åŸºæœ¬åŸç†å’Œå®ç°æ­¥éª¤å¦‚ä¸‹ï¼š</p><h3 id="åŸºæœ¬åŸç†ï¼š"><a href="#åŸºæœ¬åŸç†ï¼š" class="headerlink" title="åŸºæœ¬åŸç†ï¼š"></a>åŸºæœ¬åŸç†ï¼š</h3><ol><li><p><strong>æœ‰åºæ€§</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾ç®—æ³•åªèƒ½åœ¨æœ‰åºæ•°ç»„ä¸­è¿›è¡Œï¼Œå› ä¸ºåªæœ‰æœ‰åºæ•°ç»„æ‰èƒ½ä¿è¯é€šè¿‡æ¯”è¾ƒä¸­é—´å…ƒç´ æ¥ç¼©å°æœç´¢èŒƒå›´ã€‚</p></li><li><p><strong>ä¸­é—´å…ƒç´ </strong>ï¼šç®—æ³•é€šè¿‡æ¯”è¾ƒç›®æ ‡å€¼ä¸æ•°ç»„ä¸­é—´å…ƒç´ çš„å¤§å°ï¼Œæ¥å†³å®šæ˜¯ç»§ç»­åœ¨æ•°ç»„çš„å·¦åŠéƒ¨åˆ†è¿˜æ˜¯å³åŠéƒ¨åˆ†è¿›è¡ŒæŸ¥æ‰¾ã€‚</p></li><li><p><strong>ç¼©å°èŒƒå›´</strong>ï¼šæ¯æ¬¡æ¯”è¾ƒåï¼Œç®—æ³•éƒ½ä¼šå°†æœç´¢èŒƒå›´ç¼©å°ä¸€åŠï¼Œè¿™æ˜¯äºŒåˆ†æŸ¥æ‰¾æ•ˆç‡çš„å…³é”®ã€‚</p></li><li><p><strong>é€’å½’æˆ–è¿­ä»£</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾å¯ä»¥é€šè¿‡é€’å½’æˆ–è¿­ä»£çš„æ–¹å¼æ¥å®ç°ã€‚</p></li></ol><h3 id="å®ç°æ­¥éª¤ï¼š"><a href="#å®ç°æ­¥éª¤ï¼š" class="headerlink" title="å®ç°æ­¥éª¤ï¼š"></a>å®ç°æ­¥éª¤ï¼š</h3><h4 id="è¿­ä»£å®ç°æ­¥éª¤ï¼š"><a href="#è¿­ä»£å®ç°æ­¥éª¤ï¼š" class="headerlink" title="è¿­ä»£å®ç°æ­¥éª¤ï¼š"></a>è¿­ä»£å®ç°æ­¥éª¤ï¼š</h4><ol><li><p><strong>åˆå§‹åŒ–</strong>ï¼šè®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„å¼€å§‹ï¼ˆ<code>left</code>ï¼‰ï¼Œå¦ä¸€ä¸ªæŒ‡å‘æ•°ç»„çš„ç»“æŸï¼ˆ<code>right</code>ï¼‰ã€‚</p></li><li><p><strong>å¾ªç¯æ¡ä»¶</strong>ï¼šå½“<code>left</code>å°äºæˆ–ç­‰äº<code>right</code>æ—¶ï¼Œç»§ç»­å¾ªç¯ã€‚</p></li><li><p><strong>è®¡ç®—ä¸­é—´ç´¢å¼•</strong>ï¼šè®¡ç®—ä¸­é—´ç´¢å¼•<code>mid</code>ï¼Œé€šå¸¸ä½¿ç”¨<code>mid = left + (right - left) / 2</code>æ¥é¿å…æ•´æ•°æº¢å‡ºã€‚</p></li><li><p><strong>æ¯”è¾ƒä¸­é—´å…ƒç´ </strong>ï¼šå°†æ•°ç»„ä¸­é—´ä½ç½®çš„å…ƒç´ ä¸ç›®æ ‡å€¼è¿›è¡Œæ¯”è¾ƒã€‚</p></li><li><p><strong>è°ƒæ•´æœç´¢èŒƒå›´</strong>ï¼š</p><ul><li>å¦‚æœä¸­é—´å…ƒç´ ç­‰äºç›®æ ‡å€¼ï¼ŒæŸ¥æ‰¾æˆåŠŸï¼Œè¿”å›ä¸­é—´ç´¢å¼•ã€‚</li><li>å¦‚æœç›®æ ‡å€¼å°äºä¸­é—´å…ƒç´ ï¼Œå°†<code>right</code>æ›´æ–°ä¸º<code>mid - 1</code>ï¼Œå› ä¸ºç›®æ ‡å€¼å¿…å®šåœ¨å·¦åŠéƒ¨åˆ†ã€‚</li><li>å¦‚æœç›®æ ‡å€¼å¤§äºä¸­é—´å…ƒç´ ï¼Œå°†<code>left</code>æ›´æ–°ä¸º<code>mid + 1</code>ï¼Œå› ä¸ºç›®æ ‡å€¼å¿…å®šåœ¨å³åŠéƒ¨åˆ†ã€‚</li></ul></li><li><p><strong>å¾ªç¯ç»“æŸ</strong>ï¼šå¦‚æœå¾ªç¯ç»“æŸè¿˜æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œè¿”å›ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼ˆé€šå¸¸æ˜¯-1ï¼‰ï¼Œè¡¨ç¤ºç›®æ ‡å€¼ä¸åœ¨æ•°ç»„ä¸­ã€‚</p></li></ol><h4 id="é€’å½’å®ç°æ­¥éª¤ï¼š"><a href="#é€’å½’å®ç°æ­¥éª¤ï¼š" class="headerlink" title="é€’å½’å®ç°æ­¥éª¤ï¼š"></a>é€’å½’å®ç°æ­¥éª¤ï¼š</h4><ol><li><p><strong>åŸºæœ¬æƒ…å†µ</strong>ï¼šå¦‚æœæ•°ç»„çš„é•¿åº¦ä¸º0ï¼Œæˆ–è€…<code>left</code>å¤§äº<code>right</code>ï¼Œåˆ™è¿”å›-1ï¼Œè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°ã€‚</p></li><li><p><strong>è®¡ç®—ä¸­é—´ç´¢å¼•</strong>ï¼šä¸è¿­ä»£æ–¹æ³•ç›¸åŒï¼Œè®¡ç®—ä¸­é—´ç´¢å¼•<code>mid</code>ã€‚</p></li><li><p><strong>æ¯”è¾ƒä¸­é—´å…ƒç´ </strong>ï¼šä¸è¿­ä»£æ–¹æ³•ç›¸åŒï¼Œæ¯”è¾ƒä¸­é—´å…ƒç´ ä¸ç›®æ ‡å€¼ã€‚</p></li><li><p><strong>é€’å½’è°ƒç”¨</strong>ï¼š</p><ul><li>å¦‚æœä¸­é—´å…ƒç´ ç­‰äºç›®æ ‡å€¼ï¼Œè¿”å›ä¸­é—´ç´¢å¼•ã€‚</li><li>å¦‚æœç›®æ ‡å€¼å°äºä¸­é—´å…ƒç´ ï¼Œé€’å½’è°ƒç”¨å·¦åŠéƒ¨åˆ†ï¼ˆ<code>left</code>åˆ°<code>mid - 1</code>ï¼‰ã€‚</li><li>å¦‚æœç›®æ ‡å€¼å¤§äºä¸­é—´å…ƒç´ ï¼Œé€’å½’è°ƒç”¨å³åŠéƒ¨åˆ†ï¼ˆ<code>mid + 1</code>åˆ°<code>right</code>ï¼‰ã€‚</li></ul></li><li><p><strong>è¿”å›ç»“æœ</strong>ï¼šé€’å½’è°ƒç”¨ä¼šè¿”å›ç›®æ ‡å€¼çš„ç´¢å¼•æˆ–è€…-1ã€‚</p></li></ol><p>äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡ä¹‹æ‰€ä»¥é«˜ï¼Œæ˜¯å› ä¸ºå®ƒæ¯æ¬¡æ“ä½œéƒ½èƒ½å°†æœç´¢ç©ºé—´å‡åŠï¼Œå› æ­¤å…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ï¼Œè¿™ä½¿å¾—å®ƒåœ¨å¤„ç†å¤§æ•°æ®é›†æ—¶éå¸¸æœ‰æ•ˆã€‚</p><p>äºŒåˆ†æŸ¥æ‰¾å’Œçº¿æ€§æŸ¥æ‰¾åœ¨æ•ˆç‡ä¸Šæœ‰æ˜¾è‘—çš„å·®å¼‚ï¼Œä¸»è¦ä½“ç°åœ¨å®ƒä»¬çš„æ—¶é—´å¤æ‚åº¦ä¸Šï¼š</p><h2 id="äºŒåˆ†æŸ¥æ‰¾å’Œçº¿æ€§æŸ¥æ‰¾ç›¸æ¯”"><a href="#äºŒåˆ†æŸ¥æ‰¾å’Œçº¿æ€§æŸ¥æ‰¾ç›¸æ¯”" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾å’Œçº¿æ€§æŸ¥æ‰¾ç›¸æ¯”"></a>äºŒåˆ†æŸ¥æ‰¾å’Œçº¿æ€§æŸ¥æ‰¾ç›¸æ¯”</h2><h3 id="çº¿æ€§æŸ¥æ‰¾ï¼ˆLinear-Searchï¼‰ï¼š"><a href="#çº¿æ€§æŸ¥æ‰¾ï¼ˆLinear-Searchï¼‰ï¼š" class="headerlink" title="çº¿æ€§æŸ¥æ‰¾ï¼ˆLinear Searchï¼‰ï¼š"></a>çº¿æ€§æŸ¥æ‰¾ï¼ˆLinear Searchï¼‰ï¼š</h3><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(n)ï¼Œå…¶ä¸­næ˜¯æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡ã€‚</li><li><strong>å·¥ä½œåŸç†</strong>ï¼šä»æ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œé€ä¸ªæ£€æŸ¥æ¯ä¸ªå…ƒç´ ï¼Œç›´åˆ°æ‰¾åˆ°ç›®æ ‡å€¼æˆ–æ£€æŸ¥å®Œæ‰€æœ‰å…ƒç´ ã€‚</li><li><strong>æ•ˆç‡</strong>ï¼šåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼Œå¦‚æœç›®æ ‡å€¼ä½äºæ•°ç»„çš„æœ«å°¾æˆ–æ ¹æœ¬ä¸å­˜åœ¨ï¼Œçº¿æ€§æŸ¥æ‰¾éœ€è¦æ£€æŸ¥æ‰€æœ‰å…ƒç´ ï¼Œå› æ­¤éœ€è¦næ¬¡æ¯”è¾ƒã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºå°å‹æ•°æ®é›†æˆ–æ— åºæ•°ç»„ï¼Œå› ä¸ºå¯¹äºå°è§„æ¨¡æ•°æ®ï¼Œå…¶ç®€å•æ€§å’Œå®ç°çš„ä¾¿æ·æ€§å¯èƒ½è¶…è¿‡äºŒåˆ†æŸ¥æ‰¾çš„ä¼˜åŠ¿ã€‚</li></ul><h3 id="äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary-Searchï¼‰ï¼š"><a href="#äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary-Searchï¼‰ï¼š" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary Searchï¼‰ï¼š"></a>äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary Searchï¼‰ï¼š</h3><ul><li><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šO(log n)ï¼Œå…¶ä¸­næ˜¯æ•°ç»„ä¸­å…ƒç´ çš„æ•°é‡ã€‚</li><li><strong>å·¥ä½œåŸç†</strong>ï¼šåœ¨æœ‰åºæ•°ç»„ä¸­ï¼Œé€šè¿‡æ¯”è¾ƒä¸­é—´å…ƒç´ ä¸ç›®æ ‡å€¼ï¼Œæ¯æ¬¡æ¯”è¾ƒåå°†æœç´¢èŒƒå›´ç¼©å°ä¸€åŠã€‚</li><li><strong>æ•ˆç‡</strong>ï¼šåœ¨æœ€åçš„æƒ…å†µä¸‹ï¼ŒäºŒåˆ†æŸ¥æ‰¾éœ€è¦è¿›è¡Œlogâ‚‚næ¬¡æ¯”è¾ƒï¼Œè¿™é‡Œçš„â€œlogâ€æ˜¯ä»¥2ä¸ºåº•çš„å¯¹æ•°ã€‚è¿™æ„å‘³ç€å³ä½¿å¯¹äºè¾ƒå¤§çš„æ•°æ®é›†ï¼Œæ‰€éœ€çš„æ¯”è¾ƒæ¬¡æ•°ä¹Ÿè¿œè¿œå°‘äºçº¿æ€§æŸ¥æ‰¾ã€‚</li><li><strong>é€‚ç”¨åœºæ™¯</strong>ï¼šé€‚ç”¨äºå¤§å‹ä¸”å·²æ’åºçš„æ•°æ®é›†ï¼Œå› ä¸ºå¯¹äºå¤§è§„æ¨¡æ•°æ®ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡ä¼˜åŠ¿éå¸¸æ˜æ˜¾ã€‚</li></ul><h3 id="æ•ˆç‡å¯¹æ¯”ï¼š"><a href="#æ•ˆç‡å¯¹æ¯”ï¼š" class="headerlink" title="æ•ˆç‡å¯¹æ¯”ï¼š"></a>æ•ˆç‡å¯¹æ¯”ï¼š</h3><ul><li><strong>å¤§è§„æ¨¡æ•°æ®é›†</strong>ï¼šå¯¹äºå¤§è§„æ¨¡æ•°æ®é›†ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ•ˆç‡è¿œé«˜äºçº¿æ€§æŸ¥æ‰¾ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸€ä¸ªåŒ…å«1000ä¸ªå…ƒç´ çš„æ•°ç»„ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾æœ€å¤šéœ€è¦10æ¬¡æ¯”è¾ƒï¼ˆlogâ‚‚1000 â‰ˆ 10ï¼‰ï¼Œè€Œçº¿æ€§æŸ¥æ‰¾åœ¨æœ€åæƒ…å†µä¸‹éœ€è¦1000æ¬¡æ¯”è¾ƒã€‚</li><li><strong>å°è§„æ¨¡æ•°æ®é›†</strong>ï¼šå¯¹äºå°è§„æ¨¡æ•°æ®é›†ï¼Œçº¿æ€§æŸ¥æ‰¾å¯èƒ½æ›´å¿«ï¼Œå› ä¸ºå®ƒé¿å…äº†äºŒåˆ†æŸ¥æ‰¾ä¸­è®¡ç®—ä¸­é—´ç´¢å¼•çš„å¼€é”€ï¼Œå°¤å…¶æ˜¯å½“æ•°ç»„éå¸¸å°çš„æ—¶å€™ã€‚</li></ul><p>æ€»ç»“æ¥è¯´ï¼ŒäºŒåˆ†æŸ¥æ‰¾åœ¨å¤„ç†å¤§å‹æœ‰åºæ•°æ®é›†æ—¶æ•ˆç‡æ›´é«˜ï¼Œè€Œçº¿æ€§æŸ¥æ‰¾åœ¨å¤„ç†å°å‹æ•°æ®é›†æˆ–æ— åºæ•°æ®é›†æ—¶å¯èƒ½æ›´ç®€å•ã€æ›´ç›´æ¥ã€‚é€‰æ‹©å“ªç§æŸ¥æ‰¾æ–¹æ³•å–å†³äºå…·ä½“çš„åº”ç”¨åœºæ™¯å’Œæ•°æ®ç‰¹ç‚¹ã€‚</p><h3 id="äºŒåˆ†æŸ¥æ‰¾åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ›´æœ‰ä¼˜åŠ¿"><a href="#äºŒåˆ†æŸ¥æ‰¾åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ›´æœ‰ä¼˜åŠ¿" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ›´æœ‰ä¼˜åŠ¿"></a>äºŒåˆ†æŸ¥æ‰¾åœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ›´æœ‰ä¼˜åŠ¿</h3><ol><li><p><strong>æœ‰åºæ•°æ®é›†</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾ç®—æ³•è¦æ±‚æ•°æ®é›†å¿…é¡»æ˜¯æœ‰åºçš„ï¼Œæ— è®ºæ˜¯å‡åºè¿˜æ˜¯é™åºã€‚å¦‚æœæ•°æ®é›†æ˜¯æ— åºçš„ï¼Œé‚£ä¹ˆäºŒåˆ†æŸ¥æ‰¾æ— æ³•åº”ç”¨ï¼Œæˆ–è€…éœ€è¦å…ˆå¯¹æ•°æ®è¿›è¡Œæ’åºï¼Œè¿™ä¼šå¢åŠ é¢å¤–çš„æ—¶é—´æˆæœ¬ã€‚</p></li><li><p><strong>å¤§æ•°æ®é›†</strong>ï¼šå¯¹äºåŒ…å«å¤§é‡å…ƒç´ çš„æ•°æ®é›†ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„ä¼˜åŠ¿å°¤ä¸ºæ˜æ˜¾ã€‚ç”±äºå…¶æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)ï¼Œéšç€æ•°æ®é›†è§„æ¨¡çš„å¢åŠ ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç›¸æ¯”äºçº¿æ€§æŸ¥æ‰¾çš„æ•ˆç‡ä¼˜åŠ¿æ›´åŠ æ˜¾è‘—ã€‚</p></li><li><p><strong>é‡å¤æŸ¥æ‰¾æ“ä½œ</strong>ï¼šå¦‚æœéœ€è¦åœ¨åŒä¸€ä¸ªæœ‰åºæ•°ç»„ä¸­è¿›è¡Œå¤šæ¬¡æŸ¥æ‰¾æ“ä½œï¼ŒäºŒåˆ†æŸ¥æ‰¾æ›´åŠ é«˜æ•ˆã€‚å› ä¸ºä¸€æ—¦æ•°ç»„è¢«æ’åºï¼Œåç»­çš„æŸ¥æ‰¾æ“ä½œå¯ä»¥é‡å¤åˆ©ç”¨è¿™ä¸ªæœ‰åºç»“æ„ï¼Œè€Œä¸éœ€è¦æ¯æ¬¡éƒ½ä»å¤´å¼€å§‹ã€‚</p></li><li><p><strong>å†…å­˜é™åˆ¶</strong>ï¼šåœ¨å†…å­˜å—é™çš„æƒ…å†µä¸‹ï¼ŒäºŒåˆ†æŸ¥æ‰¾å¯ä»¥å‡å°‘æ¯”è¾ƒæ¬¡æ•°ï¼Œä»è€Œå‡å°‘å†…å­˜è®¿é—®ï¼Œæé«˜æ•ˆç‡ã€‚</p></li><li><p><strong>å®æ—¶ç³»ç»Ÿ</strong>ï¼šåœ¨éœ€è¦å¿«é€Ÿå“åº”çš„å®æ—¶ç³»ç»Ÿä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾å¯ä»¥æä¾›æ›´å¿«çš„æŸ¥æ‰¾é€Ÿåº¦ï¼Œå› ä¸ºå®ƒé¿å…äº†çº¿æ€§æŸ¥æ‰¾ä¸­å¯èƒ½çš„å¤§é‡å…ƒç´ æ¯”è¾ƒã€‚</p></li><li><p><strong>ä¼˜åŒ–å­˜å‚¨è®¿é—®</strong>ï¼šåœ¨æ•°æ®åº“å’Œæ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå­˜å‚¨è®¿é—®å¾€å¾€æ˜¯æ€§èƒ½ç“¶é¢ˆã€‚äºŒåˆ†æŸ¥æ‰¾å¯ä»¥å‡å°‘å­˜å‚¨è®¿é—®æ¬¡æ•°ï¼Œå› æ­¤åœ¨è¿™äº›åœºæ™¯ä¸‹æ›´æœ‰ä¼˜åŠ¿ã€‚</p></li><li><p><strong>ç®—æ³•ç«èµ›å’Œé¢è¯•</strong>ï¼šåœ¨ç®—æ³•ç«èµ›å’Œç¼–ç¨‹é¢è¯•ä¸­ï¼ŒäºŒåˆ†æŸ¥æ‰¾æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æŠ€æœ¯ï¼Œå› ä¸ºå®ƒå¯ä»¥è§£å†³ä¸€ç±»ç‰¹å®šçš„é—®é¢˜ï¼Œå¹¶ä¸”å…·æœ‰å¾ˆå¥½çš„ç†è®ºæ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p><strong>æ•°å­¦å’Œé€»è¾‘é—®é¢˜</strong>ï¼šåœ¨è§£å†³ä¸€äº›éœ€è¦å¿«é€Ÿå®šä½å’Œæ¯”è¾ƒçš„é—®é¢˜æ—¶ï¼Œå¦‚æŸ¥æ‰¾æœ€å¤§å€¼ã€æœ€å°å€¼æˆ–è€…æŸä¸ªç‰¹å®šå€¼çš„èŒƒå›´æ—¶ï¼ŒäºŒåˆ†æŸ¥æ‰¾å¯ä»¥æä¾›æ¸…æ™°çš„é€»è¾‘æ¡†æ¶ã€‚</p></li></ol><p>æ€»çš„æ¥è¯´ï¼ŒäºŒåˆ†æŸ¥æ‰¾åœ¨æ•°æ®é‡å¤§ã€æŸ¥æ‰¾æ“ä½œé¢‘ç¹ã€å¯¹æ€§èƒ½è¦æ±‚é«˜çš„åœºæ™¯ä¸‹æ›´æœ‰ä¼˜åŠ¿ã€‚ç„¶è€Œï¼Œå®ƒä¹Ÿæœ‰ä¸€å®šçš„å±€é™æ€§ï¼Œæ¯”å¦‚éœ€è¦æ•°æ®é¢„å…ˆæ’åºï¼Œä»¥åŠä¸é€‚ç”¨äºæ— åºæ•°æ®é›†ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©æœ€åˆé€‚çš„æŸ¥æ‰¾ç®—æ³•ã€‚</p><h3 id="å†å¹´çœŸé¢˜"><a href="#å†å¹´çœŸé¢˜" class="headerlink" title="å†å¹´çœŸé¢˜"></a>å†å¹´çœŸé¢˜</h3><p>æ ¹æ®æœç´¢ç»“æœï¼Œä»¥ä¸‹æ˜¯NOIPå’ŒCSPç«èµ›ä¸­æ¶‰åŠåˆ°äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„é¢˜ç›®åŠè¯¦ç»†è§£ç­”ï¼š</p><h3 id="1-CSP-J-2021-çŸ©å½¢è®¡æ•°"><a href="#1-CSP-J-2021-çŸ©å½¢è®¡æ•°" class="headerlink" title="1. CSP-J 2021 çŸ©å½¢è®¡æ•°"></a>1. CSP-J 2021 çŸ©å½¢è®¡æ•°</h3><p><strong>é¢˜ç›®æè¿°</strong>ï¼š<br>å¹³é¢ä¸Šæœ‰nä¸ªå…³é”®ç‚¹ï¼Œæ±‚æœ‰å¤šå°‘ä¸ªå››æ¡è¾¹éƒ½å’Œxè½´æˆ–è€…yè½´å¹³è¡Œçš„çŸ©å½¢ï¼Œæ»¡è¶³å››ä¸ªé¡¶ç‚¹éƒ½æ˜¯å…³é”®ç‚¹ã€‚ç»™å‡ºçš„å…³é”®ç‚¹å¯èƒ½æœ‰é‡å¤ï¼Œä½†å®Œå…¨é‡åˆçš„çŸ©å½¢åªè®¡ä¸€æ¬¡ã€‚</p><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p><ul><li>é¦–å…ˆå¯¹å…³é”®ç‚¹æŒ‰ç…§xå’Œyåæ ‡è¿›è¡Œæ’åºã€‚</li><li>å»é‡ï¼Œç¡®ä¿æ¯ä¸ªç‚¹åªè¢«è®¡ç®—ä¸€æ¬¡ã€‚</li><li>æšä¸¾ä¸¤ä¸ªç‚¹ä½œä¸ºçŸ©å½¢çš„ä¸¤ä¸ªå¯¹è§’ï¼Œç„¶åé€šè¿‡äºŒåˆ†æŸ¥æ‰¾ç¡®å®šå¦å¤–ä¸¤ä¸ªç‚¹æ˜¯å¦å­˜åœ¨ã€‚</li></ul><p><strong>ä»£ç å®ç°</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;stdio.h&gt;</span></span><span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">{</span><span class="token comment">//ç»“æ„ä½“</span>    <span class="token keyword">int</span> x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>id<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span> a<span class="token punctuation">,</span><span class="token keyword">struct</span> <span class="token class-name">point</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//æ¯”è¾ƒç»“æ„ä½“å†…å˜é‡x yæ˜¯å¦ç›¸ç­‰</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>x<span class="token operator">==</span>b<span class="token punctuation">.</span>x <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>y<span class="token operator">==</span>b<span class="token punctuation">.</span>y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span> a<span class="token punctuation">,</span><span class="token keyword">struct</span> <span class="token class-name">point</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//æ’åºsortä½¿ç”¨ é€‰æ‹©éƒ½æ˜¯åˆ¤æ–­a&lt;b ä»å°åˆ°å¤§æ’åº</span>    <span class="token keyword">return</span> a<span class="token punctuation">.</span>x<span class="token operator">!=</span>b<span class="token punctuation">.</span>x<span class="token operator">?</span>a<span class="token punctuation">.</span>x<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>x<span class="token operator">:</span>a<span class="token punctuation">.</span>y<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//æŒ‰ç…§æ’åºè§„åˆ™ A[j]&lt;a[j-1] äº¤æ¢ è¯´æ˜å¯ä»¥ä»å°åˆ°å¤§æ’åº</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>j<span class="token operator">++</span><span class="token punctuation">)</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">cmp</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span>A<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">struct</span> <span class="token class-name">point</span> t<span class="token operator">=</span>A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                A<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">=</span>A<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                A<span class="token punctuation">[</span>j<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span>t<span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">unique</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span> A<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//å»é‡</span>    <span class="token keyword">int</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i<span class="token operator">==</span><span class="token number">0</span><span class="token operator">||</span><span class="token operator">!</span><span class="token function">equals</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span>A<span class="token punctuation">[</span>t<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            A<span class="token punctuation">[</span>t<span class="token operator">++</span><span class="token punctuation">]</span><span class="token operator">=</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> t<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span>cnt<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">struct</span> <span class="token class-name">point</span> points<span class="token punctuation">[</span><span class="token number">1005</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">"%d %d"</span><span class="token punctuation">,</span><span class="token operator">&amp;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span><span class="token operator">&amp;</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>        points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>id<span class="token operator">=</span>i<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">sort</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    n<span class="token operator">=</span><span class="token function">unique</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> x1<span class="token operator">=</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> y1<span class="token operator">=</span>points<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>            <span class="token keyword">int</span> x2<span class="token operator">=</span>points<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> y2<span class="token operator">=</span>points<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>            <span class="token keyword">int</span> x3<span class="token operator">=</span>x1<span class="token punctuation">,</span> y3<span class="token operator">=</span>y2<span class="token punctuation">;</span>            <span class="token keyword">int</span> x4<span class="token operator">=</span>x2<span class="token punctuation">,</span> y4<span class="token operator">=</span>y1<span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>x3<span class="token operator">==</span>x4 <span class="token operator">||</span> y3<span class="token operator">==</span>y4<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token function">lower_bound</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> points<span class="token operator">+</span>n<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">)</span><span class="token punctuation">{</span>x3<span class="token punctuation">,</span>y3<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span> points<span class="token punctuation">;</span>            <span class="token keyword">int</span> b<span class="token operator">=</span><span class="token function">lower_bound</span><span class="token punctuation">(</span>points<span class="token punctuation">,</span> points<span class="token operator">+</span>n<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">struct</span> <span class="token class-name">point</span><span class="token punctuation">)</span><span class="token punctuation">{</span>x4<span class="token punctuation">,</span>y4<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">-</span> points<span class="token punctuation">;</span>            cnt<span class="token operator">+=</span>a<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> a<span class="token operator">&lt;</span>n <span class="token operator">&amp;&amp;</span> b<span class="token operator">&gt;=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> b<span class="token operator">&lt;</span>n <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">equals</span><span class="token punctuation">(</span>points<span class="token punctuation">[</span>a<span class="token punctuation">]</span><span class="token punctuation">,</span>points<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> cnt<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-P1314-NOIP2011-æé«˜ç»„-èªæ˜çš„è´¨ç›‘å‘˜"><a href="#2-P1314-NOIP2011-æé«˜ç»„-èªæ˜çš„è´¨ç›‘å‘˜" class="headerlink" title="2. P1314 [NOIP2011 æé«˜ç»„] èªæ˜çš„è´¨ç›‘å‘˜"></a>2. P1314 [NOIP2011 æé«˜ç»„] èªæ˜çš„è´¨ç›‘å‘˜</h3><p><strong>é¢˜ç›®æè¿°</strong>ï¼š<br>ç»™å®šä¸€ç³»åˆ—çŸ¿çŸ³ï¼Œæ¯ä¸ªçŸ¿çŸ³æœ‰é‡é‡å’Œä»·å€¼ï¼Œä»¥åŠä¸€ä¸ªæ€»ä»·å€¼sã€‚éœ€è¦ç¡®å®šä¸€ä¸ªé˜ˆå€¼Wï¼Œä½¿å¾—å¤§äºWçš„çŸ¿çŸ³çš„æ€»ä»·å€¼ä¹‹å’Œä¸è¶…è¿‡sã€‚</p><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p><ul><li>ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ç¡®å®šé˜ˆå€¼Wã€‚</li><li>è®¡ç®—å¤§äºWçš„çŸ¿çŸ³çš„æ•°é‡å’Œä»·å€¼ä¹‹å’Œã€‚</li><li>å¦‚æœæ€»ä»·å€¼ä¹‹å’Œè¶…è¿‡sï¼Œåˆ™éœ€è¦å¢åŠ Wï¼›å¦‚æœå°äºç­‰äºsï¼Œåˆ™å°è¯•å‡å°‘Wã€‚</li></ul><p><strong>ä»£ç å®ç°</strong>ï¼š</p><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span><span class="token string">&lt;bits/stdc++.h&gt;</span></span><span class="token keyword">typedef</span> <span class="token keyword">long</span> <span class="token keyword">long</span> ll<span class="token punctuation">;</span>using namespace std<span class="token punctuation">;</span><span class="token keyword">const</span> <span class="token keyword">int</span> N<span class="token operator">=</span><span class="token number">200010</span><span class="token punctuation">;</span>ll w<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span>v<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>ll L<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span>R<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>ll n<span class="token punctuation">,</span>m<span class="token punctuation">,</span>s<span class="token punctuation">;</span>ll pre<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">,</span>vpre<span class="token punctuation">[</span>N<span class="token punctuation">]</span><span class="token punctuation">;</span>ll <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>    ll y<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>pre<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span> pre<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">memset</span><span class="token punctuation">(</span>vpre<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span> vpre<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>n<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;=</span>x<span class="token punctuation">)</span><span class="token punctuation">{</span>            pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>pre<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>            vpre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>vpre<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">+</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>            pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>pre<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            vpre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">=</span>vpre<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span>m<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        y<span class="token operator">+=</span><span class="token punctuation">(</span>pre<span class="token punctuation">[</span>R<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">-</span>pre<span class="token punctuation">[</span>L<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">*</span> <span class="token punctuation">(</span>vpre<span class="token punctuation">[</span>R<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">-</span>vpre<span class="token punctuation">[</span>L<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> y<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    cin<span class="token operator">&gt;&gt;</span>n<span class="token operator">&gt;&gt;</span>m<span class="token operator">&gt;&gt;</span>s<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>w<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span>m<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> cin<span class="token operator">&gt;&gt;</span>L<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">&gt;&gt;</span>R<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> l<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>r<span class="token operator">=</span><span class="token number">1e6</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>l <span class="token operator">+</span> r <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token operator">&gt;=</span>s<span class="token punctuation">)</span> l <span class="token operator">=</span> mid<span class="token punctuation">;</span>        <span class="token keyword">else</span> r <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    ll ans<span class="token operator">=</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token operator">-</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">abs</span><span class="token punctuation">(</span><span class="token function">check</span><span class="token punctuation">(</span>r<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">-</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout<span class="token operator">&lt;&lt;</span>ans<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• äºŒåˆ†æœç´¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­çš„å‡½æ•°é€’å½’è°ƒç”¨</title>
      <link href="/C-%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8.html"/>
      <url>/C-%E4%B8%AD%E7%9A%84%E5%87%BD%E6%95%B0%E9%80%92%E5%BD%92%E8%B0%83%E7%94%A8.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-é€’å½’çš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-é€’å½’çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. é€’å½’çš„åŸºæœ¬æ¦‚å¿µ"></a>1. é€’å½’çš„åŸºæœ¬æ¦‚å¿µ</h3><p><strong>é€’å½’ï¼ˆRecursionï¼‰</strong> æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°ç›´æ¥æˆ–é—´æ¥è°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€æœ¯ã€‚é€’å½’æ˜¯è§£å†³é—®é¢˜çš„ä¸€ç§å¸¸ç”¨æ–¹æ³•ï¼Œå°¤å…¶åœ¨æ¶‰åŠåˆ†æ²»æ³•ã€æ ‘å½¢ç»“æ„ã€å›æº¯ç­‰ç®—æ³•æ—¶ï¼Œé€’å½’å¾€å¾€èƒ½ç®€åŒ–é—®é¢˜çš„è§£å†³è¿‡ç¨‹ã€‚</p><span id="more"></span><p>é€’å½’å‡½æ•°é€šå¸¸åŒ…å«ä¸¤ä¸ªä¸»è¦éƒ¨åˆ†ï¼š</p><ol><li><strong>é€’å½’ç»ˆæ­¢æ¡ä»¶</strong>ï¼šä¹Ÿç§°ä¸ºåŸºå‡†æƒ…å½¢ï¼ˆBase Caseï¼‰ï¼Œç”¨äºé˜²æ­¢æ— é™é€’å½’è°ƒç”¨ã€‚</li><li><strong>é€’å½’æ­¥éª¤</strong>ï¼šå‡½æ•°åœ¨æ»¡è¶³é€’å½’æ¡ä»¶æ—¶è°ƒç”¨è‡ªèº«ï¼Œå¹¶ç¼©å°é—®é¢˜çš„è§„æ¨¡ã€‚</li></ol><h3 id="2-é€’å½’å‡½æ•°çš„æ„æˆ"><a href="#2-é€’å½’å‡½æ•°çš„æ„æˆ" class="headerlink" title="2. é€’å½’å‡½æ•°çš„æ„æˆ"></a>2. é€’å½’å‡½æ•°çš„æ„æˆ</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token comment">// é€’å½’å‡½æ•°ç»“æ„</span>è¿”å›ç±»å‹ å‡½æ•°å<span class="token punctuation">(</span>å‚æ•°<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>ç»ˆæ­¢æ¡ä»¶<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// ç»ˆæ­¢æ¡ä»¶å¤„ç†</span>        <span class="token keyword">return</span> ç‰¹å®šå€¼<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// é€’å½’è°ƒç”¨è‡ªèº«</span>        <span class="token keyword">return</span> å‡½æ•°å<span class="token punctuation">(</span>æ–°çš„å‚æ•°<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-é€’å½’çš„ä¼˜ç¼ºç‚¹"><a href="#3-é€’å½’çš„ä¼˜ç¼ºç‚¹" class="headerlink" title="3. é€’å½’çš„ä¼˜ç¼ºç‚¹"></a>3. é€’å½’çš„ä¼˜ç¼ºç‚¹</h3><p><strong>ä¼˜ç‚¹</strong>ï¼š</p><ul><li>ä»£ç ç®€æ´ï¼Œæ˜“äºç†è§£ã€‚</li><li>é€‚åˆå¤„ç†æ ‘ç»“æ„ã€åˆ†æ²»ç®—æ³•ç­‰é—®é¢˜ã€‚</li></ul><p><strong>ç¼ºç‚¹</strong>ï¼š</p><ul><li>é€’å½’è°ƒç”¨ä¼šå ç”¨æ ˆå†…å­˜ï¼Œå¯èƒ½å¯¼è‡´<strong>æ ˆæº¢å‡º</strong>ã€‚</li><li>é€’å½’æ•ˆç‡è¾ƒä½ï¼Œé€šå¸¸éœ€è¦ä¼˜åŒ–ï¼ˆå¦‚ä½¿ç”¨<strong>è®°å¿†åŒ–æœç´¢</strong>ã€<strong>å°¾é€’å½’ä¼˜åŒ–</strong>ï¼‰ã€‚</li></ul><h3 id="4-é€’å½’å‡½æ•°çš„ä¾‹å­"><a href="#4-é€’å½’å‡½æ•°çš„ä¾‹å­" class="headerlink" title="4. é€’å½’å‡½æ•°çš„ä¾‹å­"></a>4. é€’å½’å‡½æ•°çš„ä¾‹å­</h3><h4 id="ç¤ºä¾‹-1ï¼šè®¡ç®—é˜¶ä¹˜"><a href="#ç¤ºä¾‹-1ï¼šè®¡ç®—é˜¶ä¹˜" class="headerlink" title="ç¤ºä¾‹ 1ï¼šè®¡ç®—é˜¶ä¹˜"></a>ç¤ºä¾‹ 1ï¼šè®¡ç®—é˜¶ä¹˜</h4><p><strong>é—®é¢˜</strong>ï¼šè®¡ç®— n çš„é˜¶ä¹˜ï¼Œå®šä¹‰ä¸º <code>n! = n * (n-1) * (n-2) * ... * 1</code>ï¼Œå…¶ä¸­ <code>0! = 1</code>ã€‚</p><p><strong>é€’å½’å…¬å¼</strong>ï¼š</p><ul><li><code>factorial(n) = n * factorial(n - 1)</code>ï¼Œå½“ <code>n &gt; 0</code></li><li><code>factorial(0) = 1</code></li></ul><p><strong>ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// é€’å½’ç»ˆæ­¢æ¡ä»¶</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€’å½’è°ƒç”¨</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a number: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Factorial of "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li>å½“ <code>n = 0</code> æ—¶ï¼Œç›´æ¥è¿”å› <code>1</code>ã€‚</li><li>å¯¹äº <code>n &gt; 0</code>ï¼Œé€’å½’è°ƒç”¨ <code>factorial(n - 1)</code> ç›´è‡³ <code>n = 0</code>ã€‚</li><li>ä¾‹å¦‚ï¼Œ<code>factorial(4)</code> ä¼šè°ƒç”¨ <code>factorial(3)</code>ï¼Œä¾æ¬¡è°ƒç”¨ç›´åˆ° <code>factorial(0)</code>ã€‚</li></ul><p><strong>æ‰§è¡Œè¿‡ç¨‹</strong>ï¼š</p><ul><li><code>factorial(4)</code> â†’ <code>4 * factorial(3)</code></li><li><code>factorial(3)</code> â†’ <code>3 * factorial(2)</code></li><li><code>factorial(2)</code> â†’ <code>2 * factorial(1)</code></li><li><code>factorial(1)</code> â†’ <code>1 * factorial(0)</code></li><li><code>factorial(0)</code> â†’ <code>1</code></li><li>æœ€ç»ˆç»“æœä¸ºï¼š<code>4 * 3 * 2 * 1 = 24</code></li></ul><h4 id="ç¤ºä¾‹-2ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#ç¤ºä¾‹-2ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="ç¤ºä¾‹ 2ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—"></a>ç¤ºä¾‹ 2ï¼šæ–æ³¢é‚£å¥‘æ•°åˆ—</h4><p><strong>é—®é¢˜</strong>ï¼šè®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—çš„ç¬¬ n é¡¹ï¼Œå®šä¹‰ä¸ºï¼š</p><ul><li><code>fib(0) = 0</code></li><li><code>fib(1) = 1</code></li><li><code>fib(n) = fib(n - 1) + fib(n - 2)</code>ï¼Œå½“ <code>n &gt; 1</code></li></ul><p><strong>ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fib</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter the position: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Fibonacci number at position "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">fib</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li>ä½¿ç”¨é€’å½’å…¬å¼ <code>fib(n) = fib(n - 1) + fib(n - 2)</code> è¿›è¡Œè®¡ç®—ã€‚</li><li>ä¾‹å¦‚ï¼Œ<code>fib(5)</code> éœ€è¦è®¡ç®— <code>fib(4)</code> å’Œ <code>fib(3)</code>ï¼Œä»¥æ­¤ç±»æ¨ã€‚</li></ul><p><strong>æ‰§è¡Œè¿‡ç¨‹</strong>ï¼š</p><ul><li><code>fib(5)</code> â†’ <code>fib(4) + fib(3)</code></li><li><code>fib(4)</code> â†’ <code>fib(3) + fib(2)</code></li><li><code>fib(3)</code> â†’ <code>fib(2) + fib(1)</code></li><li><code>fib(2)</code> â†’ <code>fib(1) + fib(0)</code></li><li>æœ€ç»ˆç»“æœä¸ºï¼š<code>5</code></li></ul><p><strong>ä¼˜åŒ–</strong>ï¼š</p><ul><li>è¯¥é€’å½’å®ç°æ•ˆç‡ä½ï¼Œå¯ä»¥ä½¿ç”¨<strong>è®°å¿†åŒ–æœç´¢</strong>æˆ–<strong>åŠ¨æ€è§„åˆ’</strong>è¿›è¡Œä¼˜åŒ–ã€‚</li></ul><h3 id="5-CSP-ç«èµ›ä¸­å¸¸è§çš„é€’å½’é¢˜ç›®"><a href="#5-CSP-ç«èµ›ä¸­å¸¸è§çš„é€’å½’é¢˜ç›®" class="headerlink" title="5. CSP ç«èµ›ä¸­å¸¸è§çš„é€’å½’é¢˜ç›®"></a>5. CSP ç«èµ›ä¸­å¸¸è§çš„é€’å½’é¢˜ç›®</h3><h4 id="é¢˜ç›®ï¼šæ±‚ç»„åˆæ•°-C-n-k"><a href="#é¢˜ç›®ï¼šæ±‚ç»„åˆæ•°-C-n-k" class="headerlink" title="é¢˜ç›®ï¼šæ±‚ç»„åˆæ•° C(n, k)"></a>é¢˜ç›®ï¼šæ±‚ç»„åˆæ•° C(n, k)</h4><p><strong>æè¿°</strong>ï¼š</p><ul><li>ç»™å®šä¸¤ä¸ªæ•´æ•° <code>n</code> å’Œ <code>k</code>ï¼Œæ±‚ç»„åˆæ•° <code>C(n, k)</code>ã€‚</li><li>ç»„åˆæ•°å…¬å¼ï¼š<code>C(n, k) = C(n - 1, k - 1) + C(n - 1, k)</code>ï¼Œä¸” <code>C(n, 0) = C(n, n) = 1</code>ã€‚</li></ul><p><strong>è§£æ³•</strong>ï¼š</p><ul><li>ä½¿ç”¨é€’å½’å…¬å¼è¿›è¡Œè®¡ç®—ã€‚</li></ul><p><strong>ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">C</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> k<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> k <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">C</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">C</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> k<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> k<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter n and k: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> k<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"C("</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> k <span class="token operator">&lt;&lt;</span> <span class="token string">") = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">C</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> k<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li>å½“ <code>k == 0</code> æˆ– <code>k == n</code> æ—¶ï¼Œè¿”å› <code>1</code>ã€‚</li><li>å¦åˆ™é€šè¿‡å…¬å¼ <code>C(n, k) = C(n-1, k-1) + C(n-1, k)</code> è®¡ç®—ã€‚</li></ul><p><strong>æ‰§è¡Œè¿‡ç¨‹</strong>ï¼š</p><ul><li><code>C(5, 2)</code> â†’ <code>C(4, 1) + C(4, 2)</code></li><li><code>C(4, 1)</code> â†’ <code>C(3, 0) + C(3, 1)</code>ï¼Œè¿”å› <code>4</code></li><li><code>C(4, 2)</code> â†’ <code>C(3, 1) + C(3, 2)</code>ï¼Œè¿”å› <code>6</code></li><li>æœ€ç»ˆç»“æœä¸ºï¼š<code>10</code></li></ul><h3 id="6-å°¾é€’å½’ä¼˜åŒ–"><a href="#6-å°¾é€’å½’ä¼˜åŒ–" class="headerlink" title="6. å°¾é€’å½’ä¼˜åŒ–"></a>6. å°¾é€’å½’ä¼˜åŒ–</h3><p>å°¾é€’å½’æ˜¯æŒ‡é€’å½’è°ƒç”¨å‡ºç°åœ¨å‡½æ•°çš„æœ€åä¸€æ­¥æ—¶çš„ä¸€ç§ç‰¹æ®Šé€’å½’å½¢å¼ï¼Œå¯ä»¥é€šè¿‡ç¼–è¯‘å™¨ä¼˜åŒ–ä¸ºè¿­ä»£ï¼Œé¿å…æ ˆæº¢å‡ºã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šè®¡ç®—é˜¶ä¹˜çš„å°¾é€’å½’å®ç°</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">factorialTail</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">factorialTail</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> n <span class="token operator">*</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter a number: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Factorial of "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" is "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">factorialTail</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li><code>factorialTail(n, result)</code> ä¸­ï¼Œ<code>result</code> ä¿å­˜å½“å‰è®¡ç®—çš„ç»“æœã€‚</li><li>é€’å½’è°ƒç”¨å‡ºç°åœ¨å‡½æ•°çš„æœ€åä¸€æ­¥ï¼Œå› æ­¤ä¸ºå°¾é€’å½’ã€‚</li></ul><h3 id="7-å¸¸è§-CSP-é€’å½’é¢˜ç›®"><a href="#7-å¸¸è§-CSP-é€’å½’é¢˜ç›®" class="headerlink" title="7. å¸¸è§ CSP é€’å½’é¢˜ç›®"></a>7. å¸¸è§ CSP é€’å½’é¢˜ç›®</h3><h4 id="é¢˜ç›®ï¼šæ±‰è¯ºå¡”é—®é¢˜"><a href="#é¢˜ç›®ï¼šæ±‰è¯ºå¡”é—®é¢˜" class="headerlink" title="é¢˜ç›®ï¼šæ±‰è¯ºå¡”é—®é¢˜"></a>é¢˜ç›®ï¼šæ±‰è¯ºå¡”é—®é¢˜</h4><p><strong>æè¿°</strong>ï¼š</p><ul><li>æœ‰ä¸‰æ ¹æŸ±å­ <code>A</code>ã€<code>B</code>ã€<code>C</code>ï¼Œå°† <code>n</code> ä¸ªç›˜å­ä» <code>A</code> ç§»åˆ° <code>C</code>ï¼Œæ¯æ¬¡åªèƒ½ç§»åŠ¨ä¸€ä¸ªç›˜å­ä¸”å¤§ç›˜å­ä¸èƒ½æ”¾åœ¨å°ç›˜å­ä¸Šã€‚</li></ul><p><strong>ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">hanoi</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">char</span> from<span class="token punctuation">,</span> <span class="token keyword">char</span> to<span class="token punctuation">,</span> <span class="token keyword">char</span> aux<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Move disk 1 from "</span> <span class="token operator">&lt;&lt;</span> from <span class="token operator">&lt;&lt;</span> <span class="token string">" to "</span> <span class="token operator">&lt;&lt;</span> to <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">hanoi</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> from<span class="token punctuation">,</span> aux<span class="token punctuation">,</span> to<span class="token punctuation">)</span><span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Move disk "</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">" from "</span> <span class="token operator">&lt;&lt;</span> from <span class="token operator">&lt;&lt;</span> <span class="token string">" to "</span> <span class="token operator">&lt;&lt;</span> to <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token function">hanoi</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> aux<span class="token punctuation">,</span> to<span class="token punctuation">,</span> from<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter number of disks: "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    <span class="token function">hanoi</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> <span class="token char">'A'</span><span class="token punctuation">,</span> <span class="token char">'C'</span><span class="token punctuation">,</span> <span class="token char">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Š</strong>ï¼š</p><ul><li>åˆ†ä¸¤æ­¥ï¼šå°† <code>n-1</code> ä¸ªç›˜å­ä» <code>A</code> ç§»åˆ° <code>B</code>ï¼Œå†å°†ç¬¬ <code>n</code> ä¸ªç›˜å­ä» <code>A</code> ç§»åˆ° <code>C</code>ï¼Œæœ€åå°† <code>n-1</code> ä¸ªç›˜å­ä» <code>B</code> ç§»åˆ° <code>C</code></li></ul><p>ã€‚</p><ul><li>å¤æ‚åº¦ä¸º <code>O(2^n)</code>ã€‚</li></ul><p><strong>è¾“å‡º</strong>ï¼š</p><ul><li>è¾“å…¥ <code>3</code> æ—¶ï¼š<pre class="line-numbers language-none"><code class="language-none">Move disk 1 from A to CMove disk 2 from A to BMove disk 1 from C to BMove disk 3 from A to CMove disk 1 from B to AMove disk 2 from B to CMove disk 1 from A to C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul><h3 id="8-æ€»ç»“"><a href="#8-æ€»ç»“" class="headerlink" title="8. æ€»ç»“"></a>8. æ€»ç»“</h3><ul><li>é€’å½’æ˜¯ä¸€ç§å¼ºå¤§çš„ç¼–ç¨‹æ€æƒ³ï¼Œé€‚ç”¨äºå¤„ç†å¤æ‚çš„åˆ†æ²»ã€æ ‘å½¢ç»“æ„å’ŒåŠ¨æ€è§„åˆ’é—®é¢˜ã€‚</li><li>ä½¿ç”¨é€’å½’æ—¶éœ€è¦æ³¨æ„<strong>ç»ˆæ­¢æ¡ä»¶</strong>ï¼Œé˜²æ­¢æ— é™é€’å½’å¯¼è‡´æ ˆæº¢å‡ºã€‚</li><li>å°¾é€’å½’å¯ä»¥ä¼˜åŒ–é€’å½’çš„ç©ºé—´å¤æ‚åº¦ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰é€’å½’é—®é¢˜éƒ½é€‚åˆè½¬æ¢ä¸ºå°¾é€’å½’ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• é€’å½’ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­å¦‚ä½•ç†è§£æšä¸¾</title>
      <link href="/C-%E4%B8%AD%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%9E%9A%E4%B8%BE.html"/>
      <url>/C-%E4%B8%AD%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%9E%9A%E4%B8%BE.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨C++ä¸­ï¼Œæšä¸¾æ˜¯ä¸€ç§å¸¸ç”¨çš„ç®—æ³•æ€æƒ³ï¼Œç”¨äºæœ‰åºåœ°åˆ—ä¸¾æ‰€æœ‰å¯èƒ½çš„æƒ…å†µæˆ–ç»„åˆã€‚åœ¨NOIPï¼ˆå…¨å›½é’å°‘å¹´ä¿¡æ¯å­¦å¥¥æ—åŒ¹å…‹ç«èµ›ï¼‰ç¼–ç¨‹ç«èµ›ä¸­ï¼Œæšä¸¾æ˜¯ä¸€é¡¹éå¸¸é‡è¦çš„æŠ€å·§ã€‚æœ¬æ–‡å°†ä»æšä¸¾çš„åŸºæœ¬æ¦‚å¿µã€æ„ä¹‰å’Œåº”ç”¨åœºæ™¯å±•å¼€ï¼Œä»‹ç»å‡ ç§å…¸å‹çš„æšä¸¾æ–¹å¼ï¼Œå¹¶ç»“åˆç¤ºä¾‹è¿›è¡Œè®²è§£ã€‚</p><span id="more"></span><hr><h3 id="1-æšä¸¾çš„æ¦‚å¿µ"><a href="#1-æšä¸¾çš„æ¦‚å¿µ" class="headerlink" title="1. æšä¸¾çš„æ¦‚å¿µ"></a>1. æšä¸¾çš„æ¦‚å¿µ</h3><p>æšä¸¾ï¼ˆEnumerationï¼‰åœ¨ç®—æ³•ä¸­æŒ‡çš„æ˜¯é€ä¸€åˆ—ä¸¾å‡ºé—®é¢˜çš„æ‰€æœ‰å¯èƒ½æƒ…å†µï¼Œå¹¶å¯¹æ¯ç§æƒ…å†µè¿›è¡ŒéªŒè¯æˆ–è®¡ç®—ï¼Œä»è€Œæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„è§£ã€‚è¿™ç§æ–¹æ³•é€‚ç”¨äºè§£ç©ºé—´æœ‰é™ã€è®¡ç®—é‡å¯æ§çš„é—®é¢˜ã€‚</p><p>åœ¨ç¼–ç¨‹ä¸­ï¼Œæšä¸¾å¯ä»¥ç†è§£ä¸ºéå†ä¸€ä¸ªé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ æˆ–æ‰€æœ‰å¯èƒ½çš„ç»„åˆã€‚æšä¸¾æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯â€œç©·ä¸¾â€â€”â€”å°è¯•æ‰€æœ‰å¯èƒ½æ€§ï¼Œä»¥æ‰¾åˆ°æœ€ä¼˜è§£æˆ–æ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„è§£ã€‚</p><hr><h3 id="2-æšä¸¾çš„æ„ä¹‰"><a href="#2-æšä¸¾çš„æ„ä¹‰" class="headerlink" title="2. æšä¸¾çš„æ„ä¹‰"></a>2. æšä¸¾çš„æ„ä¹‰</h3><p>æšä¸¾åœ¨NOIPç«èµ›å’Œç®—æ³•é—®é¢˜ä¸­æœ‰å¾ˆå¤§æ„ä¹‰ï¼Œä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li><strong>ç›´è§‚</strong>ï¼šæšä¸¾æ–¹æ³•æ¯”è¾ƒç®€å•ç›´æ¥ï¼Œå°¤å…¶æ˜¯å¯¹äºå°è§„æ¨¡æ•°æ®çš„é—®é¢˜ã€‚</li><li><strong>è¦†ç›–å…¨é¢</strong>ï¼šé€šè¿‡ç©·ä¸¾ï¼Œæšä¸¾æ–¹æ³•ç¡®ä¿äº†ä¸ä¼šé—æ¼ä»»ä½•å¯èƒ½çš„è§£ã€‚</li><li><strong>é€‚åˆæš´åŠ›è§£æ³•</strong>ï¼šå¯¹äºè§„æ¨¡ä¸å¤§çš„é—®é¢˜ï¼Œæšä¸¾å¾€å¾€å¯ä»¥å¿«é€Ÿè§£å†³ï¼Œæœ‰æ—¶å€™èƒ½é¿å…å¤æ‚çš„ä¼˜åŒ–ç®—æ³•ã€‚</li><li><strong>å¤šç§ä¼˜åŒ–æ–¹å¼</strong>ï¼šæšä¸¾å¯ä¸å‰ªæã€é€’å½’ã€åŠ¨æ€è§„åˆ’ç­‰æ–¹æ³•ç»“åˆï¼Œä¼˜åŒ–è®¡ç®—æ•ˆç‡ã€‚</li></ol><hr><h3 id="3-æšä¸¾çš„åº”ç”¨åœºæ™¯"><a href="#3-æšä¸¾çš„åº”ç”¨åœºæ™¯" class="headerlink" title="3. æšä¸¾çš„åº”ç”¨åœºæ™¯"></a>3. æšä¸¾çš„åº”ç”¨åœºæ™¯</h3><p>æšä¸¾é€‚ç”¨äºä»¥ä¸‹å‡ ç±»é—®é¢˜ï¼š</p><ol><li><strong>æœ‰é™ç©ºé—´çš„ç©·ä¸¾é—®é¢˜</strong>ï¼šå½“é—®é¢˜è§£ç©ºé—´æœ‰é™ï¼Œå¯ä»¥å°è¯•æ‰€æœ‰æƒ…å†µã€‚ä¾‹å¦‚ï¼Œåˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºå®Œç¾æ•°ã€è®¡ç®—æŸèŒƒå›´å†…çš„è´¨æ•°ç­‰ã€‚</li><li><strong>ç»„åˆå’Œæ’åˆ—é—®é¢˜</strong>ï¼šå¯¹æŸäº›é—®é¢˜çš„æ‰€æœ‰ç»„åˆæˆ–æ’åˆ—è¿›è¡Œæšä¸¾ï¼Œæ‰¾å‡ºç¬¦åˆæ¡ä»¶çš„è§£ã€‚</li><li><strong>æœç´¢é—®é¢˜</strong>ï¼šåœ¨æ·±åº¦ä¼˜å…ˆæœç´¢æˆ–å¹¿åº¦ä¼˜å…ˆæœç´¢ä¸­ï¼Œæšä¸¾æ‰€æœ‰å¯èƒ½è·¯å¾„ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¦åˆè¦æ±‚çš„è·¯å¾„æˆ–æœ€ä¼˜è·¯å¾„ã€‚</li><li><strong>æ¨¡æ‹Ÿé—®é¢˜</strong>ï¼šåœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡æ¨¡æ‹Ÿæ‰€æœ‰å¯èƒ½çš„æ­¥éª¤æˆ–çŠ¶æ€ã€‚</li></ol><hr><h3 id="4-C-ä¸­å¸¸ç”¨çš„æšä¸¾æ–¹æ³•"><a href="#4-C-ä¸­å¸¸ç”¨çš„æšä¸¾æ–¹æ³•" class="headerlink" title="4. C++ä¸­å¸¸ç”¨çš„æšä¸¾æ–¹æ³•"></a>4. C++ä¸­å¸¸ç”¨çš„æšä¸¾æ–¹æ³•</h3><p>æ¥ä¸‹æ¥ä»‹ç»å‡ ç§å¸¸è§çš„æšä¸¾æ–¹å¼ï¼Œå¹¶ç»“åˆç¤ºä¾‹åŠ ä»¥è¯´æ˜ï¼š</p><h4 id="4-1-åŒºé—´æšä¸¾"><a href="#4-1-åŒºé—´æšä¸¾" class="headerlink" title="4.1 åŒºé—´æšä¸¾"></a>4.1 åŒºé—´æšä¸¾</h4><p>åŒºé—´æšä¸¾å³å¯¹ä¸€ä¸ªåŒºé—´å†…çš„æ‰€æœ‰æ•°å€¼è¿›è¡Œæšä¸¾ã€‚åœ¨C++ä¸­å¯ä»¥é€šè¿‡forå¾ªç¯æ¥å®ç°ã€‚</p><p><strong>ä¾‹å­1ï¼šæšä¸¾1åˆ°100å†…çš„æ‰€æœ‰å¶æ•°</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£ç­”</strong>ï¼šè¿™ä¸ªç¨‹åºéå†1åˆ°100çš„æ‰€æœ‰æ•´æ•°ï¼Œå¹¶é€šè¿‡<code>i % 2 == 0</code>åˆ¤æ–­æ˜¯å¦ä¸ºå¶æ•°ï¼Œè‹¥æ˜¯åˆ™è¾“å‡ºã€‚é€šè¿‡åŒºé—´æšä¸¾ï¼Œå¯ä»¥è½»æ¾å®ç°å¯¹åŒºé—´å†…çš„æ•°çš„ç­›é€‰ã€‚</p><h4 id="4-2-é€’å¢æšä¸¾"><a href="#4-2-é€’å¢æšä¸¾" class="headerlink" title="4.2 é€’å¢æšä¸¾"></a>4.2 é€’å¢æšä¸¾</h4><p>é€’å¢æšä¸¾æ˜¯ä¸€ç§ä¼˜åŒ–çš„åŒºé—´æšä¸¾æ–¹å¼ï¼Œé€šè¿‡è·³è¿‡ä¸å¿…è¦çš„æ•°å­—æ¥æé«˜æ•ˆç‡ã€‚å¯¹äºç‰¹å®šæ¡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è®©å˜é‡æŒ‰éœ€é€’å¢ã€‚ä¾‹å¦‚ï¼Œåœ¨æšä¸¾å¶æ•°æ—¶ï¼Œå¯ä»¥ç›´æ¥è®©å˜é‡æ¯æ¬¡åŠ 2ï¼Œé¿å…å¯¹å¥‡æ•°çš„æ— æ•ˆåˆ¤æ–­ã€‚</p><p><strong>ä¾‹å­2ï¼šæ”¹è¿›çš„1åˆ°100å†…çš„æ‰€æœ‰å¶æ•°æšä¸¾</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ç›´æ¥ä»2å¼€å§‹ï¼Œæ¯æ¬¡å¢åŠ 2</span>        cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£ç­”</strong>ï¼šåœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç›´æ¥ä»2å¼€å§‹ï¼Œå¹¶å°†å¾ªç¯å˜é‡æ¯æ¬¡åŠ 2ï¼Œä»è€Œå®ç°é€’å¢æšä¸¾ã€‚ç›¸æ¯”ä¾‹å­1ï¼Œè¿™ç§å†™æ³•æ›´é«˜æ•ˆï¼Œå‡å°‘äº†ä¸å¿…è¦çš„åˆ¤æ–­ã€‚</p><h4 id="4-3-äºŒé‡æšä¸¾ï¼ˆåµŒå¥—æšä¸¾ï¼‰"><a href="#4-3-äºŒé‡æšä¸¾ï¼ˆåµŒå¥—æšä¸¾ï¼‰" class="headerlink" title="4.3 äºŒé‡æšä¸¾ï¼ˆåµŒå¥—æšä¸¾ï¼‰"></a>4.3 äºŒé‡æšä¸¾ï¼ˆåµŒå¥—æšä¸¾ï¼‰</h4><p>äºŒé‡æšä¸¾é€‚åˆå¤„ç†ç»„åˆé—®é¢˜ï¼Œä¾‹å¦‚å¯»æ‰¾ä¸€ä¸ªé›†åˆä¸­æ‰€æœ‰æ•°å¯¹çš„ç»„åˆã€‚é€šè¿‡åµŒå¥—å¾ªç¯ï¼Œå¯ä»¥éå†æ‰€æœ‰å¯èƒ½çš„æ•°å¯¹ã€‚</p><p><strong>ä¾‹å­3ï¼šæšä¸¾æ•°ç»„ä¸­ä¸¤æ•°ä¹‹å’Œç­‰äºç›®æ ‡å€¼çš„æ‰€æœ‰æ•°å¯¹</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// ä»i+1å¼€å§‹ï¼Œé¿å…é‡å¤ç»„åˆ</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£ç­”</strong>ï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†äºŒé‡å¾ªç¯æ¥æšä¸¾æ‰€æœ‰æ•°å¯¹ <code>(arr[i], arr[j])</code>ï¼Œå¹¶æ£€æŸ¥å®ƒä»¬çš„å’Œæ˜¯å¦ç­‰äºç›®æ ‡å€¼<code>target</code>ã€‚æ³¨æ„ç¬¬äºŒå±‚å¾ªç¯çš„èµ·ç‚¹æ˜¯<code>i+1</code>ï¼Œè¿™æ ·å¯ä»¥é¿å…é‡å¤è®¡ç®—çš„ç»„åˆã€‚</p><h4 id="4-4-å¤šé‡æšä¸¾"><a href="#4-4-å¤šé‡æšä¸¾" class="headerlink" title="4.4 å¤šé‡æšä¸¾"></a>4.4 å¤šé‡æšä¸¾</h4><p>å¤šé‡æšä¸¾é€‚ç”¨äºæ›´å¤æ‚çš„ç»„åˆé—®é¢˜ï¼Œä¾‹å¦‚åˆ—å‡º3ä¸ªæˆ–æ›´å¤šä¸ªæ•°çš„ç»„åˆã€‚å¤šé‡æšä¸¾çš„å†™æ³•ä¸€èˆ¬æ˜¯å¤šå±‚åµŒå¥—å¾ªç¯ã€‚</p><p><strong>ä¾‹å­4ï¼šæšä¸¾æ•°ç»„ä¸­ä¸‰æ•°ä¹‹å’Œä¸ºç›®æ ‡å€¼çš„æ‰€æœ‰æ•°ç»„</strong></p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> target <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> arr<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"("</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")\n"</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£ç­”</strong>ï¼šé€šè¿‡ä¸‰å±‚å¾ªç¯ï¼Œæˆ‘ä»¬æšä¸¾äº†æ•°ç»„ä¸­æ‰€æœ‰å¯èƒ½çš„ä¸‰æ•°ç»„åˆï¼Œå¹¶æ£€æŸ¥å…¶å’Œæ˜¯å¦ç­‰äº<code>target</code>ã€‚è¿™ç§æ–¹æ³•å¯¹äºå…ƒç´ è¾ƒå°‘çš„æ•°ç»„è¾ƒä¸ºæœ‰æ•ˆï¼Œä½†åœ¨è§„æ¨¡è¾ƒå¤§æ—¶æ•ˆç‡è¾ƒä½ã€‚</p><hr><h3 id="5-ä¼˜åŒ–å’Œå‰ªæ"><a href="#5-ä¼˜åŒ–å’Œå‰ªæ" class="headerlink" title="5. ä¼˜åŒ–å’Œå‰ªæ"></a>5. ä¼˜åŒ–å’Œå‰ªæ</h3><p>åœ¨å®é™…é—®é¢˜ä¸­ï¼Œæšä¸¾å¯ä»¥ç»“åˆå‰ªææŠ€æœ¯æ¥å‡å°‘è®¡ç®—é‡ï¼Œæé«˜æ•ˆç‡ã€‚</p><p><strong>ä¾‹å­5ï¼šå¸¦å‰ªæçš„åŒºé—´æšä¸¾</strong></p><p>å‡è®¾æˆ‘ä»¬æƒ³åœ¨1åˆ°100ä¹‹é—´æ‰¾å‡ºæ‰€æœ‰èƒ½è¢«7æ•´é™¤çš„æ•°ï¼Œä½†åªéœ€è¦å‰10ä¸ªç»“æœï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">7</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> i <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>            count<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>  <span class="token comment">// æ‰¾åˆ°10ä¸ªåç«‹å³ç»“æŸ</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£ç­”</strong>ï¼šåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>if (count == 10) break;</code>è¿›è¡Œå‰ªæï¼Œå½“æ‰¾åˆ°å‰10ä¸ªæ•°æ—¶ï¼Œç¨‹åºå°±ä¼šæå‰é€€å‡ºï¼Œä¸å†ç»§ç»­å¾ªç¯ã€‚è¿™æ ·å¯ä»¥å‡å°‘ä¸å¿…è¦çš„è®¡ç®—ã€‚</p><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>åœ¨C++ä¸­ï¼Œæšä¸¾æ˜¯è§£å†³æœ‰é™ç©ºé—´æœç´¢é—®é¢˜çš„æœ‰æ•ˆæ–¹æ³•ï¼Œå°¤å…¶æ˜¯åœ¨æ•°æ®è§„æ¨¡è¾ƒå°æ—¶ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡æšä¸¾æ³•æ‰¾åˆ°ç­”æ¡ˆã€‚å¸¸è§çš„æšä¸¾æ–¹æ³•åŒ…æ‹¬åŒºé—´æšä¸¾ã€é€’å¢æšä¸¾ã€äºŒé‡æšä¸¾å’Œå¤šé‡æšä¸¾ç­‰ã€‚åœ¨å®é™…ç¼–ç¨‹æ—¶ï¼Œå¸¸å¸¸ç»“åˆå‰ªæä¼˜åŒ–ï¼Œä»¥æé«˜æšä¸¾æ•ˆç‡ã€‚</p><p>ç†Ÿç»ƒæŒæ¡æšä¸¾æ³•å¹¶åŠ ä»¥åˆç†ä¼˜åŒ–ï¼Œæ˜¯å‚åŠ NOIPç«èµ›åŠè§£å†³ç®—æ³•é—®é¢˜çš„é‡è¦æŠ€èƒ½ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• æšä¸¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­å¦‚ä½•ç†è§£æ•°ç†é€»è¾‘</title>
      <link href="/C-%E4%B8%AD%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91.html"/>
      <url>/C-%E4%B8%AD%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E6%95%B0%E7%90%86%E9%80%BB%E8%BE%91.html</url>
      
        <content type="html"><![CDATA[<p>åœ¨NOIPï¼ˆå…¨å›½é’å°‘å¹´ä¿¡æ¯å­¦å¥¥æ—åŒ¹å…‹è”èµ›ï¼‰ä¸­ï¼Œæ•°ç†é€»è¾‘æ˜¯ä¸€ä¸ªé‡è¦çš„çŸ¥è¯†ç‚¹ï¼Œå®ƒæ¶‰åŠåˆ°å‘½é¢˜é€»è¾‘çš„åŸºæœ¬æ¦‚å¿µå’Œæ“ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…³é”®çš„æ•°ç†é€»è¾‘çŸ¥è¯†ç‚¹ï¼Œä»¥åŠå®ƒä»¬åœ¨C++ç¼–ç¨‹ä¸­çš„åº”ç”¨ç¤ºä¾‹ã€‚</p><span id="more"></span><h3 id="1-å‘½é¢˜ä¸è”ç»“è¯"><a href="#1-å‘½é¢˜ä¸è”ç»“è¯" class="headerlink" title="1. å‘½é¢˜ä¸è”ç»“è¯"></a>1. å‘½é¢˜ä¸è”ç»“è¯</h3><ul><li><strong>åŸå­å‘½é¢˜</strong>ï¼šæœ€ç®€å•çš„å‘½é¢˜ï¼Œå¦‚<code>p</code>, <code>q</code>, <code>r</code>ï¼Œå®ƒä»¬å¯ä»¥æ˜¯çœŸï¼ˆTrueï¼‰æˆ–å‡ï¼ˆFalseï¼‰ã€‚</li><li><strong>è”ç»“è¯</strong>ï¼šç”¨äºè¿æ¥åŸå­å‘½é¢˜å½¢æˆæ›´å¤æ‚çš„å‘½é¢˜å…¬å¼ã€‚å¸¸è§çš„è”ç»“è¯åŒ…æ‹¬ï¼š<ul><li><strong>å¦å®šï¼ˆNOTï¼‰</strong>ï¼š<code>Â¬p</code>è¡¨ç¤ºé<code>p</code>ã€‚</li><li><strong>åˆå–ï¼ˆANDï¼‰</strong>ï¼š<code>p âˆ§ q</code>è¡¨ç¤º<code>p</code>å’Œ<code>q</code>éƒ½ä¸ºçœŸæ—¶ç»“æœæ‰ä¸ºçœŸã€‚</li><li><strong>æå–ï¼ˆORï¼‰</strong>ï¼š<code>p âˆ¨ q</code>è¡¨ç¤º<code>p</code>å’Œ<code>q</code>ä¸­è‡³å°‘ä¸€ä¸ªä¸ºçœŸæ—¶ç»“æœä¸ºçœŸã€‚</li><li><strong>è•´æ¶µï¼ˆIMPLIESï¼‰</strong>ï¼š<code>p â†’ q</code>è¡¨ç¤ºå¦‚æœ<code>p</code>ä¸ºçœŸï¼Œåˆ™<code>q</code>ä¹Ÿå¿…é¡»ä¸ºçœŸã€‚</li><li><strong>ç­‰ä»·ï¼ˆIFFï¼‰</strong>ï¼š<code>p â†” q</code>è¡¨ç¤º<code>p</code>å’Œ<code>q</code>åŒçœŸæˆ–åŒå‡ã€‚</li></ul></li></ul><h3 id="2-å‘½é¢˜å…¬å¼"><a href="#2-å‘½é¢˜å…¬å¼" class="headerlink" title="2. å‘½é¢˜å…¬å¼"></a>2. å‘½é¢˜å…¬å¼</h3><p>å‘½é¢˜å…¬å¼æ˜¯ç”±åŸå­å‘½é¢˜å’Œè”ç»“è¯æ„æˆçš„é€»è¾‘è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œ<code>(p âˆ§ q) âˆ¨ Â¬r</code>æ˜¯ä¸€ä¸ªå‘½é¢˜å…¬å¼ã€‚</p><h3 id="3-è”ç»“è¯ä¼˜å…ˆçº§"><a href="#3-è”ç»“è¯ä¼˜å…ˆçº§" class="headerlink" title="3. è”ç»“è¯ä¼˜å…ˆçº§"></a>3. è”ç»“è¯ä¼˜å…ˆçº§</h3><p>åœ¨é€»è¾‘è¡¨è¾¾å¼ä¸­ï¼Œè”ç»“è¯çš„ä¼˜å…ˆçº§é€šå¸¸å¦‚ä¸‹ï¼š</p><ul><li>å¦å®šï¼ˆNOTï¼‰æœ€é«˜ä¼˜å…ˆçº§ã€‚</li><li>åˆå–ï¼ˆANDï¼‰å’Œæå–ï¼ˆORï¼‰æ¬¡ä¹‹ï¼Œä¸”å®ƒä»¬çš„ä¼˜å…ˆçº§ç›¸åŒã€‚</li><li>è•´æ¶µï¼ˆIMPLIESï¼‰å’Œç­‰ä»·ï¼ˆIFFï¼‰ä¼˜å…ˆçº§æœ€ä½ã€‚</li></ul><h3 id="4-çœŸå€¼è¡¨"><a href="#4-çœŸå€¼è¡¨" class="headerlink" title="4. çœŸå€¼è¡¨"></a>4. çœŸå€¼è¡¨</h3><p>çœŸå€¼è¡¨æ˜¯åˆ¤æ–­å‘½é¢˜å…¬å¼åœ¨æ‰€æœ‰å¯èƒ½çš„åŸå­å‘½é¢˜çœŸå€¼ç»„åˆä¸‹çš„ç»“æœçš„å·¥å…·ã€‚ä¾‹å¦‚ï¼Œ<code>p âˆ§ q</code>çš„çœŸå€¼è¡¨å¦‚ä¸‹ï¼š</p><table><thead><tr><th>p</th><th>q</th><th>p âˆ§ q</th></tr></thead><tbody><tr><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>T</td><td>F</td></tr><tr><td>F</td><td>F</td><td>F</td></tr></tbody></table><h3 id="5-å¯æ»¡è¶³æ€§ã€çŸ›ç›¾æ€§å’Œé‡è¨€å¼"><a href="#5-å¯æ»¡è¶³æ€§ã€çŸ›ç›¾æ€§å’Œé‡è¨€å¼" class="headerlink" title="5. å¯æ»¡è¶³æ€§ã€çŸ›ç›¾æ€§å’Œé‡è¨€å¼"></a>5. å¯æ»¡è¶³æ€§ã€çŸ›ç›¾æ€§å’Œé‡è¨€å¼</h3><ul><li><strong>å¯æ»¡è¶³å¼</strong>ï¼šè‡³å°‘å­˜åœ¨ä¸€ç§åŸå­å‘½é¢˜çš„çœŸå€¼ç»„åˆä½¿å¾—å‘½é¢˜å…¬å¼ä¸ºçœŸçš„å…¬å¼ã€‚</li><li><strong>çŸ›ç›¾å¼</strong>ï¼šæ— è®ºåŸå­å‘½é¢˜çš„çœŸå€¼å¦‚ä½•ï¼Œå‘½é¢˜å…¬å¼æ€»æ˜¯å‡ã€‚</li><li><strong>é‡è¨€å¼</strong>ï¼šæ— è®ºåŸå­å‘½é¢˜çš„çœŸå€¼å¦‚ä½•ï¼Œå‘½é¢˜å…¬å¼æ€»æ˜¯çœŸã€‚</li></ul><h3 id="ç¤ºä¾‹ä¸è§£ç­”"><a href="#ç¤ºä¾‹ä¸è§£ç­”" class="headerlink" title="ç¤ºä¾‹ä¸è§£ç­”"></a>ç¤ºä¾‹ä¸è§£ç­”</h3><p>è€ƒè™‘ä¸€ä¸ªç®€å•çš„C++ç¨‹åºï¼Œç”¨äºè®¡ç®—å‘½é¢˜å…¬å¼<code>(p âˆ§ q) âˆ¨ Â¬r</code>çš„çœŸå€¼ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">bool</span> p<span class="token punctuation">,</span> q<span class="token punctuation">,</span> r<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Enter values for p, q, r (true/false): "</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> p <span class="token operator">&gt;&gt;</span> q <span class="token operator">&gt;&gt;</span> r<span class="token punctuation">;</span>    <span class="token keyword">bool</span> result <span class="token operator">=</span> <span class="token punctuation">(</span>p <span class="token operator">&amp;&amp;</span> q<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>r<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Result of (p âˆ§ q) âˆ¨ Â¬r: "</span> <span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span>result <span class="token operator">?</span> <span class="token string">"true"</span> <span class="token operator">:</span> <span class="token string">"false"</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç¨‹åºä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè¾“å…¥åŸå­å‘½é¢˜<code>p</code>, <code>q</code>, <code>r</code>çš„çœŸå€¼ï¼Œç„¶åè®¡ç®—å…¬å¼<code>(p âˆ§ q) âˆ¨ Â¬r</code>çš„çœŸå€¼å¹¶è¾“å‡ºç»“æœã€‚è¿™ä¸ªä¾‹å­å±•ç¤ºäº†å¦‚ä½•åœ¨C++ä¸­å¤„ç†åŸºæœ¬çš„é€»è¾‘è¿ç®—ã€‚</p><p>åœ¨CSPç«èµ›ä¸­ï¼Œæœ‰å…³æ•°ç†é€»è¾‘çš„é¢˜ç›®é€šå¸¸æ¶‰åŠåˆ°é€»è¾‘è¡¨è¾¾å¼çš„æ±‚å€¼ã€é€»è¾‘è¿ç®—ç¬¦çš„ä½¿ç”¨ã€é€»è¾‘æ¨ç†ç­‰ã€‚ä¸‹é¢æˆ‘å°†ç»™å‡ºä¸€ä¸ªå…·ä½“çš„çœŸé¢˜ä¾‹å­ï¼Œå¹¶æä¾›è¯¦ç»†çš„è§£é¢˜ç­”æ¡ˆã€‚</p><h3 id="çœŸé¢˜ä¾‹å­ï¼š-CSP-J2020-è¡¨è¾¾å¼"><a href="#çœŸé¢˜ä¾‹å­ï¼š-CSP-J2020-è¡¨è¾¾å¼" class="headerlink" title="çœŸé¢˜ä¾‹å­ï¼š[CSP-J2020] è¡¨è¾¾å¼"></a>çœŸé¢˜ä¾‹å­ï¼š[CSP-J2020] è¡¨è¾¾å¼</h3><h4 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h4><p>å°Cçƒ­è¡·äºå­¦ä¹ æ•°ç†é€»è¾‘ã€‚æœ‰ä¸€å¤©ï¼Œä»–å‘ç°äº†ä¸€ç§ç‰¹åˆ«çš„é€»è¾‘è¡¨è¾¾å¼ã€‚åœ¨è¿™ç§é€»è¾‘è¡¨è¾¾å¼ä¸­ï¼Œæ‰€æœ‰æ“ä½œæ•°éƒ½æ˜¯å˜é‡ï¼Œä¸”å®ƒä»¬çš„å–å€¼åªèƒ½ä¸º0æˆ–1ï¼Œè¿ç®—ä»å·¦å¾€å³è¿›è¡Œã€‚å¦‚æœè¡¨è¾¾å¼ä¸­æœ‰æ‹¬å·ï¼Œåˆ™å…ˆè®¡ç®—æ‹¬å·å†…çš„å­è¡¨è¾¾å¼çš„å€¼ã€‚ç‰¹åˆ«çš„ï¼Œè¿™ç§è¡¨è¾¾å¼æœ‰ä¸”ä»…æœ‰ä»¥ä¸‹å‡ ç§è¿ç®—ï¼š</p><ol><li>ä¸è¿ç®—ï¼š<code>a &amp; b</code>ã€‚å½“ä¸”ä»…å½“aå’Œbçš„å€¼éƒ½ä¸º1æ—¶ï¼Œè¯¥è¡¨è¾¾å¼çš„å€¼ä¸º1ã€‚å…¶ä½™æƒ…å†µè¯¥è¡¨è¾¾å¼çš„å€¼ä¸º0ã€‚</li><li>æˆ–è¿ç®—ï¼š<code>a | b</code>ã€‚å½“ä¸”ä»…å½“aå’Œbçš„å€¼éƒ½ä¸º0æ—¶ï¼Œè¯¥è¡¨è¾¾å¼çš„å€¼ä¸º0ã€‚å…¶ä½™æƒ…å†µè¯¥è¡¨è¾¾å¼çš„å€¼ä¸º1ã€‚</li><li>å–åè¿ç®—ï¼š<code>!a</code>ã€‚å½“ä¸”ä»…å½“açš„å€¼ä¸º0æ—¶ï¼Œè¯¥è¡¨è¾¾å¼çš„å€¼ä¸º1ã€‚å…¶ä½™æƒ…å†µè¯¥è¡¨è¾¾å¼çš„å€¼ä¸º0ã€‚</li></ol><p>å°Cæƒ³çŸ¥é“ï¼Œç»™å®šä¸€ä¸ªé€»è¾‘è¡¨è¾¾å¼å’Œå…¶ä¸­æ¯ä¸€ä¸ªæ“ä½œæ•°çš„åˆå§‹å–å€¼åï¼Œå†å–åæŸä¸€ä¸ªæ“ä½œæ•°çš„å€¼æ—¶ï¼ŒåŸè¡¨è¾¾å¼çš„å€¼ä¸ºå¤šå°‘ã€‚</p><p>è¡¨è¾¾å¼å°†é‡‡ç”¨åç¼€è¡¨è¾¾å¼çš„æ–¹å¼è¾“å…¥ã€‚</p><h4 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h4><ul><li>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªå­—ç¬¦ä¸²sï¼Œè¡¨ç¤ºä¸Šæ–‡æè¿°çš„è¡¨è¾¾å¼ã€‚</li><li>ç¬¬äºŒè¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°nï¼Œè¡¨ç¤ºè¡¨è¾¾å¼ä¸­å˜é‡çš„æ•°é‡ã€‚</li><li>ç¬¬ä¸‰è¡ŒåŒ…å«nä¸ªæ•´æ•°ï¼Œç¬¬iä¸ªæ•´æ•°è¡¨ç¤ºå˜é‡xiçš„åˆå€¼ã€‚</li><li>ç¬¬å››è¡ŒåŒ…å«ä¸€ä¸ªæ­£æ•´æ•°qï¼Œè¡¨ç¤ºè¯¢é—®çš„ä¸ªæ•°ã€‚</li><li>æ¥ä¸‹æ¥qè¡Œï¼Œæ¯è¡Œä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºéœ€è¦å–åçš„å˜é‡çš„ä¸‹æ ‡ã€‚</li></ul><h4 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h4><p>è¾“å‡ºä¸€å…±æœ‰qè¡Œï¼Œæ¯è¡Œä¸€ä¸ª0æˆ–1ï¼Œè¡¨ç¤ºè¯¥è¯¢é—®ä¸‹è¡¨è¾¾å¼çš„å€¼ã€‚</p><h4 id="æ ·ä¾‹è¾“å…¥"><a href="#æ ·ä¾‹è¾“å…¥" class="headerlink" title="æ ·ä¾‹è¾“å…¥"></a>æ ·ä¾‹è¾“å…¥</h4><pre class="line-numbers language-none"><code class="language-none">x1 x2 &amp; x3 |31 0 13123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ ·ä¾‹è¾“å‡º"><a href="#æ ·ä¾‹è¾“å‡º" class="headerlink" title="æ ·ä¾‹è¾“å‡º"></a>æ ·ä¾‹è¾“å‡º</h4><pre class="line-numbers language-none"><code class="language-none">110<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h4><ol><li><strong>è§£æè¾“å…¥</strong>ï¼šé¦–å…ˆï¼Œéœ€è¦è§£æè¾“å…¥çš„é€»è¾‘è¡¨è¾¾å¼ï¼ŒåŒ…æ‹¬å˜é‡çš„åˆå§‹å€¼å’Œéœ€è¦å–åçš„å˜é‡ä¸‹æ ‡ã€‚</li><li><strong>æ„å»ºåç¼€è¡¨è¾¾å¼</strong>ï¼šå°†è¾“å…¥çš„ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œä»¥ç®€åŒ–è®¡ç®—è¿‡ç¨‹ã€‚</li><li><strong>è®¡ç®—è¡¨è¾¾å¼</strong>ï¼šä½¿ç”¨æ ˆæ¥è®¡ç®—åç¼€è¡¨è¾¾å¼ã€‚å¯¹äºæ¯ä¸ªæ“ä½œæ•°ï¼Œç›´æ¥æ¨å…¥æ ˆä¸­ï¼›å¯¹äºæ¯ä¸ªè¿ç®—ç¬¦ï¼Œä»æ ˆä¸­å¼¹å‡ºå¿…è¦çš„æ“ä½œæ•°ï¼Œæ‰§è¡Œè¿ç®—ï¼Œå¹¶å°†ç»“æœæ¨å›æ ˆä¸­ã€‚</li><li><strong>å¤„ç†å–åæ“ä½œ</strong>ï¼šå¯¹äºæ¯ä¸ªè¯¢é—®ï¼Œæ ¹æ®éœ€è¦å–åçš„å˜é‡ä¸‹æ ‡ï¼Œä¿®æ”¹å˜é‡çš„å€¼ï¼Œç„¶åé‡æ–°è®¡ç®—è¡¨è¾¾å¼ã€‚</li></ol><h4 id="è¯¦ç»†è§£ç­”"><a href="#è¯¦ç»†è§£ç­”" class="headerlink" title="è¯¦ç»†è§£ç­”"></a>è¯¦ç»†è§£ç­”</h4><p>ä»¥æ ·ä¾‹è¾“å…¥ä¸ºä¾‹ï¼Œæˆ‘ä»¬é¦–å…ˆå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼ï¼Œç„¶åä½¿ç”¨æ ˆè¿›è¡Œè®¡ç®—ã€‚</p><ol><li><strong>è½¬æ¢ä¸ºåç¼€è¡¨è¾¾å¼</strong>ï¼š<code>x1 x2 &amp; x3 |</code></li><li><strong>åˆå§‹å˜é‡å€¼</strong>ï¼š<code>x1 = 1, x2 = 0, x3 = 1</code></li><li><strong>è®¡ç®—è¡¨è¾¾å¼</strong>ï¼šæŒ‰ç…§åç¼€è¡¨è¾¾å¼çš„é¡ºåºï¼Œæˆ‘ä»¬é¦–å…ˆè®¡ç®—<code>x1 x2 &amp;</code>ï¼Œç»“æœä¸º0ï¼Œç„¶åè®¡ç®—<code>0 x3 |</code>ï¼Œç»“æœä¸º1ã€‚</li><li><strong>å¤„ç†è¯¢é—®</strong>ï¼š<ul><li>ç¬¬ä¸€ä¸ªè¯¢é—®è¦æ±‚å–å<code>x1</code>ï¼Œæ–°çš„å˜é‡å€¼ä¸º<code>x1 = 0, x2 = 0, x3 = 1</code>ï¼Œé‡æ–°è®¡ç®—è¡¨è¾¾å¼ï¼Œç»“æœä¸º1ã€‚</li><li>ç¬¬äºŒä¸ªè¯¢é—®è¦æ±‚å–å<code>x2</code>ï¼Œæ–°çš„å˜é‡å€¼ä¸º<code>x1 = 1, x2 = 1, x3 = 1</code>ï¼Œé‡æ–°è®¡ç®—è¡¨è¾¾å¼ï¼Œç»“æœä¸º1ã€‚</li><li>ç¬¬ä¸‰ä¸ªè¯¢é—®è¦æ±‚å–å<code>x3</code>ï¼Œæ–°çš„å˜é‡å€¼ä¸º<code>x1 = 1, x2 = 0, x3 = 0</code>ï¼Œé‡æ–°è®¡ç®—è¡¨è¾¾å¼ï¼Œç»“æœä¸º0ã€‚</li></ul></li></ol><p>å› æ­¤ï¼Œè¾“å‡ºç»“æœä¸ºï¼š<code>1 1 0</code>ã€‚</p><p>è¿™ä¸ªé¢˜ç›®è€ƒå¯Ÿäº†å¯¹é€»è¾‘è¡¨è¾¾å¼æ±‚å€¼çš„ç†è§£å’Œå®ç°ï¼Œä»¥åŠå¯¹åç¼€è¡¨è¾¾å¼çš„å¤„ç†èƒ½åŠ›ã€‚é€šè¿‡è¿™ä¸ªé¢˜ç›®ï¼Œå¯ä»¥åŠ æ·±å¯¹æ•°ç†é€»è¾‘å’Œæ ˆçš„åº”ç”¨çš„ç†è§£ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• æ•°ç†é€»è¾‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonä¸­çš„å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹</title>
      <link href="/python%E4%B8%AD%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%A4%9A%E8%BF%9B%E7%A8%8B.html"/>
      <url>/python%E4%B8%AD%E7%9A%84%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%A4%9A%E8%BF%9B%E7%A8%8B.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-Pythonä¸­çš„å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹"><a href="#1-Pythonä¸­çš„å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹" class="headerlink" title="1. Pythonä¸­çš„å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹"></a>1. Pythonä¸­çš„å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹</h3><p>Pythonæ”¯æŒ<strong>å¤šçº¿ç¨‹</strong>å’Œ<strong>å¤šè¿›ç¨‹</strong>ï¼Œç”¨ä»¥å¤„ç†å¹¶å‘ä»»åŠ¡ã€‚äº†è§£è¿™ä¸¤è€…çš„ä¼˜ç¼ºç‚¹ã€é€‚ç”¨åœºæ™¯ä»¥åŠå®ç°æ–¹å¼ï¼Œæœ‰åŠ©äºæ ¹æ®åº”ç”¨éœ€æ±‚é€‰æ‹©åˆé€‚çš„å¹¶å‘å¤„ç†æ–¹å¼ã€‚</p><span id="more"></span><h4 id="1-1-å¤šçº¿ç¨‹ï¼ˆThreadingï¼‰"><a href="#1-1-å¤šçº¿ç¨‹ï¼ˆThreadingï¼‰" class="headerlink" title="1.1 å¤šçº¿ç¨‹ï¼ˆThreadingï¼‰"></a>1.1 å¤šçº¿ç¨‹ï¼ˆThreadingï¼‰</h4><p><strong>çº¿ç¨‹</strong>æ˜¯æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè°ƒåº¦çš„æœ€å°æ‰§è¡Œå•å…ƒã€‚å¤šä¸ªçº¿ç¨‹å¯ä»¥åœ¨ä¸€ä¸ªè¿›ç¨‹å†…åŒæ—¶è¿è¡Œï¼Œå½¼æ­¤å…±äº«åŒä¸€ç‰‡å†…å­˜ç©ºé—´ã€‚Pythonæä¾›äº†<code>threading</code>æ¨¡å—æ¥å®ç°å¤šçº¿ç¨‹ã€‚</p><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><ul><li>å¤šçº¿ç¨‹é€‚åˆI/Oå¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚æ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ç­‰ï¼‰ï¼Œå› ä¸ºåœ¨I/Oæ“ä½œè¿‡ç¨‹ä¸­ï¼ŒCPUé€šå¸¸ä¼šç©ºé—²ï¼Œçº¿ç¨‹å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ—¶é—´æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚</li></ul><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>çº¿ç¨‹å…±äº«å†…å­˜ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å…±äº«æ•°æ®ã€‚</li><li>å¯¹I/Oå¯†é›†å‹ä»»åŠ¡æ€§èƒ½æå‡æ˜æ˜¾ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>ç”±äºPythonçš„<strong>å…¨å±€è§£é‡Šå™¨é”ï¼ˆGlobal Interpreter Lock, GILï¼‰</strong>ï¼Œå¤šçº¿ç¨‹æ— æ³•çœŸæ­£å¹¶è¡Œæ‰§è¡ŒCPUå¯†é›†å‹ä»»åŠ¡ã€‚Pythonä¸­å¤šä¸ªçº¿ç¨‹ä¼šè¢«é™åˆ¶åœ¨å•ä¸ªCPUæ ¸å¿ƒä¸Šï¼Œä¸èƒ½æœ‰æ•ˆåˆ©ç”¨å¤šæ ¸CPUã€‚</li><li>çº¿ç¨‹ä¹‹é—´çš„åŒæ­¥å’Œæ•°æ®ä¸€è‡´æ€§ç®¡ç†æ¯”è¾ƒå¤æ‚ï¼Œå¯èƒ½ä¼šå¼•å‘ç«æ€æ¡ä»¶ï¼ˆRace Conditionï¼‰ç­‰é—®é¢˜ã€‚</li></ul><h4 id="1-2-å¤šè¿›ç¨‹ï¼ˆMultiprocessingï¼‰"><a href="#1-2-å¤šè¿›ç¨‹ï¼ˆMultiprocessingï¼‰" class="headerlink" title="1.2 å¤šè¿›ç¨‹ï¼ˆMultiprocessingï¼‰"></a>1.2 å¤šè¿›ç¨‹ï¼ˆMultiprocessingï¼‰</h4><p><strong>è¿›ç¨‹</strong>æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½ã€‚å¤šä¸ªè¿›ç¨‹æ‹¥æœ‰å„è‡ªçš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹ä¹‹é—´çš„æ•°æ®æ˜¯éš”ç¦»çš„ï¼Œåªæœ‰é€šè¿‡è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æ‰èƒ½å…±äº«æ•°æ®ã€‚Pythonæä¾›äº†<code>multiprocessing</code>æ¨¡å—æ¥å®ç°å¤šè¿›ç¨‹ã€‚</p><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><ul><li>å¤šè¿›ç¨‹é€‚åˆCPUå¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚æ•°å­¦è®¡ç®—ã€å¤§æ•°æ®å¤„ç†ç­‰ï¼‰ï¼Œå› ä¸ºæ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„Pythonè§£é‡Šå™¨å’Œå†…å­˜ç©ºé—´ï¼Œé¿å…äº†GILçš„é™åˆ¶ï¼Œèƒ½å¤Ÿåˆ©ç”¨å¤šæ ¸CPUã€‚</li></ul><p><strong>ä¼˜ç‚¹ï¼š</strong></p><ul><li>å¤šè¿›ç¨‹èƒ½å¤Ÿç»•è¿‡GILé™åˆ¶ï¼ŒçœŸæ­£å®ç°å¹¶è¡Œï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸CPUã€‚</li><li>è¿›ç¨‹ä¹‹é—´çš„å†…å­˜ç‹¬ç«‹æ€§é¿å…äº†çº¿ç¨‹ä¸­çš„æ•°æ®ç«äº‰é—®é¢˜ã€‚</li></ul><p><strong>ç¼ºç‚¹ï¼š</strong></p><ul><li>è¿›ç¨‹é—´çš„é€šä¿¡æ¯”è¾ƒå¤æ‚ï¼Œæ•ˆç‡ä¹Ÿä½äºçº¿ç¨‹ã€‚</li><li>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œå†…å­˜å¼€é”€è¾ƒå¤§ã€‚</li></ul><hr><h3 id="2-è¯¦ç»†ä»£ç ç¤ºä¾‹"><a href="#2-è¯¦ç»†ä»£ç ç¤ºä¾‹" class="headerlink" title="2. è¯¦ç»†ä»£ç ç¤ºä¾‹"></a>2. è¯¦ç»†ä»£ç ç¤ºä¾‹</h3><h4 id="2-1-å¤šçº¿ç¨‹ç¤ºä¾‹"><a href="#2-1-å¤šçº¿ç¨‹ç¤ºä¾‹" class="headerlink" title="2.1 å¤šçº¿ç¨‹ç¤ºä¾‹"></a>2.1 å¤šçº¿ç¨‹ç¤ºä¾‹</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨<code>threading</code>æ¨¡å—å®ç°å¤šçº¿ç¨‹çš„ç¤ºä¾‹ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªI/Oå¯†é›†å‹ä»»åŠ¡ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> threading<span class="token keyword">import</span> time<span class="token comment"># æ¨¡æ‹ŸI/Oå¯†é›†å‹ä»»åŠ¡</span><span class="token keyword">def</span> <span class="token function">io_task</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Thread </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: å¼€å§‹ä»»åŠ¡"</span></span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># æ¨¡æ‹ŸI/Oæ“ä½œï¼Œå¦‚æ–‡ä»¶è¯»å†™æˆ–ç½‘ç»œè¯·æ±‚</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Thread </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: ä»»åŠ¡å®Œæˆ"</span></span><span class="token punctuation">)</span><span class="token comment"># åˆ›å»ºå¤šä¸ªçº¿ç¨‹</span>threads <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    thread <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>io_task<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    threads<span class="token punctuation">.</span>append<span class="token punctuation">(</span>thread<span class="token punctuation">)</span>    thread<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># ç­‰å¾…æ‰€æœ‰çº¿ç¨‹å®Œæˆ</span><span class="token keyword">for</span> thread <span class="token keyword">in</span> threads<span class="token punctuation">:</span>    thread<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ‰€æœ‰çº¿ç¨‹ä»»åŠ¡å®Œæˆ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Šï¼š</strong></p><ul><li><code>threading.Thread</code>ç”¨äºåˆ›å»ºæ–°çº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œ<code>io_task</code>å‡½æ•°ã€‚</li><li><code>thread.start()</code>å¯åŠ¨çº¿ç¨‹ï¼Œ<code>thread.join()</code>ç­‰å¾…çº¿ç¨‹å®Œæˆã€‚</li><li><code>time.sleep(2)</code>æ¨¡æ‹ŸI/Oæ“ä½œï¼Œæ‰€æœ‰çº¿ç¨‹èƒ½å¤Ÿå¹¶å‘æ‰§è¡Œï¼Œè€Œä¸ä¼šé˜»å¡å…¶ä»–çº¿ç¨‹ã€‚</li></ul><h4 id="2-2-å¤šè¿›ç¨‹ç¤ºä¾‹"><a href="#2-2-å¤šè¿›ç¨‹ç¤ºä¾‹" class="headerlink" title="2.2 å¤šè¿›ç¨‹ç¤ºä¾‹"></a>2.2 å¤šè¿›ç¨‹ç¤ºä¾‹</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨<code>multiprocessing</code>æ¨¡å—å®ç°å¤šè¿›ç¨‹çš„ç¤ºä¾‹ï¼Œæ¨¡æ‹Ÿä¸€ä¸ªCPUå¯†é›†å‹ä»»åŠ¡ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> multiprocessing<span class="token keyword">import</span> time<span class="token comment"># æ¨¡æ‹ŸCPUå¯†é›†å‹ä»»åŠ¡</span><span class="token keyword">def</span> <span class="token function">cpu_task</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Process </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: å¼€å§‹ä»»åŠ¡"</span></span><span class="token punctuation">)</span>    result <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">:</span>  <span class="token comment"># æ¨¡æ‹Ÿå¤§é‡è®¡ç®—</span>        result <span class="token operator">+=</span> i    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Process </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: ä»»åŠ¡å®Œæˆ"</span></span><span class="token punctuation">)</span><span class="token comment"># åˆ›å»ºå¤šä¸ªè¿›ç¨‹</span>processes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    process <span class="token operator">=</span> multiprocessing<span class="token punctuation">.</span>Process<span class="token punctuation">(</span>target<span class="token operator">=</span>cpu_task<span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    processes<span class="token punctuation">.</span>append<span class="token punctuation">(</span>process<span class="token punctuation">)</span>    process<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># ç­‰å¾…æ‰€æœ‰è¿›ç¨‹å®Œæˆ</span><span class="token keyword">for</span> process <span class="token keyword">in</span> processes<span class="token punctuation">:</span>    process<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ‰€æœ‰è¿›ç¨‹ä»»åŠ¡å®Œæˆ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Šï¼š</strong></p><ul><li><code>multiprocessing.Process</code>ç”¨äºåˆ›å»ºæ–°è¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹æ‰§è¡Œ<code>cpu_task</code>å‡½æ•°ã€‚</li><li><code>process.start()</code>å¯åŠ¨è¿›ç¨‹ï¼Œ<code>process.join()</code>ç­‰å¾…è¿›ç¨‹å®Œæˆã€‚</li><li>ä»»åŠ¡æ˜¯CPUå¯†é›†å‹çš„ï¼Œå› æ­¤æ¯ä¸ªè¿›ç¨‹èƒ½å……åˆ†åˆ©ç”¨å¤šæ ¸CPUå¹¶è¡Œè®¡ç®—ã€‚</li></ul><hr><h3 id="3-å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”"><a href="#3-å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”" class="headerlink" title="3. å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”"></a>3. å¤šçº¿ç¨‹ä¸å¤šè¿›ç¨‹çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”</h3><table><thead><tr><th>ç‰¹æ€§</th><th>å¤šçº¿ç¨‹</th><th>å¤šè¿›ç¨‹</th></tr></thead><tbody><tr><td>å†…å­˜å…±äº«</td><td>å…±äº«åŒä¸€å†…å­˜ç©ºé—´</td><td>è¿›ç¨‹ç‹¬ç«‹ï¼Œä¸èƒ½ç›´æ¥å…±äº«å†…å­˜</td></tr><tr><td>å¼€é”€</td><td>çº¿ç¨‹è½»é‡ï¼Œå†…å­˜å¼€é”€å°</td><td>è¿›ç¨‹é‡é‡ï¼Œå†…å­˜å¼€é”€å¤§</td></tr><tr><td>é€‚ç”¨åœºæ™¯</td><td>I/Oå¯†é›†å‹ä»»åŠ¡ï¼Œå¦‚æ–‡ä»¶I/Oï¼Œç½‘ç»œè¯·æ±‚</td><td>CPUå¯†é›†å‹ä»»åŠ¡ï¼Œå¦‚æ•°æ®å¤„ç†ï¼Œå¤§é‡è®¡ç®—</td></tr><tr><td>GILå½±å“</td><td>å—é™äºGILï¼Œå¤šçº¿ç¨‹æ— æ³•çœŸæ­£å¹¶è¡Œ</td><td>ä¸å—GILå½±å“ï¼Œå¤šè¿›ç¨‹å¯ä»¥çœŸæ­£å¹¶è¡Œ</td></tr><tr><td>æ•°æ®åŒæ­¥</td><td>éœ€è¦æ‰‹åŠ¨ç®¡ç†é”ç­‰åŒæ­¥æœºåˆ¶</td><td>è¿›ç¨‹ä¹‹é—´æ•°æ®ç‹¬ç«‹ï¼Œå‡å°‘åŒæ­¥é—®é¢˜</td></tr><tr><td>é€šä¿¡å¤æ‚åº¦</td><td>çº¿ç¨‹é—´å…±äº«æ•°æ®ï¼Œé€šä¿¡ç®€å•</td><td>è¿›ç¨‹é—´é€šä¿¡éœ€è¦IPCï¼Œå¤æ‚åº¦è¾ƒé«˜</td></tr></tbody></table><hr><h3 id="4-è¿›ç¨‹ä¸çº¿ç¨‹çš„é«˜çº§ç‰¹æ€§"><a href="#4-è¿›ç¨‹ä¸çº¿ç¨‹çš„é«˜çº§ç‰¹æ€§" class="headerlink" title="4. è¿›ç¨‹ä¸çº¿ç¨‹çš„é«˜çº§ç‰¹æ€§"></a>4. è¿›ç¨‹ä¸çº¿ç¨‹çš„é«˜çº§ç‰¹æ€§</h3><h4 id="4-1-çº¿ç¨‹æ± ä¸è¿›ç¨‹æ± "><a href="#4-1-çº¿ç¨‹æ± ä¸è¿›ç¨‹æ± " class="headerlink" title="4.1 çº¿ç¨‹æ± ä¸è¿›ç¨‹æ± "></a>4.1 çº¿ç¨‹æ± ä¸è¿›ç¨‹æ± </h4><p>å½“ä»»åŠ¡æ•°é‡è¾ƒå¤šæ—¶ï¼Œæ‰‹åŠ¨åˆ›å»ºå’Œç®¡ç†çº¿ç¨‹/è¿›ç¨‹å¯èƒ½ä¼šæ¯”è¾ƒå¤æ‚ã€‚Pythonæä¾›äº†<strong>çº¿ç¨‹æ± ï¼ˆThreadPoolï¼‰</strong>å’Œ<strong>è¿›ç¨‹æ± ï¼ˆProcessPoolï¼‰</strong>ï¼Œé€šè¿‡<code>concurrent.futures</code>æ¨¡å—ç®€åŒ–çº¿ç¨‹å’Œè¿›ç¨‹çš„ç®¡ç†ã€‚</p><p><strong>çº¿ç¨‹æ± ç¤ºä¾‹ï¼š</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> concurrent<span class="token punctuation">.</span>futures <span class="token keyword">import</span> ThreadPoolExecutor<span class="token keyword">import</span> time<span class="token keyword">def</span> <span class="token function">io_task</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Thread </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: å¼€å§‹ä»»åŠ¡"</span></span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Thread </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: ä»»åŠ¡å®Œæˆ"</span></span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨çº¿ç¨‹æ± </span><span class="token keyword">with</span> ThreadPoolExecutor<span class="token punctuation">(</span>max_workers<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">as</span> executor<span class="token punctuation">:</span>    futures <span class="token operator">=</span> <span class="token punctuation">[</span>executor<span class="token punctuation">.</span>submit<span class="token punctuation">(</span>io_task<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment"># futureså¯ä»¥ç”¨æ¥æ£€æŸ¥ä»»åŠ¡çš„å®ŒæˆçŠ¶æ€ç­‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¿›ç¨‹æ± ç¤ºä¾‹ï¼š</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> concurrent<span class="token punctuation">.</span>futures <span class="token keyword">import</span> ProcessPoolExecutor<span class="token keyword">def</span> <span class="token function">cpu_task</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Process </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: å¼€å§‹ä»»åŠ¡"</span></span><span class="token punctuation">)</span>    result <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">**</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        result <span class="token operator">+=</span> i    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f"Process </span><span class="token interpolation"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token string">: ä»»åŠ¡å®Œæˆ"</span></span><span class="token punctuation">)</span><span class="token comment"># ä½¿ç”¨è¿›ç¨‹æ± </span><span class="token keyword">with</span> ProcessPoolExecutor<span class="token punctuation">(</span>max_workers<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">as</span> executor<span class="token punctuation">:</span>    futures <span class="token operator">=</span> <span class="token punctuation">[</span>executor<span class="token punctuation">.</span>submit<span class="token punctuation">(</span>cpu_task<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è§£é‡Šï¼š</strong></p><ul><li><code>ThreadPoolExecutor</code>å’Œ<code>ProcessPoolExecutor</code>è‡ªåŠ¨ç®¡ç†çº¿ç¨‹æˆ–è¿›ç¨‹çš„åˆ›å»ºå’Œé”€æ¯ï¼Œç®€åŒ–å¹¶å‘ç¨‹åºçš„ç¼–å†™ã€‚</li><li><code>executor.submit()</code>å°†ä»»åŠ¡æäº¤åˆ°çº¿ç¨‹æ± æˆ–è¿›ç¨‹æ± ä¸­ï¼Œå¼‚æ­¥æ‰§è¡Œä»»åŠ¡ã€‚</li></ul><hr><h3 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h3><h4 id="å¤šçº¿ç¨‹é€‚ç”¨åœºæ™¯ï¼š"><a href="#å¤šçº¿ç¨‹é€‚ç”¨åœºæ™¯ï¼š" class="headerlink" title="å¤šçº¿ç¨‹é€‚ç”¨åœºæ™¯ï¼š"></a>å¤šçº¿ç¨‹é€‚ç”¨åœºæ™¯ï¼š</h4><ul><li>I/Oå¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚æ–‡ä»¶è¯»å†™ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼‰ã€‚</li><li>ä¸éœ€è¦å¤§é‡CPUè®¡ç®—çš„ä»»åŠ¡ã€‚</li></ul><h4 id="å¤šè¿›ç¨‹é€‚ç”¨åœºæ™¯ï¼š"><a href="#å¤šè¿›ç¨‹é€‚ç”¨åœºæ™¯ï¼š" class="headerlink" title="å¤šè¿›ç¨‹é€‚ç”¨åœºæ™¯ï¼š"></a>å¤šè¿›ç¨‹é€‚ç”¨åœºæ™¯ï¼š</h4><ul><li>CPUå¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚å¤§æ•°æ®å¤„ç†ã€å¤æ‚çš„æ•°å­¦è®¡ç®—ç­‰ï¼‰ã€‚</li><li>éœ€è¦å……åˆ†åˆ©ç”¨å¤šæ ¸CPUæ—¶ã€‚</li></ul><h4 id="é€‰æ‹©æŒ‡å—ï¼š"><a href="#é€‰æ‹©æŒ‡å—ï¼š" class="headerlink" title="é€‰æ‹©æŒ‡å—ï¼š"></a>é€‰æ‹©æŒ‡å—ï¼š</h4><ul><li>å¦‚æœç¨‹åºéœ€è¦å¤„ç†å¤§é‡I/Oæ“ä½œè€ŒCPUä¸ç¹å¿™ï¼Œä½¿ç”¨<strong>å¤šçº¿ç¨‹</strong>ã€‚</li><li>å¦‚æœä»»åŠ¡æ˜¯å¤§é‡çš„è®¡ç®—ä¸”éœ€è¦å¹¶è¡Œå¤„ç†ï¼Œå»ºè®®ä½¿ç”¨<strong>å¤šè¿›ç¨‹</strong>ã€‚</li></ul><p>é€šè¿‡å…·ä½“åº”ç”¨åœºæ™¯çš„éœ€æ±‚ï¼Œé€‰æ‹©å¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹æ‰èƒ½åœ¨æ€§èƒ½å’Œèµ„æºä½¿ç”¨ä¸Šå–å¾—æœ€ä½³çš„å¹³è¡¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤šçº¿ç¨‹ å¤šè¿›ç¨‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ä¸­çš„æ’åˆ—çš„æ¦‚å¿µ</title>
      <link href="/c-%E4%B8%AD%E7%9A%84%E6%8E%92%E5%88%97%E7%9A%84%E6%A6%82%E5%BF%B5.html"/>
      <url>/c-%E4%B8%AD%E7%9A%84%E6%8E%92%E5%88%97%E7%9A%84%E6%A6%82%E5%BF%B5.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-ä»€ä¹ˆæ˜¯æ’åˆ—ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯æ’åˆ—ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯æ’åˆ—ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯æ’åˆ—ï¼Ÿ</h2><p>åœ¨æ•°å­¦ä¸­ï¼Œ<strong>æ’åˆ—</strong>æŒ‡çš„æ˜¯ä»ä¸€ç»„ä¸åŒçš„å…ƒç´ ä¸­é€‰å‡ºä¸€éƒ¨åˆ†ï¼Œå¹¶æŒ‰ç…§ä¸€å®šçš„é¡ºåºè¿›è¡Œæ’åˆ—ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ æœ‰ä¸‰ä¸ªå­—æ¯ ( {A, B, C} )ï¼Œé‚£ä¹ˆå®ƒä»¬çš„æ’åˆ—å°±æ˜¯ï¼š</p><ul><li>ABC, ACB, BAC, BCA, CAB, CBA</li></ul><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¯ä¸ªæ’åˆ—éƒ½åŒ…æ‹¬äº†æ‰€æœ‰çš„å…ƒç´ ï¼Œå¹¶ä¸”å®ƒä»¬çš„é¡ºåºä¸åŒã€‚</p><span id="more"></span><p>å¦‚æœæˆ‘ä»¬ä¸è€ƒè™‘é¡ºåºï¼Œåˆ™ç§°ä¸º<strong>ç»„åˆ</strong>ã€‚ä½†æœ¬æ¬¡æˆ‘ä»¬è®¨è®ºçš„æ˜¯<strong>æ’åˆ—</strong>ã€‚</p><h2 id="2-æ’åˆ—çš„æ•°å­¦å®šä¹‰"><a href="#2-æ’åˆ—çš„æ•°å­¦å®šä¹‰" class="headerlink" title="2. æ’åˆ—çš„æ•°å­¦å®šä¹‰"></a>2. æ’åˆ—çš„æ•°å­¦å®šä¹‰</h2><p>å¦‚æœä½ æœ‰ n ä¸ªå…ƒç´ ï¼Œå¹¶ä¸”æƒ³è¦ä»ä¸­é€‰æ‹© rä¸ªæ¥è¿›è¡Œæ’åˆ—ï¼Œé‚£ä¹ˆæ’åˆ—æ•°å…¬å¼ä¸ºï¼š</p><img src="/c-%E4%B8%AD%E7%9A%84%E6%8E%92%E5%88%97%E7%9A%84%E6%A6%82%E5%BF%B5/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å…¶ä¸­ n! è¡¨ç¤º n çš„é˜¶ä¹˜ï¼Œå³ï¼š</p><img src="/c-%E4%B8%AD%E7%9A%84%E6%8E%92%E5%88%97%E7%9A%84%E6%A6%82%E5%BF%B5/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="3-C-å®ç°æ’åˆ—çš„åŸºæœ¬æ€è·¯"><a href="#3-C-å®ç°æ’åˆ—çš„åŸºæœ¬æ€è·¯" class="headerlink" title="3. C++ å®ç°æ’åˆ—çš„åŸºæœ¬æ€è·¯"></a>3. C++ å®ç°æ’åˆ—çš„åŸºæœ¬æ€è·¯</h2><p>åœ¨ C++ ä¸­ï¼Œè¦ç”Ÿæˆä¸€ä¸ªé›†åˆçš„æ‰€æœ‰æ’åˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’çš„æ€æƒ³ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„å­˜å‚¨äº† ( n ) ä¸ªå…ƒç´ ï¼Œæƒ³è¦ç”Ÿæˆå®ƒä»¬çš„æ‰€æœ‰æ’åˆ—ã€‚æ–¹æ³•å¦‚ä¸‹ï¼š</p><ol><li>å°†ç¬¬ä¸€ä¸ªå…ƒç´ å›ºå®šï¼Œé€’å½’æ’åˆ—å‰©ä½™çš„å…ƒç´ ã€‚</li><li>ä¾æ¬¡äº¤æ¢å…¶ä»–å…ƒç´ åˆ°ç¬¬ä¸€ä¸ªä½ç½®ï¼Œç„¶åé€’å½’å¤„ç†å‰©ä¸‹çš„å…ƒç´ ã€‚</li><li>å½“å¤„ç†åˆ°æœ€åä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„æ’åˆ—ã€‚</li></ol><h3 id="ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰æ’åˆ—"><a href="#ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰æ’åˆ—" class="headerlink" title="ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰æ’åˆ—"></a>ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰æ’åˆ—</h3><h3 id="ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰æ’åˆ—"><a href="#ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰æ’åˆ—" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰æ’åˆ—"></a>ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰æ’åˆ—</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// äº¤æ¢ä¸¤ä¸ªæ•°</span><span class="token keyword">void</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token keyword">int</span> <span class="token operator">&amp;</span>b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span>    a <span class="token operator">=</span> b<span class="token punctuation">;</span>    b <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// ç”Ÿæˆæ’åˆ—çš„é€’å½’å‡½æ•°</span><span class="token keyword">void</span> <span class="token function">generatePermutations</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">==</span> end<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token comment">// å¦‚æœåˆ°è¾¾äº†æœ€åä¸€ä¸ªä½ç½®ï¼Œæ‰“å°å½“å‰æ’åˆ—</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token comment">// éå†å½“å‰å­æ•°ç»„ï¼Œä¾æ¬¡å›ºå®šä¸€ä¸ªå…ƒç´ ï¼Œé€’å½’å¤„ç†å‰©ä½™éƒ¨åˆ†</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// å°†ç¬¬ i ä¸ªå…ƒç´ æ”¾åˆ°å½“å‰èµ·å§‹ä½ç½®</span>            <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// é€’å½’ç”Ÿæˆåé¢çš„æ’åˆ—</span>            <span class="token function">generatePermutations</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> start <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// é€’å½’å®Œæˆåï¼Œå›æº¯ï¼šå°†æ•°ç»„æ¢å¤åŸçŠ¶</span>            <span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>start<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// åˆå§‹æ•°ç»„</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ‰€æœ‰æ’åˆ—ä¸ºï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">generatePermutations</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è°ƒç”¨é€’å½’å‡½æ•°</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š"><a href="#è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š" class="headerlink" title="è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š"></a>è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š</h3><ol><li><strong>swap å‡½æ•°</strong>ï¼šç”¨äºäº¤æ¢æ•°ç»„ä¸­ä¸¤ä¸ªå…ƒç´ çš„ä½ç½®ã€‚è¿™æ˜¯æ’åˆ—ç”Ÿæˆè¿‡ç¨‹ä¸­éå¸¸é‡è¦çš„æ“ä½œï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦é€šè¿‡äº¤æ¢æ¥è°ƒæ•´æ•°ç»„ä¸­å…ƒç´ çš„é¡ºåºã€‚</li><li><strong>generatePermutations å‡½æ•°</strong>ï¼šè¿™æ˜¯é€’å½’ç”Ÿæˆæ’åˆ—çš„æ ¸å¿ƒå‡½æ•°ã€‚å®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š<ul><li><code>arr[]</code>ï¼šå­˜å‚¨è¦æ’åˆ—çš„å…ƒç´ çš„æ•°ç»„ã€‚</li><li><code>start</code>ï¼šè¡¨ç¤ºå½“å‰å¤„ç†çš„èµ·å§‹ä½ç½®ã€‚</li><li><code>end</code>ï¼šè¡¨ç¤ºæ•°ç»„çš„æœ«å°¾ä½ç½®ã€‚<br>åœ¨æ¯æ¬¡é€’å½’è°ƒç”¨ä¸­ï¼Œå®ƒä¼šå›ºå®šå½“å‰çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åé€’å½’ç”Ÿæˆå‰©ä½™å…ƒç´ çš„æ’åˆ—ã€‚</li></ul></li><li><strong>å›æº¯</strong>ï¼šåœ¨é€’å½’çš„è¿‡ç¨‹ä¸­ï¼Œå…ƒç´ çš„ä½ç½®ä¼šä¸æ–­è¢«äº¤æ¢ã€‚å½“é€’å½’è¿”å›æ—¶ï¼Œé€šè¿‡å†æ¬¡äº¤æ¢å°†æ•°ç»„æ¢å¤åˆ°åŸæ¥çš„çŠ¶æ€ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºâ€œå›æº¯â€ã€‚</li></ol><h3 id="è¾“å‡ºç»“æœï¼š"><a href="#è¾“å‡ºç»“æœï¼š" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><pre class="line-numbers language-none"><code class="language-none">æ‰€æœ‰æ’åˆ—ä¸ºï¼š1 2 3 1 3 2 2 1 3 2 3 1 3 2 1 3 1 2 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-CSP-J-å†å¹´å…³äºæ’åˆ—çš„é¢˜ç›®"><a href="#4-CSP-J-å†å¹´å…³äºæ’åˆ—çš„é¢˜ç›®" class="headerlink" title="4. CSP-J å†å¹´å…³äºæ’åˆ—çš„é¢˜ç›®"></a>4. CSP-J å†å¹´å…³äºæ’åˆ—çš„é¢˜ç›®</h2><p>ä¸­å›½è®¡ç®—æœºå­¦ä¼šä¸¾åŠçš„ CSP-J æ¯”èµ›ä¸­ï¼Œç»å¸¸ä¼šæ¶‰åŠåˆ°æ’åˆ—ç›¸å…³çš„ç¼–ç¨‹é¢˜ç›®ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›å…¸å‹çš„é¢˜ç›®ï¼š</p><h3 id="é¢˜ç›®1ï¼šå…¨æ’åˆ—ç”Ÿæˆ"><a href="#é¢˜ç›®1ï¼šå…¨æ’åˆ—ç”Ÿæˆ" class="headerlink" title="é¢˜ç›®1ï¼šå…¨æ’åˆ—ç”Ÿæˆ"></a>é¢˜ç›®1ï¼šå…¨æ’åˆ—ç”Ÿæˆ</h3><h4 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º ( n ) çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­åŒ…å« ( 1 ) åˆ° ( n ) çš„æ•´æ•°ï¼Œè¦æ±‚è¾“å‡ºå®ƒä»¬çš„æ‰€æœ‰æ’åˆ—ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>ä½¿ç”¨é€’å½’å’Œå›æº¯çš„æ€è·¯æ¥ç”Ÿæˆæ‰€æœ‰æ’åˆ—ï¼Œç±»ä¼¼äºä¸Šé¢çš„ç¤ºä¾‹ä»£ç ã€‚</li></ul><h3 id="é¢˜ç›®2ï¼šå­—å…¸åºæ’åˆ—"><a href="#é¢˜ç›®2ï¼šå­—å…¸åºæ’åˆ—" class="headerlink" title="é¢˜ç›®2ï¼šå­—å…¸åºæ’åˆ—"></a>é¢˜ç›®2ï¼šå­—å…¸åºæ’åˆ—</h3><h4 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œè¦æ±‚æŒ‰ç…§å­—å…¸åºè¾“å‡ºæ‰€æœ‰å¯èƒ½çš„æ’åˆ—ã€‚å­—å…¸åºçš„æ’åˆ—é¡ºåºä¸å­—å…¸ä¸­å•è¯çš„æ’åˆ—æ–¹å¼ç›¸ä¼¼ï¼Œå³æŒ‰ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡Œæ’åˆ—ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š-1"><a href="#è§£é¢˜æ€è·¯ï¼š-1" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>é¦–å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œä¿è¯åˆå§‹æ’åˆ—æ˜¯æœ€å°å­—å…¸åºçš„æ’åˆ—ã€‚</li><li>ç„¶ååœ¨æ¯æ¬¡ç”Ÿæˆä¸‹ä¸€ä¸ªæ’åˆ—æ—¶ï¼Œéœ€è¦æŒ‰ç…§å­—å…¸åºè§„åˆ™è°ƒæ•´å…ƒç´ çš„ä½ç½®ã€‚è¿™å¯ä»¥é€šè¿‡æ‰‹åŠ¨å®ç°â€œä¸‹ä¸€ä¸ªæ’åˆ—â€ç®—æ³•æ¥å®Œæˆã€‚</li></ul><h3 id="é¢˜ç›®3ï¼šæ’åˆ—çš„é€†åºæ•°"><a href="#é¢˜ç›®3ï¼šæ’åˆ—çš„é€†åºæ•°" class="headerlink" title="é¢˜ç›®3ï¼šæ’åˆ—çš„é€†åºæ•°"></a>é¢˜ç›®3ï¼šæ’åˆ—çš„é€†åºæ•°</h3><h4 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®šä¸€ä¸ªæ’åˆ—ï¼Œè®¡ç®—å…¶<strong>é€†åºæ•°</strong>ã€‚é€†åºæ•°æ˜¯æŒ‡æ’åˆ—ä¸­å‡ºç°å‰é¢çš„æ•°å¤§äºåé¢çš„æ•°çš„æƒ…å†µçš„ä¸ªæ•°ã€‚ä¾‹å¦‚ï¼šæ’åˆ— [3, 1, 2] ä¸­ï¼Œé€†åºæ•°æ˜¯ 2 ï¼ˆå› ä¸º 3 &gt; 1, 3 &gt; 2ï¼‰ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š-2"><a href="#è§£é¢˜æ€è·¯ï¼š-2" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>ä½¿ç”¨åŒé‡å¾ªç¯éå†æ’åˆ—ï¼Œç»Ÿè®¡é€†åºæ•°ã€‚å¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œè®¡ç®—å®ƒåé¢æœ‰å¤šå°‘ä¸ªæ¯”å®ƒå°çš„æ•°ã€‚</li></ul><h3 id="é¢˜ç›®4ï¼šæ’åˆ—è®¡æ•°"><a href="#é¢˜ç›®4ï¼šæ’åˆ—è®¡æ•°" class="headerlink" title="é¢˜ç›®4ï¼šæ’åˆ—è®¡æ•°"></a>é¢˜ç›®4ï¼šæ’åˆ—è®¡æ•°</h3><h4 id="é¢˜ç›®æè¿°ï¼š-3"><a href="#é¢˜ç›®æè¿°ï¼š-3" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®š ( n ) ä¸ªæ•°ï¼Œé—®å¯ä»¥å½¢æˆå¤šå°‘ç§ä¸åŒçš„æ’åˆ—æ–¹å¼ï¼Œå…¶ä¸­éƒ¨åˆ†æ•°å¯èƒ½æ˜¯é‡å¤çš„ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š-3"><a href="#è§£é¢˜æ€è·¯ï¼š-3" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰é‡å¤å…ƒç´ çš„æ’åˆ—é—®é¢˜ã€‚å¯ä»¥é€šè¿‡é€’å½’çš„æ–¹å¼è·³è¿‡é‡å¤çš„æ•°æ¥é¿å…ç”Ÿæˆç›¸åŒçš„æ’åˆ—ã€‚</li></ul><h2 id="5-å…¶ä»–æ‹“å±•çŸ¥è¯†"><a href="#5-å…¶ä»–æ‹“å±•çŸ¥è¯†" class="headerlink" title="5. å…¶ä»–æ‹“å±•çŸ¥è¯†"></a>5. å…¶ä»–æ‹“å±•çŸ¥è¯†</h2><h3 id="é˜¶ä¹˜çš„é€’å½’è®¡ç®—"><a href="#é˜¶ä¹˜çš„é€’å½’è®¡ç®—" class="headerlink" title="é˜¶ä¹˜çš„é€’å½’è®¡ç®—"></a>é˜¶ä¹˜çš„é€’å½’è®¡ç®—</h3><p>é˜¶ä¹˜ ( n! ) æ˜¯æ’åˆ—é—®é¢˜ä¸­çš„ä¸€ä¸ªåŸºæœ¬æ•°å­¦è¿ç®—ï¼ŒC++ ä¸­å¯ä»¥ä½¿ç”¨é€’å½’æ–¹å¼è®¡ç®—é˜¶ä¹˜ã€‚</p><h3 id="ç¤ºä¾‹ä»£ç ï¼šé˜¶ä¹˜çš„é€’å½’è®¡ç®—"><a href="#ç¤ºä¾‹ä»£ç ï¼šé˜¶ä¹˜çš„é€’å½’è®¡ç®—" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼šé˜¶ä¹˜çš„é€’å½’è®¡ç®—"></a>ç¤ºä¾‹ä»£ç ï¼šé˜¶ä¹˜çš„é€’å½’è®¡ç®—</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¾“å…¥ä¸€ä¸ªæ•°ï¼š"</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">"! = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºç»“æœï¼š-1"><a href="#è¾“å‡ºç»“æœï¼š-1" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><pre class="line-numbers language-none"><code class="language-none">è¾“å…¥ä¸€ä¸ªæ•°ï¼š55! = 120<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="6-å°ç»“"><a href="#6-å°ç»“" class="headerlink" title="6. å°ç»“"></a>6. å°ç»“</h2><ul><li><strong>æ’åˆ—</strong>æ˜¯ä¸€ç§åŸºç¡€çš„æ•°å­¦é—®é¢˜ï¼Œè¦æ±‚ä»ä¸€ç»„å…ƒç´ ä¸­æŒ‰ç…§ä¸€å®šé¡ºåºé€‰æ‹©å’Œæ’åˆ—ã€‚</li><li><strong>é€’å½’ä¸å›æº¯</strong>æ˜¯ç¼–ç¨‹ä¸­è§£å†³æ’åˆ—é—®é¢˜çš„é‡è¦æ–¹æ³•ã€‚</li><li>ä¸ä½¿ç”¨ C++ çš„æ ‡å‡†åº“ï¼ˆSTLï¼‰å®ç°æ’åˆ—å¯ä»¥å¸®åŠ©ç†è§£é€’å½’å’Œç®—æ³•çš„æœ¬è´¨ã€‚</li><li>é€šè¿‡ä¾‹é¢˜ç»ƒä¹ å¯ä»¥æ›´å¥½åœ°æŒæ¡æ’åˆ—çš„ç¼–ç¨‹å®ç°ã€‚</li></ul><p>åœ¨åç»­çš„å­¦ä¹ ä¸­ï¼Œå¯ä»¥ç»“åˆæ›´å¤šçš„é¢˜ç›®å’Œåœºæ™¯ï¼Œè¿›ä¸€æ­¥åŠ æ·±å¯¹æ’åˆ—é—®é¢˜çš„ç†è§£å’ŒæŒæ¡ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• æ’åˆ— </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>c++ä¸­çš„ç»„åˆçš„æ¦‚å¿µ</title>
      <link href="/c-%E4%B8%AD%E7%9A%84%E7%BB%84%E5%90%88%E7%9A%84%E6%A6%82%E5%BF%B5.html"/>
      <url>/c-%E4%B8%AD%E7%9A%84%E7%BB%84%E5%90%88%E7%9A%84%E6%A6%82%E5%BF%B5.html</url>
      
        <content type="html"><![CDATA[<h2 id="1-ä»€ä¹ˆæ˜¯ç»„åˆï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯ç»„åˆï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ç»„åˆï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ç»„åˆï¼Ÿ</h2><p>åœ¨æ•°å­¦ä¸­ï¼Œ<strong>ç»„åˆ</strong>æ˜¯ä»ä¸€ç»„å…ƒç´ ä¸­é€‰æ‹©å‡ºè‹¥å¹²ä¸ªå…ƒç´ ï¼Œä¸è€ƒè™‘å…ƒç´ çš„æ’åˆ—é¡ºåºã€‚ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä¸‰ä¸ªå­—æ¯ ( {A, B, C} )ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦ä»ä¸­é€‰æ‹©ä¸¤ä¸ªå­—æ¯ï¼Œç»„åˆçš„ç»“æœæœ‰ï¼š</p><ul><li>AB, AC, BC</li></ul><p>æ³¨æ„ï¼šç»„åˆä¸æ’åˆ—ä¸åŒï¼Œç»„åˆåªå…³å¿ƒé€‰æ‹©å“ªäº›å…ƒç´ ï¼Œä¸è€ƒè™‘è¿™äº›å…ƒç´ çš„é¡ºåºã€‚å› æ­¤ï¼Œç»„åˆä¸­çš„ AB å’Œ BA è¢«è®¤ä¸ºæ˜¯ç›¸åŒçš„ã€‚</p><span id="more"></span><h2 id="2-ç»„åˆçš„æ•°å­¦å®šä¹‰"><a href="#2-ç»„åˆçš„æ•°å­¦å®šä¹‰" class="headerlink" title="2. ç»„åˆçš„æ•°å­¦å®šä¹‰"></a>2. ç»„åˆçš„æ•°å­¦å®šä¹‰</h2><p>ç»„åˆçš„æ•°å­¦å…¬å¼è¡¨ç¤ºä¸ºï¼š</p><img src="/c-%E4%B8%AD%E7%9A%84%E7%BB%84%E5%90%88%E7%9A%84%E6%A6%82%E5%BF%B5/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å…¶ä¸­ï¼ŒC(n,r)è¡¨ç¤ºä» n ä¸ªå…ƒç´ ä¸­é€‰æ‹© r ä¸ªå…ƒç´ çš„ç»„åˆæ•°ã€‚</p><ul><li>n è¡¨ç¤ºæ€»å…±æœ‰å¤šå°‘ä¸ªå…ƒç´ ã€‚</li><li>r è¡¨ç¤ºä»ä¸­é€‰æ‹©å‡ ä¸ªå…ƒç´ ã€‚</li><li>n! è¡¨ç¤º n çš„é˜¶ä¹˜ï¼Œå³ n!=nÃ—(nâˆ’1)Ã—â‹¯Ã—1ã€‚</li></ul><h3 id="ç¤ºä¾‹ï¼š"><a href="#ç¤ºä¾‹ï¼š" class="headerlink" title="ç¤ºä¾‹ï¼š"></a>ç¤ºä¾‹ï¼š</h3><ul><li>ä» 5 ä¸ªå…ƒç´ ä¸­é€‰æ‹© 2 ä¸ªè¿›è¡Œç»„åˆï¼Œå…¬å¼ä¸ºï¼š</li></ul><img src="/c-%E4%B8%AD%E7%9A%84%E7%BB%84%E5%90%88%E7%9A%84%E6%A6%82%E5%BF%B5/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å³ 5 ä¸ªå…ƒç´ ä¸­é€‰æ‹© 2 ä¸ªï¼Œå…±æœ‰ 10 ç§ä¸åŒçš„ç»„åˆæ–¹å¼ã€‚</p><h2 id="3-C-å®ç°ç»„åˆçš„åŸºæœ¬æ€è·¯"><a href="#3-C-å®ç°ç»„åˆçš„åŸºæœ¬æ€è·¯" class="headerlink" title="3. C++ å®ç°ç»„åˆçš„åŸºæœ¬æ€è·¯"></a>3. C++ å®ç°ç»„åˆçš„åŸºæœ¬æ€è·¯</h2><p>åœ¨ C++ ä¸­ï¼Œç”Ÿæˆç»„åˆçš„åŸºæœ¬æ€è·¯æ˜¯ä½¿ç”¨é€’å½’ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼æ¥ç”Ÿæˆç»„åˆï¼š</p><ol><li><strong>é€’å½’é€‰æ‹©</strong>ï¼šå¯¹æ¯ä¸ªå…ƒç´ ï¼Œè€ƒè™‘é€‰å–å®ƒè¿˜æ˜¯ä¸é€‰å–å®ƒï¼Œç„¶åé€’å½’åœ°ç”Ÿæˆå‰©ä½™å…ƒç´ çš„ç»„åˆã€‚</li><li><strong>å¾ªç¯éå†</strong>ï¼šé€šè¿‡å›ºå®šç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åé€’å½’å¤„ç†å‰©ä½™å…ƒç´ ã€‚</li></ol><h3 id="ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰ç»„åˆ"><a href="#ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰ç»„åˆ" class="headerlink" title="ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰ç»„åˆ"></a>ç¤ºä¾‹ï¼šç”Ÿæˆä¸€ä¸ªæ•°ç»„çš„æ‰€æœ‰ç»„åˆ</h3><h3 id="ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰ç»„åˆ"><a href="#ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰ç»„åˆ" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰ç»„åˆ"></a>ç¤ºä¾‹ä»£ç ï¼šç”Ÿæˆæ‰€æœ‰ç»„åˆ</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ‰“å°å½“å‰ç»„åˆ</span><span class="token keyword">void</span> <span class="token function">printCombination</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> comb<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> r<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> comb<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>  <span class="token comment">// è¾“å‡ºå½“å‰ç»„åˆä¸­çš„å…ƒç´ </span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// é€’å½’ç”Ÿæˆç»„åˆçš„å‡½æ•°</span><span class="token keyword">void</span> <span class="token function">generateCombinations</span><span class="token punctuation">(</span><span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> comb<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// å½“ç»„åˆä¸­å·²ç»æœ‰äº† r ä¸ªå…ƒç´ ï¼Œæ‰“å°è¯¥ç»„åˆ</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">printCombination</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> comb<span class="token punctuation">,</span> n<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// ä»å½“å‰çš„ start ä½ç½®å¼€å§‹ï¼Œé€‰æ‹©å‰©ä½™çš„å…ƒç´ è¿›è¡Œç»„åˆ</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> n <span class="token operator">-</span> <span class="token punctuation">(</span>r <span class="token operator">-</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        comb<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// é€‰æ‹©å½“å‰å…ƒç´ </span>        <span class="token function">generateCombinations</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> comb<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é€’å½’é€‰æ‹©ä¸‹ä¸€ä¸ªå…ƒç´ </span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> arr<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token comment">// è¦ç»„åˆçš„æ•°ç»„</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token keyword">sizeof</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æ•°ç»„å…ƒç´ ä¸ªæ•°</span>    <span class="token keyword">int</span> r <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// æ¯æ¬¡é€‰æ‹© 3 ä¸ªå…ƒç´ è¿›è¡Œç»„åˆ</span>    <span class="token keyword">int</span> comb<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// å­˜å‚¨å½“å‰ç»„åˆçš„æ•°ç»„</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ‰€æœ‰ç»„åˆä¸ºï¼š"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token function">generateCombinations</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> comb<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// è°ƒç”¨ç”Ÿæˆç»„åˆçš„å‡½æ•°</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š"><a href="#è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š" class="headerlink" title="è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š"></a>è¯¦ç»†æ³¨é‡Šä¸ä»£ç è®²è§£ï¼š</h3><ol><li><strong>printCombination å‡½æ•°</strong>ï¼šå½“ç”Ÿæˆäº†ä¸€ä¸ªå®Œæ•´çš„ç»„åˆåï¼Œç”¨è¯¥å‡½æ•°æ‰“å°ç»„åˆç»“æœã€‚ç»„åˆå­˜å‚¨åœ¨ <code>comb[]</code> æ•°ç»„ä¸­ã€‚</li><li><strong>generateCombinations å‡½æ•°</strong>ï¼šè¿™æ˜¯é€’å½’ç”Ÿæˆç»„åˆçš„æ ¸å¿ƒå‡½æ•°ï¼Œå®ƒæœ‰ä»¥ä¸‹å‚æ•°ï¼š<ul><li><code>arr[]</code>ï¼šå­˜å‚¨è¦è¿›è¡Œç»„åˆçš„å…ƒç´ ã€‚</li><li><code>comb[]</code>ï¼šå­˜å‚¨å½“å‰é€‰æ‹©çš„ç»„åˆå…ƒç´ ã€‚</li><li><code>start</code>ï¼šè¡¨ç¤ºå½“å‰åœ¨ <code>arr[]</code> æ•°ç»„ä¸­é€‰æ‹©å…ƒç´ çš„ä½ç½®ã€‚</li><li><code>index</code>ï¼šå½“å‰åœ¨ <code>comb[]</code> ä¸­å·²ç»å¡«å……çš„å…ƒç´ ä½ç½®ã€‚</li><li><code>n</code>ï¼šæ•°ç»„ <code>arr[]</code> ä¸­çš„å…ƒç´ ä¸ªæ•°ã€‚</li><li><code>r</code>ï¼šéœ€è¦é€‰æ‹©çš„å…ƒç´ ä¸ªæ•°ã€‚<br>åœ¨æ¯æ¬¡é€’å½’ä¸­ï¼Œå®ƒä» <code>start</code> ä½ç½®å¼€å§‹é€‰æ‹©å…ƒç´ ï¼Œå¹¶åœ¨é€’å½’è¿‡ç¨‹ä¸­å°†é€‰æ‹©çš„å…ƒç´ å¡«å…¥ <code>comb[]</code> æ•°ç»„ä¸­ã€‚å½“ <code>comb[]</code> ä¸­å¡«æ»¡äº† ( r ) ä¸ªå…ƒç´ æ—¶ï¼Œæ‰“å°è¯¥ç»„åˆã€‚</li></ul></li></ol><h3 id="è¾“å‡ºç»“æœï¼š"><a href="#è¾“å‡ºç»“æœï¼š" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><pre class="line-numbers language-none"><code class="language-none">æ‰€æœ‰ç»„åˆä¸ºï¼š1 2 3 1 2 4 1 2 5 1 3 4 1 3 5 1 4 5 2 3 4 2 3 5 2 4 5 3 4 5 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="4-ç»„åˆçš„å¸¸è§ç®—æ³•ä¸åº”ç”¨"><a href="#4-ç»„åˆçš„å¸¸è§ç®—æ³•ä¸åº”ç”¨" class="headerlink" title="4. ç»„åˆçš„å¸¸è§ç®—æ³•ä¸åº”ç”¨"></a>4. ç»„åˆçš„å¸¸è§ç®—æ³•ä¸åº”ç”¨</h2><h3 id="4-1-äºŒé¡¹å¼ç³»æ•°"><a href="#4-1-äºŒé¡¹å¼ç³»æ•°" class="headerlink" title="4.1 äºŒé¡¹å¼ç³»æ•°"></a>4.1 äºŒé¡¹å¼ç³»æ•°</h3><p>ç»„åˆæ•° C(n, r) ä¹Ÿç§°ä¸ºäºŒé¡¹å¼ç³»æ•°ã€‚å¯ä»¥ä½¿ç”¨é€’å½’æˆ–åŠ¨æ€è§„åˆ’æ¥è®¡ç®—ç»„åˆæ•°ã€‚è®¡ç®—å…¬å¼ä¸ºï¼š</p><img src="/c-%E4%B8%AD%E7%9A%84%E7%BB%84%E5%90%88%E7%9A%84%E6%A6%82%E5%BF%B5/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“  r = 0  æˆ–  r = n æ—¶ï¼Œç»„åˆæ•°ä¸º 1ã€‚</p><h3 id="4-2-é€’å½’è®¡ç®—ç»„åˆæ•°"><a href="#4-2-é€’å½’è®¡ç®—ç»„åˆæ•°" class="headerlink" title="4.2 é€’å½’è®¡ç®—ç»„åˆæ•°"></a>4.2 é€’å½’è®¡ç®—ç»„åˆæ•°</h3><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç”¨é€’å½’å®ç°è®¡ç®— C(n, r) çš„ä»£ç ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// é€’å½’è®¡ç®—ç»„åˆæ•° C(n, r)</span><span class="token keyword">int</span> <span class="token function">combination</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span> <span class="token keyword">int</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>r <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> r <span class="token operator">==</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">// C(n, 0) = C(n, n) = 1</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token function">combination</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> r <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">combination</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">,</span> r<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¾“å…¥ n å’Œ rï¼š"</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> r<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"C("</span> <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">", "</span> <span class="token operator">&lt;&lt;</span> r <span class="token operator">&lt;&lt;</span> <span class="token string">") = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">combination</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> r<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºç»“æœï¼š-1"><a href="#è¾“å‡ºç»“æœï¼š-1" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><pre class="line-numbers language-none"><code class="language-none">è¾“å…¥ n å’Œ rï¼š5 3C(5, 3) = 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="4-3-ç»„åˆçš„å…¶ä»–åº”ç”¨åœºæ™¯"><a href="#4-3-ç»„åˆçš„å…¶ä»–åº”ç”¨åœºæ™¯" class="headerlink" title="4.3 ç»„åˆçš„å…¶ä»–åº”ç”¨åœºæ™¯"></a>4.3 ç»„åˆçš„å…¶ä»–åº”ç”¨åœºæ™¯</h3><p>ç»„åˆé—®é¢˜åœ¨ç°å®ç”Ÿæ´»ä¸­æœ‰å¹¿æ³›çš„åº”ç”¨åœºæ™¯ï¼Œä¾‹å¦‚ï¼š</p><ul><li><strong>å½©ç¥¨å·ç é€‰æ‹©</strong>ï¼šä»è‹¥å¹²ä¸ªå·ç ä¸­é€‰æ‹©ä¸€å®šæ•°é‡çš„å·ç è¿›è¡Œç»„åˆã€‚</li><li><strong>å›¢é˜Ÿé€‰æ‹”</strong>ï¼šä»å¤šäººä¸­é€‰æ‹©ç‰¹å®šæ•°é‡çš„æˆå‘˜ç»„æˆä¸€ä¸ªå›¢é˜Ÿã€‚</li></ul><h2 id="5-CSP-J-å†å¹´å…³äºç»„åˆçš„é¢˜ç›®"><a href="#5-CSP-J-å†å¹´å…³äºç»„åˆçš„é¢˜ç›®" class="headerlink" title="5. CSP-J å†å¹´å…³äºç»„åˆçš„é¢˜ç›®"></a>5. CSP-J å†å¹´å…³äºç»„åˆçš„é¢˜ç›®</h2><p>ä¸­å›½è®¡ç®—æœºå­¦ä¼šï¼ˆCSP-Jï¼‰æ¯”èµ›ä¸­ï¼Œç»„åˆé—®é¢˜ä¹Ÿç»å¸¸å‡ºç°ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…¸å‹çš„é¢˜ç›®ï¼š</p><h3 id="é¢˜ç›®1ï¼šç»„åˆç”Ÿæˆ"><a href="#é¢˜ç›®1ï¼šç»„åˆç”Ÿæˆ" class="headerlink" title="é¢˜ç›®1ï¼šç»„åˆç”Ÿæˆ"></a>é¢˜ç›®1ï¼šç»„åˆç”Ÿæˆ</h3><h4 id="é¢˜ç›®æè¿°ï¼š"><a href="#é¢˜ç›®æè¿°ï¼š" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º ( n ) çš„æ•°ç»„ï¼Œæ•°ç»„ä¸­åŒ…å« ( 1 ) åˆ° ( n ) çš„æ•´æ•°ï¼Œè¦æ±‚è¾“å‡ºæ‰€æœ‰é•¿åº¦ä¸º ( r ) çš„ç»„åˆã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š"><a href="#è§£é¢˜æ€è·¯ï¼š" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>ä½¿ç”¨é€’å½’æ–¹æ³•ç”Ÿæˆæ‰€æœ‰é•¿åº¦ä¸º ( r ) çš„ç»„åˆï¼Œç±»ä¼¼äºä¸Šé¢çš„ç¤ºä¾‹ä»£ç ã€‚</li></ul><h3 id="é¢˜ç›®2ï¼šç»„åˆæ•°è®¡ç®—"><a href="#é¢˜ç›®2ï¼šç»„åˆæ•°è®¡ç®—" class="headerlink" title="é¢˜ç›®2ï¼šç»„åˆæ•°è®¡ç®—"></a>é¢˜ç›®2ï¼šç»„åˆæ•°è®¡ç®—</h3><h4 id="é¢˜ç›®æè¿°ï¼š-1"><a href="#é¢˜ç›®æè¿°ï¼š-1" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>è¾“å…¥ä¸¤ä¸ªæ•´æ•° ( n ) å’Œ ( r )ï¼Œè®¡ç®—ç»„åˆæ•° ( C(n, r) )ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š-1"><a href="#è§£é¢˜æ€è·¯ï¼š-1" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>å¯ä»¥ä½¿ç”¨é€’å½’æ–¹æ³•æˆ–è€…åŠ¨æ€è§„åˆ’æ–¹æ³•æ¥è®¡ç®—ç»„åˆæ•°ã€‚</li></ul><h3 id="é¢˜ç›®3ï¼šç»„åˆçš„è®¡æ•°"><a href="#é¢˜ç›®3ï¼šç»„åˆçš„è®¡æ•°" class="headerlink" title="é¢˜ç›®3ï¼šç»„åˆçš„è®¡æ•°"></a>é¢˜ç›®3ï¼šç»„åˆçš„è®¡æ•°</h3><h4 id="é¢˜ç›®æè¿°ï¼š-2"><a href="#é¢˜ç›®æè¿°ï¼š-2" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ å¯èƒ½æœ‰é‡å¤ï¼Œè¦æ±‚è®¡ç®—å¯ä»¥ä»ä¸­é€‰å‡ºè‹¥å¹²ä¸ªä¸åŒå…ƒç´ çš„ç»„åˆæ•°ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š-2"><a href="#è§£é¢˜æ€è·¯ï¼š-2" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>éœ€è¦å…ˆå¯¹æ•°ç»„è¿›è¡Œå»é‡ï¼Œç„¶åè®¡ç®—ä¸é‡å¤å…ƒç´ çš„ç»„åˆã€‚</li></ul><h3 id="é¢˜ç›®4ï¼šç‰¹æ®Šæ¡ä»¶ç»„åˆ"><a href="#é¢˜ç›®4ï¼šç‰¹æ®Šæ¡ä»¶ç»„åˆ" class="headerlink" title="é¢˜ç›®4ï¼šç‰¹æ®Šæ¡ä»¶ç»„åˆ"></a>é¢˜ç›®4ï¼šç‰¹æ®Šæ¡ä»¶ç»„åˆ</h3><h4 id="é¢˜ç›®æè¿°ï¼š-3"><a href="#é¢˜ç›®æè¿°ï¼š-3" class="headerlink" title="é¢˜ç›®æè¿°ï¼š"></a>é¢˜ç›®æè¿°ï¼š</h4><p>ç»™å®šä¸€ç»„å…ƒç´ ï¼Œä»ä¸­é€‰å‡ºè‹¥å¹²ä¸ªå…ƒç´ ç»„æˆç»„åˆï¼Œè¦æ±‚ç»„åˆä¸­çš„å…ƒç´ ä¹‹å’Œæ»¡è¶³æŸç§ç‰¹å®šæ¡ä»¶ï¼ˆå¦‚å’Œä¸ºæŸä¸ªç»™å®šå€¼ï¼‰ã€‚</p><h4 id="è§£é¢˜æ€è·¯ï¼š-3"><a href="#è§£é¢˜æ€è·¯ï¼š-3" class="headerlink" title="è§£é¢˜æ€è·¯ï¼š"></a>è§£é¢˜æ€è·¯ï¼š</h4><ul><li>å¯ä»¥åœ¨ç”Ÿæˆç»„åˆçš„åŒæ—¶ï¼Œåˆ¤æ–­ç»„åˆå…ƒç´ çš„å’Œæ˜¯å¦æ»¡è¶³æ¡ä»¶ã€‚</li></ul><h2 id="6-å…¶ä»–æ‹“å±•çŸ¥è¯†"><a href="#6-å…¶ä»–æ‹“å±•çŸ¥è¯†" class="headerlink" title="6. å…¶ä»–æ‹“å±•çŸ¥è¯†"></a>6. å…¶ä»–æ‹“å±•çŸ¥è¯†</h2><h3 id="é˜¶ä¹˜çš„é€’å½’è®¡ç®—"><a href="#é˜¶ä¹˜çš„é€’å½’è®¡ç®—" class="headerlink" title="é˜¶ä¹˜çš„é€’å½’è®¡ç®—"></a>é˜¶ä¹˜çš„é€’å½’è®¡ç®—</h3><p>é˜¶ä¹˜ ( n! ) æ˜¯è®¡ç®—ç»„åˆæ•°ä¸­çš„åŸºç¡€è¿ç®—ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€’å½’æ–¹å¼è®¡ç®—é˜¶ä¹˜ã€‚</p><h3 id="ç¤ºä¾‹ä»£ç ï¼šé€’å½’è®¡ç®—é˜¶ä¹˜"><a href="#ç¤ºä¾‹ä»£ç ï¼šé€’å½’è®¡ç®—é˜¶ä¹˜" class="headerlink" title="ç¤ºä¾‹ä»£ç ï¼šé€’å½’è®¡ç®—é˜¶ä¹˜"></a>ç¤ºä¾‹ä»£ç ï¼šé€’å½’è®¡ç®—é˜¶ä¹˜</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// é€’å½’è®¡ç®— n çš„é˜¶ä¹˜</span><span class="token keyword">int</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">||</span> n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¾“å…¥ä¸€ä¸ªæ•°ï¼š"</span><span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> n <span class="token operator">&lt;&lt;</span> <span class="token string">"! = "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¾“å‡ºç»“æœï¼š-2"><a href="#è¾“å‡ºç»“æœï¼š-2" class="headerlink" title="è¾“å‡ºç»“æœï¼š"></a>è¾“å‡ºç»“æœï¼š</h3><pre class="line-numbers language-none"><code class="language-none">è¾“å…¥ä¸€ä¸ªæ•°ï¼š55! = 120<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="7-å°ç»“"><a href="#7-å°ç»“" class="headerlink" title="7. å°ç»“"></a>7. å°ç»“</h2><ul><li><strong>ç»„åˆ</strong>æ˜¯æ•°å­¦ä¸­ä»ä¸€</li></ul><p>ç»„å…ƒç´ ä¸­é€‰æ‹©è‹¥å¹²ä¸ªå…ƒç´ çš„æ–¹å¼ï¼Œä¸è€ƒè™‘é¡ºåºã€‚</p><ul><li>åœ¨ C++ ä¸­ç”Ÿæˆç»„åˆå¯ä»¥ä½¿ç”¨é€’å½’ä¸å›æº¯çš„ç®—æ³•ï¼Œé€šè¿‡é€’å½’éå†æ‰€æœ‰å¯èƒ½çš„ç»„åˆã€‚</li><li>ç»„åˆé—®é¢˜æ˜¯ç¼–ç¨‹ç«èµ›ä¸­çš„å¸¸è§é—®é¢˜ï¼Œç»“åˆé€’å½’ä¸æ•°å­¦å…¬å¼å¯ä»¥è§£å†³å¾ˆå¤šå®é™…é—®é¢˜ã€‚</li><li>é€šè¿‡ç»“åˆä¸€äº›ç»å…¸çš„ CSP-J é¢˜ç›®ï¼Œå¯ä»¥å·©å›ºå’Œåº”ç”¨ç»„åˆçš„çŸ¥è¯†ã€‚</li></ul><p>åç»­çš„å­¦ä¹ ä¸­ï¼Œå¯ä»¥ç»“åˆæ›´å¤šé¢˜ç›®è¿›è¡Œç»ƒä¹ ï¼Œè¿›ä¸€æ­¥æŒæ¡ç»„åˆçš„ç”Ÿæˆå’Œç»„åˆæ•°çš„è®¡ç®—æ–¹æ³•ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• ç»„åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é«˜ç²¾åº¦è®¡ç®—</title>
      <link href="/High-Precision-Computation.html"/>
      <url>/High-Precision-Computation.html</url>
      
        <content type="html"><![CDATA[<p>é«˜ç²¾åº¦è®¡ç®—ï¼ˆHigh-Precision Computationï¼‰æ˜¯æŒ‡åœ¨è®¡ç®—æœºä¸­å¤„ç†è¶…è¿‡å†…ç½®æ•°æ®ç±»å‹ï¼ˆå¦‚ <code>int</code>ã€<code>long</code>ã€<code>float</code>ã€<code>double</code>ï¼‰æ‰€èƒ½è¡¨ç¤ºçš„æ•°å€¼èŒƒå›´å’Œç²¾åº¦çš„æ•°å€¼è®¡ç®—ã€‚åœ¨è®¸å¤šåº”ç”¨åœºæ™¯ä¸­ï¼Œå¦‚ç§‘å­¦è®¡ç®—ã€åŠ å¯†ç®—æ³•ã€å¤§æ•°è¿ç®—ã€é‡‘èåˆ†æç­‰ï¼Œé«˜ç²¾åº¦è®¡ç®—æ˜¯å¿…ä¸å¯å°‘çš„ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç» C++ ä¸­å®ç°é«˜ç²¾åº¦è®¡ç®—çš„ç›¸å…³çŸ¥è¯†ç‚¹ï¼ŒåŒ…æ‹¬åŸºæœ¬æ¦‚å¿µã€å®ç°æ–¹æ³•ã€å¸¸ç”¨åº“åŠç¤ºä¾‹ä»£ç ã€‚</p><span id="more"></span><h2 id="ä¸€ã€é«˜ç²¾åº¦è®¡ç®—çš„å¿…è¦æ€§"><a href="#ä¸€ã€é«˜ç²¾åº¦è®¡ç®—çš„å¿…è¦æ€§" class="headerlink" title="ä¸€ã€é«˜ç²¾åº¦è®¡ç®—çš„å¿…è¦æ€§"></a>ä¸€ã€é«˜ç²¾åº¦è®¡ç®—çš„å¿…è¦æ€§</h2><ol><li><p><strong>æ•°å€¼èŒƒå›´å’Œç²¾åº¦é™åˆ¶</strong>ï¼š</p><ul><li>å†…ç½®æ•°æ®ç±»å‹æœ‰å›ºå®šçš„å­˜å‚¨èŒƒå›´å’Œç²¾åº¦ã€‚ä¾‹å¦‚ï¼Œ<code>double</code> ç±»å‹é€šå¸¸å…·æœ‰ 15-17 ä½çš„åè¿›åˆ¶æœ‰æ•ˆæ•°å­—ï¼Œå¯¹äºæŸäº›éœ€è¦æ›´é«˜ç²¾åº¦çš„è®¡ç®—æ¥è¯´ï¼Œè¿™è¿œè¿œä¸å¤Ÿã€‚</li><li>åœ¨å¤„ç†éå¸¸å¤§çš„æ•´æ•°æˆ–å°æ•°æ—¶ï¼Œå†…ç½®ç±»å‹ä¼šå‡ºç°æº¢å‡ºæˆ–ç²¾åº¦ä¸¢å¤±çš„é—®é¢˜ã€‚</li></ul></li><li><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p><ul><li><strong>ç§‘å­¦è®¡ç®—</strong>ï¼šéœ€è¦é«˜ç²¾åº¦çš„å°æ•°è®¡ç®—ä»¥ç¡®ä¿ç»“æœçš„å‡†ç¡®æ€§ã€‚</li><li><strong>åŠ å¯†ç®—æ³•</strong>ï¼šæ¶‰åŠå¤§æ•°çš„è¿ç®—ï¼Œå¦‚ç´ æ•°æ£€æµ‹ã€å¤§æ•°ä¹˜æ³•ç­‰ã€‚</li><li><strong>é‡‘èåˆ†æ</strong>ï¼šéœ€è¦ç²¾ç¡®åˆ°å°æ•°ç‚¹åå¤šä½ï¼Œé¿å…å› å››èˆäº”å…¥å¯¼è‡´çš„è¯¯å·®ç§¯ç´¯ã€‚</li><li><strong>è®¡ç®—å‡ ä½•</strong>ï¼šéœ€è¦é«˜ç²¾åº¦çš„åæ ‡è®¡ç®—ä»¥ç¡®ä¿å›¾å½¢çš„ç²¾ç¡®æ€§ã€‚</li></ul></li></ol><h2 id="äºŒã€C-ä¸­é«˜ç²¾åº¦è®¡ç®—çš„å®ç°æ–¹æ³•"><a href="#äºŒã€C-ä¸­é«˜ç²¾åº¦è®¡ç®—çš„å®ç°æ–¹æ³•" class="headerlink" title="äºŒã€C++ ä¸­é«˜ç²¾åº¦è®¡ç®—çš„å®ç°æ–¹æ³•"></a>äºŒã€C++ ä¸­é«˜ç²¾åº¦è®¡ç®—çš„å®ç°æ–¹æ³•</h2><p>å®ç°é«˜ç²¾åº¦è®¡ç®—çš„æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç§ï¼š</p><ol><li><p><strong>æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—</strong>ï¼š</p><ul><li>ä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ•°ç»„æ¥è¡¨ç¤ºå¤§æ•°ï¼Œæ¯ä¸€ä½å•ç‹¬å­˜å‚¨ï¼Œå¹¶å®ç°åŸºæœ¬è¿ç®—ï¼ˆåŠ ã€å‡ã€ä¹˜ã€é™¤ï¼‰çš„ç®—æ³•ã€‚</li></ul></li><li><p><strong>ä½¿ç”¨ç°æœ‰çš„é«˜ç²¾åº¦åº“</strong>ï¼š</p><ul><li>åˆ©ç”¨æˆç†Ÿçš„é«˜ç²¾åº¦è®¡ç®—åº“ï¼Œå¦‚ GMPã€MPFRã€Boost.Multiprecision ç­‰ï¼Œç®€åŒ–å¼€å‘è¿‡ç¨‹å¹¶æå‡æ€§èƒ½ã€‚</li></ul></li></ol><h3 id="1-æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—"><a href="#1-æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—" class="headerlink" title="1. æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—"></a>1. æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—</h3><p>æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—é€šå¸¸æ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š</p><h4 id="a-å¤§æ•°çš„è¡¨ç¤º"><a href="#a-å¤§æ•°çš„è¡¨ç¤º" class="headerlink" title="a. å¤§æ•°çš„è¡¨ç¤º"></a>a. å¤§æ•°çš„è¡¨ç¤º</h4><p>é€šå¸¸ä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ•°ç»„æ¥è¡¨ç¤ºå¤§æ•°ï¼Œæ¯ä¸ªå­—ç¬¦æˆ–æ•°ç»„å…ƒç´ è¡¨ç¤ºä¸€ä½æ•°å­—ã€‚ä¸ºäº†ä¾¿äºè¿ç®—ï¼Œé€šå¸¸å°†æ•°çš„æœ€ä½ä½å­˜å‚¨åœ¨æ•°ç»„çš„ä½ç´¢å¼•ä½ç½®ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token comment">// å¤§æ•°è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ï¼Œæœ€ä½ä½åœ¨æœ«å°¾</span><span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>string BigInt<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="b-å¤§æ•°åŠ æ³•"><a href="#b-å¤§æ•°åŠ æ³•" class="headerlink" title="b. å¤§æ•°åŠ æ³•"></a>b. å¤§æ•°åŠ æ³•</h4><p>å®ç°ä¸¤ä¸ªå¤§æ•°ç›¸åŠ çš„ç®—æ³•ï¼Œè€ƒè™‘è¿›ä½ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">BigInt <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    BigInt result<span class="token punctuation">;</span>    <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max_len <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> digit_a <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> digit_b <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> digit_a <span class="token operator">+</span> digit_b <span class="token operator">+</span> carry<span class="token punctuation">;</span>        carry <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        result <span class="token operator">+=</span> <span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>carry<span class="token punctuation">)</span> <span class="token punctuation">{</span>        result <span class="token operator">+=</span> carry <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    std<span class="token double-colon punctuation">::</span><span class="token function">reverse</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="c-å¤§æ•°ä¹˜æ³•"><a href="#c-å¤§æ•°ä¹˜æ³•" class="headerlink" title="c. å¤§æ•°ä¹˜æ³•"></a>c. å¤§æ•°ä¹˜æ³•</h4><p>ä½¿ç”¨â€œé€ä½ä¹˜æ³•â€æˆ–æ›´é«˜æ•ˆçš„ç®—æ³•ï¼ˆå¦‚å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼‰å®ç°å¤§æ•°ä¹˜æ³•ã€‚ä»¥ä¸‹ä¸ºé€ä½ä¹˜æ³•çš„å®ç°ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">BigInt <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">product</span><span class="token punctuation">(</span>n <span class="token operator">+</span> m<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> sum <span class="token operator">=</span> product<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> p<span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">+=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        std<span class="token double-colon punctuation">::</span>string result<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num <span class="token operator">:</span> product<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            result <span class="token operator">+=</span> <span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"0"</span> <span class="token operator">:</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="d-å¤§æ•°å‡æ³•ä¸é™¤æ³•"><a href="#d-å¤§æ•°å‡æ³•ä¸é™¤æ³•" class="headerlink" title="d. å¤§æ•°å‡æ³•ä¸é™¤æ³•"></a>d. å¤§æ•°å‡æ³•ä¸é™¤æ³•</h4><p>å¤§æ•°å‡æ³•å’Œé™¤æ³•çš„å®ç°ç›¸å¯¹å¤æ‚ï¼Œéœ€å¤„ç†å€Ÿä½å’Œæ›´å¤æ‚çš„ç®—æ³•ã€‚ç”±äºç¯‡å¹…é™åˆ¶ï¼Œè¿™é‡Œä¸å†è¯¦ç»†å±•å¼€ï¼Œä½†åŸºæœ¬æ€è·¯ç±»ä¼¼äºåŠ æ³•å’Œä¹˜æ³•ï¼Œéœ€è¦é€ä½å¤„ç†ï¼Œå¹¶ç¡®ä¿æ•°çš„æ­£ç¡®é¡ºåºå’Œç¬¦å·ã€‚</p><h4 id="e-ç¤ºä¾‹ä»£ç "><a href="#e-ç¤ºä¾‹ä»£ç " class="headerlink" title="e. ç¤ºä¾‹ä»£ç "></a>e. ç¤ºä¾‹ä»£ç </h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„å¤§æ•°åŠ æ³•å’Œä¹˜æ³•çš„ç¤ºä¾‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token comment">// å¤§æ•°è¡¨ç¤ºä¸ºå­—ç¬¦ä¸²ï¼Œæœ€ä½ä½åœ¨æœ«å°¾</span><span class="token keyword">typedef</span> std<span class="token double-colon punctuation">::</span>string BigInt<span class="token punctuation">;</span><span class="token comment">// å¤§æ•°åŠ æ³•</span>BigInt <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    BigInt result<span class="token punctuation">;</span>    <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max_len <span class="token operator">=</span> std<span class="token double-colon punctuation">::</span><span class="token function">max</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> digit_a <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> digit_b <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>m <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> digit_a <span class="token operator">+</span> digit_b <span class="token operator">+</span> carry<span class="token punctuation">;</span>        carry <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        result <span class="token operator">+=</span> <span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>carry<span class="token punctuation">)</span> <span class="token punctuation">{</span>        result <span class="token operator">+=</span> carry <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    std<span class="token double-colon punctuation">::</span><span class="token function">reverse</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å¤§æ•°ä¹˜æ³•</span>BigInt <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> BigInt<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">product</span><span class="token punctuation">(</span>n <span class="token operator">+</span> m<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> m <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> p <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>b<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> sum <span class="token operator">=</span> product<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> p<span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">+=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>        std<span class="token double-colon punctuation">::</span>string result<span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> num <span class="token operator">:</span> product<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> num <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            result <span class="token operator">+=</span> <span class="token punctuation">(</span>num <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">"0"</span> <span class="token operator">:</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    BigInt num1 <span class="token operator">=</span> <span class="token string">"123456789123456789"</span><span class="token punctuation">;</span>    BigInt num2 <span class="token operator">=</span> <span class="token string">"987654321987654321"</span><span class="token punctuation">;</span>        BigInt sum <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>    BigInt product <span class="token operator">=</span> <span class="token function">multiply</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Sum: "</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>         <span class="token comment">// è¾“å‡º Sum: 1111111111111111110</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Product: "</span> <span class="token operator">&lt;&lt;</span> product <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º Product: 121932631356500531347203169112635269</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-ä½¿ç”¨é«˜ç²¾åº¦åº“"><a href="#2-ä½¿ç”¨é«˜ç²¾åº¦åº“" class="headerlink" title="2. ä½¿ç”¨é«˜ç²¾åº¦åº“"></a>2. ä½¿ç”¨é«˜ç²¾åº¦åº“</h3><p>æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—è™½ç„¶å¯è¡Œï¼Œä½†å¯¹äºå¤æ‚çš„è¿ç®—å’Œé«˜æ•ˆæ€§éœ€æ±‚ï¼Œå»ºè®®ä½¿ç”¨ç°æœ‰çš„é«˜ç²¾åº¦è®¡ç®—åº“ã€‚è¿™äº›åº“ç»è¿‡é«˜åº¦ä¼˜åŒ–ï¼Œæä¾›äº†ä¸°å¯Œçš„æ¥å£å’ŒåŠŸèƒ½ã€‚</p><h4 id="a-GMPï¼ˆGNU-Multiple-Precision-Arithmetic-Libraryï¼‰"><a href="#a-GMPï¼ˆGNU-Multiple-Precision-Arithmetic-Libraryï¼‰" class="headerlink" title="a. GMPï¼ˆGNU Multiple Precision Arithmetic Libraryï¼‰"></a>a. GMPï¼ˆGNU Multiple Precision Arithmetic Libraryï¼‰</h4><p>GMP æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„é«˜æ€§èƒ½å¤šç²¾åº¦ç®—æœ¯åº“ï¼Œæ”¯æŒæ•´æ•°ã€æœ‰ç†æ•°å’Œæµ®ç‚¹æ•°çš„è¿ç®—ã€‚</p><p><strong>å®‰è£… GMP</strong>ï¼š<br>åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libgmp-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;gmp.h&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    mpz_t a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> product<span class="token punctuation">;</span>        <span class="token comment">// åˆå§‹åŒ–</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¾ç½®å€¼</span>    <span class="token function">mpz_set_str</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"123456789123456789123456789"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_set_str</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">"987654321987654321987654321"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åŠ æ³•</span>    <span class="token function">mpz_add</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Sum: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">mpz_get_str</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>        <span class="token comment">// ä¹˜æ³•</span>    <span class="token function">mpz_mul</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Product: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">mpz_get_str</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> product<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>        <span class="token comment">// æ¸…ç†</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¼–è¯‘</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++ <span class="token parameter variable">-o</span> gmp_example gmp_example.cpp <span class="token parameter variable">-lgmp</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="b-Boost-Multiprecision"><a href="#b-Boost-Multiprecision" class="headerlink" title="b. Boost.Multiprecision"></a>b. Boost.Multiprecision</h4><p>Boost æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ C++ åº“é›†åˆï¼ŒBoost.Multiprecision æä¾›äº†å¤šç§é«˜ç²¾åº¦æ•°å€¼ç±»å‹ã€‚</p><p><strong>å®‰è£… Boost</strong>ï¼š<br>åœ¨å¤§å¤šæ•° Linux å‘è¡Œç‰ˆä¸Šï¼Œå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libboost-all-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;boost/multiprecision/cpp_int.hpp&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> boost<span class="token double-colon punctuation">::</span>multiprecision<span class="token punctuation">;</span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    cpp_int <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">"123456789123456789123456789"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cpp_int <span class="token function">b</span><span class="token punctuation">(</span><span class="token string">"987654321987654321987654321"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        cpp_int sum <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>    cpp_int product <span class="token operator">=</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Sum: "</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>         <span class="token comment">// è¾“å‡º Sum: 1111111111111111111111111110</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Product: "</span> <span class="token operator">&lt;&lt;</span> product <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span> <span class="token comment">// è¾“å‡º Product: 121932631356500531591068431581771069347203169112635269</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¼–è¯‘</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++ <span class="token parameter variable">-o</span> boost_example boost_example.cpp <span class="token parameter variable">-lboost_system</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="c-MPFRï¼ˆMultiple-Precision-Floating-Point-Reliable-Libraryï¼‰"><a href="#c-MPFRï¼ˆMultiple-Precision-Floating-Point-Reliable-Libraryï¼‰" class="headerlink" title="c. MPFRï¼ˆMultiple Precision Floating-Point Reliable Libraryï¼‰"></a>c. MPFRï¼ˆMultiple Precision Floating-Point Reliable Libraryï¼‰</h4><p>MPFR ä¸“æ³¨äºé«˜ç²¾åº¦æµ®ç‚¹æ•°è®¡ç®—ï¼ŒåŸºäº GMP å®ç°ï¼Œæä¾›äº†æ›´é«˜çš„ç²¾åº¦æ§åˆ¶å’Œæ•°å­¦å‡½æ•°æ”¯æŒã€‚</p><p><strong>å®‰è£… MPFR</strong>ï¼š<br>åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libmpfr-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><strong>ç¤ºä¾‹ä»£ç </strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;mpfr.h&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    mpfr_t a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> product<span class="token punctuation">;</span>        <span class="token comment">// åˆå§‹åŒ–å˜é‡ï¼Œè®¾ç½®ç²¾åº¦ä¸º 256 ä½</span>    <span class="token function">mpfr_init2</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_init2</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_init2</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_init2</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> <span class="token number">256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¾ç½®å€¼</span>    <span class="token function">mpfr_set_str</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"123456789123456789.123456789"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> MPFR_RNDN<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_set_str</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">"987654321987654321.987654321"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> MPFR_RNDN<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åŠ æ³•</span>    <span class="token function">mpfr_add</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> MPFR_RNDN<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ä¹˜æ³•</span>    <span class="token function">mpfr_mul</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> MPFR_RNDN<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è¾“å‡ºç»“æœ</span>    <span class="token function">mpfr_printf</span><span class="token punctuation">(</span><span class="token string">"Sum: %.30Rf\n"</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_printf</span><span class="token punctuation">(</span><span class="token string">"Product: %.30Rf\n"</span><span class="token punctuation">,</span> product<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ¸…ç†</span>    <span class="token function">mpfr_clear</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_clear</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_clear</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_clear</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpfr_free_cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¼–è¯‘</strong>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++ <span class="token parameter variable">-o</span> mpfr_example mpfr_example.cpp <span class="token parameter variable">-lmpfr</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-æ€§èƒ½è€ƒè™‘"><a href="#3-æ€§èƒ½è€ƒè™‘" class="headerlink" title="3. æ€§èƒ½è€ƒè™‘"></a>3. æ€§èƒ½è€ƒè™‘</h3><p>æ‰‹åŠ¨å®ç°çš„é«˜ç²¾åº¦è¿ç®—é€šå¸¸æ•ˆç‡è¾ƒä½ï¼Œå°¤å…¶æ˜¯å¯¹äºå¤§è§„æ¨¡è¿ç®—å’Œé«˜ç²¾åº¦è¦æ±‚ã€‚ä½¿ç”¨ä¼˜åŒ–è‰¯å¥½çš„åº“ï¼ˆå¦‚ GMPï¼‰èƒ½å¤Ÿæ˜¾è‘—æå‡æ€§èƒ½ã€‚æ­¤å¤–ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å’Œç®—æ³•ï¼ˆå¦‚å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ç”¨äºå¤§æ•°ä¹˜æ³•ï¼‰ä¹Ÿèƒ½æœ‰æ•ˆæå‡è®¡ç®—é€Ÿåº¦ã€‚</p><h2 id="ä¸‰ã€é«˜ç²¾åº¦è®¡ç®—çš„å¸¸è§æ“ä½œ"><a href="#ä¸‰ã€é«˜ç²¾åº¦è®¡ç®—çš„å¸¸è§æ“ä½œ" class="headerlink" title="ä¸‰ã€é«˜ç²¾åº¦è®¡ç®—çš„å¸¸è§æ“ä½œ"></a>ä¸‰ã€é«˜ç²¾åº¦è®¡ç®—çš„å¸¸è§æ“ä½œ</h2><p>åœ¨é«˜ç²¾åº¦è®¡ç®—ä¸­ï¼Œå¸¸è§çš„æ“ä½œåŒ…æ‹¬ï¼š</p><ol><li><strong>åŠ æ³•å’Œå‡æ³•</strong>ï¼šåŸºæœ¬çš„æ•°å€¼è¿ç®—ï¼Œéœ€å¤„ç†è¿›ä½å’Œå€Ÿä½ã€‚</li><li><strong>ä¹˜æ³•</strong>ï¼šå¯ä»¥ä½¿ç”¨é€ä½ä¹˜æ³•ã€Karatsuba ç®—æ³•ã€å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ç­‰æé«˜æ•ˆç‡ã€‚</li><li><strong>é™¤æ³•</strong>ï¼šåŒ…æ‹¬æ•´æ•°é™¤æ³•å’Œæµ®ç‚¹æ•°é™¤æ³•ï¼Œé€šå¸¸ä½¿ç”¨é•¿é™¤æ³•ç®—æ³•æˆ–æ›´é«˜æ•ˆçš„æ–¹æ³•ã€‚</li><li><strong>å¹‚è¿ç®—</strong>ï¼šå¯ä»¥é€šè¿‡é‡å¤å¹³æ–¹æˆ–å¿«é€Ÿå¹‚ç®—æ³•å®ç°ã€‚</li><li><strong>æ¨¡è¿ç®—</strong>ï¼šåœ¨åŠ å¯†ç®—æ³•ä¸­å¹¿æ³›ä½¿ç”¨ï¼Œéœ€è¦é«˜æ•ˆçš„æ¨¡ä¹˜å’Œæ¨¡å¹‚ç®—æ³•ã€‚</li><li><strong>æ ¹å·ã€å¯¹æ•°ã€ä¸‰è§’å‡½æ•°ç­‰æ•°å­¦å‡½æ•°</strong>ï¼šéœ€è¦é€šè¿‡æ³°å‹’çº§æ•°ã€äºŒåˆ†æ³•ç­‰æ•°å€¼æ–¹æ³•å®ç°é«˜ç²¾åº¦è®¡ç®—ã€‚</li></ol><h2 id="å››ã€å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#å››ã€å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="å››ã€å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a>å››ã€å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h2><ol><li><p><strong>å†…å­˜å’Œæ€§èƒ½é—®é¢˜</strong>ï¼š</p><ul><li>é«˜ç²¾åº¦è¿ç®—ä¼šæ¶ˆè€—æ›´å¤šçš„å†…å­˜å’Œè®¡ç®—èµ„æºã€‚é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„ï¼ˆå¦‚ä½¿ç”¨ä½å‹ç¼©è¡¨ç¤ºæ•°å­—ï¼‰å’Œé«˜æ•ˆçš„ç®—æ³•å¯ä»¥ç¼“è§£è¿™ä¸€é—®é¢˜ã€‚</li><li>ä½¿ç”¨å¤šçº¿ç¨‹æˆ–å¹¶è¡Œè®¡ç®—æŠ€æœ¯å¯ä»¥æå‡å¤§è§„æ¨¡è¿ç®—çš„æ€§èƒ½ã€‚</li></ul></li><li><p><strong>ç²¾åº¦ç®¡ç†</strong>ï¼š</p><ul><li>åœ¨æµ®ç‚¹é«˜ç²¾åº¦è®¡ç®—ä¸­ï¼Œéœ€åˆç†è®¾ç½®ç²¾åº¦ä»¥å¹³è¡¡è®¡ç®—é€Ÿåº¦å’Œç»“æœå‡†ç¡®æ€§ã€‚</li><li>ä½¿ç”¨åº“æä¾›çš„ç²¾åº¦æ§åˆ¶æ¥å£ï¼Œå¦‚ MPFR çš„ <code>mpfr_set_default_prec</code>ã€‚</li></ul></li><li><p><strong>æº¢å‡ºå’Œä¸‹æº¢</strong>ï¼š</p><ul><li>æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—æ—¶éœ€ç‰¹åˆ«æ³¨æ„æ•°å€¼æº¢å‡ºå’Œä¸‹æº¢çš„é—®é¢˜ï¼Œç¡®ä¿ç®—æ³•çš„æ­£ç¡®æ€§ã€‚</li></ul></li><li><p><strong>ç¬¦å·å¤„ç†</strong>ï¼š</p><ul><li>å¤„ç†è´Ÿæ•°æ—¶éœ€ç®¡ç†ç¬¦å·ä½ï¼Œç¡®ä¿åŠ å‡ä¹˜é™¤ç­‰è¿ç®—çš„æ­£ç¡®æ€§ã€‚</li></ul></li></ol><h2 id="äº”ã€æ€»ç»“"><a href="#äº”ã€æ€»ç»“" class="headerlink" title="äº”ã€æ€»ç»“"></a>äº”ã€æ€»ç»“</h2><p>C++ ä¸­çš„é«˜ç²¾åº¦è®¡ç®—æ˜¯å¤„ç†è¶…å‡ºå†…ç½®æ•°æ®ç±»å‹èŒƒå›´å’Œç²¾åº¦çš„å¼ºå¤§å·¥å…·ã€‚æ ¹æ®å…·ä½“éœ€æ±‚ï¼Œå¼€å‘è€…å¯ä»¥é€‰æ‹©æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—ä»¥è·å¾—æ›´é«˜çš„çµæ´»æ€§ï¼Œæˆ–ä½¿ç”¨æˆç†Ÿçš„é«˜ç²¾åº¦åº“ï¼ˆå¦‚ GMPã€Boost.Multiprecisionã€MPFRï¼‰ä»¥ç®€åŒ–å¼€å‘æµç¨‹å¹¶æå‡æ€§èƒ½ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œåˆç†é€‰æ‹©æ•°æ®ç»“æ„å’Œç®—æ³•ï¼Œå¹¶å……åˆ†åˆ©ç”¨ç°æœ‰åº“çš„ä¼˜åŒ–ï¼Œå¯ä»¥æœ‰æ•ˆå®ç°é«˜ç²¾åº¦è®¡ç®—éœ€æ±‚ã€‚</p><p>ä»¥ä¸‹æ˜¯å‡ é“æ¨¡æ‹Ÿé¢˜ç›®ï¼Œæ¶µç›–äº†é«˜ç²¾åº¦åŠ æ³•ã€ä¹˜æ³•ã€é˜¶ä¹˜å’Œå¹‚è¿ç®—ç­‰å¸¸è§ç±»å‹ï¼Œå¹¶é™„æœ‰è¯¦ç»†çš„è§£ç­”ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®1ï¼šå¤§æ•°ç›¸åŠ "><a href="#æ¨¡æ‹Ÿé¢˜ç›®1ï¼šå¤§æ•°ç›¸åŠ " class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®1ï¼šå¤§æ•°ç›¸åŠ "></a>æ¨¡æ‹Ÿé¢˜ç›®1ï¼šå¤§æ•°ç›¸åŠ </h2><h3 id="é¢˜ç›®æè¿°"><a href="#é¢˜ç›®æè¿°" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå®ƒä»¬çš„ä½æ•°å¯èƒ½è¾¾åˆ° 100,000 ä½ã€‚è¯·è®¡ç®— <code>A + B</code> çš„ç»“æœã€‚</p><h3 id="è¾“å…¥æ ¼å¼"><a href="#è¾“å…¥æ ¼å¼" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> å’Œ <code>B</code> å‡ä¸å«å‰å¯¼é›¶ï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡ 100,000 ä½ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼"><a href="#è¾“å‡ºæ ¼å¼" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A + B</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥"><a href="#ç¤ºä¾‹è¾“å…¥" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">123456789123456789987654321987654321<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º"><a href="#ç¤ºä¾‹è¾“å‡º" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">1111111111111111110<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯"><a href="#è§£é¢˜æ€è·¯" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>ç”±äºè¾“å…¥çš„æ•´æ•°ä½æ•°å¯èƒ½é«˜è¾¾ 100,000 ä½ï¼Œå†…ç½®æ•°æ®ç±»å‹æ— æ³•ç›´æ¥å­˜å‚¨å’Œå¤„ç†ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å­—ç¬¦ä¸²æˆ–æ•°ç»„æ¥è¡¨ç¤ºå¤§æ•°ï¼Œå¹¶é€ä½è¿›è¡ŒåŠ æ³•è¿ç®—ï¼Œè€ƒè™‘è¿›ä½ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åè½¬å­—ç¬¦ä¸²</strong>ï¼šä¸ºäº†æ–¹ä¾¿ä»æœ€ä½ä½å¼€å§‹ç›¸åŠ ï¼Œå°†ä¸¤ä¸ªæ•°çš„å­—ç¬¦ä¸²åè½¬ã€‚</li><li><strong>é€ä½ç›¸åŠ </strong>ï¼šä»æœ€ä½ä½å¼€å§‹é€ä½ç›¸åŠ ï¼ŒåŒæ—¶å¤„ç†è¿›ä½ã€‚</li><li><strong>å¤„ç†å‰©ä½™è¿›ä½</strong>ï¼šå¦‚æœæœ€é«˜ä½æœ‰è¿›ä½ï¼Œéœ€é¢å¤–æ·»åŠ ã€‚</li><li><strong>åè½¬ç»“æœ</strong>ï¼šå°†ç»“æœå­—ç¬¦ä¸²åè½¬å›æ­£å¸¸é¡ºåºã€‚</li></ol><h3 id="C-å®ç°"><a href="#C-å®ç°" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¤§æ•°ç›¸åŠ å‡½æ•°</span>string <span class="token function">addBigNumbers</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    string A <span class="token operator">=</span> a<span class="token punctuation">;</span>    string B <span class="token operator">=</span> b<span class="token punctuation">;</span>    <span class="token comment">// åè½¬å­—ç¬¦ä¸²ï¼Œä¾¿äºä»æœ€ä½ä½å¼€å§‹ç›¸åŠ </span>    <span class="token function">reverse</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    string result<span class="token punctuation">;</span>    <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max_len <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digitA <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> digitB <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> digitA <span class="token operator">+</span> digitB <span class="token operator">+</span> carry<span class="token punctuation">;</span>        carry <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        result <span class="token operator">+=</span> <span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>carry<span class="token punctuation">)</span><span class="token punctuation">{</span>        result <span class="token operator">+=</span> carry <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// åè½¬å›æ­£å¸¸é¡ºåº</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">,</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">addBigNumbers</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åè½¬å­—ç¬¦ä¸²</strong>ï¼šå°†è¾“å…¥çš„å­—ç¬¦ä¸² <code>A</code> å’Œ <code>B</code> åè½¬ï¼Œä½¿å¾—æœ€ä½ä½ä½äºç´¢å¼• 0 ä½ç½®ï¼Œæ–¹ä¾¿é€ä½ç›¸åŠ ã€‚</li><li><strong>é€ä½ç›¸åŠ </strong>ï¼š<ul><li>éå†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸€ä½ï¼Œå–å‡ºå¯¹åº”çš„æ•°å­—ä½è¿›è¡Œç›¸åŠ ã€‚</li><li>è€ƒè™‘è¿›ä½ï¼Œå°†æ¯ä¸€ä½çš„å’ŒåŠ åˆ°ç»“æœå­—ç¬¦ä¸²ä¸­ã€‚</li></ul></li><li><strong>å¤„ç†å‰©ä½™è¿›ä½</strong>ï¼šå¦‚æœæœ€åæœ‰è¿›ä½ï¼Œéœ€å°†å…¶æ·»åŠ åˆ°ç»“æœå­—ç¬¦ä¸²æœ«å°¾ã€‚</li><li><strong>åè½¬ç»“æœ</strong>ï¼šå°†ç»“æœå­—ç¬¦ä¸²åè½¬å›æ­£å¸¸é¡ºåºï¼Œå¾—åˆ°æœ€ç»ˆçš„åŠ æ³•ç»“æœã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç”±äºéœ€è¦éå†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸­è¾ƒé•¿çš„é•¿åº¦ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®2ï¼šå¤§æ•°ç›¸ä¹˜"><a href="#æ¨¡æ‹Ÿé¢˜ç›®2ï¼šå¤§æ•°ç›¸ä¹˜" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®2ï¼šå¤§æ•°ç›¸ä¹˜"></a>æ¨¡æ‹Ÿé¢˜ç›®2ï¼šå¤§æ•°ç›¸ä¹˜</h2><h3 id="é¢˜ç›®æè¿°-1"><a href="#é¢˜ç›®æè¿°-1" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå®ƒä»¬çš„ä½æ•°å¯èƒ½è¾¾åˆ° 100,000 ä½ã€‚è¯·è®¡ç®— <code>A * B</code> çš„ç»“æœã€‚</p><h3 id="è¾“å…¥æ ¼å¼-1"><a href="#è¾“å…¥æ ¼å¼-1" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> å’Œ <code>B</code> å‡ä¸å«å‰å¯¼é›¶ï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡ 100,000 ä½ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-1"><a href="#è¾“å‡ºæ ¼å¼-1" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A * B</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-1"><a href="#ç¤ºä¾‹è¾“å…¥-1" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">123456789987654321<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-1"><a href="#ç¤ºä¾‹è¾“å‡º-1" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">121932631112635269<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-1"><a href="#è§£é¢˜æ€è·¯-1" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>å¤§æ•°ç›¸ä¹˜ç›¸æ¯”å¤§æ•°ç›¸åŠ æ›´ä¸ºå¤æ‚ï¼Œä½†åŸºæœ¬æ€è·¯ä»ç„¶æ˜¯æ¨¡æ‹Ÿæ‰‹å·¥ä¹˜æ³•ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆå§‹åŒ–ç»“æœæ•°ç»„</strong>ï¼šç»“æœçš„æœ€å¤§é•¿åº¦ä¸º <code>A.size() + B.size()</code>ã€‚</li><li><strong>é€ä½ç›¸ä¹˜å¹¶ç´¯åŠ </strong>ï¼šä»æœ€ä½ä½å¼€å§‹é€ä½ç›¸ä¹˜ï¼Œå¹¶å°†ä¹˜ç§¯ç´¯åŠ åˆ°å¯¹åº”çš„ä½ç½®ï¼ŒåŒæ—¶å¤„ç†è¿›ä½ã€‚</li><li><strong>å¤„ç†å‰å¯¼é›¶</strong>ï¼šå»é™¤ç»“æœä¸­çš„å‰å¯¼é›¶ï¼Œç¡®ä¿ç»“æœçš„æ­£ç¡®æ€§ã€‚</li><li><strong>æ„å»ºç»“æœå­—ç¬¦ä¸²</strong>ï¼šå°†ç»“æœæ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ã€‚</li></ol><h3 id="C-å®ç°-1"><a href="#C-å®ç°-1" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¤§æ•°ä¹˜æ³•å‡½æ•°</span>string <span class="token function">multiplyBigNumbers</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    string A <span class="token operator">=</span> a<span class="token punctuation">;</span>    string B <span class="token operator">=</span> b<span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// ç»“æœæ•°ç»„åˆå§‹åŒ–ä¸º n + m ä½</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">product</span><span class="token punctuation">(</span>n <span class="token operator">+</span> m<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åè½¬å­—ç¬¦ä¸²ï¼Œä¾¿äºä»æœ€ä½ä½å¼€å§‹ç›¸ä¹˜</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digitA <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> digitB <span class="token operator">=</span> B<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">+=</span> digitA <span class="token operator">*</span> digitB<span class="token punctuation">;</span>            <span class="token comment">// å¤„ç†è¿›ä½</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">%=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ„å»ºç»“æœå­—ç¬¦ä¸²</span>    string result<span class="token punctuation">;</span>    <span class="token keyword">int</span> size <span class="token operator">=</span> product<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å»é™¤å‰å¯¼é›¶</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> product<span class="token punctuation">[</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        size<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        result <span class="token operator">+=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>product<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">,</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">multiplyBigNumbers</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-1"><a href="#ä»£ç è§£é‡Š-1" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åˆå§‹åŒ–ç»“æœæ•°ç»„</strong>ï¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º <code>A.size() + B.size()</code> çš„ <code>vector&lt;int&gt;</code> æ¥å­˜å‚¨æ¯ä¸€ä½çš„ä¹˜ç§¯å’Œè¿›ä½ã€‚</li><li><strong>é€ä½ç›¸ä¹˜</strong>ï¼š<ul><li>åŒé‡å¾ªç¯éå† <code>A</code> å’Œ <code>B</code> çš„æ¯ä¸€ä½ï¼Œè®¡ç®—ä¹˜ç§¯å¹¶ç´¯åŠ åˆ° <code>product[i + j]</code> ä½ç½®ã€‚</li><li>å¤„ç†è¿›ä½ï¼Œå°†è¶…è¿‡ 10 çš„éƒ¨åˆ†è½¬ç§»åˆ°æ›´é«˜ä½ã€‚</li></ul></li><li><strong>å¤„ç†å‰å¯¼é›¶</strong>ï¼šä»é«˜ä½å¼€å§‹æ£€æŸ¥å¹¶å»é™¤å‰å¯¼é›¶ï¼Œç¡®ä¿ç»“æœçš„æ­£ç¡®æ€§ã€‚</li><li><strong>æ„å»ºç»“æœå­—ç¬¦ä¸²</strong>ï¼šå°† <code>product</code> æ•°ç»„ä¸­çš„æ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œä»é«˜ä½åˆ°ä½ä½æ‹¼æ¥ã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-1"><a href="#æ—¶é—´å¤æ‚åº¦-1" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç”±äºéœ€è¦éå†ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N * M)ï¼Œå…¶ä¸­ N å’Œ M åˆ†åˆ«æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ã€‚å¯¹äº 100,000 ä½çš„æ•°ï¼Œè¿™ç§æ–¹æ³•åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šå¯èƒ½ä¸å¯è¡Œï¼Œå› æ­¤åœ¨å®é™…ç«èµ›ä¸­ï¼Œå¯èƒ½éœ€è¦ä½¿ç”¨æ›´é«˜æ•ˆçš„ç®—æ³•ï¼Œå¦‚ Karatsuba ç®—æ³•æˆ–å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ï¼ˆFFTï¼‰ä¹˜æ³•ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®3ï¼šå¤§æ•°é˜¶ä¹˜"><a href="#æ¨¡æ‹Ÿé¢˜ç›®3ï¼šå¤§æ•°é˜¶ä¹˜" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®3ï¼šå¤§æ•°é˜¶ä¹˜"></a>æ¨¡æ‹Ÿé¢˜ç›®3ï¼šå¤§æ•°é˜¶ä¹˜</h2><h3 id="é¢˜ç›®æè¿°-2"><a href="#é¢˜ç›®æè¿°-2" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>è®¡ç®— <code>N!</code>ï¼Œå…¶ä¸­ <code>1 â‰¤ N â‰¤ 10,000</code>ã€‚ç”±äº <code>N!</code> çš„å€¼éå¸¸å¤§ï¼Œéœ€è¦è¾“å‡º <code>N!</code> çš„å…¨éƒ¨æ•°å­—ã€‚</p><h3 id="è¾“å…¥æ ¼å¼-2"><a href="#è¾“å…¥æ ¼å¼-2" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸€ä¸ªæ•´æ•° <code>N</code>ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-2"><a href="#è¾“å‡ºæ ¼å¼-2" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>N!</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-2"><a href="#ç¤ºä¾‹è¾“å…¥-2" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-2"><a href="#ç¤ºä¾‹è¾“å‡º-2" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">3628800<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-2"><a href="#è§£é¢˜æ€è·¯-2" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>è®¡ç®—å¤§æ•°é˜¶ä¹˜éœ€è¦å¤šæ¬¡å¤§æ•°ä¹˜æ³•ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æˆ–å­—ç¬¦ä¸²æ¥å­˜å‚¨ä¸­é—´ç»“æœï¼Œæ¯æ¬¡ä¹˜ä»¥ä¸€ä¸ªæ–°çš„æ•´æ•°ï¼Œå¹¶å¤„ç†è¿›ä½ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šå°† <code>factorial</code> åˆå§‹åŒ–ä¸º <code>1</code>ã€‚</li><li><strong>é€æ­¥ä¹˜æ³•</strong>ï¼šä» <code>2</code> åˆ° <code>N</code>ï¼Œé€æ­¥å°† <code>factorial</code> ä¹˜ä»¥å½“å‰æ•°ã€‚</li><li><strong>å¤„ç†è¿›ä½</strong>ï¼šæ¯æ¬¡ä¹˜æ³•åï¼Œå¤„ç†è¿›ä½å¹¶æ›´æ–° <code>factorial</code>ã€‚</li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šå°† <code>factorial</code> æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¾“å‡ºã€‚</li></ol><h3 id="C-å®ç°-2"><a href="#C-å®ç°-2" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// æ‰“å°å¤§æ•°</span><span class="token keyword">void</span> <span class="token function">printBigFactorial</span><span class="token punctuation">(</span><span class="token keyword">const</span> vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> num<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> i <span class="token operator">=</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// è·³è¿‡å‰å¯¼é›¶</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        i<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> num<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å¤§æ•°ä¹˜ä»¥ä¸€ä¸ªæ•´æ•°</span><span class="token keyword">void</span> <span class="token function">multiplyFactorial</span><span class="token punctuation">(</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> num<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> num<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> temp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">long</span> <span class="token keyword">long</span><span class="token punctuation">)</span>num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> x <span class="token operator">+</span> carry<span class="token punctuation">;</span>        num<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>        carry <span class="token operator">=</span> temp <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>carry<span class="token punctuation">)</span><span class="token punctuation">{</span>        num<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>carry <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        carry <span class="token operator">/=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> N<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> N<span class="token punctuation">;</span>    <span class="token comment">// åˆå§‹åŒ– factorial ä¸º 1</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">multiplyFactorial</span><span class="token punctuation">(</span>factorial<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">printBigFactorial</span><span class="token punctuation">(</span>factorial<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-2"><a href="#ä»£ç è§£é‡Š-2" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šä½¿ç”¨ä¸€ä¸ª <code>vector&lt;int&gt;</code> å­˜å‚¨ <code>factorial</code>ï¼Œåˆå§‹å€¼ä¸º <code>1</code>ã€‚</li><li><strong>é€æ­¥ä¹˜æ³•</strong>ï¼š<ul><li>å¯¹äºæ¯ä¸€ä¸ª <code>i</code> ä» <code>2</code> åˆ° <code>N</code>ï¼Œè°ƒç”¨ <code>multiplyFactorial</code> å‡½æ•°ï¼Œå°† <code>factorial</code> ä¹˜ä»¥ <code>i</code>ã€‚</li><li>åœ¨ <code>multiplyFactorial</code> å‡½æ•°ä¸­ï¼Œéå† <code>factorial</code> çš„æ¯ä¸€ä½ï¼Œè®¡ç®—ä¹˜ç§¯å¹¶å¤„ç†è¿›ä½ã€‚</li><li>å¦‚æœæœ€åè¿˜æœ‰è¿›ä½ï¼Œç»§ç»­å°†å…¶åˆ†è§£å¹¶æ·»åŠ åˆ° <code>factorial</code> ä¸­ã€‚</li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šè°ƒç”¨ <code>printBigFactorial</code> å‡½æ•°ï¼Œä»é«˜ä½åˆ°ä½ä½æ‰“å° <code>factorial</code>ã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-2"><a href="#æ—¶é—´å¤æ‚åº¦-2" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç”±äºéœ€è¦è¿›è¡Œ <code>N</code> æ¬¡å¤§æ•°ä¹˜æ³•ï¼Œæ¯æ¬¡ä¹˜æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(L)ï¼Œå…¶ä¸­ L æ˜¯å½“å‰ <code>factorial</code> çš„ä½æ•°ã€‚æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(N * L)ï¼Œå¯¹äº <code>N</code> è¾¾åˆ° 10,000ï¼Œä¸” <code>L</code> ä¹Ÿéš <code>N</code> å¢é•¿ï¼Œä»ç„¶æ˜¯å¯è¡Œçš„ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®4ï¼šé«˜ç²¾åº¦å°æ•°åŠ æ³•"><a href="#æ¨¡æ‹Ÿé¢˜ç›®4ï¼šé«˜ç²¾åº¦å°æ•°åŠ æ³•" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®4ï¼šé«˜ç²¾åº¦å°æ•°åŠ æ³•"></a>æ¨¡æ‹Ÿé¢˜ç›®4ï¼šé«˜ç²¾åº¦å°æ•°åŠ æ³•</h2><h3 id="é¢˜ç›®æè¿°-3"><a href="#é¢˜ç›®æè¿°-3" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªé«˜ç²¾åº¦å°æ•° <code>A</code> å’Œ <code>B</code>ï¼Œè®¡ç®— <code>A + B</code> çš„ç»“æœã€‚å°æ•°éƒ¨åˆ†æœ€å¤šæœ‰ 1,000 ä½ã€‚</p><h3 id="è¾“å…¥æ ¼å¼-3"><a href="#è¾“å…¥æ ¼å¼-3" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªé«˜ç²¾åº¦å°æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> å’Œ <code>B</code> å‡ä¸å«å‰å¯¼é›¶ï¼Œä¸”å°æ•°éƒ¨åˆ†æœ€å¤š 1,000 ä½ã€‚å¦‚æœæ²¡æœ‰å°æ•°éƒ¨åˆ†ï¼Œå°æ•°ç‚¹å¯ä»¥çœç•¥ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-3"><a href="#è¾“å‡ºæ ¼å¼-3" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A + B</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-3"><a href="#ç¤ºä¾‹è¾“å…¥-3" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">123.456789.123<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-3"><a href="#ç¤ºä¾‹è¾“å‡º-3" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">912.579<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-3"><a href="#è§£é¢˜æ€è·¯-3" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>é«˜ç²¾åº¦å°æ•°åŠ æ³•éœ€è¦åˆ†åˆ«å¤„ç†æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆ†å‰²æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</strong>ï¼šå°†è¾“å…¥çš„å­—ç¬¦ä¸²åˆ†å‰²ä¸ºæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ã€‚</li><li><strong>å¯¹é½å°æ•°ä½æ•°</strong>ï¼šåœ¨å°æ•°éƒ¨åˆ†è¾ƒçŸ­çš„æ•°åè¡¥é›¶ï¼Œä½¿ä¸¤æ•°çš„å°æ•°ä½æ•°ç›¸åŒã€‚</li><li><strong>å¯¹é½æ•´æ•°ä½æ•°</strong>ï¼šåœ¨æ•´æ•°éƒ¨åˆ†è¾ƒçŸ­çš„æ•°å‰è¡¥é›¶ï¼Œä½¿ä¸¤æ•°çš„æ•´æ•°ä½æ•°ç›¸åŒã€‚</li><li><strong>åˆ†åˆ«è¿›è¡ŒåŠ æ³•</strong>ï¼š<ul><li>å…ˆåŠ å°æ•°éƒ¨åˆ†ï¼Œå¤„ç†è¿›ä½ã€‚</li><li>å†åŠ æ•´æ•°éƒ¨åˆ†ï¼Œç»§ç»­å¤„ç†è¿›ä½ã€‚</li></ul></li><li><strong>å»é™¤å‰å¯¼é›¶å’Œå¤šä½™çš„æœ«å°¾é›¶</strong>ï¼šç¡®ä¿ç»“æœçš„æ ¼å¼æ­£ç¡®ã€‚</li><li><strong>åˆå¹¶ç»“æœ</strong>ï¼šå°†æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†åˆå¹¶ï¼Œå½¢æˆæœ€ç»ˆç»“æœã€‚</li></ol><h3 id="C-å®ç°-3"><a href="#C-å®ç°-3" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// åˆ†å‰²æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</span>pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span> <span class="token function">splitDecimal</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> num<span class="token punctuation">)</span><span class="token punctuation">{</span>    size_t pos <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token char">'.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>pos <span class="token operator">==</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token punctuation">{</span>num<span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    string integer <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> pos<span class="token punctuation">)</span><span class="token punctuation">;</span>    string fractional <span class="token operator">=</span> num<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>pos <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>integer<span class="token punctuation">,</span> fractional<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å¤§æ•°åŠ æ³•å‡½æ•°</span>string <span class="token function">addBigDecimals</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// åˆ†å‰²æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</span>    pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span> partA <span class="token operator">=</span> <span class="token function">splitDecimal</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    pair<span class="token operator">&lt;</span>string<span class="token punctuation">,</span> string<span class="token operator">&gt;</span> partB <span class="token operator">=</span> <span class="token function">splitDecimal</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    string intA <span class="token operator">=</span> partA<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    string fracA <span class="token operator">=</span> partA<span class="token punctuation">.</span>second<span class="token punctuation">;</span>    string intB <span class="token operator">=</span> partB<span class="token punctuation">.</span>first<span class="token punctuation">;</span>    string fracB <span class="token operator">=</span> partB<span class="token punctuation">.</span>second<span class="token punctuation">;</span>    <span class="token comment">// å¯¹é½å°æ•°ä½æ•°</span>    <span class="token keyword">int</span> frac_lenA <span class="token operator">=</span> fracA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> frac_lenB <span class="token operator">=</span> fracB<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max_frac <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>frac_lenA<span class="token punctuation">,</span> frac_lenB<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>fracA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> max_frac<span class="token punctuation">)</span><span class="token punctuation">{</span>        fracA <span class="token operator">+=</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>fracB<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> max_frac<span class="token punctuation">)</span><span class="token punctuation">{</span>        fracB <span class="token operator">+=</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å¯¹é½æ•´æ•°ä½æ•°</span>    <span class="token keyword">int</span> lenA <span class="token operator">=</span> intA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> lenB <span class="token operator">=</span> intB<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max_int <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>lenA<span class="token punctuation">,</span> lenB<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>intA<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> max_int<span class="token punctuation">)</span><span class="token punctuation">{</span>        intA <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> intA<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>intB<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> max_int<span class="token punctuation">)</span><span class="token punctuation">{</span>        intB <span class="token operator">=</span> <span class="token string">"0"</span> <span class="token operator">+</span> intB<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// åŠ æ³•ï¼šå…ˆåŠ å°æ•°éƒ¨åˆ†</span>    string fracResult <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> max_frac <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span>fracA<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>fracB<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">+</span> carry<span class="token punctuation">;</span>        carry <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        fracResult <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> fracResult<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å†åŠ æ•´æ•°éƒ¨åˆ†</span>    string intResult <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> max_int <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token punctuation">(</span>intA<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span>intB<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">+</span> carry<span class="token punctuation">;</span>        carry <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        intResult <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> intResult<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>carry<span class="token punctuation">)</span><span class="token punctuation">{</span>        intResult <span class="token operator">=</span> <span class="token string">"1"</span> <span class="token operator">+</span> intResult<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å»é™¤å‰å¯¼é›¶</span>    size_t start <span class="token operator">=</span> intResult<span class="token punctuation">.</span><span class="token function">find_first_not_of</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>start <span class="token operator">==</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">{</span>        intResult <span class="token operator">=</span> <span class="token string">"0"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        intResult <span class="token operator">=</span> intResult<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å»é™¤å°æ•°éƒ¨åˆ†æœ«å°¾çš„é›¶</span>    size_t end <span class="token operator">=</span> fracResult<span class="token punctuation">.</span><span class="token function">find_last_not_of</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>end <span class="token operator">==</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">{</span>        fracResult <span class="token operator">=</span> <span class="token string">"0"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        fracResult <span class="token operator">=</span> fracResult<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> end <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ„å»ºæœ€ç»ˆç»“æœ</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>fracResult <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> intResult<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">return</span> intResult <span class="token operator">+</span> <span class="token string">"."</span> <span class="token operator">+</span> fracResult<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">,</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">addBigDecimals</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-3"><a href="#ä»£ç è§£é‡Š-3" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åˆ†å‰²æ•´æ•°å’Œå°æ•°éƒ¨åˆ†</strong>ï¼šé€šè¿‡æŸ¥æ‰¾å°æ•°ç‚¹ <code>'.'</code>ï¼Œå°†è¾“å…¥å­—ç¬¦ä¸²åˆ†å‰²ä¸ºæ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ã€‚å¦‚æœæ²¡æœ‰å°æ•°ç‚¹ï¼Œåˆ™å°æ•°éƒ¨åˆ†ä¸ºç©ºã€‚</li><li><strong>å¯¹é½å°æ•°ä½æ•°</strong>ï¼šå°†è¾ƒçŸ­çš„å°æ•°éƒ¨åˆ†è¡¥é›¶ï¼Œä½¿ä¸¤æ•°çš„å°æ•°ä½æ•°ç›¸åŒã€‚</li><li><strong>å¯¹é½æ•´æ•°ä½æ•°</strong>ï¼šåœ¨è¾ƒçŸ­çš„æ•´æ•°éƒ¨åˆ†å‰è¡¥é›¶ï¼Œä½¿ä¸¤æ•°çš„æ•´æ•°ä½æ•°ç›¸åŒã€‚</li><li><strong>é€ä½ç›¸åŠ </strong>ï¼š<ul><li>å…ˆä»å°æ•°éƒ¨åˆ†çš„æœ€ä½ä½å¼€å§‹é€ä½ç›¸åŠ ï¼Œå¤„ç†è¿›ä½ã€‚</li><li>å†ä»æ•´æ•°éƒ¨åˆ†çš„æœ€ä½ä½å¼€å§‹é€ä½ç›¸åŠ ï¼Œç»§ç»­å¤„ç†è¿›ä½ã€‚</li></ul></li><li><strong>å»é™¤å‰å¯¼é›¶å’Œå¤šä½™çš„æœ«å°¾é›¶</strong>ï¼š<ul><li>å»é™¤æ•´æ•°éƒ¨åˆ†çš„å‰å¯¼é›¶ï¼Œç¡®ä¿ç»“æœçš„æ ¼å¼æ­£ç¡®ã€‚</li><li>å»é™¤å°æ•°éƒ¨åˆ†çš„æœ«å°¾é›¶ï¼Œå¦‚æœå°æ•°éƒ¨åˆ†å…¨ä¸ºé›¶ï¼Œåˆ™åªä¿ç•™æ•´æ•°éƒ¨åˆ†ã€‚</li></ul></li><li><strong>åˆå¹¶ç»“æœ</strong>ï¼šå°†æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†åˆå¹¶ï¼Œå½¢æˆæœ€ç»ˆçš„åŠ æ³•ç»“æœã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-3"><a href="#æ—¶é—´å¤æ‚åº¦-3" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç”±äºéœ€è¦éå†å°æ•°éƒ¨åˆ†å’Œæ•´æ•°éƒ¨åˆ†çš„æ¯ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯è¾“å…¥æ•°ä¸­è¾ƒé•¿çš„éƒ¨åˆ†çš„é•¿åº¦ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®5ï¼šé«˜ç²¾åº¦å¹‚è¿ç®—"><a href="#æ¨¡æ‹Ÿé¢˜ç›®5ï¼šé«˜ç²¾åº¦å¹‚è¿ç®—" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®5ï¼šé«˜ç²¾åº¦å¹‚è¿ç®—"></a>æ¨¡æ‹Ÿé¢˜ç›®5ï¼šé«˜ç²¾åº¦å¹‚è¿ç®—</h2><h3 id="é¢˜ç›®æè¿°-4"><a href="#é¢˜ç›®æè¿°-4" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>B</code>ï¼Œè®¡ç®— <code>A^B</code>ï¼ˆå³ <code>A</code> çš„ <code>B</code> æ¬¡æ–¹ï¼‰ã€‚ç”±äºç»“æœå¯èƒ½éå¸¸å¤§ï¼Œè¯·è¾“å‡º <code>A^B</code> çš„å…¨éƒ¨æ•°å­—ã€‚<code>0^0</code> å®šä¹‰ä¸º <code>1</code>ã€‚</p><h3 id="è¾“å…¥æ ¼å¼-4"><a href="#è¾“å…¥æ ¼å¼-4" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸€è¡Œï¼ŒåŒ…å«ä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå…¶ä¸­ <code>0 â‰¤ A, B â‰¤ 10,000</code>ã€‚<code>A</code> å¯èƒ½æœ‰å¤šè¾¾ 100,000 ä½ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-4"><a href="#è¾“å‡ºæ ¼å¼-4" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A^B</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-4"><a href="#ç¤ºä¾‹è¾“å…¥-4" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">2 10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-4"><a href="#ç¤ºä¾‹è¾“å‡º-4" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">1024<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-4"><a href="#è§£é¢˜æ€è·¯-4" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>è®¡ç®—é«˜ç²¾åº¦å¹‚è¿ç®—éœ€è¦å¤šæ¬¡å¤§æ•°ä¹˜æ³•ã€‚å¸¸ç”¨çš„æ–¹æ³•æ˜¯<strong>å¿«é€Ÿå¹‚</strong>ï¼ˆExponentiation by Squaringï¼‰ï¼Œç»“åˆå¤§æ•°ä¹˜æ³•ï¼Œå¯ä»¥æœ‰æ•ˆåœ°è®¡ç®— <code>A^B</code>ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šå°†ç»“æœ <code>result</code> åˆå§‹åŒ–ä¸º <code>1</code>ã€‚</li><li><strong>å¿«é€Ÿå¹‚è¿­ä»£</strong>ï¼š<ul><li>å½“ <code>B</code> å¤§äº <code>0</code> æ—¶ï¼š<ul><li>å¦‚æœ <code>B</code> æ˜¯å¥‡æ•°ï¼Œ<code>result = result * A</code>ã€‚</li><li><code>A = A * A</code>ã€‚</li><li><code>B = B / 2</code>ã€‚</li></ul></li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šå°† <code>result</code> è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶è¾“å‡ºã€‚</li></ol><h3 id="C-å®ç°-4"><a href="#C-å®ç°-4" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¤§æ•°ä¹˜æ³•å‡½æ•°</span>string <span class="token function">multiplyStrings</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> num1<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> num2<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> num1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> num2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">product</span><span class="token punctuation">(</span>n <span class="token operator">+</span> m<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åè½¬å­—ç¬¦ä¸²</span>    string A <span class="token operator">=</span> num1<span class="token punctuation">;</span>    string B <span class="token operator">=</span> num2<span class="token punctuation">;</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digitA <span class="token operator">=</span> A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> m<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">int</span> digitB <span class="token operator">=</span> B<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">+=</span> digitA <span class="token operator">*</span> digitB<span class="token punctuation">;</span>            <span class="token comment">// å¤„ç†è¿›ä½</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+=</span> product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>            product<span class="token punctuation">[</span>i <span class="token operator">+</span> j<span class="token punctuation">]</span> <span class="token operator">%=</span> <span class="token number">10</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ„å»ºç»“æœå­—ç¬¦ä¸²</span>    string result<span class="token punctuation">;</span>    <span class="token keyword">int</span> size <span class="token operator">=</span> product<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// å»é™¤å‰å¯¼é›¶</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> product<span class="token punctuation">[</span>size <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        size<span class="token operator">--</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> size <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        result <span class="token operator">+=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>product<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å¿«é€Ÿå¹‚å‡½æ•°</span>string <span class="token function">powerBigNumbers</span><span class="token punctuation">(</span>string A<span class="token punctuation">,</span> <span class="token keyword">int</span> B<span class="token punctuation">)</span><span class="token punctuation">{</span>    string result <span class="token operator">=</span> <span class="token string">"1"</span><span class="token punctuation">;</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>B <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>B <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>            result <span class="token operator">=</span> <span class="token function">multiplyStrings</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        A <span class="token operator">=</span> <span class="token function">multiplyStrings</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> A<span class="token punctuation">)</span><span class="token punctuation">;</span>        B <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">;</span>    <span class="token keyword">int</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    <span class="token comment">// å¤„ç† 0^0</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token string">"0"</span> <span class="token operator">&amp;&amp;</span> B <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"1"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å¤„ç† A^0</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"1"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å¤„ç† 0^B (B &gt; 0)</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"0"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token function">powerBigNumbers</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-4"><a href="#ä»£ç è§£é‡Š-4" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>å¤§æ•°ä¹˜æ³•</strong>ï¼š<ul><li>ä½¿ç”¨ä¸å‰è¿°å¤§æ•°ä¹˜æ³•ç›¸åŒçš„æ–¹æ³•ï¼Œå°†ä¸¤ä¸ªå¤§æ•°å­—ç¬¦ä¸²ç›¸ä¹˜ï¼Œè¿”å›ç»“æœå­—ç¬¦ä¸²ã€‚</li></ul></li><li><strong>å¿«é€Ÿå¹‚</strong>ï¼š<ul><li>ä½¿ç”¨å¿«é€Ÿå¹‚ç®—æ³•ï¼Œé€šè¿‡å°†æŒ‡æ•° <code>B</code> åˆ†è§£ä¸ºäºŒè¿›åˆ¶å½¢å¼ï¼Œå‡å°‘ä¹˜æ³•æ¬¡æ•°ã€‚</li><li>å¦‚æœå½“å‰ <code>B</code> ä¸ºå¥‡æ•°ï¼Œ<code>result = result * A</code>ã€‚</li><li>å°† <code>A</code> è‡ªä¹˜ï¼Œ<code>A = A * A</code>ã€‚</li><li>å°† <code>B</code> å³ç§»ä¸€ä½ï¼Œ<code>B = B / 2</code>ã€‚</li></ul></li><li><strong>ç‰¹æ®Šæƒ…å†µå¤„ç†</strong>ï¼š<ul><li><code>0^0</code> å®šä¹‰ä¸º <code>1</code>ã€‚</li><li><code>A^0</code>ï¼ˆ<code>A</code> ä¸ä¸º <code>0</code>ï¼‰ç»“æœä¸º <code>1</code>ã€‚</li><li><code>0^B</code>ï¼ˆ<code>B &gt; 0</code>ï¼‰ç»“æœä¸º <code>0</code>ã€‚</li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šå°†æœ€ç»ˆçš„ <code>result</code> è¾“å‡ºã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-4"><a href="#æ—¶é—´å¤æ‚åº¦-4" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>å¿«é€Ÿå¹‚çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log B) æ¬¡ä¹˜æ³•ï¼Œæ¯æ¬¡ä¹˜æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(N * M)ã€‚å› æ­¤ï¼Œæ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(N * M * log B)ï¼Œå…¶ä¸­ N å’Œ M æ˜¯å‚ä¸ä¹˜æ³•çš„ä¸¤ä¸ªå¤§æ•°çš„ä½æ•°ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®6ï¼šé«˜ç²¾åº¦æ±‚æ¨¡è¿ç®—"><a href="#æ¨¡æ‹Ÿé¢˜ç›®6ï¼šé«˜ç²¾åº¦æ±‚æ¨¡è¿ç®—" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®6ï¼šé«˜ç²¾åº¦æ±‚æ¨¡è¿ç®—"></a>æ¨¡æ‹Ÿé¢˜ç›®6ï¼šé«˜ç²¾åº¦æ±‚æ¨¡è¿ç®—</h2><h3 id="é¢˜ç›®æè¿°-5"><a href="#é¢˜ç›®æè¿°-5" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå…¶ä¸­ <code>A</code> å¯èƒ½æœ‰å¤šè¾¾ 100,000 ä½ï¼Œ<code>B</code> ä¸è¶…è¿‡ 1,000,000ã€‚è¯·è®¡ç®— <code>A % B</code> çš„ç»“æœã€‚</p><h3 id="è¾“å…¥æ ¼å¼-5"><a href="#è¾“å…¥æ ¼å¼-5" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> ä¸å«å‰å¯¼é›¶ï¼Œé•¿åº¦ä¸è¶…è¿‡ 100,000 ä½ã€‚<code>0 â‰¤ B â‰¤ 1,000,000</code>ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-5"><a href="#è¾“å‡ºæ ¼å¼-5" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A % B</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-5"><a href="#ç¤ºä¾‹è¾“å…¥-5" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">1234567891234567891234567891000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-5"><a href="#ç¤ºä¾‹è¾“å‡º-5" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">789<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-5"><a href="#è§£é¢˜æ€è·¯-5" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>ç”±äº <code>A</code> å¯èƒ½éå¸¸å¤§ï¼Œæ— æ³•ç”¨å†…ç½®æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨ã€‚æˆ‘ä»¬éœ€è¦é€ä½è¯»å– <code>A</code>ï¼Œå¹¶é€šè¿‡å–æ¨¡è¿ç®—æ¥è®¡ç®— <code>A % B</code>ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šå°† <code>result</code> åˆå§‹åŒ–ä¸º <code>0</code>ã€‚</li><li><strong>é€ä½è¯»å–</strong>ï¼š<ul><li>éå† <code>A</code> çš„æ¯ä¸€ä½ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•°å­—ã€‚</li><li>æ›´æ–° <code>result = (result * 10 + current_digit) % B</code>ã€‚</li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šæœ€ç»ˆçš„ <code>result</code> å³ä¸º <code>A % B</code> çš„ç»“æœã€‚</li></ol><h3 id="C-å®ç°-5"><a href="#C-å®ç°-5" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">;</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// é€šå¸¸æƒ…å†µä¸‹ï¼Œæ¨¡ 0 æ˜¯æœªå®šä¹‰çš„ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®éœ€æ±‚è¾“å‡ºé”™è¯¯ä¿¡æ¯</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Undefined"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> A<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digit <span class="token operator">=</span> ch <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>        result <span class="token operator">=</span> <span class="token punctuation">(</span>result <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> digit<span class="token punctuation">)</span> <span class="token operator">%</span> B<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-5"><a href="#ä»£ç è§£é‡Š-5" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šå°† <code>result</code> åˆå§‹åŒ–ä¸º <code>0</code>ã€‚</li><li><strong>é€ä½è¯»å–</strong>ï¼š<ul><li>éå† <code>A</code> çš„æ¯ä¸€ä½ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•°å­—ã€‚</li><li>æ›´æ–° <code>result = (result * 10 + current_digit) % B</code>ã€‚</li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šæœ€ç»ˆçš„ <code>result</code> å³ä¸º <code>A % B</code> çš„ç»“æœã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-5"><a href="#æ—¶é—´å¤æ‚åº¦-5" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç”±äºéœ€è¦éå† <code>A</code> çš„æ¯ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯ <code>A</code> çš„ä½æ•°ã€‚å¯¹äº 100,000 ä½çš„æ•°ï¼Œè¿™ç§æ–¹æ³•åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šéƒ½æ˜¯é«˜æ•ˆçš„ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®7ï¼šé«˜ç²¾åº¦å­—ç¬¦ä¸²æ¯”è¾ƒ"><a href="#æ¨¡æ‹Ÿé¢˜ç›®7ï¼šé«˜ç²¾åº¦å­—ç¬¦ä¸²æ¯”è¾ƒ" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®7ï¼šé«˜ç²¾åº¦å­—ç¬¦ä¸²æ¯”è¾ƒ"></a>æ¨¡æ‹Ÿé¢˜ç›®7ï¼šé«˜ç²¾åº¦å­—ç¬¦ä¸²æ¯”è¾ƒ</h2><h3 id="é¢˜ç›®æè¿°-6"><a href="#é¢˜ç›®æè¿°-6" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå®ƒä»¬å¯èƒ½æœ‰å¤šè¾¾ 100,000 ä½ã€‚è¯·æ¯”è¾ƒ <code>A</code> å’Œ <code>B</code> çš„å¤§å°ï¼Œå¹¶è¾“å‡ºï¼š</p><ul><li><code>"A &gt; B"</code>ï¼Œå¦‚æœ <code>A</code> å¤§äº <code>B</code>ã€‚</li><li><code>"A &lt; B"</code>ï¼Œå¦‚æœ <code>A</code> å°äº <code>B</code>ã€‚</li><li><code>"A = B"</code>ï¼Œå¦‚æœ <code>A</code> ç­‰äº <code>B</code>ã€‚</li></ul><h3 id="è¾“å…¥æ ¼å¼-6"><a href="#è¾“å…¥æ ¼å¼-6" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> å’Œ <code>B</code> å‡ä¸å«å‰å¯¼é›¶ï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡ 100,000 ä½ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-6"><a href="#è¾“å‡ºæ ¼å¼-6" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A</code> å’Œ <code>B</code> çš„å…³ç³»ã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-6"><a href="#ç¤ºä¾‹è¾“å…¥-6" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">123456789123456789123456789123456789<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-6"><a href="#ç¤ºä¾‹è¾“å‡º-6" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">A = B<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-6"><a href="#è§£é¢˜æ€è·¯-6" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>ç”±äº <code>A</code> å’Œ <code>B</code> å¯èƒ½éå¸¸å¤§ï¼Œæ— æ³•ç”¨å†…ç½®æ•°æ®ç±»å‹ç›´æ¥å­˜å‚¨ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ­¥éª¤æ¯”è¾ƒä¸¤ä¸ªå¤§æ•°ï¼š</p><ol><li><strong>æ¯”è¾ƒé•¿åº¦</strong>ï¼š<ul><li>å¦‚æœ <code>A</code> çš„é•¿åº¦å¤§äº <code>B</code>ï¼Œåˆ™ <code>A &gt; B</code>ã€‚</li><li>å¦‚æœ <code>A</code> çš„é•¿åº¦å°äº <code>B</code>ï¼Œåˆ™ <code>A &lt; B</code>ã€‚</li></ul></li><li><strong>é€ä½æ¯”è¾ƒ</strong>ï¼š<ul><li>å¦‚æœé•¿åº¦ç›¸åŒï¼Œé€ä½ä»é«˜ä½å¼€å§‹æ¯”è¾ƒã€‚</li><li>ä¸€æ—¦å‘ç°ä¸åŒçš„æ•°å­—ï¼Œç¡®å®šå¤§å°å…³ç³»ã€‚</li></ul></li><li><strong>ç›¸ç­‰</strong>ï¼š<ul><li>å¦‚æœæ‰€æœ‰ä½éƒ½ç›¸åŒï¼Œåˆ™ <code>A = B</code>ã€‚</li></ul></li></ol><h3 id="C-å®ç°-6"><a href="#C-å®ç°-6" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">,</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A &gt; B"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A &lt; B"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>A <span class="token operator">==</span> B<span class="token punctuation">)</span><span class="token punctuation">{</span>            cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A = B"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token comment">// é€ä½æ¯”è¾ƒ</span>            <span class="token keyword">bool</span> greater <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">bool</span> less <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    greater <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> B<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                    less <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>greater<span class="token punctuation">)</span><span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A &gt; B"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">else</span><span class="token punctuation">{</span>                cout <span class="token operator">&lt;&lt;</span> <span class="token string">"A &lt; B"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-6"><a href="#ä»£ç è§£é‡Š-6" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>æ¯”è¾ƒé•¿åº¦</strong>ï¼š<ul><li>ç›´æ¥æ¯”è¾ƒå­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œç¡®å®šå“ªä¸ªæ•°æ›´å¤§ã€‚</li></ul></li><li><strong>é€ä½æ¯”è¾ƒ</strong>ï¼š<ul><li>å¦‚æœé•¿åº¦ç›¸åŒï¼Œé€ä½ä»å·¦åˆ°å³ï¼ˆé«˜ä½åˆ°ä½ä½ï¼‰æ¯”è¾ƒæ¯ä¸€ä½ã€‚</li><li>ä¸€æ—¦å‘ç°ä¸åŒçš„æ•°å­—ï¼Œç«‹å³ç¡®å®šå¤§å°å…³ç³»ã€‚</li></ul></li><li><strong>ç›¸ç­‰</strong>ï¼š<ul><li>å¦‚æœæ‰€æœ‰ä½éƒ½ç›¸åŒï¼Œè¾“å‡º <code>A = B</code>ã€‚</li></ul></li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-6"><a href="#æ—¶é—´å¤æ‚åº¦-6" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>æœ€åæƒ…å†µä¸‹ï¼Œéœ€è¦é€ä½æ¯”è¾ƒä¸¤ä¸ªæ•°ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯ <code>A</code> å’Œ <code>B</code> çš„ä½æ•°ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®8ï¼šé«˜ç²¾åº¦é™¤æ³•ï¼ˆæ±‚å•†ï¼‰"><a href="#æ¨¡æ‹Ÿé¢˜ç›®8ï¼šé«˜ç²¾åº¦é™¤æ³•ï¼ˆæ±‚å•†ï¼‰" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®8ï¼šé«˜ç²¾åº¦é™¤æ³•ï¼ˆæ±‚å•†ï¼‰"></a>æ¨¡æ‹Ÿé¢˜ç›®8ï¼šé«˜ç²¾åº¦é™¤æ³•ï¼ˆæ±‚å•†ï¼‰</h2><h3 id="é¢˜ç›®æè¿°-7"><a href="#é¢˜ç›®æè¿°-7" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå…¶ä¸­ <code>A</code> å¯èƒ½æœ‰å¤šè¾¾ 100,000 ä½ï¼Œ<code>B</code> ä¸è¶…è¿‡ 1,000,000ã€‚è¯·è®¡ç®— <code>A / B</code> çš„æ•´æ•°å•†ã€‚</p><h3 id="è¾“å…¥æ ¼å¼-7"><a href="#è¾“å…¥æ ¼å¼-7" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> ä¸å«å‰å¯¼é›¶ï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡ 100,000 ä½ã€‚<code>0 &lt; B â‰¤ 1,000,000</code>ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-7"><a href="#è¾“å‡ºæ ¼å¼-7" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>A / B</code> çš„æ•´æ•°å•†ã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-7"><a href="#ç¤ºä¾‹è¾“å…¥-7" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">1234567891234567891000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-7"><a href="#ç¤ºä¾‹è¾“å‡º-7" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">123456789123456<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-7"><a href="#è§£é¢˜æ€è·¯-7" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>é«˜ç²¾åº¦é™¤æ³•æ¶‰åŠå°†å¤§æ•° <code>A</code> é€æ­¥é™¤ä»¥è¾ƒå°çš„æ•° <code>B</code>ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šå°† <code>result</code> åˆå§‹åŒ–ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œ<code>temp</code> åˆå§‹åŒ–ä¸º <code>0</code>ã€‚</li><li><strong>é€ä½è¯»å–</strong>ï¼š<ul><li>ä»é«˜ä½åˆ°ä½ä½ï¼Œé€ä½è¯»å– <code>A</code> çš„æ¯ä¸€ä½ï¼Œæ›´æ–° <code>temp = temp * 10 + current_digit</code>ã€‚</li><li>è®¡ç®— <code>temp / B</code> çš„å•†ï¼Œå°†å…¶è¿½åŠ åˆ° <code>result</code>ã€‚</li><li>æ›´æ–° <code>temp = temp % B</code>ã€‚</li></ul></li><li><strong>å»é™¤å‰å¯¼é›¶</strong>ï¼šç¡®ä¿ç»“æœä¸å«å‰å¯¼é›¶ï¼Œé™¤éç»“æœä¸º <code>0</code>ã€‚</li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šå°† <code>result</code> è¾“å‡ºã€‚</li></ol><h3 id="C-å®ç°-7"><a href="#C-å®ç°-7" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">;</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// é€šå¸¸æƒ…å†µä¸‹ï¼Œé™¤ä»¥0æ˜¯æœªå®šä¹‰çš„ï¼Œè¿™é‡Œå¯ä»¥æ ¹æ®éœ€æ±‚è¾“å‡ºé”™è¯¯ä¿¡æ¯</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Undefined"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    string result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> A<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digit <span class="token operator">=</span> ch <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>        temp <span class="token operator">=</span> temp <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> digit<span class="token punctuation">;</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> quotient <span class="token operator">=</span> temp <span class="token operator">/</span> B<span class="token punctuation">;</span>        result <span class="token operator">+=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>quotient<span class="token punctuation">)</span><span class="token punctuation">;</span>        temp <span class="token operator">=</span> temp <span class="token operator">%</span> B<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// å»é™¤å‰å¯¼é›¶</span>    size_t start <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">find_first_not_of</span><span class="token punctuation">(</span><span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>start <span class="token operator">==</span> string<span class="token double-colon punctuation">::</span>npos<span class="token punctuation">)</span><span class="token punctuation">{</span>        result <span class="token operator">=</span> <span class="token string">"0"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">else</span><span class="token punctuation">{</span>        result <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-7"><a href="#ä»£ç è§£é‡Š-7" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åˆå§‹åŒ–</strong>ï¼š<code>result</code> ç”¨äºå­˜å‚¨å•†ï¼Œ<code>temp</code> ç”¨äºå­˜å‚¨å½“å‰çš„è¢«é™¤æ•°éƒ¨åˆ†ã€‚</li><li><strong>é€ä½è¯»å–</strong>ï¼š<ul><li>ä»é«˜ä½åˆ°ä½ä½è¯»å– <code>A</code> çš„æ¯ä¸€ä½ï¼Œå°†å…¶è½¬æ¢ä¸ºæ•°å­—ï¼Œå¹¶æ›´æ–° <code>temp = temp * 10 + current_digit</code>ã€‚</li><li>è®¡ç®— <code>temp / B</code>ï¼Œå°†å•†è¿½åŠ åˆ° <code>result</code>ã€‚</li><li>æ›´æ–° <code>temp = temp % B</code>ï¼Œç”¨äºä¸‹ä¸€æ¬¡è¿­ä»£ã€‚</li></ul></li><li><strong>å»é™¤å‰å¯¼é›¶</strong>ï¼šæ‰¾åˆ°ç¬¬ä¸€ä¸ªéé›¶å­—ç¬¦çš„ä½ç½®ï¼Œæˆªå–å­—ç¬¦ä¸²ã€‚å¦‚æœå…¨ä¸ºé›¶ï¼Œåˆ™ç»“æœä¸º <code>"0"</code>ã€‚</li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šè¾“å‡ºæœ€ç»ˆçš„å•†ã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-7"><a href="#æ—¶é—´å¤æ‚åº¦-7" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ç”±äºéœ€è¦éå† <code>A</code> çš„æ¯ä¸€ä½ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå…¶ä¸­ N æ˜¯ <code>A</code> çš„ä½æ•°ã€‚å¯¹äº 100,000 ä½çš„æ•°ï¼Œè¿™ç§æ–¹æ³•åœ¨æ—¶é—´å’Œç©ºé—´ä¸Šéƒ½æ˜¯é«˜æ•ˆçš„ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®9ï¼šé«˜ç²¾åº¦æ±‚-GCD"><a href="#æ¨¡æ‹Ÿé¢˜ç›®9ï¼šé«˜ç²¾åº¦æ±‚-GCD" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®9ï¼šé«˜ç²¾åº¦æ±‚ GCD"></a>æ¨¡æ‹Ÿé¢˜ç›®9ï¼šé«˜ç²¾åº¦æ±‚ GCD</h2><h3 id="é¢˜ç›®æè¿°-8"><a href="#é¢˜ç›®æè¿°-8" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸¤ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ï¼Œå…¶ä¸­ <code>A</code> å¯èƒ½æœ‰å¤šè¾¾ 100,000 ä½ï¼Œ<code>B</code> å¯èƒ½æœ‰å¤šè¾¾ 100,000 ä½ã€‚è¯·è®¡ç®— <code>GCD(A, B)</code>ï¼ˆæœ€å¤§å…¬çº¦æ•°ï¼‰ã€‚</p><h3 id="è¾“å…¥æ ¼å¼-8"><a href="#è¾“å…¥æ ¼å¼-8" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸¤è¡Œï¼Œæ¯è¡Œä¸€ä¸ªéè´Ÿæ•´æ•° <code>A</code> å’Œ <code>B</code>ã€‚<code>A</code> å’Œ <code>B</code> å‡ä¸å«å‰å¯¼é›¶ï¼Œä¸”é•¿åº¦ä¸è¶…è¿‡ 100,000 ä½ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-8"><a href="#è¾“å‡ºæ ¼å¼-8" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤º <code>GCD(A, B)</code> çš„ç»“æœã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-8"><a href="#ç¤ºä¾‹è¾“å…¥-8" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">4818<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-8"><a href="#ç¤ºä¾‹è¾“å‡º-8" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">6<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-8"><a href="#è§£é¢˜æ€è·¯-8" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>è®¡ç®—å¤§æ•°çš„ GCD å¯ä»¥ä½¿ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼Œä½†éœ€è¦å¤„ç†å¤§æ•°çš„å–æ¨¡æ“ä½œã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>å¤„ç† <code>A</code> å’Œ <code>B</code> çš„å¤§å°</strong>ï¼š<ul><li>æ¯”è¾ƒ <code>A</code> å’Œ <code>B</code> çš„å¤§å°ï¼Œç¡®ä¿ <code>A &gt;= B</code>ã€‚å¦‚æœä¸ï¼Œäº¤æ¢å®ƒä»¬ã€‚</li></ul></li><li><strong>è¿­ä»£è®¡ç®— GCD</strong>ï¼š<ul><li>ä½¿ç”¨æ¬§å‡ é‡Œå¾—ç®—æ³•ï¼Œé‡å¤è®¡ç®— <code>A % B</code>ï¼Œç›´åˆ° <code>B</code> ä¸º <code>0</code>ã€‚</li><li>éœ€è¦å®ç°å¤§æ•°å–æ¨¡çš„åŠŸèƒ½ã€‚</li></ul></li><li><strong>è¿”å›ç»“æœ</strong>ï¼š<ul><li>å½“ <code>B</code> ä¸º <code>0</code> æ—¶ï¼Œ<code>A</code> å³ä¸º GCDã€‚</li></ul></li></ol><h3 id="C-å®ç°-8"><a href="#C-å®ç°-8" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¤§æ•°æ¯”è¾ƒå‡½æ•°</span><span class="token keyword">int</span> <span class="token function">compareBigNumbers</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&gt;</span> b<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>a <span class="token operator">&lt;</span> b<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// å¤§æ•°å–æ¨¡å‡½æ•°</span><span class="token keyword">long</span> <span class="token keyword">long</span> <span class="token function">modBigNumber</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">long</span> <span class="token keyword">long</span> b<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> a<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digit <span class="token operator">=</span> ch <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">;</span>        result <span class="token operator">=</span> <span class="token punctuation">(</span>result <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> digit<span class="token punctuation">)</span> <span class="token operator">%</span> b<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    string A<span class="token punctuation">,</span> B<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> A <span class="token operator">&gt;&gt;</span> B<span class="token punctuation">;</span>    <span class="token comment">// è¾¹ç•Œæƒ…å†µ</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>B <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> A <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>A <span class="token operator">==</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> B <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// æ¯”è¾ƒå¤§å°ï¼Œç¡®ä¿ A &gt;= B</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">compareBigNumbers</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token function">swap</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> B<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">while</span><span class="token punctuation">(</span>B <span class="token operator">!=</span> <span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token comment">// å°† B è½¬æ¢ä¸º long long</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> b_val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch <span class="token operator">:</span> B<span class="token punctuation">)</span><span class="token punctuation">{</span>            b_val <span class="token operator">=</span> b_val <span class="token operator">*</span> <span class="token number">10</span> <span class="token operator">+</span> <span class="token punctuation">(</span>ch <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// é˜²æ­¢ b_val è¶…è¿‡ long long çš„èŒƒå›´</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>b_val <span class="token operator">&gt;</span> <span class="token number">1000000</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment">// è®¡ç®— A % B</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> a_mod <span class="token operator">=</span> <span class="token function">modBigNumber</span><span class="token punctuation">(</span>A<span class="token punctuation">,</span> b_val<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// è®¾ç½® A = B, B = a_mod</span>        A <span class="token operator">=</span> B<span class="token punctuation">;</span>        B <span class="token operator">=</span> <span class="token function">to_string</span><span class="token punctuation">(</span>a_mod<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> A <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-8"><a href="#ä»£ç è§£é‡Š-8" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>å¤§æ•°æ¯”è¾ƒå‡½æ•°</strong>ï¼š<ul><li>æ¯”è¾ƒä¸¤ä¸ªå¤§æ•°çš„å¤§å°ï¼Œè¿”å› <code>1</code>ï¼ˆ<code>a &gt; b</code>ï¼‰ã€<code>-1</code>ï¼ˆ<code>a &lt; b</code>ï¼‰ã€<code>0</code>ï¼ˆ<code>a = b</code>ï¼‰ã€‚</li></ul></li><li><strong>å¤§æ•°å–æ¨¡å‡½æ•°</strong>ï¼š<ul><li>é€ä½è¯»å– <code>A</code>ï¼Œæ›´æ–° <code>result = (result * 10 + current_digit) % B</code>ã€‚</li></ul></li><li><strong>æ¬§å‡ é‡Œå¾—ç®—æ³•</strong>ï¼š<ul><li>é‡å¤æ‰§è¡Œ <code>A = B</code>ï¼Œ<code>B = A % B</code>ï¼Œç›´åˆ° <code>B</code> ä¸º <code>0</code>ã€‚</li></ul></li><li><strong>è¾¹ç•Œæƒ…å†µå¤„ç†</strong>ï¼š<ul><li>å¦‚æœ <code>B</code> ä¸º <code>0</code>ï¼ŒGCD ä¸º <code>A</code>ã€‚</li><li>å¦‚æœ <code>A</code> ä¸º <code>0</code>ï¼ŒGCD ä¸º <code>B</code>ã€‚</li></ul></li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-8"><a href="#æ—¶é—´å¤æ‚åº¦-8" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ä¸»è¦æ—¶é—´å¤æ‚åº¦æ¥æºäºå¤§æ•°æ¯”è¾ƒå’Œå–æ¨¡æ“ä½œã€‚æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(N * log M)ï¼Œå…¶ä¸­ N æ˜¯å¤§æ•°çš„ä½æ•°ï¼ŒM æ˜¯è¾ƒå°æ•°çš„å¤§å°ã€‚</p><hr><h2 id="æ¨¡æ‹Ÿé¢˜ç›®10ï¼šé«˜ç²¾åº¦æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#æ¨¡æ‹Ÿé¢˜ç›®10ï¼šé«˜ç²¾åº¦æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="æ¨¡æ‹Ÿé¢˜ç›®10ï¼šé«˜ç²¾åº¦æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>æ¨¡æ‹Ÿé¢˜ç›®10ï¼šé«˜ç²¾åº¦æ–æ³¢é‚£å¥‘æ•°åˆ—</h2><h3 id="é¢˜ç›®æè¿°-9"><a href="#é¢˜ç›®æè¿°-9" class="headerlink" title="é¢˜ç›®æè¿°"></a>é¢˜ç›®æè¿°</h3><p>ç»™å®šä¸€ä¸ªæ•´æ•° <code>N</code>ï¼ˆ<code>1 â‰¤ N â‰¤ 10,000</code>ï¼‰ï¼Œè¯·è¾“å‡ºç¬¬ <code>N</code> ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚ç”±äºæ–æ³¢é‚£å¥‘æ•°å¯èƒ½éå¸¸å¤§ï¼Œéœ€è¦è¾“å‡ºå…¶å…¨éƒ¨æ•°å­—ã€‚</p><h3 id="è¾“å…¥æ ¼å¼-9"><a href="#è¾“å…¥æ ¼å¼-9" class="headerlink" title="è¾“å…¥æ ¼å¼"></a>è¾“å…¥æ ¼å¼</h3><ul><li>è¾“å…¥åŒ…å«ä¸€ä¸ªæ•´æ•° <code>N</code>ã€‚</li></ul><h3 id="è¾“å‡ºæ ¼å¼-9"><a href="#è¾“å‡ºæ ¼å¼-9" class="headerlink" title="è¾“å‡ºæ ¼å¼"></a>è¾“å‡ºæ ¼å¼</h3><ul><li>è¾“å‡ºä¸€è¡Œï¼Œè¡¨ç¤ºç¬¬ <code>N</code> ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚</li></ul><h3 id="ç¤ºä¾‹è¾“å…¥-9"><a href="#ç¤ºä¾‹è¾“å…¥-9" class="headerlink" title="ç¤ºä¾‹è¾“å…¥"></a>ç¤ºä¾‹è¾“å…¥</h3><pre class="line-numbers language-none"><code class="language-none">10<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¤ºä¾‹è¾“å‡º-9"><a href="#ç¤ºä¾‹è¾“å‡º-9" class="headerlink" title="ç¤ºä¾‹è¾“å‡º"></a>ç¤ºä¾‹è¾“å‡º</h3><pre class="line-numbers language-none"><code class="language-none">55<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è§£é¢˜æ€è·¯-9"><a href="#è§£é¢˜æ€è·¯-9" class="headerlink" title="è§£é¢˜æ€è·¯"></a>è§£é¢˜æ€è·¯</h3><p>è®¡ç®—é«˜ç²¾åº¦æ–æ³¢é‚£å¥‘æ•°åˆ—éœ€è¦å¤šæ¬¡å¤§æ•°åŠ æ³•ã€‚å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—ç¬¦ä¸²æ¥å­˜å‚¨æ¯ä¸ªæ–æ³¢é‚£å¥‘æ•°ï¼Œå¹¶é€æ­¥è®¡ç®—ã€‚</p><p>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li><strong>åˆå§‹åŒ–</strong>ï¼š<code>F(1) = 0</code>ï¼Œ<code>F(2) = 1</code>ã€‚</li><li><strong>è¿­ä»£è®¡ç®—</strong>ï¼š<ul><li>ä» <code>3</code> åˆ° <code>N</code>ï¼Œè®¡ç®— <code>F(i) = F(i-1) + F(i-2)</code>ã€‚</li><li>ä½¿ç”¨å¤§æ•°åŠ æ³•å®ç°ã€‚</li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šè¾“å‡º <code>F(N)</code>ã€‚</li></ol><h3 id="C-å®ç°-9"><a href="#C-å®ç°-9" class="headerlink" title="C++ å®ç°"></a>C++ å®ç°</h3><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;string&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;algorithm&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token comment">// å¤§æ•°åŠ æ³•å‡½æ•°</span>string <span class="token function">addBigNumbers</span><span class="token punctuation">(</span><span class="token keyword">const</span> string<span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> string<span class="token operator">&amp;</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>    string A <span class="token operator">=</span> a<span class="token punctuation">;</span>    string B <span class="token operator">=</span> b<span class="token punctuation">;</span>    <span class="token comment">// åè½¬å­—ç¬¦ä¸²ï¼Œä¾¿äºä»æœ€ä½ä½å¼€å§‹ç›¸åŠ </span>    <span class="token function">reverse</span><span class="token punctuation">(</span>A<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> A<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>B<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> B<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    string result<span class="token punctuation">;</span>    <span class="token keyword">int</span> carry <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> A<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> m <span class="token operator">=</span> B<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> max_len <span class="token operator">=</span> <span class="token function">max</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max_len<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">int</span> digitA <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> n<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>A<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> digitB <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> m<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">(</span>B<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token char">'0'</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> digitA <span class="token operator">+</span> digitB <span class="token operator">+</span> carry<span class="token punctuation">;</span>        carry <span class="token operator">=</span> sum <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">;</span>        result <span class="token operator">+=</span> <span class="token punctuation">(</span>sum <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>carry<span class="token punctuation">)</span><span class="token punctuation">{</span>        result <span class="token operator">+=</span> carry <span class="token operator">+</span> <span class="token char">'0'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token comment">// åè½¬å›æ­£å¸¸é¡ºåº</span>    <span class="token function">reverse</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> N<span class="token punctuation">;</span>    cin <span class="token operator">&gt;&gt;</span> N<span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>N <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"0"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>N <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        cout <span class="token operator">&lt;&lt;</span> <span class="token string">"1"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    string prev <span class="token operator">=</span> <span class="token string">"0"</span><span class="token punctuation">;</span>    string curr <span class="token operator">=</span> <span class="token string">"1"</span><span class="token punctuation">;</span>    string next<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> N<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        next <span class="token operator">=</span> <span class="token function">addBigNumbers</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span> curr<span class="token punctuation">)</span><span class="token punctuation">;</span>        prev <span class="token operator">=</span> curr<span class="token punctuation">;</span>        curr <span class="token operator">=</span> next<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    cout <span class="token operator">&lt;&lt;</span> curr <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç è§£é‡Š-9"><a href="#ä»£ç è§£é‡Š-9" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h3><ol><li><strong>åˆå§‹åŒ–</strong>ï¼š<ul><li><code>F(1) = 0</code>ï¼Œ<code>F(2) = 1</code>ã€‚</li></ul></li><li><strong>è¿­ä»£è®¡ç®—</strong>ï¼š<ul><li>ä½¿ç”¨ <code>addBigNumbers</code> å‡½æ•°ï¼Œé€æ­¥è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—ã€‚</li><li>æ›´æ–°å‰ä¸¤ä¸ªæ•°ï¼Œç›´åˆ°è®¡ç®—åˆ° <code>F(N)</code>ã€‚</li></ul></li><li><strong>è¾“å‡ºç»“æœ</strong>ï¼šè¾“å‡ºç¬¬ <code>N</code> ä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚</li></ol><h3 id="æ—¶é—´å¤æ‚åº¦-9"><a href="#æ—¶é—´å¤æ‚åº¦-9" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h3><p>ä¸»è¦æ—¶é—´å¤æ‚åº¦æ¥æºäºå¤§æ•°åŠ æ³•ï¼Œæ¯æ¬¡åŠ æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º O(L)ï¼Œå…¶ä¸­ L æ˜¯å½“å‰æ–æ³¢é‚£å¥‘æ•°çš„ä½æ•°ã€‚æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(N * L)ã€‚</p><hr><h2 id="ä½¿ç”¨é«˜ç²¾åº¦åº“ç®€åŒ–é«˜ç²¾åº¦è®¡ç®—"><a href="#ä½¿ç”¨é«˜ç²¾åº¦åº“ç®€åŒ–é«˜ç²¾åº¦è®¡ç®—" class="headerlink" title="ä½¿ç”¨é«˜ç²¾åº¦åº“ç®€åŒ–é«˜ç²¾åº¦è®¡ç®—"></a>ä½¿ç”¨é«˜ç²¾åº¦åº“ç®€åŒ–é«˜ç²¾åº¦è®¡ç®—</h2><p>è™½ç„¶æ‰‹åŠ¨å®ç°å¤§æ•°è¿ç®—èƒ½å¤ŸåŠ æ·±ç†è§£ï¼Œä½†åœ¨å®é™…ç«èµ›ä¸­ï¼Œä½¿ç”¨é«˜æ•ˆçš„é«˜ç²¾åº¦åº“å¯ä»¥èŠ‚çœæ—¶é—´å¹¶æé«˜ä»£ç çš„å¯é æ€§ã€‚ä»¥ä¸‹ä»‹ç»ä¸¤ç§å¸¸ç”¨çš„é«˜ç²¾åº¦åº“åŠå…¶åœ¨ C++ ä¸­çš„åº”ç”¨ã€‚</p><h3 id="1-GMPï¼ˆGNU-Multiple-Precision-Arithmetic-Libraryï¼‰"><a href="#1-GMPï¼ˆGNU-Multiple-Precision-Arithmetic-Libraryï¼‰" class="headerlink" title="1. GMPï¼ˆGNU Multiple Precision Arithmetic Libraryï¼‰"></a>1. GMPï¼ˆGNU Multiple Precision Arithmetic Libraryï¼‰</h3><p><strong>GMP</strong> æ˜¯ä¸€ä¸ªå¹¿æ³›ä½¿ç”¨çš„é«˜æ€§èƒ½å¤šç²¾åº¦ç®—æœ¯åº“ï¼Œæ”¯æŒæ•´æ•°ã€æœ‰ç†æ•°å’Œæµ®ç‚¹æ•°çš„è¿ç®—ã€‚</p><h4 id="å®‰è£…-GMP"><a href="#å®‰è£…-GMP" class="headerlink" title="å®‰è£… GMP"></a>å®‰è£… GMP</h4><p>åœ¨ Linux ç³»ç»Ÿä¸Šï¼Œå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libgmp-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="C-ç¤ºä¾‹ä»£ç "><a href="#C-ç¤ºä¾‹ä»£ç " class="headerlink" title="C++ ç¤ºä¾‹ä»£ç "></a>C++ ç¤ºä¾‹ä»£ç </h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;gmp.h&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    mpz_t a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> sum<span class="token punctuation">,</span> product<span class="token punctuation">;</span>    <span class="token comment">// åˆå§‹åŒ–å˜é‡</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_init</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// è®¾ç½®å€¼</span>    <span class="token function">mpz_set_str</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token string">"123456789123456789123456789"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_set_str</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token string">"987654321987654321987654321"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// åŠ æ³•</span>    <span class="token function">mpz_add</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Sum: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">mpz_get_str</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// ä¹˜æ³•</span>    <span class="token function">mpz_mul</span><span class="token punctuation">(</span>product<span class="token punctuation">,</span> a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Product: "</span> <span class="token operator">&lt;&lt;</span> <span class="token function">mpz_get_str</span><span class="token punctuation">(</span><span class="token constant">NULL</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> product<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// æ¸…ç†å˜é‡</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>sum<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">mpz_clear</span><span class="token punctuation">(</span>product<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++ <span class="token parameter variable">-o</span> gmp_example gmp_example.cpp <span class="token parameter variable">-lgmp</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä»£ç è§£é‡Š-10"><a href="#ä»£ç è§£é‡Š-10" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ul><li>ä½¿ç”¨ <code>mpz_t</code> ç±»å‹æ¥è¡¨ç¤ºå¤§æ•´æ•°ã€‚</li><li>é€šè¿‡ <code>mpz_set_str</code> è®¾ç½®å¤§æ•°çš„å€¼ã€‚</li><li>ä½¿ç”¨ <code>mpz_add</code> å’Œ <code>mpz_mul</code> è¿›è¡ŒåŠ æ³•å’Œä¹˜æ³•è¿ç®—ã€‚</li><li>é€šè¿‡ <code>mpz_get_str</code> è·å–è¿ç®—ç»“æœçš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</li><li>æœ€åï¼Œä½¿ç”¨ <code>mpz_clear</code> æ¸…ç†å˜é‡ã€‚</li></ul><h3 id="2-Boost-Multiprecision"><a href="#2-Boost-Multiprecision" class="headerlink" title="2. Boost.Multiprecision"></a>2. Boost.Multiprecision</h3><p><strong>Boost.Multiprecision</strong> æ˜¯ Boost åº“ä¸­çš„ä¸€ä¸ªæ¨¡å—ï¼Œæä¾›äº†å¤šç§é«˜ç²¾åº¦æ•°å€¼ç±»å‹ï¼Œä½¿ç”¨æ–¹ä¾¿ä¸”ä¸ C++ æ ‡å‡†åº“å…¼å®¹ã€‚</p><h4 id="å®‰è£…-Boost"><a href="#å®‰è£…-Boost" class="headerlink" title="å®‰è£… Boost"></a>å®‰è£… Boost</h4><p>åœ¨å¤§å¤šæ•° Linux å‘è¡Œç‰ˆä¸Šï¼Œå¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨å®‰è£…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> libboost-all-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="C-ç¤ºä¾‹ä»£ç -1"><a href="#C-ç¤ºä¾‹ä»£ç -1" class="headerlink" title="C++ ç¤ºä¾‹ä»£ç "></a>C++ ç¤ºä¾‹ä»£ç </h4><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;boost/multiprecision/cpp_int.hpp&gt;</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> boost<span class="token double-colon punctuation">::</span>multiprecision<span class="token punctuation">;</span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// ä½¿ç”¨ Boost çš„ cpp_int ç±»å‹è¡¨ç¤ºå¤§æ•´æ•°</span>    cpp_int <span class="token function">a</span><span class="token punctuation">(</span><span class="token string">"123456789123456789123456789"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cpp_int <span class="token function">b</span><span class="token punctuation">(</span><span class="token string">"987654321987654321987654321"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    cpp_int sum <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>    cpp_int product <span class="token operator">=</span> a <span class="token operator">*</span> b<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Sum: "</span> <span class="token operator">&lt;&lt;</span> sum <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"Product: "</span> <span class="token operator">&lt;&lt;</span> product <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¼–è¯‘-1"><a href="#ç¼–è¯‘-1" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">g++ <span class="token parameter variable">-o</span> boost_example boost_example.cpp <span class="token parameter variable">-lboost_system</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä»£ç è§£é‡Š-11"><a href="#ä»£ç è§£é‡Š-11" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ul><li>ä½¿ç”¨ <code>cpp_int</code> ç±»å‹è¡¨ç¤ºå¤§æ•´æ•°ï¼Œç±»ä¼¼äºå†…ç½®çš„æ•°å€¼ç±»å‹ã€‚</li><li>å¯ä»¥ç›´æ¥ä½¿ç”¨ <code>+</code> å’Œ <code>*</code> ç­‰è¿ç®—ç¬¦è¿›è¡Œå¤§æ•°è¿ç®—ï¼Œè¯­æ³•ç®€æ´ã€‚</li><li>Boost åº“è‡ªåŠ¨å¤„ç†å¤§æ•°çš„å­˜å‚¨å’Œè¿ç®—ï¼Œæ— éœ€æ‰‹åŠ¨ç®¡ç†è¿›ä½ç­‰ç»†èŠ‚ã€‚</li></ul><h3 id="æ€§èƒ½ä¸ä¼˜åŒ–"><a href="#æ€§èƒ½ä¸ä¼˜åŒ–" class="headerlink" title="æ€§èƒ½ä¸ä¼˜åŒ–"></a>æ€§èƒ½ä¸ä¼˜åŒ–</h3><p>ä½¿ç”¨é«˜æ•ˆçš„é«˜ç²¾åº¦åº“ï¼ˆå¦‚ GMP å’Œ Boost.Multiprecisionï¼‰èƒ½å¤Ÿæ˜¾è‘—æå‡é«˜ç²¾åº¦è¿ç®—çš„æ€§èƒ½ã€‚è¿™äº›åº“ç»è¿‡é«˜åº¦ä¼˜åŒ–ï¼Œèƒ½å¤Ÿå¤„ç†æå¤§è§„æ¨¡çš„æ•°å€¼è¿ç®—ï¼Œé€‚åˆç«èµ›ä¸­çš„é«˜å¼ºåº¦è®¡ç®—éœ€æ±‚ã€‚</p><hr><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é«˜ç²¾åº¦è®¡ç®—åœ¨ç¼–ç¨‹ç«èµ›ä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†è¶…å‡ºå†…ç½®æ•°æ®ç±»å‹èŒƒå›´çš„æ•°å€¼è¿ç®—æ—¶ã€‚é€šè¿‡æ‰‹åŠ¨å®ç°å¤§æ•°åŠ å‡ä¹˜é™¤ï¼Œå¯ä»¥æ·±å…¥ç†è§£é«˜ç²¾åº¦è¿ç®—çš„åŸç†å’Œç®—æ³•ï¼›è€Œä½¿ç”¨é«˜æ•ˆçš„é«˜ç²¾åº¦åº“ï¼ˆå¦‚ GMP å’Œ Boost.Multiprecisionï¼‰åˆ™èƒ½å¤Ÿåœ¨ç«èµ›ä¸­å¿«é€Ÿã€å‡†ç¡®åœ°å®Œæˆå¤æ‚çš„æ•°å€¼è®¡ç®—ä»»åŠ¡ã€‚</p><p>å»ºè®®åœ¨å¤‡èµ›è¿‡ç¨‹ä¸­ï¼Œæ—¢è¦æŒæ¡æ‰‹åŠ¨å®ç°é«˜ç²¾åº¦è¿ç®—çš„æ–¹æ³•ï¼Œä¹Ÿè¦ç†Ÿæ‚‰å¸¸ç”¨é«˜ç²¾åº¦åº“çš„ä½¿ç”¨ï¼Œä»¥åº”å¯¹ä¸åŒç±»å‹çš„ç«èµ›é¢˜ç›®ã€‚</p><p>å¸Œæœ›ä»¥ä¸Šå†…å®¹èƒ½å¤Ÿå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£å’ŒæŒæ¡é«˜ç²¾åº¦è®¡ç®—ã€‚å¦‚æœ‰è¿›ä¸€æ­¥çš„é—®é¢˜ï¼Œæ¬¢è¿ç»§ç»­è®¨è®ºï¼</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰è¯¦è§£</title>
      <link href="/Bubble-Sort.html"/>
      <url>/Bubble-Sort.html</url>
      
        <content type="html"><![CDATA[<h3 id="å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰è¯¦è§£"><a href="#å†’æ³¡æ’åºï¼ˆBubble-Sortï¼‰è¯¦è§£" class="headerlink" title="å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰è¯¦è§£"></a>å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰è¯¦è§£</h3><p>å†’æ³¡æ’åºæ˜¯ä¸€ç§ç®€å•çš„æ’åºç®—æ³•ï¼Œå…¶å·¥ä½œåŸç†æ˜¯é€šè¿‡é‡å¤éå†è¦æ’åºçš„æ•°åˆ—ï¼Œæ¯”è¾ƒç›¸é‚»çš„å…ƒç´ å¹¶åœ¨é¡ºåºé”™è¯¯çš„æƒ…å†µä¸‹äº¤æ¢å®ƒä»¬ã€‚éå†æ•°åˆ—çš„å·¥ä½œæ˜¯é‡å¤è¿›è¡Œçš„ï¼Œç›´åˆ°æ²¡æœ‰éœ€è¦äº¤æ¢çš„å…ƒç´ ä¸ºæ­¢ï¼Œè¿™æ—¶æ•°åˆ—å·²ç»æ’åºå®Œæˆã€‚</p><span id="more"></span><h4 id="å†’æ³¡æ’åºçš„å·¥ä½œåŸç†"><a href="#å†’æ³¡æ’åºçš„å·¥ä½œåŸç†" class="headerlink" title="å†’æ³¡æ’åºçš„å·¥ä½œåŸç†"></a>å†’æ³¡æ’åºçš„å·¥ä½œåŸç†</h4><ol><li><strong>æ¯”è¾ƒç›¸é‚»çš„å…ƒç´ </strong>ï¼šä»æ•°åˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œæ¯”è¾ƒæ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ ã€‚å¦‚æœå®ƒä»¬çš„é¡ºåºé”™è¯¯ï¼ˆå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå°±äº¤æ¢å®ƒä»¬ã€‚</li><li><strong>é‡å¤éå†</strong>ï¼šå¯¹æ¯ä¸€å¯¹ç›¸é‚»å…ƒç´ é‡å¤ä¸Šè¿°è¿‡ç¨‹ï¼Œæ¯å®Œæˆä¸€è½®éå†ï¼Œæœ€å¤§çš„å…ƒç´ ä¼šâ€œå†’æ³¡â€åˆ°æ•°åˆ—çš„æœ«å°¾ã€‚</li><li><strong>å‡å°‘æ¯”è¾ƒèŒƒå›´</strong>ï¼šå› ä¸ºæ¯å®Œæˆä¸€è½®éå†ï¼Œæœ€å¤§çš„å…ƒç´ å·²ç»åœ¨æ­£ç¡®çš„ä½ç½®ï¼Œæ‰€ä»¥ä¸‹ä¸€è½®éå†å¯ä»¥å¿½ç•¥å·²ç»æ’åºå¥½çš„éƒ¨åˆ†ã€‚</li><li><strong>æå‰ç»ˆæ­¢</strong>ï¼šå¦‚æœåœ¨æŸä¸€è½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œè¯´æ˜æ•°åˆ—å·²ç»æœ‰åºï¼Œå¯ä»¥æå‰ç»ˆæ­¢æ’åºè¿‡ç¨‹ã€‚</li></ol><h4 id="å†’æ³¡æ’åºçš„ç®—æ³•æ­¥éª¤"><a href="#å†’æ³¡æ’åºçš„ç®—æ³•æ­¥éª¤" class="headerlink" title="å†’æ³¡æ’åºçš„ç®—æ³•æ­¥éª¤"></a>å†’æ³¡æ’åºçš„ç®—æ³•æ­¥éª¤</h4><ol><li><strong>åˆå§‹åŒ–</strong>ï¼šè®¾å®šä¸€ä¸ªæ ‡å¿—ä½<code>swapped</code>ï¼Œç”¨äºæ£€æµ‹åœ¨ä¸€è½®éå†ä¸­æ˜¯å¦å‘ç”Ÿäº†äº¤æ¢ã€‚</li><li><strong>å¤–å±‚å¾ªç¯</strong>ï¼šä»ç¬¬ä¸€å…ƒç´ å¼€å§‹ï¼Œè¿›è¡Œ<code>n-1</code>è½®éå†ï¼Œå…¶ä¸­<code>n</code>æ˜¯æ•°åˆ—çš„é•¿åº¦ã€‚</li><li><strong>å†…å±‚å¾ªç¯</strong>ï¼šåœ¨æ¯ä¸€è½®éå†ä¸­ï¼Œæ¯”è¾ƒç›¸é‚»çš„å…ƒç´ å¯¹ï¼Œå¹¶åœ¨å¿…è¦æ—¶äº¤æ¢å®ƒä»¬ã€‚</li><li><strong>æ£€æŸ¥äº¤æ¢</strong>ï¼šå¦‚æœåœ¨æŸä¸€è½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œè¯´æ˜æ•°åˆ—å·²ç»æœ‰åºï¼Œæå‰ç»“æŸæ’åºã€‚</li><li><strong>ç»“æŸæ’åº</strong>ï¼šå½“æ‰€æœ‰å…ƒç´ éƒ½æŒ‰ç…§æ­£ç¡®çš„é¡ºåºæ’åˆ—åï¼Œæ’åºå®Œæˆã€‚</li></ol><h4 id="C-å®ç°ä»£ç "><a href="#C-å®ç°ä»£ç " class="headerlink" title="C++å®ç°ä»£ç "></a>C++å®ç°ä»£ç </h4><p>ä»¥ä¸‹æ˜¯å†’æ³¡æ’åºåœ¨C++ä¸­çš„å®ç°ç¤ºä¾‹ï¼ŒåŒ…å«è¯¦ç»†æ³¨é‡Šï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token comment">// å†’æ³¡æ’åºå‡½æ•°</span><span class="token keyword">void</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> swapped<span class="token punctuation">;</span>    <span class="token comment">// å¤–å±‚å¾ªç¯æ§åˆ¶æ€»å…±éœ€è¦è¿›è¡Œçš„è½®æ•°</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment">// å†…å±‚å¾ªç¯è¿›è¡Œç›¸é‚»å…ƒç´ çš„æ¯”è¾ƒå’Œäº¤æ¢</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// å¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œäº¤æ¢å®ƒä»¬</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// æ ‡è®°å‘ç”Ÿäº†äº¤æ¢</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment">// å¦‚æœä¸€è½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œæå‰ç»“æŸæ’åº</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// è¾…åŠ©å‡½æ•°ï¼Œç”¨äºæ‰“å°æ•°ç»„</span><span class="token keyword">void</span> <span class="token function">printArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">int</span><span class="token operator">&amp;</span> num <span class="token operator">:</span> arr<span class="token punctuation">)</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> num <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// ä¸»å‡½æ•°ç¤ºä¾‹</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºå‰çš„æ•°ç»„: "</span><span class="token punctuation">;</span>    <span class="token function">printArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">bubbleSort</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºåçš„æ•°ç»„: "</span><span class="token punctuation">;</span>    <span class="token function">printArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¾“å‡ºç»“æœï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">æ’åºå‰çš„æ•°ç»„: 64 34 25 12 22 11 90 æ’åºåçš„æ•°ç»„: 11 12 22 25 34 64 90 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ"><a href="#æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ" class="headerlink" title="æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ"></a>æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ</h4><ul><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š</p><ul><li>æœ€ä½³æƒ…å†µï¼šå½“æ•°ç»„å·²ç»æœ‰åºæ—¶ï¼Œåªéœ€è¿›è¡Œä¸€æ¬¡éå†ï¼Œæ²¡æœ‰äº¤æ¢æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n)</code>ã€‚</li><li>å¹³å‡æƒ…å†µï¼š<code>O(nÂ²)</code>ï¼Œéœ€è¦è¿›è¡Œå¤šæ¬¡éå†å’Œäº¤æ¢ã€‚</li><li>æœ€åæƒ…å†µï¼šå½“æ•°ç»„æ˜¯é€†åºæ’åˆ—æ—¶ï¼Œéœ€è¦è¿›è¡Œæœ€å¤šçš„æ¯”è¾ƒå’Œäº¤æ¢ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(nÂ²)</code>ã€‚</li></ul></li><li><p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(1)</code>ï¼Œå†’æ³¡æ’åºæ˜¯åŸåœ°æ’åºç®—æ³•ï¼Œä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚</p></li><li><p><strong>ç¨³å®šæ€§</strong>ï¼šå†’æ³¡æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•ï¼Œå³ç›¸ç­‰çš„å…ƒç´ åœ¨æ’åºåç›¸å¯¹ä½ç½®ä¸å˜ã€‚</p></li></ul><h4 id="å†’æ³¡æ’åºçš„ä¼˜åŒ–"><a href="#å†’æ³¡æ’åºçš„ä¼˜åŒ–" class="headerlink" title="å†’æ³¡æ’åºçš„ä¼˜åŒ–"></a>å†’æ³¡æ’åºçš„ä¼˜åŒ–</h4><ol><li><strong>æå‰ç»ˆæ­¢ä¼˜åŒ–</strong>ï¼šå¦‚ä¸Šä»£ç æ‰€ç¤ºï¼Œé€šè¿‡è®¾ç½®<code>swapped</code>æ ‡å¿—ä½ï¼Œå¯ä»¥åœ¨ä¸€è½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢æ—¶ï¼Œæå‰ç»ˆæ­¢æ’åºï¼Œå‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒå’Œäº¤æ¢ã€‚</li><li><strong>è®°å½•æœ€åäº¤æ¢çš„ä½ç½®</strong>ï¼šåœ¨æŸäº›å®ç°ä¸­ï¼Œå¯ä»¥è®°å½•æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®ï¼Œä»¥æ­¤æ¥å‡å°‘ä¸‹ä¸€è½®éœ€è¦æ¯”è¾ƒçš„å…ƒç´ æ•°é‡ï¼Œå› ä¸ºäº¤æ¢ä¹‹åçš„å…ƒç´ å·²ç»æœ‰åºã€‚</li></ol><p>ä¼˜åŒ–åçš„ä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token comment">// ä¼˜åŒ–åçš„å†’æ³¡æ’åºå‡½æ•°</span><span class="token keyword">void</span> <span class="token function">optimizedBubbleSort</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> newn<span class="token punctuation">;</span>    <span class="token keyword">do</span> <span class="token punctuation">{</span>        newn <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                newn <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        n <span class="token operator">=</span> newn<span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>newn <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// è¾…åŠ©å‡½æ•°å’Œä¸»å‡½æ•°åŒä¸Š</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§ä¼˜åŒ–æ–¹å¼å¯ä»¥åœ¨æŸäº›æƒ…å†µä¸‹è¿›ä¸€æ­¥å‡å°‘æ¯”è¾ƒæ¬¡æ•°ï¼Œæé«˜æ’åºæ•ˆç‡ã€‚</p><h4 id="ç¤ºä¾‹è®²è§£"><a href="#ç¤ºä¾‹è®²è§£" class="headerlink" title="ç¤ºä¾‹è®²è§£"></a>ç¤ºä¾‹è®²è§£</h4><p>å‡è®¾æœ‰ä¸€ä¸ªæ•°ç»„<code>[5, 1, 4, 2, 8]</code>ï¼Œæˆ‘ä»¬ä½¿ç”¨å†’æ³¡æ’åºè¿›è¡Œæ’åºï¼š</p><p><strong>ç¬¬ä¸€è½®éå†ï¼š</strong></p><ul><li>æ¯”è¾ƒ5å’Œ1ï¼Œ5 &gt; 1ï¼Œäº¤æ¢ï¼Œæ•°ç»„å˜ä¸º<code>[1, 5, 4, 2, 8]</code></li><li>æ¯”è¾ƒ5å’Œ4ï¼Œ5 &gt; 4ï¼Œäº¤æ¢ï¼Œæ•°ç»„å˜ä¸º<code>[1, 4, 5, 2, 8]</code></li><li>æ¯”è¾ƒ5å’Œ2ï¼Œ5 &gt; 2ï¼Œäº¤æ¢ï¼Œæ•°ç»„å˜ä¸º<code>[1, 4, 2, 5, 8]</code></li><li>æ¯”è¾ƒ5å’Œ8ï¼Œ5 &lt; 8ï¼Œä¸äº¤æ¢</li><li>ç¬¬ä¸€è½®ç»“æŸï¼Œæœ€å¤§çš„å…ƒç´ 8å·²åœ¨æœ€å</li></ul><p><strong>ç¬¬äºŒè½®éå†ï¼š</strong></p><ul><li>æ¯”è¾ƒ1å’Œ4ï¼Œ1 &lt; 4ï¼Œä¸äº¤æ¢</li><li>æ¯”è¾ƒ4å’Œ2ï¼Œ4 &gt; 2ï¼Œäº¤æ¢ï¼Œæ•°ç»„å˜ä¸º<code>[1, 2, 4, 5, 8]</code></li><li>æ¯”è¾ƒ4å’Œ5ï¼Œ4 &lt; 5ï¼Œä¸äº¤æ¢</li><li>æ¯”è¾ƒ5å’Œ8ï¼Œ5 &lt; 8ï¼Œä¸äº¤æ¢</li><li>ç¬¬äºŒè½®ç»“æŸï¼Œæ¬¡å¤§çš„å…ƒç´ 5å·²åœ¨å€’æ•°ç¬¬äºŒä½ç½®</li></ul><p><strong>ç¬¬ä¸‰è½®éå†ï¼š</strong></p><ul><li>æ¯”è¾ƒ1å’Œ2ï¼Œ1 &lt; 2ï¼Œä¸äº¤æ¢</li><li>æ¯”è¾ƒ2å’Œ4ï¼Œ2 &lt; 4ï¼Œä¸äº¤æ¢</li><li>æ¯”è¾ƒ4å’Œ5ï¼Œ4 &lt; 5ï¼Œä¸äº¤æ¢</li><li>ç”±äºè¿™ä¸€è½®æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œæ’åºæå‰ç»“æŸ</li></ul><p>æœ€ç»ˆæ’åºåçš„æ•°ç»„ä¸º<code>[1, 2, 4, 5, 8]</code>ã€‚</p><h4 id="å†’æ³¡æ’åºçš„åº”ç”¨å’Œå±€é™æ€§"><a href="#å†’æ³¡æ’åºçš„åº”ç”¨å’Œå±€é™æ€§" class="headerlink" title="å†’æ³¡æ’åºçš„åº”ç”¨å’Œå±€é™æ€§"></a>å†’æ³¡æ’åºçš„åº”ç”¨å’Œå±€é™æ€§</h4><p><strong>åº”ç”¨åœºæ™¯</strong>ï¼š</p><ul><li>å†’æ³¡æ’åºç”±äºå®ç°ç®€å•ï¼Œé€‚åˆç”¨äºæ•™å­¦å’Œç†è§£åŸºæœ¬æ’åºæ¦‚å¿µã€‚</li><li>å½“æ•°æ®é‡è¾ƒå°æ—¶ï¼Œå†’æ³¡æ’åºçš„æ€§èƒ½å°šå¯ã€‚</li></ul><p><strong>å±€é™æ€§</strong>ï¼š</p><ul><li>å¯¹äºå¤§è§„æ¨¡æ•°æ®ï¼Œå†’æ³¡æ’åºæ•ˆç‡è¾ƒä½ï¼Œä¸é€‚åˆå®é™…åº”ç”¨ã€‚</li><li>æ—¶é—´å¤æ‚åº¦ä¸º<code>O(nÂ²)</code>ï¼Œåœ¨æ•°æ®é‡å¢å¤§æ—¶ï¼Œæ€§èƒ½æ€¥å‰§ä¸‹é™ã€‚</li></ul><h4 id="ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ"><a href="#ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ" class="headerlink" title="ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ"></a>ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ</h4><ul><li><p><strong>é€‰æ‹©æ’åºï¼ˆSelection Sortï¼‰</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦åŒä¸º<code>O(nÂ²)</code>ï¼Œä½†é€‰æ‹©æ’åºåœ¨æ•°æ®äº¤æ¢æ¬¡æ•°ä¸Šæ¯”å†’æ³¡æ’åºå°‘ã€‚</li><li>å†’æ³¡æ’åºç¨³å®šï¼Œé€‰æ‹©æ’åºé€šå¸¸æ˜¯ä¸ç¨³å®šçš„ã€‚</li></ul></li><li><p><strong>æ’å…¥æ’åºï¼ˆInsertion Sortï¼‰</strong>ï¼š</p><ul><li>æ—¶é—´å¤æ‚åº¦åŒä¸º<code>O(nÂ²)</code>ï¼Œä½†æ’å…¥æ’åºåœ¨éƒ¨åˆ†æœ‰åºæ•°æ®ä¸Šè¡¨ç°è¾ƒå¥½ã€‚</li><li>æ’å…¥æ’åºä¹Ÿæ˜¯ç¨³å®šçš„ã€‚</li></ul></li><li><p><strong>å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</strong>ã€<strong>å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰</strong>ã€<strong>å †æ’åºï¼ˆHeap Sortï¼‰</strong> ç­‰é«˜çº§æ’åºç®—æ³•ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n log n)</code>ï¼Œåœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶æ•ˆç‡è¿œé«˜äºå†’æ³¡æ’åºã€‚</p></li></ul><h3 id="æ·±å…¥ç†è§£C-ä¸­çš„å†’æ³¡æ’åºåŠå…¶åœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨"><a href="#æ·±å…¥ç†è§£C-ä¸­çš„å†’æ³¡æ’åºåŠå…¶åœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨" class="headerlink" title="æ·±å…¥ç†è§£C++ä¸­çš„å†’æ³¡æ’åºåŠå…¶åœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨"></a>æ·±å…¥ç†è§£C++ä¸­çš„å†’æ³¡æ’åºåŠå…¶åœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨</h3><p>å†’æ³¡æ’åºï¼ˆBubble Sortï¼‰ä½œä¸ºæœ€åŸºç¡€çš„æ’åºç®—æ³•ä¹‹ä¸€ï¼Œåœ¨è®¡ç®—æœºç§‘å­¦çš„å­¦ä¹ è¿‡ç¨‹ä¸­æ‰®æ¼”ç€é‡è¦è§’è‰²ã€‚è™½ç„¶åœ¨å®é™…åº”ç”¨ä¸­ç”±äºå…¶æ•ˆç‡è¾ƒä½è€Œä¸å¸¸ç”¨ï¼Œä½†åœ¨ç¼–ç¨‹ç«èµ›ï¼ˆå¦‚CSP-Jï¼‰ä¸­ï¼Œå†’æ³¡æ’åºä»ç„¶æœ‰å…¶ç‹¬ç‰¹çš„ä»·å€¼ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤„ç†ç‰¹å®šç±»å‹çš„é—®é¢˜æ—¶ã€‚æœ¬æ–‡å°†å¯¹å†’æ³¡æ’åºè¿›è¡Œæ›´ä¸ºè¯¦ç»†å’Œæ·±å…¥çš„è®²è§£ï¼Œå¹¶ç»“åˆCSP-Jå†å¹´çœŸé¢˜ä¸­çš„å®ä¾‹ï¼Œå¸®åŠ©æ‚¨å…¨é¢æŒæ¡è¿™ä¸€çŸ¥è¯†ç‚¹ã€‚</p><hr><h3 id="ä¸€ã€å†’æ³¡æ’åºçš„æ·±å…¥è§£æ"><a href="#ä¸€ã€å†’æ³¡æ’åºçš„æ·±å…¥è§£æ" class="headerlink" title="ä¸€ã€å†’æ³¡æ’åºçš„æ·±å…¥è§£æ"></a>ä¸€ã€å†’æ³¡æ’åºçš„æ·±å…¥è§£æ</h3><h4 id="1-å†’æ³¡æ’åºçš„æ ¸å¿ƒæ€æƒ³"><a href="#1-å†’æ³¡æ’åºçš„æ ¸å¿ƒæ€æƒ³" class="headerlink" title="1. å†’æ³¡æ’åºçš„æ ¸å¿ƒæ€æƒ³"></a>1. å†’æ³¡æ’åºçš„æ ¸å¿ƒæ€æƒ³</h4><p>å†’æ³¡æ’åºé€šè¿‡é‡å¤åœ°éå†å¾…æ’åºåºåˆ—ï¼Œæ¯”è¾ƒç›¸é‚»å…ƒç´ å¹¶åœ¨å¿…è¦æ—¶äº¤æ¢å®ƒä»¬ï¼Œä½¿å¾—è¾ƒå¤§çš„å…ƒç´ é€æ­¥â€œå†’æ³¡â€åˆ°åºåˆ—çš„æœ«ç«¯ã€‚è¿™ä¸ªè¿‡ç¨‹é‡å¤è¿›è¡Œï¼Œç›´åˆ°æ•´ä¸ªåºåˆ—æœ‰åºã€‚</p><h4 id="2-ç®—æ³•æ­¥éª¤çš„è¯¦ç»†è¯´æ˜"><a href="#2-ç®—æ³•æ­¥éª¤çš„è¯¦ç»†è¯´æ˜" class="headerlink" title="2. ç®—æ³•æ­¥éª¤çš„è¯¦ç»†è¯´æ˜"></a>2. ç®—æ³•æ­¥éª¤çš„è¯¦ç»†è¯´æ˜</h4><ol><li><strong>åˆå§‹åŒ–æ ‡å¿—ä½</strong>ï¼šç”¨äºæ£€æµ‹åœ¨æŸä¸€è½®éå†ä¸­æ˜¯å¦å‘ç”Ÿäº†äº¤æ¢æ“ä½œï¼Œä»¥åˆ¤æ–­æ˜¯å¦æå‰ç»ˆæ­¢æ’åºã€‚</li><li><strong>å¤–å±‚å¾ªç¯ï¼ˆè½®æ•°æ§åˆ¶ï¼‰</strong>ï¼šé€šå¸¸éœ€è¦è¿›è¡Œ<code>n-1</code>è½®éå†ï¼Œå…¶ä¸­<code>n</code>æ˜¯åºåˆ—çš„é•¿åº¦ã€‚æ¯ä¸€è½®éå†ç¡®ä¿è‡³å°‘ä¸€ä¸ªå…ƒç´ è¢«æ”¾åˆ°æ­£ç¡®çš„ä½ç½®ã€‚</li><li><strong>å†…å±‚å¾ªç¯ï¼ˆå…ƒç´ æ¯”è¾ƒä¸äº¤æ¢ï¼‰</strong>ï¼šåœ¨æ¯ä¸€è½®éå†ä¸­ï¼Œæ¯”è¾ƒç›¸é‚»çš„å…ƒç´ å¯¹ï¼Œå¦‚æœå‰ä¸€ä¸ªå…ƒç´ å¤§äºåä¸€ä¸ªå…ƒç´ ï¼Œåˆ™äº¤æ¢å®ƒä»¬ã€‚</li><li><strong>ä¼˜åŒ–ç­–ç•¥</strong>ï¼š<ul><li><strong>æå‰ç»ˆæ­¢</strong>ï¼šå¦‚æœåœ¨æŸä¸€è½®éå†ä¸­æ²¡æœ‰å‘ç”Ÿä»»ä½•äº¤æ¢ï¼Œè¯´æ˜åºåˆ—å·²ç»æœ‰åºï¼Œå¯ä»¥æå‰ç»“æŸæ’åºã€‚</li><li><strong>è®°å½•æœ€åäº¤æ¢ä½ç½®</strong>ï¼šé€šè¿‡è®°å½•æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®ï¼Œå‡å°‘ä¸‹ä¸€è½®éœ€è¦æ¯”è¾ƒçš„å…ƒç´ æ•°é‡ã€‚</li></ul></li></ol><h4 id="3-C-ä¸­çš„å†’æ³¡æ’åºå®ç°"><a href="#3-C-ä¸­çš„å†’æ³¡æ’åºå®ç°" class="headerlink" title="3. C++ä¸­çš„å†’æ³¡æ’åºå®ç°"></a>3. C++ä¸­çš„å†’æ³¡æ’åºå®ç°</h4><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªæ›´ä¸ºè¯¦å°½çš„C++å®ç°ï¼ŒåŒ…æ‹¬é¢å¤–çš„ä¼˜åŒ–å’Œé”™è¯¯å¤„ç†ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iomanip&gt;</span> <span class="token comment">// ç”¨äºæ ¼å¼åŒ–è¾“å‡º</span></span><span class="token comment">// å†’æ³¡æ’åºå‡½æ•°ï¼ŒåŒ…å«ä¼˜åŒ–</span><span class="token keyword">void</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> swapped<span class="token punctuation">;</span>    <span class="token comment">// å¤–å±‚å¾ªç¯ï¼Œæ§åˆ¶éå†è½®æ•°</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment">// å†…å±‚å¾ªç¯ï¼Œæ¯”è¾ƒå¹¶äº¤æ¢ç›¸é‚»å…ƒç´ </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> n <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token comment">// å¦‚æœæ²¡æœ‰å‘ç”Ÿäº¤æ¢ï¼Œåºåˆ—å·²æ’åº</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// è¾…åŠ©å‡½æ•°ï¼šæ‰“å°æ•°ç»„</span><span class="token keyword">void</span> <span class="token function">printArray</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">auto</span><span class="token operator">&amp;</span> num <span class="token operator">:</span> arr<span class="token punctuation">)</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> num <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"\n"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// ä¸»å‡½æ•°ç¤ºä¾‹</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºå‰çš„æ•°ç»„: "</span><span class="token punctuation">;</span>    <span class="token function">printArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">bubbleSort</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ’åºåçš„æ•°ç»„: "</span><span class="token punctuation">;</span>    <span class="token function">printArray</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¾“å‡ºç»“æœï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">æ’åºå‰çš„æ•°ç»„: 64 34 25 12 22 11 90 æ’åºåçš„æ•°ç»„: 11 12 22 25 34 64 90 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="4-å†’æ³¡æ’åºçš„æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦"><a href="#4-å†’æ³¡æ’åºçš„æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦" class="headerlink" title="4. å†’æ³¡æ’åºçš„æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦"></a>4. å†’æ³¡æ’åºçš„æ—¶é—´ä¸ç©ºé—´å¤æ‚åº¦</h4><ul><li><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼š</p><ul><li>æœ€ä½³æƒ…å†µï¼š<code>O(n)</code>ï¼ˆå½“åºåˆ—å·²æ’åºï¼Œä»…éœ€ä¸€æ¬¡éå†ï¼Œæ— äº¤æ¢ï¼‰</li><li>å¹³å‡æƒ…å†µï¼š<code>O(nÂ²)</code></li><li>æœ€åæƒ…å†µï¼š<code>O(nÂ²)</code></li></ul></li><li><p><strong>ç©ºé—´å¤æ‚åº¦</strong>ï¼š<code>O(1)</code>ï¼ˆåŸåœ°æ’åºï¼Œä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼‰</p></li><li><p><strong>ç¨³å®šæ€§</strong>ï¼šå†’æ³¡æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•ï¼Œå³ç›¸ç­‰çš„å…ƒç´ åœ¨æ’åºåç›¸å¯¹ä½ç½®ä¸å˜ã€‚</p></li></ul><hr><h3 id="äºŒã€å†’æ³¡æ’åºåœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨"><a href="#äºŒã€å†’æ³¡æ’åºåœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨" class="headerlink" title="äºŒã€å†’æ³¡æ’åºåœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨"></a>äºŒã€å†’æ³¡æ’åºåœ¨CSP-Jæ¯”èµ›ä¸­çš„åº”ç”¨</h3><p>åœ¨CSP-Jæ¯”èµ›ä¸­ï¼Œè™½ç„¶å†’æ³¡æ’åºæœ¬èº«ç”±äºæ—¶é—´å¤æ‚åº¦è¾ƒé«˜ä¸å¸¸ç”¨äºå¤„ç†å¤§è§„æ¨¡æ•°æ®ï¼Œä½†å…¶æ¦‚å¿µå’Œå˜ç§åœ¨ç‰¹å®šç±»å‹çš„é—®é¢˜ä¸­ä»ç„¶éå¸¸å®ç”¨ã€‚ä»¥ä¸‹å°†ç»“åˆCSP-Jå†å¹´çœŸé¢˜ï¼Œåˆ†æå†’æ³¡æ’åºçš„åº”ç”¨åœºæ™¯åŠè§£é¢˜æ€è·¯ã€‚</p><h4 id="1-å¸¸è§åº”ç”¨åœºæ™¯"><a href="#1-å¸¸è§åº”ç”¨åœºæ™¯" class="headerlink" title="1. å¸¸è§åº”ç”¨åœºæ™¯"></a>1. å¸¸è§åº”ç”¨åœºæ™¯</h4><ul><li><strong>å°è§„æ¨¡æ•°æ®æ’åº</strong>ï¼šå½“æ•°æ®é‡è¾ƒå°æ—¶ï¼Œå†’æ³¡æ’åºçš„ä½å¸¸æ•°å› å­å’Œç®€å•å®ç°ä½¿å…¶æˆä¸ºå¿«é€Ÿè§£å†³é—®é¢˜çš„é€‰æ‹©ã€‚</li><li><strong>æ£€æµ‹åºåˆ—æœ‰åºæ€§</strong>ï¼šé€šè¿‡å†’æ³¡æ’åºçš„ä¼˜åŒ–å¯ä»¥å¿«é€Ÿæ£€æµ‹åºåˆ—æ˜¯å¦å·²ç»æœ‰åºï¼Œé€‚ç”¨äºéœ€è¦åˆ¤æ–­åºåˆ—ç‰¹æ€§çš„é¢˜ç›®ã€‚</li><li><strong>æ’åºç›¸å…³çš„æ¨¡æ‹Ÿé—®é¢˜</strong>ï¼šä¸€äº›é¢˜ç›®å¯èƒ½è¦æ±‚æ¨¡æ‹Ÿæ’åºè¿‡ç¨‹ï¼Œè®°å½•äº¤æ¢æ¬¡æ•°æˆ–ç‰¹å®šæ’åºæ­¥éª¤ï¼Œæ­¤æ—¶å†’æ³¡æ’åºçš„é€æ­¥äº¤æ¢è¿‡ç¨‹éå¸¸é€‚åˆã€‚</li></ul><h4 id="2-CSP-Jå†å¹´çœŸé¢˜ä¸­çš„ç›¸å…³é—®é¢˜ç¤ºä¾‹"><a href="#2-CSP-Jå†å¹´çœŸé¢˜ä¸­çš„ç›¸å…³é—®é¢˜ç¤ºä¾‹" class="headerlink" title="2. CSP-Jå†å¹´çœŸé¢˜ä¸­çš„ç›¸å…³é—®é¢˜ç¤ºä¾‹"></a>2. CSP-Jå†å¹´çœŸé¢˜ä¸­çš„ç›¸å…³é—®é¢˜ç¤ºä¾‹</h4><p><strong>ç¤ºä¾‹é¢˜ç›®1ï¼šäº¤æ¢æ’åºæ¬¡æ•°</strong></p><p><em>é¢˜ç›®æè¿°</em>ï¼š<br>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—ï¼Œè®¡ç®—é€šè¿‡å†’æ³¡æ’åºå°†å…¶æ’åºä¸ºå‡åºæ‰€éœ€çš„äº¤æ¢æ¬¡æ•°ã€‚</p><p><em>è¾“å…¥</em>ï¼š<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°<code>n</code>ï¼ˆ1 â‰¤ n â‰¤ 1000ï¼‰ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«<code>n</code>ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„å…ƒç´ ã€‚</p><p><em>è¾“å‡º</em>ï¼š<br>ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå†’æ³¡æ’åºæ‰€éœ€çš„äº¤æ¢æ¬¡æ•°ã€‚</p><p><em>ç¤ºä¾‹è¾“å…¥</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">55 1 4 2 8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>ç¤ºä¾‹è¾“å‡º</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>è§£é¢˜æ€è·¯</em>ï¼š<br>é€šè¿‡æ¨¡æ‹Ÿå†’æ³¡æ’åºçš„è¿‡ç¨‹ï¼Œè®°å½•æ¯æ¬¡äº¤æ¢çš„æ¬¡æ•°ã€‚</p><p><em>å®ç°ä»£ç </em>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">arr</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>x<span class="token operator">:</span> arr<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>        <span class="token keyword">int</span> swapCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> swapped<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapCount<span class="token operator">++</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> swapCount<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>è§£æ</em>ï¼š</p><ul><li>æ¨¡æ‹Ÿå†’æ³¡æ’åºï¼Œéå†æ¯ä¸€è½®ï¼Œæ¯”è¾ƒå¹¶äº¤æ¢ç›¸é‚»å…ƒç´ ã€‚</li><li>æ¯æ¬¡å‘ç”Ÿäº¤æ¢æ—¶ï¼Œ<code>swapCount</code>é€’å¢ã€‚</li><li>æœ€ç»ˆè¾“å‡ºäº¤æ¢æ¬¡æ•°ã€‚</li></ul><p><strong>ç¤ºä¾‹é¢˜ç›®2ï¼šä¼˜åŒ–å†’æ³¡æ’åºåçš„æœ€åäº¤æ¢ä½ç½®</strong></p><p><em>é¢˜ç›®æè¿°</em>ï¼š<br>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—ï¼Œä½¿ç”¨è®°å½•æœ€åäº¤æ¢ä½ç½®çš„ä¼˜åŒ–ç‰ˆå†’æ³¡æ’åºè¿›è¡Œæ’åºã€‚è¾“å‡ºæ¯ä¸€è½®éå†ç»“æŸåæœ€åäº¤æ¢çš„ä½ç½®ã€‚</p><p><em>è¾“å…¥</em>ï¼š<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°<code>n</code>ï¼ˆ1 â‰¤ n â‰¤ 1000ï¼‰ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«<code>n</code>ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„å…ƒç´ ã€‚</p><p><em>è¾“å‡º</em>ï¼š<br>æ¯ä¸€è½®éå†ç»“æŸåï¼Œè¾“å‡ºæœ€åäº¤æ¢çš„ä½ç½®ï¼ˆä»1å¼€å§‹è®¡æ•°ï¼‰ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><p><em>ç¤ºä¾‹è¾“å…¥</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">55 1 4 2 8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>ç¤ºä¾‹è¾“å‡º</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">4 3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>è§£é¢˜æ€è·¯</em>ï¼š<br>ä½¿ç”¨ä¼˜åŒ–åçš„å†’æ³¡æ’åºï¼Œè®°å½•æ¯ä¸€è½®äº¤æ¢çš„æœ€åä½ç½®ï¼Œå¹¶è¾“å‡ºã€‚</p><p><em>å®ç°ä»£ç </em>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">arr</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>x<span class="token operator">:</span> arr<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>        <span class="token keyword">int</span> lastSwapPos<span class="token punctuation">;</span>    <span class="token keyword">int</span> nEnd <span class="token operator">=</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> lastPositions<span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>nEnd <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        lastSwapPos <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>nEnd<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                lastSwapPos <span class="token operator">=</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>lastSwapPos <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        lastPositions<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>lastSwapPos<span class="token punctuation">)</span><span class="token punctuation">;</span>        nEnd <span class="token operator">=</span> lastSwapPos<span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>size_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>lastPositions<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> lastPositions<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>è§£æ</em>ï¼š</p><ul><li>è®°å½•æ¯è½®æœ€åä¸€æ¬¡äº¤æ¢çš„ä½ç½®<code>lastSwapPos</code>ã€‚</li><li>æ›´æ–°ä¸‹ä¸€è½®éå†çš„ç»“æŸä½ç½®<code>nEnd</code>ä¸º<code>lastSwapPos</code>ï¼Œå‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒã€‚</li><li>å°†æ¯è½®çš„<code>lastSwapPos</code>è®°å½•å¹¶æœ€ç»ˆè¾“å‡ºã€‚</li></ul><p><strong>ç¤ºä¾‹é¢˜ç›®3ï¼šé€†åºå¯¹çš„è®¡ç®—</strong></p><p><em>é¢˜ç›®æè¿°</em>ï¼š<br>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—ï¼Œè®¡ç®—åºåˆ—ä¸­çš„é€†åºå¯¹æ•°ï¼ˆå³å¯¹äºæ‰€æœ‰<code>i &lt; j</code>ï¼Œæ»¡è¶³<code>arr[i] &gt; arr[j]</code>çš„å¯¹æ•°ï¼‰ã€‚ä½¿ç”¨å†’æ³¡æ’åºçš„äº¤æ¢æ¬¡æ•°æ¥è®¡ç®—é€†åºå¯¹æ•°ã€‚</p><p><em>è¾“å…¥</em>ï¼š<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°<code>n</code>ï¼ˆ1 â‰¤ n â‰¤ 1000ï¼‰ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«<code>n</code>ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„å…ƒç´ ã€‚</p><p><em>è¾“å‡º</em>ï¼š<br>ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºé€†åºå¯¹çš„æ€»æ•°ã€‚</p><p><em>ç¤ºä¾‹è¾“å…¥</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">52 3 8 6 1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>ç¤ºä¾‹è¾“å‡º</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">5<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>è§£é¢˜æ€è·¯</em>ï¼š<br>å†’æ³¡æ’åºåœ¨æ’åºè¿‡ç¨‹ä¸­äº¤æ¢æ¬¡æ•°ç­‰åŒäºé€†åºå¯¹æ•°ã€‚é€šè¿‡æ¨¡æ‹Ÿå†’æ³¡æ’åºï¼Œç»Ÿè®¡äº¤æ¢æ¬¡æ•°å³å¯ã€‚</p><p><em>å®ç°ä»£ç </em>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">arr</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>x<span class="token operator">:</span> arr<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>        <span class="token keyword">int</span> inverseCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> swapped<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                inverseCount<span class="token operator">++</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> inverseCount<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>è§£æ</em>ï¼š</p><ul><li>æ¨¡æ‹Ÿå†’æ³¡æ’åºï¼Œç»Ÿè®¡æ¯æ¬¡äº¤æ¢æ—¶é€†åºå¯¹çš„æ•°é‡ã€‚</li><li>æœ€ç»ˆè¾“å‡ºé€†åºå¯¹æ€»æ•°ã€‚</li></ul><hr><h3 id="ä¸‰ã€å†’æ³¡æ’åºçš„å˜ç§ä¸ä¼˜åŒ–"><a href="#ä¸‰ã€å†’æ³¡æ’åºçš„å˜ç§ä¸ä¼˜åŒ–" class="headerlink" title="ä¸‰ã€å†’æ³¡æ’åºçš„å˜ç§ä¸ä¼˜åŒ–"></a>ä¸‰ã€å†’æ³¡æ’åºçš„å˜ç§ä¸ä¼˜åŒ–</h3><p>åœ¨CSP-Jæ¯”èµ›ä¸­ï¼Œé™¤äº†æ ‡å‡†çš„å†’æ³¡æ’åºï¼Œå¸¸è§çš„å˜ç§å’Œä¼˜åŒ–ä¹Ÿæ˜¯è€ƒå¯Ÿçš„é‡ç‚¹ã€‚ä»¥ä¸‹ä»‹ç»å‡ ç§å¸¸è§çš„ä¼˜åŒ–ç­–ç•¥åŠå…¶å®ç°ã€‚</p><h4 id="1-é¸¡å°¾é…’æ’åºï¼ˆCocktail-Shaker-Sortï¼‰"><a href="#1-é¸¡å°¾é…’æ’åºï¼ˆCocktail-Shaker-Sortï¼‰" class="headerlink" title="1. é¸¡å°¾é…’æ’åºï¼ˆCocktail Shaker Sortï¼‰"></a>1. é¸¡å°¾é…’æ’åºï¼ˆCocktail Shaker Sortï¼‰</h4><p>é¸¡å°¾é…’æ’åºæ˜¯å†’æ³¡æ’åºçš„ä¸€ç§åŒå‘å˜ä½“ï¼Œèƒ½å¤Ÿåœ¨æ¯ä¸€è½®éå†ä¸­åŒæ—¶ä»å·¦å‘å³å’Œä»å³å‘å·¦è¿›è¡Œå…ƒç´ æ¯”è¾ƒå’Œäº¤æ¢ï¼Œå‡å°‘äº†éœ€è¦éå†çš„è½®æ•°ã€‚</p><p><em>å®ç°ä»£ç </em>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">void</span> <span class="token function">cocktailShakerSort</span><span class="token punctuation">(</span>std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">bool</span> swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> end <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>swapped<span class="token punctuation">)</span><span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token comment">// ä»å·¦åˆ°å³è¿›è¡Œæ¯”è¾ƒ</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> end<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        end<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token comment">// ä»å³åˆ°å·¦è¿›è¡Œæ¯”è¾ƒ</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> end<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> start<span class="token punctuation">;</span> <span class="token operator">--</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        start<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token function">cocktailShakerSort</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> num <span class="token operator">:</span> data<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> num <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>è¾“å‡ºç»“æœ</strong>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">0 1 2 3 4 5 8 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>è§£æ</em>ï¼š</p><ul><li>åœ¨æ¯ä¸€è½®ä¸­ï¼Œå…ˆä»å·¦å‘å³è¿›è¡Œæ¯”è¾ƒå’Œäº¤æ¢ï¼Œç„¶åä»å³å‘å·¦è¿›è¡Œæ¯”è¾ƒå’Œäº¤æ¢ã€‚</li><li>è¿™ç§æ–¹å¼å¯ä»¥åŒæ—¶å°†è¾ƒå¤§çš„å…ƒç´ â€œå†’æ³¡â€åˆ°å³ç«¯å’Œè¾ƒå°çš„å…ƒç´ â€œæ²‰æ·€â€åˆ°å·¦ç«¯ï¼Œå‡å°‘äº†éœ€è¦çš„éå†è½®æ•°ã€‚</li></ul><h4 id="2-å†’æ³¡æ’åºä¸åŒæŒ‡é’ˆæŠ€æœ¯ç»“åˆ"><a href="#2-å†’æ³¡æ’åºä¸åŒæŒ‡é’ˆæŠ€æœ¯ç»“åˆ" class="headerlink" title="2. å†’æ³¡æ’åºä¸åŒæŒ‡é’ˆæŠ€æœ¯ç»“åˆ"></a>2. å†’æ³¡æ’åºä¸åŒæŒ‡é’ˆæŠ€æœ¯ç»“åˆ</h4><p>åœ¨æŸäº›ç«èµ›é¢˜ç›®ä¸­ï¼Œå¯ä»¥å°†å†’æ³¡æ’åºä¸åŒæŒ‡é’ˆæŠ€æœ¯ç»“åˆï¼Œç”¨äºè§£å†³å¤æ‚çš„æ’åºç›¸å…³é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œå¯»æ‰¾æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ å¯¹ç­‰ã€‚</p><p><strong>ç¤ºä¾‹é¢˜ç›®4ï¼šæ‰¾åˆ°æ•°ç»„ä¸­ç¬¬Kæ¬¡äº¤æ¢çš„å…ƒç´ å¯¹</strong></p><p><em>é¢˜ç›®æè¿°</em>ï¼š<br>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—å’Œä¸€ä¸ªæ•´æ•°<code>K</code>ï¼Œåœ¨ä½¿ç”¨å†’æ³¡æ’åºå¯¹åºåˆ—è¿›è¡Œæ’åºçš„è¿‡ç¨‹ä¸­ï¼Œæ‰¾åˆ°ç¬¬<code>K</code>æ¬¡å‘ç”Ÿäº¤æ¢çš„å…ƒç´ å¯¹ã€‚å¦‚æœäº¤æ¢æ¬¡æ•°ä¸è¶³<code>K</code>æ¬¡ï¼Œè¾“å‡º<code>-1 -1</code>ã€‚</p><p><em>è¾“å…¥</em>ï¼š<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸¤ä¸ªæ•´æ•°<code>n</code>å’Œ<code>K</code>ï¼ˆ1 â‰¤ n â‰¤ 1000ï¼Œ1 â‰¤ K â‰¤ 10^6ï¼‰ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«<code>n</code>ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„å…ƒç´ ã€‚</p><p><em>è¾“å‡º</em>ï¼š<br>ä¸¤ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºç¬¬<code>K</code>æ¬¡äº¤æ¢çš„å…ƒç´ å¯¹ï¼ˆä»å°åˆ°å¤§æ’åˆ—ï¼‰ã€‚å¦‚æœäº¤æ¢æ¬¡æ•°ä¸è¶³ï¼Œè¾“å‡º<code>-1 -1</code>ã€‚</p><p><em>ç¤ºä¾‹è¾“å…¥</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">5 35 1 4 2 8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>ç¤ºä¾‹è¾“å‡º</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">4 2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>è§£é¢˜æ€è·¯</em>ï¼š</p><ul><li>æ¨¡æ‹Ÿå†’æ³¡æ’åºï¼Œè®°å½•æ¯æ¬¡äº¤æ¢çš„å…ƒç´ å¯¹ã€‚</li><li>å½“äº¤æ¢æ¬¡æ•°è¾¾åˆ°<code>K</code>æ—¶ï¼Œè¾“å‡ºå¯¹åº”çš„å…ƒç´ å¯¹ã€‚</li><li>è‹¥éå†ç»“æŸåä»æœªè¾¾åˆ°<code>K</code>ï¼Œè¾“å‡º<code>-1 -1</code>ã€‚</li></ul><p><em>å®ç°ä»£ç </em>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    <span class="token keyword">long</span> <span class="token keyword">long</span> K<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> n <span class="token operator">&gt;&gt;</span> K<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">arr</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>x<span class="token operator">:</span> arr<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>        <span class="token keyword">long</span> <span class="token keyword">long</span> swapCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> swapped<span class="token punctuation">;</span>    <span class="token keyword">bool</span> found <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> first <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> second <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>found<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>found<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapCount<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>swapCount <span class="token operator">==</span> K<span class="token punctuation">)</span><span class="token punctuation">{</span>                    first <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    second <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    found <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>found<span class="token punctuation">)</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> first <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span> <span class="token operator">&lt;&lt;</span> second<span class="token punctuation">;</span>    <span class="token keyword">else</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"-1 -1"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>è§£æ</em>ï¼š</p><ul><li>ä½¿ç”¨<code>swapCount</code>è®°å½•äº¤æ¢æ¬¡æ•°ã€‚</li><li>åœ¨æ¯æ¬¡äº¤æ¢åï¼Œæ£€æŸ¥æ˜¯å¦è¾¾åˆ°äº†ç¬¬<code>K</code>æ¬¡äº¤æ¢ã€‚</li><li>å¦‚æœè¾¾åˆ°äº†ï¼Œè®°å½•å¹¶è¾“å‡ºäº¤æ¢çš„å…ƒç´ å¯¹ï¼›å¦åˆ™ï¼Œç»§ç»­æ’åºã€‚</li><li>æœ€ç»ˆæ ¹æ®æ˜¯å¦æ‰¾åˆ°è¾“å‡ºç›¸åº”ç»“æœã€‚</li></ul><hr><h3 id="å››ã€å†’æ³¡æ’åºçš„å®é™…åº”ç”¨ä¸å±€é™æ€§"><a href="#å››ã€å†’æ³¡æ’åºçš„å®é™…åº”ç”¨ä¸å±€é™æ€§" class="headerlink" title="å››ã€å†’æ³¡æ’åºçš„å®é™…åº”ç”¨ä¸å±€é™æ€§"></a>å››ã€å†’æ³¡æ’åºçš„å®é™…åº”ç”¨ä¸å±€é™æ€§</h3><h4 id="1-åº”ç”¨åœºæ™¯"><a href="#1-åº”ç”¨åœºæ™¯" class="headerlink" title="1. åº”ç”¨åœºæ™¯"></a>1. åº”ç”¨åœºæ™¯</h4><ul><li><strong>æ•™è‚²ä¸å­¦ä¹ </strong>ï¼šå†’æ³¡æ’åºç”±äºå…¶ç›´è§‚æ€§ï¼Œå¸¸ç”¨äºæ•™å­¦å’Œå­¦ä¹ æ’åºç®—æ³•çš„åŸºæœ¬æ¦‚å¿µã€‚</li><li><strong>å°è§„æ¨¡æ•°æ®</strong>ï¼šåœ¨æ•°æ®é‡è¾ƒå°çš„æƒ…å†µä¸‹ï¼Œå†’æ³¡æ’åºçš„ä½å¸¸æ•°å› å­ä½¿å…¶æˆä¸ºä¸€ä¸ªç®€å•æœ‰æ•ˆçš„é€‰æ‹©ã€‚</li><li><strong>ç‰¹æ®Šé—®é¢˜æ¨¡æ‹Ÿ</strong>ï¼šæŸäº›ç«èµ›é—®é¢˜è¦æ±‚æ¨¡æ‹Ÿæ’åºè¿‡ç¨‹ï¼Œç»Ÿè®¡äº¤æ¢æ¬¡æ•°æˆ–ç‰¹å®šæ’åºæ­¥éª¤æ—¶ï¼Œå†’æ³¡æ’åºéå¸¸é€‚ç”¨ã€‚</li></ul><h4 id="2-å±€é™æ€§"><a href="#2-å±€é™æ€§" class="headerlink" title="2. å±€é™æ€§"></a>2. å±€é™æ€§</h4><ul><li><strong>æ•ˆç‡ä½ä¸‹</strong>ï¼šå†’æ³¡æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸º<code>O(nÂ²)</code>ï¼Œåœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶æ•ˆç‡è¾ƒä½ã€‚</li><li><strong>ä¸é€‚åˆå®é™…å¤§è§„æ¨¡åº”ç”¨</strong>ï¼šåœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸ä½¿ç”¨æ›´é«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œå¦‚å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºç­‰ã€‚</li><li><strong>ä¾èµ–æ•°æ®ç‰¹æ€§</strong>ï¼šå°½ç®¡æœ‰ä¼˜åŒ–ï¼Œä½†åœ¨æœ€åæƒ…å†µä¸‹ï¼Œå†’æ³¡æ’åºä»ç„¶éœ€è¦<code>O(nÂ²)</code>çš„æ—¶é—´ï¼Œæ— æ³•åˆ©ç”¨æ•°æ®çš„æŸäº›ç‰¹æ€§è¿›è¡Œä¼˜åŒ–ã€‚</li></ul><hr><h3 id="äº”ã€ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ"><a href="#äº”ã€ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ" class="headerlink" title="äº”ã€ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ"></a>äº”ã€ä¸å…¶ä»–æ’åºç®—æ³•çš„æ¯”è¾ƒ</h3><p>åœ¨CSP-Jæ¯”èµ›ä¸­ï¼Œé€‰æ‹©åˆé€‚çš„æ’åºç®—æ³•è‡³å…³é‡è¦ã€‚ä»¥ä¸‹æ˜¯å†’æ³¡æ’åºä¸å…¶ä»–å¸¸è§æ’åºç®—æ³•çš„å¯¹æ¯”ï¼š</p><table><thead><tr><th>æ’åºç®—æ³•</th><th>æ—¶é—´å¤æ‚åº¦</th><th>ç©ºé—´å¤æ‚åº¦</th><th>ç¨³å®šæ€§</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td>å†’æ³¡æ’åº</td><td>O(nÂ²)</td><td>O(1)</td><td>ç¨³å®š</td><td>å°è§„æ¨¡æ•°æ®ã€æ•™å­¦ã€ç‰¹å®šæ¨¡æ‹Ÿé—®é¢˜</td></tr><tr><td>é€‰æ‹©æ’åº</td><td>O(nÂ²)</td><td>O(1)</td><td>ä¸ç¨³å®š</td><td>éœ€è¦å‡å°‘äº¤æ¢æ¬¡æ•°çš„åœºæ™¯</td></tr><tr><td>æ’å…¥æ’åº</td><td>O(nÂ²)</td><td>O(1)</td><td>ç¨³å®š</td><td>éƒ¨åˆ†æœ‰åºæ•°æ®ã€åœ¨çº¿æ’åº</td></tr><tr><td>å¿«é€Ÿæ’åº</td><td>O(n log n)</td><td>O(log n)</td><td>ä¸ç¨³å®š</td><td>å¤§è§„æ¨¡æ•°æ®ã€éœ€è¦é«˜æ•ˆæ’åºçš„åœºæ™¯</td></tr><tr><td>å½’å¹¶æ’åº</td><td>O(n log n)</td><td>O(n)</td><td>ç¨³å®š</td><td>éœ€è¦ç¨³å®šæ’åºã€å¤„ç†é“¾è¡¨ç­‰éè¿ç»­å­˜å‚¨çš„æ•°æ®</td></tr><tr><td>å †æ’åº</td><td>O(n log n)</td><td>O(1)</td><td>ä¸ç¨³å®š</td><td>ä¸éœ€è¦ç¨³å®šæ’åºã€éœ€è¦åŸåœ°æ’åºçš„å¤§è§„æ¨¡æ•°æ®</td></tr><tr><td>å¸Œå°”æ’åº</td><td>ä»‹äºO(n) ~ O(nÂ²)</td><td>O(1)</td><td>ä¸ç¨³å®š</td><td>å¸Œå°”æ’åºé€šè¿‡åˆ†ç»„é—´éš”å‡å°‘äº¤æ¢æ¬¡æ•°ï¼Œé€‚ç”¨äºä¸­ç­‰è§„æ¨¡æ•°æ®</td></tr></tbody></table><p><strong>é€‰æ‹©æ’åºä¸å†’æ³¡æ’åºå¯¹æ¯”</strong>ï¼š</p><ul><li><strong>äº¤æ¢æ¬¡æ•°</strong>ï¼šé€‰æ‹©æ’åºåœ¨æœ€åæƒ…å†µä¸‹éœ€è¦<code>O(n)</code>æ¬¡äº¤æ¢ï¼Œè€Œå†’æ³¡æ’åºåœ¨æœ€åæƒ…å†µä¸‹éœ€è¦<code>O(nÂ²)</code>æ¬¡äº¤æ¢ã€‚</li><li><strong>ç¨³å®šæ€§</strong>ï¼šå†’æ³¡æ’åºæ˜¯ç¨³å®šçš„ï¼Œè€Œé€‰æ‹©æ’åºé€šå¸¸æ˜¯ä¸ç¨³å®šçš„ï¼ˆä½†å¯ä»¥é€šè¿‡æ”¹è¿›å®ç°ç¨³å®šæ€§ï¼‰ã€‚</li></ul><p><strong>æ’å…¥æ’åºçš„ä¼˜åŠ¿</strong>ï¼š</p><ul><li>åœ¨éƒ¨åˆ†æœ‰åºçš„æ•°æ®ä¸Šï¼Œæ’å…¥æ’åºçš„æ•ˆç‡è¾ƒé«˜ï¼Œæ—¶é—´å¤æ‚åº¦å¯æ¥è¿‘<code>O(n)</code>ã€‚</li><li>æ’å…¥æ’åºä¹Ÿæ˜¯ç¨³å®šçš„ï¼Œé€‚ç”¨äºéœ€è¦ä¿æŒç›¸å¯¹é¡ºåºçš„åœºæ™¯ã€‚</li></ul><p><strong>é«˜çº§æ’åºç®—æ³•çš„ä¼˜åŠ¿</strong>ï¼š</p><ul><li>å¿«é€Ÿæ’åºã€å½’å¹¶æ’åºç­‰é«˜çº§æ’åºç®—æ³•åœ¨å¤„ç†å¤§è§„æ¨¡æ•°æ®æ—¶è¡¨ç°ä¼˜å¼‚ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º<code>O(n log n)</code>ã€‚</li><li>è¿™äº›ç®—æ³•åœ¨ç¼–ç¨‹ç«èµ›ä¸­åº”ç”¨å¹¿æ³›ï¼Œå°¤å…¶æ˜¯åœ¨å¤„ç†éœ€è¦é«˜æ•ˆæ’åºçš„å¤æ‚é—®é¢˜æ—¶ã€‚</li></ul><hr><h3 id="å…­ã€æ€»ç»“"><a href="#å…­ã€æ€»ç»“" class="headerlink" title="å…­ã€æ€»ç»“"></a>å…­ã€æ€»ç»“</h3><p>å†’æ³¡æ’åºä½œä¸ºåŸºç¡€æ’åºç®—æ³•ï¼Œè™½ç„¶åœ¨æ•ˆç‡ä¸Šæ— æ³•ä¸é«˜çº§æ’åºç®—æ³•ç›¸æ¯”ï¼Œä½†å…¶ç®€å•ç›´è§‚çš„å®ç°å’Œæ˜“äºç†è§£çš„å·¥ä½œåŸç†ä½¿å…¶æˆä¸ºå­¦ä¹ æ’åºç®—æ³•çš„ç†æƒ³é€‰æ‹©ã€‚åœ¨CSP-Jç­‰ç¼–ç¨‹ç«èµ›ä¸­ï¼Œå†’æ³¡æ’åºä¸ä»…æ˜¯ç†è§£æ’åºç®—æ³•çš„å…¥é—¨å·¥å…·ï¼Œè¿˜åœ¨ä¸€äº›ç‰¹å®šç±»å‹çš„é—®é¢˜ä¸­å±•ç°å‡ºå…¶ç‹¬ç‰¹çš„åº”ç”¨ä»·å€¼ã€‚</p><p>é€šè¿‡æ·±å…¥ç†è§£å†’æ³¡æ’åºçš„åŸç†ã€ä¼˜åŒ–æ–¹æ³•ä»¥åŠåœ¨å®é™…ç«èµ›ä¸­çš„åº”ç”¨ï¼Œæ‚¨å°†èƒ½å¤Ÿåœ¨ç«èµ›ä¸­æ›´çµæ´»åœ°é€‰æ‹©å’Œåº”ç”¨æ’åºç®—æ³•ï¼Œæå‡è§£å†³é—®é¢˜çš„èƒ½åŠ›ã€‚å°½ç®¡å†’æ³¡æ’åºåœ¨å®é™…åº”ç”¨ä¸­å±€é™è¾ƒå¤šï¼Œä½†å…¶ä½œä¸ºè®¡ç®—æœºç§‘å­¦åŸºç¡€çŸ¥è¯†çš„ä¸€éƒ¨åˆ†ï¼Œä»å…·æœ‰ä¸å¯æ›¿ä»£çš„é‡è¦æ€§ã€‚</p><hr><h3 id="é™„å½•ï¼šæ›´å¤šç¤ºä¾‹é¢˜ç›®ä¸ç»ƒä¹ "><a href="#é™„å½•ï¼šæ›´å¤šç¤ºä¾‹é¢˜ç›®ä¸ç»ƒä¹ " class="headerlink" title="é™„å½•ï¼šæ›´å¤šç¤ºä¾‹é¢˜ç›®ä¸ç»ƒä¹ "></a>é™„å½•ï¼šæ›´å¤šç¤ºä¾‹é¢˜ç›®ä¸ç»ƒä¹ </h3><p><strong>ç¤ºä¾‹é¢˜ç›®5ï¼šå†’æ³¡æ’åºçš„é€†åºæ•°åŒºé—´</strong></p><p><em>é¢˜ç›®æè¿°</em>ï¼š<br>ç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—ï¼Œç»Ÿè®¡åœ¨å†’æ³¡æ’åºè¿‡ç¨‹ä¸­ï¼Œæ¯ä¸€è½®éå†ç»“æŸåï¼Œå½“å‰åºåˆ—çš„é€†åºæ•°ã€‚</p><p><em>è¾“å…¥</em>ï¼š<br>ç¬¬ä¸€è¡ŒåŒ…å«ä¸€ä¸ªæ•´æ•°<code>n</code>ï¼ˆ1 â‰¤ n â‰¤ 1000ï¼‰ã€‚<br>ç¬¬äºŒè¡ŒåŒ…å«<code>n</code>ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºåºåˆ—ä¸­çš„å…ƒç´ ã€‚</p><p><em>è¾“å‡º</em>ï¼š<br>æ¯ä¸€è½®éå†ç»“æŸåï¼Œè¾“å‡ºå½“å‰åºåˆ—çš„é€†åºæ•°ï¼Œä»¥ç©ºæ ¼åˆ†éš”ã€‚</p><p><em>ç¤ºä¾‹è¾“å…¥</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">55 1 4 2 8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>ç¤ºä¾‹è¾“å‡º</em>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">3 1 0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><em>è§£é¢˜æ€è·¯</em>ï¼š</p><ul><li>åœ¨æ¯ä¸€è½®å†’æ³¡æ’åºç»“æŸåï¼Œè®¡ç®—å½“å‰åºåˆ—çš„é€†åºæ•°ã€‚</li><li>ä½¿ç”¨åŒé‡å¾ªç¯è®¡ç®—é€†åºæ•°ã€‚</li></ul><p><em>å®ç°ä»£ç </em>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;vector&gt;</span></span><span class="token comment">// å‡½æ•°ï¼šè®¡ç®—é€†åºæ•°</span><span class="token keyword">int</span> <span class="token function">countInversions</span><span class="token punctuation">(</span><span class="token keyword">const</span> std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token operator">&amp;</span> arr<span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> inversions <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> n <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> inversions<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> inversions<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">int</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> n<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">arr</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token operator">&amp;</span>x<span class="token operator">:</span> arr<span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cin <span class="token operator">&gt;&gt;</span> x<span class="token punctuation">;</span>        std<span class="token double-colon punctuation">::</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> inversionsPerRound<span class="token punctuation">;</span>    <span class="token keyword">bool</span> swapped<span class="token punctuation">;</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        swapped <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">&lt;</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token operator">-</span>i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span><span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&gt;</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                std<span class="token double-colon punctuation">::</span><span class="token function">swap</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                swapped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">int</span> currentInversions <span class="token operator">=</span> <span class="token function">countInversions</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        inversionsPerRound<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>currentInversions<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>swapped<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">for</span><span class="token punctuation">(</span>size_t i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>inversionsPerRound<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">" "</span><span class="token punctuation">;</span>        std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> inversionsPerRound<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><em>è§£æ</em>ï¼š</p><ul><li>æ¯å®Œæˆä¸€è½®å†’æ³¡æ’åºï¼Œè°ƒç”¨<code>countInversions</code>å‡½æ•°è®¡ç®—å½“å‰åºåˆ—çš„é€†åºæ•°ï¼Œå¹¶è®°å½•ã€‚</li><li>æœ€ç»ˆè¾“å‡ºæ¯ä¸€è½®çš„é€†åºæ•°ã€‚</li></ul><p><strong>ç»ƒä¹ é¢˜ç›®</strong>ï¼š</p><ol><li><strong>å†’æ³¡æ’åºçš„æ¯”è¾ƒæ¬¡æ•°</strong>ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—ï¼Œè®¡ç®—åœ¨å†’æ³¡æ’åºè¿‡ç¨‹ä¸­ï¼Œæ¯”è¾ƒçš„æ€»æ¬¡æ•°ã€‚</li><li><strong>å†’æ³¡æ’åºçš„æœ€å¤§äº¤æ¢è·ç¦»</strong>ï¼šåœ¨å†’æ³¡æ’åºè¿‡ç¨‹ä¸­ï¼Œæ‰¾åˆ°æ‰€æœ‰äº¤æ¢æ“ä½œä¸­ï¼Œå…ƒç´ ç§»åŠ¨çš„æœ€å¤§è·ç¦»ã€‚</li><li><strong>é€†åºåŒºé—´æ’åº</strong>ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸º<code>n</code>çš„æ•´æ•°åºåˆ—ï¼Œæ‰¾å‡ºæœ€å°çš„ä¸€ä¸ªè¿ç»­å­åºåˆ—ï¼Œä½¿å¾—ä»…æ’åºè¯¥å­åºåˆ—åï¼Œæ•´ä¸ªåºåˆ—å˜ä¸ºæœ‰åºã€‚ä½¿ç”¨å†’æ³¡æ’åºçš„æ€æƒ³è¿›è¡Œæ±‚è§£ã€‚</li></ol><p>é€šè¿‡è¿™äº›ç»ƒä¹ ï¼Œæ‚¨å¯ä»¥è¿›ä¸€æ­¥å·©å›ºå¯¹å†’æ³¡æ’åºåŠå…¶å˜ç§çš„ç†è§£ï¼Œæå‡åœ¨ç¼–ç¨‹ç«èµ›ä¸­çš„å®æˆ˜èƒ½åŠ›ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Bubble Sort </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Sort </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++ä¸­ä½è¿ç®—è®²è§£</title>
      <link href="/c-bitset.html"/>
      <url>/c-bitset.html</url>
      
        <content type="html"><![CDATA[<img src="/c-bitset/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½è¿ç®—æ˜¯ä¸€ç§ç›´æ¥å¯¹äºŒè¿›åˆ¶ä½è¿›è¡Œæ“ä½œçš„è¿ç®—ã€‚ä½è¿ç®—ç¬¦åœ¨C++ä¸­éå¸¸é«˜æ•ˆï¼Œå¯ä»¥ç”¨äºåº•å±‚ç¼–ç¨‹ã€å›¾å½¢å¤„ç†ã€ç½‘ç»œç¼–ç¨‹ç­‰åœºæ™¯ã€‚ä»¥ä¸‹æ˜¯C++ä¸­å¸¸è§çš„ä½è¿ç®—ç¬¦åŠå…¶ä½¿ç”¨æ–¹æ³•ã€‚</p><h3 id="å¸¸è§çš„ä½è¿ç®—ç¬¦"><a href="#å¸¸è§çš„ä½è¿ç®—ç¬¦" class="headerlink" title="å¸¸è§çš„ä½è¿ç®—ç¬¦"></a>å¸¸è§çš„ä½è¿ç®—ç¬¦</h3><ol><li><p><strong>æŒ‰ä½ä¸è¿ç®—ç¬¦ (<code>&amp;</code>)</strong></p><ul><li>æ¯ä¸ªä½è¿›è¡Œä¸æ“ä½œï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°å¯¹åº”ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœä½æ‰ä¸º1ã€‚</li></ul></li><li><p><strong>æŒ‰ä½æˆ–è¿ç®—ç¬¦ (<code>|</code>)</strong></p><ul><li>æ¯ä¸ªä½è¿›è¡Œæˆ–æ“ä½œï¼Œä¸¤ä¸ªæ“ä½œæ•°ä¸­åªè¦æœ‰ä¸€ä¸ªå¯¹åº”ä½ä¸º1ï¼Œç»“æœä½å°±ä¸º1ã€‚</li></ul></li><li><p><strong>æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ (<code>^</code>)</strong></p><ul><li>æ¯ä¸ªä½è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°å¯¹åº”ä½ä¸åŒæ—¶ï¼Œç»“æœä½ä¸º1ã€‚</li></ul></li><li><p><strong>æŒ‰ä½å–åè¿ç®—ç¬¦ (<code>~</code>)</strong></p><ul><li>å¯¹æ¯ä¸ªä½å–åï¼Œ0å˜1ï¼Œ1å˜0ã€‚</li></ul></li><li><p><strong>å·¦ç§»è¿ç®—ç¬¦ (<code>&lt;&lt;</code>)</strong></p><ul><li>å°†æ“ä½œæ•°çš„æ‰€æœ‰ä½å·¦ç§»æŒ‡å®šçš„ä½æ•°ï¼Œå³è¾¹ç”¨0å¡«è¡¥ã€‚</li></ul></li><li><p><strong>å³ç§»è¿ç®—ç¬¦ (<code>&gt;&gt;</code>)</strong></p><ul><li>å°†æ“ä½œæ•°çš„æ‰€æœ‰ä½å³ç§»æŒ‡å®šçš„ä½æ•°ï¼Œå·¦è¾¹ç”¨0å¡«è¡¥ï¼ˆå¯¹äºæ— ç¬¦å·æ•°ï¼‰ï¼Œæˆ–ç”¨ç¬¦å·ä½å¡«è¡¥ï¼ˆå¯¹äºæœ‰ç¬¦å·æ•°ï¼‰ã€‚</li></ul></li></ol><h3 id="ç®€å•æ˜“æ‡‚çš„ç¨‹åºä¾‹å­"><a href="#ç®€å•æ˜“æ‡‚çš„ç¨‹åºä¾‹å­" class="headerlink" title="ç®€å•æ˜“æ‡‚çš„ç¨‹åºä¾‹å­"></a>ç®€å•æ˜“æ‡‚çš„ç¨‹åºä¾‹å­</h3><p>ä¸‹é¢æ˜¯ä¸€äº›ç®€å•çš„C++ç¨‹åºä¾‹å­ï¼Œæ¼”ç¤ºæ¯ç§ä½è¿ç®—ç¬¦çš„ä½¿ç”¨ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span> <span class="token comment">// æ·»åŠ è¿™ä¸ªå¤´æ–‡ä»¶ä»¥ä½¿ç”¨ bitset</span></span><span class="token keyword">using</span> <span class="token keyword">namespace</span> std<span class="token punctuation">;</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0101</span>    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0011</span>    <span class="token comment">// æŒ‰ä½ä¸è¿ç®—</span>    <span class="token keyword">int</span> andResult <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a &amp; b = "</span> <span class="token operator">&lt;&lt;</span> andResult <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>andResult<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">// æŒ‰ä½æˆ–è¿ç®—</span>    <span class="token keyword">int</span> orResult <span class="token operator">=</span> a <span class="token operator">|</span> b<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a | b = "</span> <span class="token operator">&lt;&lt;</span> orResult <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>orResult<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">// æŒ‰ä½å¼‚æˆ–è¿ç®—</span>    <span class="token keyword">int</span> xorResult <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a ^ b = "</span> <span class="token operator">&lt;&lt;</span> xorResult <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>xorResult<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">// æŒ‰ä½å–åè¿ç®—</span>    <span class="token keyword">int</span> notResult <span class="token operator">=</span> <span class="token operator">~</span>a<span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~a = "</span> <span class="token operator">&lt;&lt;</span> notResult <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>notResult<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">// å·¦ç§»è¿ç®—</span>    <span class="token keyword">int</span> leftShiftResult <span class="token operator">=</span> a <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a &lt;&lt; 1 = "</span> <span class="token operator">&lt;&lt;</span> leftShiftResult <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>leftShiftResult<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token comment">// å³ç§»è¿ç®—</span>    <span class="token keyword">int</span> rightShiftResult <span class="token operator">=</span> a <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>    cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a &gt;&gt; 1 = "</span> <span class="token operator">&lt;&lt;</span> rightShiftResult <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> <span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>rightShiftResult<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç»“æœè¯´æ˜"><a href="#ç»“æœè¯´æ˜" class="headerlink" title="ç»“æœè¯´æ˜"></a>ç»“æœè¯´æ˜</h3><ol><li><p><strong>æŒ‰ä½ä¸è¿ç®— (<code>&amp;</code>)</strong></p><ul><li><code>a &amp; b</code> ç»“æœæ˜¯1ï¼ˆ0000 0001ï¼‰<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">0000</span> <span class="token number">0101</span><span class="token operator">&amp;</span> <span class="token number">0000</span> <span class="token number">0011</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">0000</span> <span class="token number">0001</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>æŒ‰ä½æˆ–è¿ç®— (<code>|</code>)</strong></p><ul><li><code>a | b</code> ç»“æœæ˜¯7ï¼ˆ0000 0111ï¼‰<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">0000</span> <span class="token number">0101</span><span class="token operator">|</span> <span class="token number">0000</span> <span class="token number">0011</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">0000</span> <span class="token number">0111</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>æŒ‰ä½å¼‚æˆ–è¿ç®— (<code>^</code>)</strong></p><ul><li><code>a ^ b</code> ç»“æœæ˜¯6ï¼ˆ0000 0110ï¼‰<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">0000</span> <span class="token number">0101</span><span class="token operator">^</span> <span class="token number">0000</span> <span class="token number">0011</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">0000</span> <span class="token number">0110</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>æŒ‰ä½å–åè¿ç®— (<code>~</code>)</strong></p><ul><li><code>~a</code> ç»“æœæ˜¯-6ï¼ˆ1111 1010ï¼‰ï¼Œè¿™é‡Œæ³¨æ„è´Ÿæ•°çš„è¡¨ç¤ºæ˜¯è¡¥ç å½¢å¼<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token operator">~</span><span class="token number">0000</span> <span class="token number">0101</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">1111</span> <span class="token number">1010</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>å·¦ç§»è¿ç®— (<code>&lt;&lt;</code>)</strong></p><ul><li><code>a &lt;&lt; 1</code> ç»“æœæ˜¯10ï¼ˆ0000 1010ï¼‰<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">0000</span> <span class="token number">0101</span><span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">0000</span> <span class="token number">1010</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p><strong>å³ç§»è¿ç®— (<code>&gt;&gt;</code>)</strong></p><ul><li><code>a &gt;&gt; 1</code> ç»“æœæ˜¯2ï¼ˆ0000 0010ï¼‰<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token number">0000</span> <span class="token number">0100</span><span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">0000</span> <span class="token number">0010</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li></ol><h3 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h3><ol><li><strong>ç¬¦å·æ‰©å±•</strong>ï¼šå¯¹äºæœ‰ç¬¦å·æ•´æ•°ï¼Œå³ç§»è¿ç®—æ—¶ï¼Œé«˜ä½ç”¨ç¬¦å·ä½å¡«å……ï¼Œè¿™å«åšç®—æœ¯å³ç§»ï¼›è€Œå¯¹äºæ— ç¬¦å·æ•´æ•°ï¼Œé«˜ä½ç”¨0å¡«å……ï¼Œè¿™å«åšé€»è¾‘å³ç§»ã€‚</li><li><strong>æº¢å‡º</strong>ï¼šå·¦ç§»è¿ç®—å¯èƒ½ä¼šå¯¼è‡´æº¢å‡ºï¼Œå¦‚æœç§»å‡ºçš„ä½ä¸­åŒ…å«1ï¼Œé‚£ä¹ˆç»“æœå¯èƒ½ä¼šå˜å¾—ä¸å¯é¢„æµ‹ã€‚</li></ol><h3 id="æŒ‰ä½ä¸è¿ç®—ç¬¦"><a href="#æŒ‰ä½ä¸è¿ç®—ç¬¦" class="headerlink" title="æŒ‰ä½ä¸è¿ç®—ç¬¦ (&amp;)"></a>æŒ‰ä½ä¸è¿ç®—ç¬¦ (<code>&amp;</code>)</h3><p><strong>åŸç†</strong>ï¼šå¯¹æ¯ä¸ªä½è¿›è¡Œä¸æ“ä½œï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°å¯¹åº”ä½éƒ½ä¸º1æ—¶ï¼Œç»“æœä½æ‰ä¸º1ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºæ©ç æ“ä½œï¼Œæ¸…é™¤æŸäº›ä½æˆ–è€…ä¿ç•™æŸäº›ä½ã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0110</span>    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0011</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> a <span class="token operator">&amp;</span> b<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a &amp; b = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a &amp; b = 2 (äºŒè¿›åˆ¶: 00000010)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŒ‰ä½æˆ–è¿ç®—ç¬¦"><a href="#æŒ‰ä½æˆ–è¿ç®—ç¬¦" class="headerlink" title="æŒ‰ä½æˆ–è¿ç®—ç¬¦ (|)"></a>æŒ‰ä½æˆ–è¿ç®—ç¬¦ (<code>|</code>)</h3><p><strong>åŸç†</strong>ï¼šå¯¹æ¯ä¸ªä½è¿›è¡Œæˆ–æ“ä½œï¼Œåªè¦ä¸¤ä¸ªæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªå¯¹åº”ä½ä¸º1ï¼Œç»“æœä½å°±ä¸º1ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºè®¾ç½®æŸäº›ä½ä¸º1ã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0110</span>    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0011</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> a <span class="token operator">|</span> b<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a | b = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a | b = 7 (äºŒè¿›åˆ¶: 00000111)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦"><a href="#æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦" class="headerlink" title="æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ (^)"></a>æŒ‰ä½å¼‚æˆ–è¿ç®—ç¬¦ (<code>^</code>)</h3><p><strong>åŸç†</strong>ï¼šå¯¹æ¯ä¸ªä½è¿›è¡Œå¼‚æˆ–æ“ä½œï¼Œå½“ä¸¤ä¸ªæ“ä½œæ•°å¯¹åº”ä½ä¸åŒæ—¶ï¼Œç»“æœä½ä¸º1ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºåŠ å¯†å’Œè§£å¯†æ“ä½œã€äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼è€Œä¸ä½¿ç”¨ä¸´æ—¶å˜é‡ã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0110</span>    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0011</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a ^ b = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a ^ b = 5 (äºŒè¿›åˆ¶: 00000101)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŒ‰ä½å–åè¿ç®—ç¬¦"><a href="#æŒ‰ä½å–åè¿ç®—ç¬¦" class="headerlink" title="æŒ‰ä½å–åè¿ç®—ç¬¦ (~)"></a>æŒ‰ä½å–åè¿ç®—ç¬¦ (<code>~</code>)</h3><p><strong>åŸç†</strong>ï¼šå¯¹æ¯ä¸ªä½å–åï¼Œ0å˜1ï¼Œ1å˜0ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºç”ŸæˆæŸä¸ªå€¼çš„è¡¥ç ï¼Œä½å›¾åè½¬ã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0110</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token operator">~</span>a<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"~a = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">~a = -7 (äºŒè¿›åˆ¶: 11111001)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å·¦ç§»è¿ç®—ç¬¦"><a href="#å·¦ç§»è¿ç®—ç¬¦" class="headerlink" title="å·¦ç§»è¿ç®—ç¬¦ (<<)"></a>å·¦ç§»è¿ç®—ç¬¦ (<code>&lt;&lt;</code>)</h3><p><strong>åŸç†</strong>ï¼šå°†æ“ä½œæ•°çš„æ‰€æœ‰ä½å·¦ç§»æŒ‡å®šçš„ä½æ•°ï¼Œå³è¾¹ç”¨0å¡«è¡¥ã€‚ç›¸å½“äºä¹˜ä»¥2çš„næ¬¡æ–¹ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºå¿«é€Ÿä¹˜ä»¥2çš„å¹‚æ¬¡ã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0110</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> a <span class="token operator">&lt;&lt;</span> <span class="token number">2</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a &lt;&lt; 2 = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a &lt;&lt; 2 = 24 (äºŒè¿›åˆ¶: 00011000)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å³ç§»è¿ç®—ç¬¦"><a href="#å³ç§»è¿ç®—ç¬¦" class="headerlink" title="å³ç§»è¿ç®—ç¬¦ (>>)"></a>å³ç§»è¿ç®—ç¬¦ (<code>&gt;&gt;</code>)</h3><p><strong>åŸç†</strong>ï¼šå°†æ“ä½œæ•°çš„æ‰€æœ‰ä½å³ç§»æŒ‡å®šçš„ä½æ•°ï¼Œå·¦è¾¹ç”¨0å¡«è¡¥ï¼ˆæ— ç¬¦å·æ•°ï¼‰æˆ–ç¬¦å·ä½å¡«è¡¥ï¼ˆæœ‰ç¬¦å·æ•°ï¼‰ã€‚ç›¸å½“äºé™¤ä»¥2çš„næ¬¡æ–¹ã€‚</p><p><strong>ä½¿ç”¨åœºæ™¯</strong>ï¼šå¸¸ç”¨äºå¿«é€Ÿé™¤ä»¥2çš„å¹‚æ¬¡ã€‚</p><p><strong>ä¾‹å­</strong>ï¼š</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0000 0110</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> a <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"a &gt;&gt; 1 = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">a &gt;&gt; 1 = 3 (äºŒè¿›åˆ¶: 00000011)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¿›é˜¶ä½¿ç”¨æ¡ˆä¾‹"><a href="#è¿›é˜¶ä½¿ç”¨æ¡ˆä¾‹" class="headerlink" title="è¿›é˜¶ä½¿ç”¨æ¡ˆä¾‹"></a>è¿›é˜¶ä½¿ç”¨æ¡ˆä¾‹</h3><h4 id="æ©ç æ“ä½œ"><a href="#æ©ç æ“ä½œ" class="headerlink" title="æ©ç æ“ä½œ"></a>æ©ç æ“ä½œ</h4><p>å‡è®¾æˆ‘ä»¬è¦ä»ä¸€ä¸ªæ•´æ•°ä¸­æå–æŸäº›ä½ï¼Œæ¯”å¦‚æå–ç¬¬2åˆ°ç¬¬4ä½ï¼ˆä»0å¼€å§‹è®¡æ•°ï¼‰ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>  <span class="token comment">// äºŒè¿›åˆ¶ï¼š0001 1101</span>    <span class="token comment">// æ©ç ï¼š0001 1100</span>    <span class="token keyword">int</span> mask <span class="token operator">=</span> <span class="token number">0b00011100</span><span class="token punctuation">;</span>    <span class="token comment">// æå–ç¬¬2åˆ°ç¬¬4ä½</span>    <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token punctuation">(</span>a <span class="token operator">&amp;</span> mask<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">2</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æå–ç¬¬2åˆ°ç¬¬4ä½ = "</span> <span class="token operator">&lt;&lt;</span> result <span class="token operator">&lt;&lt;</span> <span class="token string">" (äºŒè¿›åˆ¶: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">")"</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">æå–ç¬¬2åˆ°ç¬¬4ä½ = 7 (äºŒè¿›åˆ¶: 00000111)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼"><a href="#äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼" class="headerlink" title="äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼"></a>äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼</h4><p>ä½¿ç”¨å¼‚æˆ–è¿ç®—ç¬¦å¯ä»¥äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼è€Œä¸ä½¿ç”¨ä¸´æ—¶å˜é‡ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"äº¤æ¢å‰: a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">", b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>    b <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>    a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"äº¤æ¢å: a = "</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token string">", b = "</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">äº¤æ¢å‰: a = 5, b = 3äº¤æ¢å: a = 3, b = 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ©ç æ“ä½œåœ¨ç¼–ç¨‹ä¸­æœ‰å¾ˆå¤šåº”ç”¨åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦å¯¹æ•°æ®çš„ç‰¹å®šä½è¿›è¡Œæ“ä½œæ—¶ï¼Œæ©ç æ˜¯éå¸¸æœ‰ç”¨çš„å·¥å…·ã€‚ä»¥ä¸‹æ˜¯æ©ç æ“ä½œçš„ä¸€äº›ä¸»è¦åº”ç”¨åœºæ™¯ï¼š</p><h3 id="1-ä½å­—æ®µï¼ˆBit-Fieldsï¼‰æ“ä½œ"><a href="#1-ä½å­—æ®µï¼ˆBit-Fieldsï¼‰æ“ä½œ" class="headerlink" title="1. ä½å­—æ®µï¼ˆBit Fieldsï¼‰æ“ä½œ"></a>1. ä½å­—æ®µï¼ˆBit Fieldsï¼‰æ“ä½œ</h3><p>åœ¨æŸäº›ä½çº§ç¼–ç¨‹åœºæ™¯ä¸­ï¼Œæ•°æ®ç»“æ„ä¸­çš„å­—æ®µå¯èƒ½è¢«å‹ç¼©åˆ°å•ä¸ªä½æˆ–å‡ ä¸ªæ¯”ç‰¹ä¸­ã€‚æ©ç å¯ä»¥ç”¨æ¥æå–ã€è®¾ç½®æˆ–æ¸…é™¤è¿™äº›ä½å­—æ®µã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª8ä½çš„çŠ¶æ€å­—èŠ‚ï¼Œå…¶ä¸­ç¬¬2ä½è¡¨ç¤ºæŸä¸ªè®¾å¤‡çš„ç”µæºçŠ¶æ€ï¼Œç¬¬3ä½è¡¨ç¤ºè®¾å¤‡çš„è¿æ¥çŠ¶æ€ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">uint8_t</span> status <span class="token operator">=</span> <span class="token number">0b00001100</span><span class="token punctuation">;</span> <span class="token comment">// ç”µæºå¼€ï¼Œè®¾å¤‡å·²è¿æ¥</span>    <span class="token comment">// æå–ç”µæºçŠ¶æ€</span>    <span class="token keyword">uint8_t</span> powerMask <span class="token operator">=</span> <span class="token number">0b00000100</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> isPowerOn <span class="token operator">=</span> status <span class="token operator">&amp;</span> powerMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ç”µæºçŠ¶æ€: "</span> <span class="token operator">&lt;&lt;</span> isPowerOn <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// æå–è¿æ¥çŠ¶æ€</span>    <span class="token keyword">uint8_t</span> connectionMask <span class="token operator">=</span> <span class="token number">0b00001000</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> isConnected <span class="token operator">=</span> status <span class="token operator">&amp;</span> connectionMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è¿æ¥çŠ¶æ€: "</span> <span class="token operator">&lt;&lt;</span> isConnected <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-æƒé™æ§åˆ¶"><a href="#2-æƒé™æ§åˆ¶" class="headerlink" title="2. æƒé™æ§åˆ¶"></a>2. æƒé™æ§åˆ¶</h3><p>åœ¨æƒé™æ§åˆ¶ç³»ç»Ÿä¸­ï¼Œä¸åŒæƒé™å¯ä»¥è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªä½å›¾ï¼ˆbitmapï¼‰ï¼Œæ¯ä¸ªä½ä»£è¡¨ä¸€ä¸ªç‰¹å®šçš„æƒé™ã€‚æ©ç æ“ä½œå¯ä»¥ç”¨æ¥è®¾ç½®æˆ–æ£€æŸ¥è¿™äº›æƒé™ã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨æˆ·æƒé™å­—èŠ‚ï¼Œå…¶ä¸­ä¸åŒçš„ä½è¡¨ç¤ºä¸åŒçš„æƒé™ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">uint8_t</span> permissions <span class="token operator">=</span> <span class="token number">0b00000101</span><span class="token punctuation">;</span> <span class="token comment">// è¯»å’Œæ‰§è¡Œæƒé™</span>    <span class="token comment">// æ£€æŸ¥å†™æƒé™</span>    <span class="token keyword">uint8_t</span> writeMask <span class="token operator">=</span> <span class="token number">0b00000010</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> canWrite <span class="token operator">=</span> permissions <span class="token operator">&amp;</span> writeMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"å†™æƒé™: "</span> <span class="token operator">&lt;&lt;</span> canWrite <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// æ·»åŠ å†™æƒé™</span>    permissions <span class="token operator">|=</span> writeMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ·»åŠ å†™æƒé™å: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>permissions<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-çŠ¶æ€æ ‡å¿—"><a href="#3-çŠ¶æ€æ ‡å¿—" class="headerlink" title="3. çŠ¶æ€æ ‡å¿—"></a>3. çŠ¶æ€æ ‡å¿—</h3><p>åœ¨ç¨‹åºä¸­ï¼Œå¤šä¸ªçŠ¶æ€æ ‡å¿—å¯ä»¥è¢«å‹ç¼©åˆ°ä¸€ä¸ªæ•´æ•°ä¸­ã€‚æ©ç æ“ä½œå¯ä»¥ç”¨æ¥æ£€æŸ¥ã€è®¾ç½®æˆ–æ¸…é™¤è¿™äº›çŠ¶æ€æ ‡å¿—ã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªçŠ¶æ€å­—èŠ‚ï¼Œæ¯ä¸ªä½è¡¨ç¤ºä¸€ä¸ªä¸åŒçš„çŠ¶æ€ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">uint8_t</span> status <span class="token operator">=</span> <span class="token number">0b00000001</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹çŠ¶æ€</span>    <span class="token comment">// æ£€æŸ¥æŸä¸ªçŠ¶æ€</span>    <span class="token keyword">uint8_t</span> specificStatusMask <span class="token operator">=</span> <span class="token number">0b00000001</span><span class="token punctuation">;</span>    <span class="token keyword">bool</span> isSpecificStatus <span class="token operator">=</span> status <span class="token operator">&amp;</span> specificStatusMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"ç‰¹å®šçŠ¶æ€: "</span> <span class="token operator">&lt;&lt;</span> isSpecificStatus <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// è®¾ç½®æ–°çŠ¶æ€</span>    <span class="token keyword">uint8_t</span> newStatusMask <span class="token operator">=</span> <span class="token number">0b00000100</span><span class="token punctuation">;</span>    status <span class="token operator">|=</span> newStatusMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è®¾ç½®æ–°çŠ¶æ€å: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>status<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-æ•°æ®å‹ç¼©å’Œè§£å‹"><a href="#4-æ•°æ®å‹ç¼©å’Œè§£å‹" class="headerlink" title="4. æ•°æ®å‹ç¼©å’Œè§£å‹"></a>4. æ•°æ®å‹ç¼©å’Œè§£å‹</h3><p>æ©ç æ“ä½œå¯ä»¥ç”¨äºæ•°æ®å‹ç¼©å’Œè§£å‹ç¼©ï¼Œé€šè¿‡å°†å¤šä¸ªå°çš„æ•°æ®é¡¹å‹ç¼©åˆ°ä¸€ä¸ªè¾ƒå¤§çš„æ•°æ®ç±»å‹ä¸­ï¼Œä»è€ŒèŠ‚çœç©ºé—´ã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šå°†ä¸¤ä¸ª4ä½çš„æ•°å‹ç¼©åˆ°ä¸€ä¸ª8ä½çš„å­—èŠ‚ä¸­ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">uint8_t</span> highNibble <span class="token operator">=</span> <span class="token number">0b00001111</span><span class="token punctuation">;</span> <span class="token comment">// é«˜4ä½</span>    <span class="token keyword">uint8_t</span> lowNibble <span class="token operator">=</span> <span class="token number">0b00000101</span><span class="token punctuation">;</span>  <span class="token comment">// ä½4ä½</span>    <span class="token comment">// å°†ä¸¤ä¸ª4ä½æ•°åˆå¹¶åˆ°ä¸€ä¸ª8ä½æ•°ä¸­</span>    <span class="token keyword">uint8_t</span> combined <span class="token operator">=</span> <span class="token punctuation">(</span>highNibble <span class="token operator">&lt;&lt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token punctuation">(</span>lowNibble <span class="token operator">&amp;</span> <span class="token number">0b00001111</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"åˆå¹¶åçš„8ä½æ•°: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>combined<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-ç½‘ç»œæ•°æ®åŒ…å¤„ç†"><a href="#5-ç½‘ç»œæ•°æ®åŒ…å¤„ç†" class="headerlink" title="5. ç½‘ç»œæ•°æ®åŒ…å¤„ç†"></a>5. ç½‘ç»œæ•°æ®åŒ…å¤„ç†</h3><p>åœ¨ç½‘ç»œç¼–ç¨‹ä¸­ï¼Œæ•°æ®åŒ…çš„å¤´éƒ¨é€šå¸¸ä½¿ç”¨ä½å­—æ®µæ¥è¡¨ç¤ºå„ç§æ ‡å¿—å’Œé•¿åº¦ã€‚æ©ç æ“ä½œå¯ä»¥ç”¨æ¥è§£æè¿™äº›å¤´éƒ¨ä¿¡æ¯ã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šè§£æIPåŒ…å¤´ä¸­çš„æŸäº›å­—æ®µã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">uint8_t</span> ipHeader <span class="token operator">=</span> <span class="token number">0b01010100</span><span class="token punctuation">;</span> <span class="token comment">// ç¤ºä¾‹IPå¤´éƒ¨å­—èŠ‚</span>    <span class="token comment">// æå–ç‰ˆæœ¬å­—æ®µï¼ˆé«˜4ä½ï¼‰</span>    <span class="token keyword">uint8_t</span> versionMask <span class="token operator">=</span> <span class="token number">0b11110000</span><span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> version <span class="token operator">=</span> <span class="token punctuation">(</span>ipHeader <span class="token operator">&amp;</span> versionMask<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">4</span><span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"IPç‰ˆæœ¬: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">+</span>version <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// æå–IHLå­—æ®µï¼ˆä½4ä½ï¼‰</span>    <span class="token keyword">uint8_t</span> ihlMask <span class="token operator">=</span> <span class="token number">0b00001111</span><span class="token punctuation">;</span>    <span class="token keyword">uint8_t</span> ihl <span class="token operator">=</span> ipHeader <span class="token operator">&amp;</span> ihlMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"IHL: "</span> <span class="token operator">&lt;&lt;</span> <span class="token operator">+</span>ihl <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-ç¡¬ä»¶å¯„å­˜å™¨æ“ä½œ"><a href="#6-ç¡¬ä»¶å¯„å­˜å™¨æ“ä½œ" class="headerlink" title="6. ç¡¬ä»¶å¯„å­˜å™¨æ“ä½œ"></a>6. ç¡¬ä»¶å¯„å­˜å™¨æ“ä½œ</h3><p>åœ¨åµŒå…¥å¼ç¼–ç¨‹ä¸­ï¼Œç¡¬ä»¶å¯„å­˜å™¨é€šå¸¸ä»¥ä½å­—æ®µçš„å½¢å¼å®šä¹‰ã€‚æ©ç æ“ä½œå¯ä»¥ç”¨æ¥è¯»å–å’Œè®¾ç½®è¿™äº›å¯„å­˜å™¨çš„ç‰¹å®šä½ã€‚</p><p><strong>ç¤ºä¾‹</strong>ï¼šè®¾ç½®å’Œæ¸…é™¤ä¸€ä¸ªæ§åˆ¶å¯„å­˜å™¨çš„æŸä¸ªä½ã€‚</p><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;iostream&gt;</span></span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;bitset&gt;</span></span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">uint8_t</span> controlRegister <span class="token operator">=</span> <span class="token number">0b00000000</span><span class="token punctuation">;</span> <span class="token comment">// åˆå§‹å¯„å­˜å™¨å€¼</span>    <span class="token comment">// è®¾ç½®ä½¿èƒ½ä½ï¼ˆç¬¬2ä½ï¼‰</span>    <span class="token keyword">uint8_t</span> enableMask <span class="token operator">=</span> <span class="token number">0b00000100</span><span class="token punctuation">;</span>    controlRegister <span class="token operator">|=</span> enableMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"è®¾ç½®ä½¿èƒ½ä½å: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>controlRegister<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token comment">// æ¸…é™¤ä½¿èƒ½ä½</span>    controlRegister <span class="token operator">&amp;=</span> <span class="token operator">~</span>enableMask<span class="token punctuation">;</span>    std<span class="token double-colon punctuation">::</span>cout <span class="token operator">&lt;&lt;</span> <span class="token string">"æ¸…é™¤ä½¿èƒ½ä½å: "</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">bitset</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token number">8</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>controlRegister<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> std<span class="token double-colon punctuation">::</span>endl<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ©ç æ“ä½œæ˜¯ä¸€ç§å¼ºå¤§ä¸”çµæ´»çš„å·¥å…·ï¼Œå¯ä»¥åœ¨å¤šç§åœºæ™¯ä¸­åº”ç”¨ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä½å­—æ®µæ“ä½œã€æƒé™æ§åˆ¶ã€çŠ¶æ€æ ‡å¿—ç®¡ç†ã€æ•°æ®å‹ç¼©å’Œè§£å‹ã€ç½‘ç»œæ•°æ®åŒ…å¤„ç†ä»¥åŠç¡¬ä»¶å¯„å­˜å™¨æ“ä½œã€‚é€šè¿‡ç†è§£å’Œçµæ´»åº”ç”¨æ©ç æ“ä½œï¼Œå¯ä»¥æœ‰æ•ˆåœ°å¤„ç†å’Œæ“ä½œæ•°æ®çš„ç‰¹å®šä½ï¼Œä¼˜åŒ–ç¨‹åºçš„æ€§èƒ½å’Œèµ„æºä½¿ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> C++ Bit </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
            <tag> Bit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æœåŠ¡ä¹‹é—´å…±äº«æ•°æ®</title>
      <link href="/Sharing-Data-Between-Microservices.html"/>
      <url>/Sharing-Data-Between-Microservices.html</url>
      
        <content type="html"><![CDATA[<img src="/Sharing-Data-Between-Microservices/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“æˆ‘å¼€å§‹ä½¿ç”¨å¾®æœåŠ¡æ—¶ï¼Œæˆ‘å¯¹â€œä¸¤ä¸ªæœåŠ¡ä¸èƒ½å…±äº«æ•°æ®æºâ€è¿™ä¸€å¸¸è§è§„åˆ™çš„ç†è§£è¿‡äºå­—é¢åŒ–äº†ã€‚</p><p>æˆ‘åœ¨äº’è”ç½‘ä¸Šåˆ°å¤„éƒ½çœ‹åˆ°è¿™ä¸ªè§„å®šï¼šâ€œä½ ä¸åº”è¯¥åœ¨ä¸¤ä¸ªæœåŠ¡ä¹‹é—´å…±äº«æ•°æ®åº“â€ï¼Œè¿™ç¡®å®æœ‰é“ç†ã€‚ä¸€ä¸ªæœåŠ¡å¿…é¡»æ‹¥æœ‰è‡ªå·±çš„æ•°æ®ï¼Œå¹¶ä¿ç•™æŒ‰ç…§è‡ªå·±çš„æ„æ„¿æ›´æ”¹å…¶æ¨¡å¼çš„è‡ªç”±ï¼Œè€Œä¸éœ€è¦æ›´æ”¹å…¶é¢å‘å¤–éƒ¨çš„APIã€‚</p><span id="more"></span><p>ä½†è¿™é‡Œæœ‰ä¸€ä¸ªé‡è¦çš„å¾®å¦™ä¹‹å¤„ï¼Œç›´åˆ°åæ¥æˆ‘æ‰ç†è§£ã€‚ä¸ºäº†æ­£ç¡®åº”ç”¨è¿™ä¸€è§„åˆ™ï¼Œæˆ‘ä»¬å¿…é¡»åŒºåˆ†å…±äº«æ•°æ®æºå’Œå…±äº«æ•°æ®ã€‚</p><h3 id="ä¸ºä»€ä¹ˆå…±äº«æ•°æ®æºæ˜¯ä¸å¥½çš„"><a href="#ä¸ºä»€ä¹ˆå…±äº«æ•°æ®æºæ˜¯ä¸å¥½çš„" class="headerlink" title="ä¸ºä»€ä¹ˆå…±äº«æ•°æ®æºæ˜¯ä¸å¥½çš„"></a>ä¸ºä»€ä¹ˆå…±äº«æ•°æ®æºæ˜¯ä¸å¥½çš„</h3><p>ä»¥ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼šäº§å“æœåŠ¡åº”è¯¥æ‹¥æœ‰äº§å“è¡¨åŠå…¶ä¸­çš„æ‰€æœ‰è®°å½•ã€‚å®ƒä»¬é€šè¿‡APIï¼Œäº§å“GraphQLæŸ¥è¯¢ï¼Œä»¥åŠé€šè¿‡createProductå˜å¼‚æ¥åˆ›å»ºè¿™äº›è®°å½•ï¼Œå°†è¿™äº›æ•°æ®æš´éœ²ç»™å…¶ä»–å›¢é˜Ÿã€‚</p><p>äº§å“æœåŠ¡æ‹¥æœ‰äº§å“çœŸç›¸çš„æ‰€æœ‰æƒï¼Œå…¶ä»–å›¢é˜Ÿç»ä¸åº”è¯¥ç›´æ¥è®¿é—®è¿™ä¸ªæ•°æ®æºã€‚å¦‚æœä»–ä»¬éœ€è¦æ•°æ®ï¼Œä»–ä»¬åº”è¯¥é€šè¿‡ä»–ä»¬éµå®ˆçš„åˆåŒï¼ˆAPIï¼‰å‘äº§å“æœåŠ¡è¯·æ±‚ã€‚åœ¨ä»»ä½•æƒ…å†µä¸‹ï¼Œä½ éƒ½ä¸åº”è¯¥å…è®¸ç›´æ¥è®¿é—®æ•°æ®åº“ï¼Œå¦åˆ™ä½ å°†å¤±å»æ›´æ”¹æ¨¡å¼çš„è‡ªç”±ã€‚æˆ‘æ˜¯é€šè¿‡è‰°éš¾çš„æ–¹å¼å­¦åˆ°è¿™ä¸€ç‚¹çš„ã€‚</p><h3 id="å…±äº«æ•°æ®æ˜¯å¯ä»¥çš„"><a href="#å…±äº«æ•°æ®æ˜¯å¯ä»¥çš„" class="headerlink" title="å…±äº«æ•°æ®æ˜¯å¯ä»¥çš„"></a>å…±äº«æ•°æ®æ˜¯å¯ä»¥çš„</h3><p>äº‹å®æ˜¯ï¼ŒæœåŠ¡éœ€è¦å±äºå…¶ä»–æœåŠ¡çš„æ•°æ®ã€‚</p><p>ä¾‹å¦‚ï¼Œè¡Œç¨‹æœåŠ¡å°†éœ€è¦è®¿é—®ä¹˜å®¢ï¼ˆæ¥è‡ªä¹˜å®¢æœåŠ¡ï¼‰å’Œå¸æœºï¼ˆæ¥è‡ªå¸æœºæœåŠ¡ï¼‰çš„æ•°æ®ï¼Œä»¥æä¾›è¡Œç¨‹æ¦‚è§ˆã€‚</p><img src="/Sharing-Data-Between-Microservices/2.webp" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ä¸€ä¸ªç®€å•çš„ä¸‰ä¸ªæœåŠ¡æ¶æ„"><a href="#ä¸€ä¸ªç®€å•çš„ä¸‰ä¸ªæœåŠ¡æ¶æ„" class="headerlink" title="ä¸€ä¸ªç®€å•çš„ä¸‰ä¸ªæœåŠ¡æ¶æ„"></a>ä¸€ä¸ªç®€å•çš„ä¸‰ä¸ªæœåŠ¡æ¶æ„</h3><p>è¡Œç¨‹æœåŠ¡åŒæ­¥åœ°å‘æ¯ä¸ªç›¸åº”çš„æœåŠ¡è¯·æ±‚å…¶æ•°æ®ï¼Œä»¥æ»¡è¶³åŸå§‹è¯·æ±‚ï¼ˆgetTripsï¼‰ã€‚æˆ‘ä»¬å¯ä»¥ç¡®ä¿¡æ•°æ®æ˜¯æ–°é²œçš„ï¼Œè¯·æ±‚çš„å®¢æˆ·ç«¯å°†å¾—åˆ°æ•°æ®çš„å¼ºä¸€è‡´æ€§è§†å›¾ï¼ˆä½ ä»¬ä¸­çš„ä¸€äº›äººå¯èƒ½çŸ¥é“æˆ‘æ¥ä¸‹æ¥è¦è¯´ä»€ä¹ˆï¼›ï¼‰ï¼‰ã€‚</p><p>è¿™ç§åŒæ­¥è¯·æ±‚/å“åº”æ¨¡å‹åœ¨å¾®æœåŠ¡ä¹‹é—´ä¼ è¾“æ•°æ®ï¼Œå¯¹äºåˆšå¼€å§‹ä½¿ç”¨å¾®æœåŠ¡çš„å›¢é˜Ÿæ¥è¯´ï¼Œæ˜¯ä¸€ä¸ªéå¸¸è‡ªç„¶çš„å¿ƒæ™ºæ¨¡å‹ï¼Œè‡³å°‘åœ¨æˆ‘çš„ç»éªŒä¸­æ˜¯è¿™æ ·ã€‚ä½ éœ€è¦ä¸€äº›æ•°æ®ï¼Œä½ çŸ¥é“åœ¨å“ªé‡Œå¯ä»¥å¾—åˆ°å®ƒï¼Œä½ å‘æ‹¥æœ‰è¯¥æ•°æ®çš„æœåŠ¡è¯·æ±‚ï¼Œå®ƒä¼šæŒ‰éœ€æä¾›æ•°æ®ç»™ä½ ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæä¾›æ–°é²œã€å¼ºä¸€è‡´æ€§çš„æ•°æ®å¯¹æˆ‘æ¥è¯´æ˜¯ä¸è¨€è€Œå–»çš„ã€‚å¼ºä¸€è‡´æ€§çš„æ•°æ®æ„å‘³ç€æœ€æ–°çš„æ•°æ®ï¼Œç»å¯¹æ˜¯â€œæœ€æ–°é²œâ€çš„æ•°æ®ï¼Œç›´æ¥æ¥è‡ªçœŸç›¸çš„æºå¤´ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œè¿‡å»æä¾›ä»»ä½•ä¸ä¸€è‡´çš„æ•°æ®éƒ½æ˜¯ä¸å¯æ¥å—çš„ã€‚ä½ æ€ä¹ˆèƒ½æä¾›ä¸æ˜¯æœ€æ–°çš„æ•°æ®å‘¢ï¼Ÿå…¶ä»–çš„éƒ½ä¼šæ˜¯è°è¨€ï¼</p><p>æˆ‘ä»¬æŠŠè¿™äº›æ¨¡å¼å½“ä½œä¿¡æ¡æ¥åº”ç”¨ï¼Œå› ä¸ºæˆ‘ä»¬æ²¡æœ‰çœ‹åˆ°å…¶ä»–çš„æ–¹å¼ï¼Œè€Œä¸”æœ€é‡è¦çš„æ˜¯ï¼Œè¿™æ„Ÿè§‰å¾ˆè‡ªç„¶ã€‚</p><h3 id="åŒæ­¥å’Œå¼ºä¸€è‡´æ€§ä¸æ‰©å±•"><a href="#åŒæ­¥å’Œå¼ºä¸€è‡´æ€§ä¸æ‰©å±•" class="headerlink" title="åŒæ­¥å’Œå¼ºä¸€è‡´æ€§ä¸æ‰©å±•"></a>åŒæ­¥å’Œå¼ºä¸€è‡´æ€§ä¸æ‰©å±•</h3><p>ä¸¥é‡ä¾èµ–åŒæ­¥è¯·æ±‚å’Œå¼ºä¸€è‡´æ€§çš„æ¶æ„ä¸å®¹æ˜“æ‰©å±•ã€‚æœ‰æ—¶ï¼Œæ€»æ˜¯ç›´æ¥å»æºå¤´è·å–æ•°æ®éœ€æ±‚æ˜¯ä¸å¯è¡Œçš„ï¼Œæˆ–è€…ä¸¥æ ¼æ¥è¯´å¹¶ä¸å¿…è¦ã€‚</p><p>ä¸Šé¢æåˆ°çš„è¡Œç¨‹æœåŠ¡ä¾‹å­ä¸€å¼€å§‹çœ‹èµ·æ¥ä¸é”™ï¼Œä½†ç³»ç»Ÿå¾ˆå°‘ä¿æŒé‚£ä¹ˆç®€å•ã€‚æ–°æœåŠ¡è¯ç”Ÿäº†ï¼Œå®ƒä»¬éœ€è¦ä»ç°æœ‰æœåŠ¡è·å–æ•°æ®ã€‚åšæŒåŒæ­¥è¯·æ±‚æ¨¡å¼ï¼Œæœ€ç»ˆä¼šè®©ä½ é™·å…¥æœåŠ¡ä¹‹é—´çš„æ··ä¹±è¯·æ±‚ç½‘ã€‚<br>è¿™é‡Œæœ‰ä¸€ä¸ªåœºæ™¯ï¼š</p><img src="/Sharing-Data-Between-Microservices/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ä½¿ç”¨åŒæ­¥è¯·æ±‚çš„ç¤ºä¾‹æµç¨‹"><a href="#ä½¿ç”¨åŒæ­¥è¯·æ±‚çš„ç¤ºä¾‹æµç¨‹" class="headerlink" title="ä½¿ç”¨åŒæ­¥è¯·æ±‚çš„ç¤ºä¾‹æµç¨‹"></a>ä½¿ç”¨åŒæ­¥è¯·æ±‚çš„ç¤ºä¾‹æµç¨‹</h3><ol><li>ä¸€ä¸ªç”¨æˆ·å®Œæˆäº†ä¸€ä¸ªæŒ‘æˆ˜ï¼Œè¿è¡Œäº†ä¸€ä¸ªcompleteChallengeå˜å¼‚åˆ°æŒ‘æˆ˜æœåŠ¡</li><li>åœ¨å­˜å‚¨å®Œæˆåï¼ŒæŒ‘æˆ˜æœåŠ¡è®©æ’è¡Œæ¦œæœåŠ¡çŸ¥é“ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥æ›´æ–°æ’è¡Œæ¦œ</li><li>æ’è¡Œæ¦œæœåŠ¡å‘ç”¨æˆ·æœåŠ¡è¯·æ±‚ç”¨æˆ·çš„æ˜¾ç¤ºåç§°å’Œå¤´åƒï¼Œä»¥æ„å»ºæ–°çš„æ’è¡Œæ¦œçŠ¶æ€</li><li>æ’è¡Œæ¦œæœåŠ¡å‘ç°æ–°æ’è¡Œæ¦œçŠ¶æ€ä¸­æœ‰ä¸€ä¸ªæ–°çš„é¢†å¯¼è€…ï¼Œå¹¶è®©é€šçŸ¥æœåŠ¡çŸ¥é“ï¼Œè¿™æ ·å®ƒå°±å¯ä»¥é€šçŸ¥å‚ä¸è€…æœ‰ä¸€ä¸ªæ–°çš„é¢†å¯¼è€…ï¼</li><li>é€šçŸ¥æœåŠ¡å‘ç”¨æˆ·æœåŠ¡è¯·æ±‚è¯¥ç‰¹å®šæ’è¡Œæ¦œä¸­ç”¨æˆ·çš„æœ€æ–°çš„ç”µå­é‚®ä»¶åœ°å€ï¼Œä»¥ä¾¿å‘é€ç”µå­é‚®ä»¶</li></ol><p>ç”¨æˆ·æœåŠ¡æ˜¾ç„¶æ˜¯è¿™é‡Œçš„äº‰è®®ç‚¹ï¼šæ¯ä¸ªäººéƒ½ä»¥è¿™æ ·æˆ–é‚£æ ·çš„æ–¹å¼ä¾èµ–å®ƒã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœè¿™ä¸ªæœåŠ¡ä¸‹çº¿äº†ï¼šå®ƒä¹Ÿä¼šä½¿å¤§å¤šæ•°å…¶ä»–æœåŠ¡ä¸‹çº¿ã€‚ä¸ä»…å¦‚æ­¤ï¼Œä½ è¿˜å¾—ç¡®ä¿å§‹ç»ˆè®©è¿™ä¸ªæœåŠ¡å™¨ä¿æŒå¼ºå¤§ï¼Œæ‹¥æœ‰æ›´å¤šçš„å‰¯æœ¬å’Œé«˜æ€§èƒ½çš„æ•°æ®åº“ï¼Œä»¥æ»¡è¶³éœ€æ±‚ã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œè¯·æ±‚é“¾ä¸­çš„æ¯ä¸ªè·³è½¬éƒ½ä¸ºæ•´ä¸ªè¯·æ±‚å¢åŠ äº†å»¶è¿Ÿã€‚æ¯ä¸ªè·³è½¬éƒ½æœ‰å¯èƒ½å¢åŠ æŒ‡æ•°çº§çš„å»¶è¿Ÿï¼Œå› ä¸ºä¾èµ–é“¾ä¸­çš„æ¯ä¸ªæœåŠ¡éƒ½å¯èƒ½å‘è‡ªå·±çš„ä¾èµ–é¡¹å‘å‡ºå¤šä¸ªè¯·æ±‚ã€‚åœ¨ä½ æ„è¯†åˆ°ä¹‹å‰ï¼Œä½ å·²ç»è¾¾åˆ°äº†éš¾ä»¥å¿å—çš„å»¶è¿Ÿæ°´å¹³ã€‚</p><p>æœ€åï¼Œè¯·æ±‚é“¾ä¸­çš„æ¯ä¸ªé¢å¤–ä¾èµ–éƒ½å¢åŠ äº†æ•´ä¸ªè¯·æ±‚é“¾å¤±è´¥çš„å¯èƒ½æ€§ã€‚åœ¨ä¸€ä¸ªæ¶‰åŠäº”ä¸ªæœåŠ¡çš„è¯·æ±‚é“¾ä¸­ï¼Œæ¯ä¸ªæœåŠ¡çš„SLAä¸º99.9%ï¼ˆå¤§çº¦9å°æ—¶çš„å¹´åœæœºæ—¶é—´ï¼‰ï¼Œå¤åˆSLAå˜ä¸º99.5%ã€‚è¿™å‡ ä¹æ˜¯æ¯å¹´å°†è¿‘2å¤©çš„åœæœºæ—¶é—´ï¼</p><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡é—®ä¸€ä¸ªé—®é¢˜æ¥é¿å…æ‰€æœ‰è¿™äº›ç¼ºç‚¹ï¼šæœåŠ¡çœŸçš„éœ€è¦æœ€æ–°çš„æ•°æ®å—ï¼Ÿ</p><p>é€šçŸ¥æœåŠ¡ï¼ˆç¬¬5æ­¥ï¼‰å¯ä»¥è¯´æ˜¯éœ€è¦çš„ã€‚å¦‚æœç”¨æˆ·æ›´æ”¹äº†ä»–ä»¬çš„åœ°å€ï¼Œè€Œé€šçŸ¥æœåŠ¡ä¸çŸ¥é“ï¼Œå®ƒå°±æœ‰å°†ç”µå­é‚®ä»¶å‘é€åˆ°é”™è¯¯åœ°å€å¹¶æ— æ³•å°†é€šçŸ¥å‘é€ç»™é¢„æœŸç”¨æˆ·çš„é£é™©ã€‚</p><p>å¦ä¸€æ–¹é¢ï¼Œæ’è¡Œæ¦œæœåŠ¡å¯èƒ½ä¸éœ€è¦æœ€æ–°çš„æ˜¾ç¤ºåç§°å’Œå¤´åƒæ¥æ„å»ºæ’è¡Œæ¦œâ€”â€”å¦‚æœç”¨æˆ·çœ‹åˆ°ä¸€äº›æ—§çš„å¤´åƒæˆ–æ˜¾ç¤ºåç§°ï¼Œé‚£ä¹Ÿä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚</p><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼ŒæœåŠ¡å¯¹æ•°æ®ä¸€è‡´æ€§çš„éœ€æ±‚æ˜¯ä¸åŒçš„ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›æƒè¡¡ä½œä¸ºæ æ†ï¼Œåº”ç”¨ä¸åŒçš„æ•°æ®å…±äº«æ–¹æ³•ï¼Œæ„å»ºä¸€ä¸ªæ›´å¥å£®çš„åˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p><h3 id="æœ€ç»ˆä¸€è‡´æ€§çš„å¼•å…¥"><a href="#æœ€ç»ˆä¸€è‡´æ€§çš„å¼•å…¥" class="headerlink" title="æœ€ç»ˆä¸€è‡´æ€§çš„å¼•å…¥"></a>æœ€ç»ˆä¸€è‡´æ€§çš„å¼•å…¥</h3><p>åœ¨æˆ‘çš„èŒä¸šç”Ÿæ¶¯ä¸­ï¼Œæˆ‘æ„è¯†åˆ°æœåŠ¡å¯ä»¥åœ¨å®ƒä»¬è‡ªå·±çš„æ•°æ®åº“è¡¨ä¸­ç»´æŠ¤å…¶ä»–æœåŠ¡æ•°æ®çš„å‰¯æœ¬ã€‚è¿™å¸¦æ¥äº†é€šè¿‡äº‹ä»¶æˆ–è½®è¯¢ä¿ç•™æ•°æ®çš„è´£ä»»ã€‚</p><p>è¿™åŒ…æ‹¬æ•°æ®å¯èƒ½åœ¨ä¸€æ®µæ—¶é—´å†…æ˜¯é™ˆæ—§çš„ï¼Œä½†æœ€ç»ˆä¼šè¢«æ›´æ–°ï¼Œè¿™æ„å‘³ç€æ•°æ®æœ€ç»ˆæ˜¯ä¸€è‡´çš„ã€‚æˆ‘ä»¬ä¸èƒ½ä¿è¯æ•°æ®ä¸é™ˆæ—§ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä¿è¯æˆ‘ä»¬æœ€ç»ˆä¼šèµ¶ä¸Šã€‚</p><p>æˆ‘â€œå¼€çªâ€çš„é‚£ä¸€åˆ»æ˜¯å½“æˆ‘ä»ä¾èµ–å…¬å…±å¤©æ°”APIè·å–å¤©æ°”æ•°æ®çš„åç«¯æœåŠ¡çš„è§’åº¦æ¥è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚ä¸å…¶æ¯æ¬¡éœ€è¦å¤©æ°”æ•°æ®æ—¶éƒ½æ£€ç´¢æ™®é‡Œä»€è’‚çº³æˆ–æŸæ—çš„å¤©æ°”æ•°æ®ï¼Œä¸å¦‚é€šè¿‡å°†å…¶åœ¨æœ¬åœ°è¡¨ä¸­å…·ä½“åŒ–å¹¶ç¼“å­˜ï¼ˆå¯èƒ½æ˜¯ä¸€å¤©å¤šæ¬¡ï¼‰æ¥ç¼“å­˜å®ƒï¼Œå¹¶å°†ç¼“å­˜çš„æ•°æ®æä¾›ç»™è¿™äº›ç”¨æˆ·ã€‚æˆ‘é€‰æ‹©äº†æœ€ç»ˆä¸€è‡´æ€§çš„æƒè¡¡ï¼Œå› ä¸ºå¯¹æˆ‘çš„ç”¨æˆ·æ¥è¯´ï¼Œçœ‹åˆ°æœ€æ–°æ•°æ®å¹¶ä¸å…³é”®ï¼Œå¦‚æœæ•°æ®æœ‰å‡ å°æ—¶çš„å»¶è¿Ÿä¹Ÿæ˜¯å¯ä»¥æ¥å—çš„ã€‚</p><p>å›åˆ°æŒ‘æˆ˜çš„ä¾‹å­ï¼šæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æœåŠ¡ä¸­ç»´æŠ¤ç”¨æˆ·çš„æœ¬åœ°å‰¯æœ¬æ¥åˆ‡æ–­å¯¹ç”¨æˆ·æœåŠ¡çš„è®¸å¤šåŒæ­¥ä¾èµ–ï¼š</p><ol><li>æ’è¡Œæ¦œæœåŠ¡å¯ä»¥ç»´æŠ¤ç”¨æˆ·çš„æœ¬åœ°å‰¯æœ¬ï¼Œé¿å…ä¸å¾—ä¸å‘ç”¨æˆ·æœåŠ¡å‘å‡ºè¯·æ±‚ã€‚å¦‚æœæ•°æ®æœ‰ç‚¹æ—§ï¼Œæ²¡æœ‰äººä¼šä»‹æ„ï¼Œå¦‚æœæœ‰äººçœ‹åˆ°ä¸€ä¸ªç¨å¾®æ—§çš„å¤´åƒï¼Œé‚£ä¹Ÿä¸æ˜¯ä¸€ä¸ªé˜»ç¢ã€‚</li><li>æŒ‘æˆ˜æœåŠ¡ä¹Ÿå¯ä»¥åšåŒæ ·çš„äº‹æƒ…ï¼›æ¯”å¦‚è¯´ï¼Œå¦‚æœå®ƒå…¬å¼€äº†ä¸€ä¸ªgetChallengeDetailsæŸ¥è¯¢ï¼Œå¹¶éœ€è¦æ˜¾ç¤ºåç§°å’Œå¤´åƒæ¥æ˜¾ç¤ºå½“å‰æŒ‘æˆ˜çš„å‚ä¸è€…â€”â€”å®ƒä¹Ÿå¯ä»¥ä»è‡ªå·±çš„å…·ä½“åŒ–ç”¨æˆ·è¡¨ä¸­æä¾›è¿™ç§æœ€ç»ˆä¸€è‡´æ€§çš„æ•°æ®ã€‚</li><li>é€šçŸ¥æœåŠ¡ï¼Œè™½ç„¶æ›´æ•æ„Ÿä¸€äº›ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨æ•°æ®å…±äº«æ¥æ¶ˆé™¤å¯¹ç”¨æˆ·æœåŠ¡çš„ä¾èµ–ã€‚å®ƒå¯ä»¥åœ¨æœ¬åœ°å…·ä½“åŒ–ç”¨æˆ·ï¼Œå¹¶é€šè¿‡ç›‘å¬ç”¨æˆ·æ›´æ–°äº‹ä»¶æ¥ç»´æŠ¤æœ€ä½³åŠªåŠ›æ›´æ–°çŠ¶æ€ï¼Œä»¥ç¡®ä¿å®ƒæ‹¥æœ‰æœ€æ–°çš„ç”µå­é‚®ä»¶ã€‚<br>å°½ç®¡æˆ‘ä»¬æ²¡æœ‰å¤ªå¤šè®¨è®ºæœåŠ¡å¦‚ä½•å…±äº«è¿™äº›æ•°æ®ï¼ˆè¿™æ˜¯å¦ä¸€ä¸ªæ—¶é—´çš„è¯é¢˜ï¼‰ï¼Œä½†æœ€ç»ˆçš„ç¤ºä¾‹æ¶æ„å°†ä½¿ç”¨äº‹ä»¶æºå’Œç¼“å­˜çš„ç»„åˆã€‚</li></ol><img src="/Sharing-Data-Between-Microservices/4.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>ç¤ºä¾‹æ¶æ„ï¼Œå±•ç¤ºäº†æœåŠ¡ä¹‹é—´å…±äº«æ•°æ®çš„ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼šäº‹ä»¶æºå’Œç¼“å­˜<br>å¦‚æœä½ æƒ³çœ‹æ›´å¤šçš„ä¾‹å­ï¼Œè¯·æŸ¥çœ‹Fiverrçš„å·¥ç¨‹å¸ˆShiran Metsuyanimçš„ã€Šå¦‚ä½•åœ¨å¤§è§„æ¨¡ä¸Šåœ¨å¾®æœåŠ¡ä¹‹é—´å…±äº«æ•°æ®ã€‹ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å¸–å­ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨æ·»åŠ æ–°æœåŠ¡æ—¶ä¿æŒå¥å£®æ€§ã€‚å®ƒé¦–å…ˆåˆ—å‡ºäº†é™åˆ¶ï¼Œç„¶åè®¨è®ºäº†åŒæ­¥ã€å¼‚æ­¥å’Œæ··åˆè§£å†³æ–¹æ¡ˆä¹‹é—´çš„æƒè¡¡ã€‚</p><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>æˆ‘æƒ³å‘åƒæˆ‘å‡ å¹´å‰ä¸€æ ·é™·å…¥â€œä¸å…±äº«æ•°æ®â€å­—é¢æ„ä¹‰çš„å¼€å‘è€…ä¼ è¾¾è¿™ä¸ªè§‚ç‚¹ï¼Œä½†å¿…é¡»æ„è¯†åˆ°è¿™åªé€‚ç”¨äºä¸å…±äº«çœŸç›¸çš„æºå¤´ã€‚åœ¨å¦ä¸€ä¸ªæœåŠ¡çš„é¢†åŸŸå†…ç»´æŠ¤æœåŠ¡æ•°æ®çš„å‰¯æœ¬æ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ï¼Œå¹¶æ‹¥æŠ±äº†æœ€ç»ˆä¸€è‡´æ€§çš„ç²¾ç¥ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Microservices </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Data </tag>
            
            <tag> Sharing </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç³»ç»Ÿè®¾è®¡åŸºç¡€â€”â€”é€Ÿç‡é™åˆ¶å™¨</title>
      <link href="/System-Design-Basics-%E2%80%94-Rate-Limiter.html"/>
      <url>/System-Design-Basics-%E2%80%94-Rate-Limiter.html</url>
      
        <content type="html"><![CDATA[<img src="/System-Design-Basics-%E2%80%94-Rate-Limiter/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ä½ å¥½ï¼Œä¼™è®¡ä»¬ï¼Œå¦‚æœä½ æ­£åœ¨ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ï¼Œä½ å¯èƒ½å·²ç»é‡åˆ°äº†â€œé€Ÿç‡é™åˆ¶å™¨â€ï¼Œè¿™æ˜¯è½¯ä»¶æ¶æ„ä¸­çš„åŸºæœ¬ç»„ä»¶ä¹‹ä¸€ï¼Œä¸APIç½‘å…³ã€è´Ÿè½½å‡è¡¡å™¨ã€åˆ†å¸ƒå¼ç¼“å­˜ç­‰ä¸€èµ·ã€‚"><a href="#ä½ å¥½ï¼Œä¼™è®¡ä»¬ï¼Œå¦‚æœä½ æ­£åœ¨ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ï¼Œä½ å¯èƒ½å·²ç»é‡åˆ°äº†â€œé€Ÿç‡é™åˆ¶å™¨â€ï¼Œè¿™æ˜¯è½¯ä»¶æ¶æ„ä¸­çš„åŸºæœ¬ç»„ä»¶ä¹‹ä¸€ï¼Œä¸APIç½‘å…³ã€è´Ÿè½½å‡è¡¡å™¨ã€åˆ†å¸ƒå¼ç¼“å­˜ç­‰ä¸€èµ·ã€‚" class="headerlink" title="ä½ å¥½ï¼Œä¼™è®¡ä»¬ï¼Œå¦‚æœä½ æ­£åœ¨ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ï¼Œä½ å¯èƒ½å·²ç»é‡åˆ°äº†â€œé€Ÿç‡é™åˆ¶å™¨â€ï¼Œè¿™æ˜¯è½¯ä»¶æ¶æ„ä¸­çš„åŸºæœ¬ç»„ä»¶ä¹‹ä¸€ï¼Œä¸APIç½‘å…³ã€è´Ÿè½½å‡è¡¡å™¨ã€åˆ†å¸ƒå¼ç¼“å­˜ç­‰ä¸€èµ·ã€‚"></a>ä½ å¥½ï¼Œä¼™è®¡ä»¬ï¼Œå¦‚æœä½ æ­£åœ¨ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ï¼Œä½ å¯èƒ½å·²ç»é‡åˆ°äº†â€œé€Ÿç‡é™åˆ¶å™¨â€ï¼Œè¿™æ˜¯è½¯ä»¶æ¶æ„ä¸­çš„åŸºæœ¬ç»„ä»¶ä¹‹ä¸€ï¼Œä¸APIç½‘å…³ã€è´Ÿè½½å‡è¡¡å™¨ã€åˆ†å¸ƒå¼ç¼“å­˜ç­‰ä¸€èµ·ã€‚</h3><p>åœ¨ä»Šå¤©çš„é«˜æµé‡ã€åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ä¸­ï¼Œåº”ç”¨ç¨‹åºå’ŒæœåŠ¡ä¸è®¸å¤šç”¨æˆ·å’Œç³»ç»Ÿäº¤äº’ï¼Œç»´æŠ¤ç¨³å®šæ€§å’Œé˜²æ­¢æ»¥ç”¨æ˜¯è‡³å…³é‡è¦çš„é—®é¢˜ã€‚</p><p>è€Œé€Ÿç‡é™åˆ¶æœ‰åŠ©äºè§£å†³è¿™äº›é—®é¢˜ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæœåŠ¡ï¼Œå®ƒæ¥æ”¶åˆ°å¤§é‡çš„è¯·æ±‚ï¼Œä½†å®ƒæ¯ç§’åªèƒ½å¤„ç†æœ‰é™æ•°é‡çš„è¯·æ±‚ã€‚ä¸ºäº†å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æŸç§èŠ‚æµæˆ–é€Ÿç‡é™åˆ¶æœºåˆ¶ï¼Œåªå…è®¸ä¸€å®šæ•°é‡çš„è¯·æ±‚ï¼Œè¿™æ ·æˆ‘ä»¬çš„æœåŠ¡å°±å¯ä»¥å“åº”æ‰€æœ‰è¯·æ±‚ã€‚</p><span id="more"></span><p>ä»é«˜å±‚æ¬¡ä¸Šè®²ï¼Œé€Ÿç‡é™åˆ¶å™¨é™åˆ¶äº†ä¸€ä¸ªå®ä½“ï¼ˆç”¨æˆ·ã€è®¾å¤‡ã€IPç­‰ï¼‰åœ¨ç‰¹å®šæ—¶é—´çª—å£å†…å¯ä»¥æ‰§è¡Œçš„äº‹ä»¶æ•°é‡ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œé€Ÿç‡é™åˆ¶å™¨æ˜¯ç”¨äºè½¯ä»¶ç³»ç»Ÿå’Œç½‘ç»œé€šä¿¡ä¸­çš„ä¸€ç§æœºåˆ¶ï¼Œç”¨äºæ§åˆ¶è¯·æ±‚æˆ–æ“ä½œçš„æ‰§è¡Œé€Ÿç‡ã€‚</p><p>å®ƒæ—¨åœ¨é˜²æ­¢èµ„æºçš„è¿‡åº¦ä½¿ç”¨ï¼Œä¿æŠ¤ç³»ç»Ÿä¸è¢«å‹å®ï¼Œå¹¶ç¡®ä¿å¤šä¸ªç”¨æˆ·æˆ–å®¢æˆ·ç«¯ä¹‹é—´çš„å…¬å¹³ä½¿ç”¨ã€‚å®ƒå¯ä»¥åœ¨åº”ç”¨ç¨‹åºã€APIç½‘å…³æˆ–ç½‘ç»œå±‚ç­‰ä¸åŒçº§åˆ«åº”ç”¨ã€‚</p><p>é€Ÿç‡é™åˆ¶å™¨å¯¹äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿå’Œé«˜æµé‡åº”ç”¨ç¨‹åºä¸­ç»´æŠ¤ç³»ç»Ÿç¨³å®šæ€§ã€ç¡®ä¿æœåŠ¡è´¨é‡å’Œç®¡ç†èµ„æºéå¸¸å…³é”®ã€‚</p><p>é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œå¦‚æœä½ æ­£åœ¨ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ï¼Œå¹¶å¸Œæœ›åœ¨æœ‰é™çš„æ—¶é—´å†…å­¦ä¹ ç³»ç»Ÿè®¾è®¡ï¼Œä½ è¿˜å¯ä»¥æŸ¥çœ‹åƒByteByteGoã€Design Guruã€Exponentã€Educativeå’ŒUdemyè¿™æ ·çš„ç½‘ç«™ï¼Œå®ƒä»¬æœ‰è®¸å¤šä¼˜ç§€çš„ç³»ç»Ÿè®¾è®¡è¯¾ç¨‹ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œåœ¨å›ç­”ç³»ç»Ÿè®¾è®¡é—®é¢˜æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥éµå¾ªåƒDesignGuruè¿™æ ·çš„ç³»ç»Ÿè®¾è®¡æ¨¡æ¿ï¼Œä»¥ä¾¿åœ¨æœ‰é™çš„æ—¶é—´å†…æ›´å¥½åœ°è¡¨è¾¾ä½ çš„ç­”æ¡ˆã€‚</p><p>éµå¾ªè¿™ä¸ªæ¨¡æ¿å®é™…ä¸Šæ˜¯ä½ ä¸ºä»»ä½•ç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡çš„æœ€å¥½çš„äº‹æƒ…ä¹‹ä¸€ã€‚</p><img src="/System-Design-Basics-%E2%80%94-Rate-Limiter/2.webp" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>ä»€ä¹ˆæ˜¯é€Ÿç‡é™åˆ¶å™¨ï¼Ÿ</strong><br>é€Ÿç‡é™åˆ¶å™¨æ˜¯ä¸€ç§ç”¨äºè®¡ç®—ä¸­æ§åˆ¶æŸäº›æ“ä½œæˆ–è¯·æ±‚è¢«å…è®¸çš„é€Ÿç‡çš„æœºåˆ¶ã€‚å®ƒé€šå¸¸åœ¨å„ç§åº”ç”¨ç¨‹åºå’Œç³»ç»Ÿä¸­ä½¿ç”¨ï¼Œä»¥é˜²æ­¢æ»¥ç”¨ã€ä¿æŠ¤èµ„æºå’Œç»´æŠ¤ç¨³å®šæ€§ã€‚</p><p>é€Ÿç‡é™åˆ¶å™¨çš„åŸºæœ¬æ€æƒ³æ˜¯é™åˆ¶ç”¨æˆ·æˆ–ç³»ç»Ÿåœ¨æŒ‡å®šæœŸé—´å†…å¯ä»¥æ‰§è¡Œçš„è¯·æ±‚æˆ–æ“ä½œæ•°é‡ã€‚</p><p>è¿™æ ·åšæ˜¯ä¸ºäº†é˜²æ­¢æœåŠ¡è¿‡è½½ã€é¿å…ä¸å¿…è¦çš„èµ„æºæ¶ˆè€—ï¼Œå¹¶é˜²æ­¢æ½œåœ¨çš„æ¶æ„æ´»åŠ¨æˆ–æ— æ„çš„è¯¯ç”¨ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€å•çš„é€Ÿç‡é™åˆ¶å™¨å·¥ä½œåŸç†çš„è§£é‡Šï¼š</p><ul><li><strong>å®šä¹‰é™åˆ¶</strong>ï¼šæŒ‡å®šåœ¨æŸä¸ªæ—¶é—´çª—å£å†…å…è®¸çš„æœ€å¤§è¯·æ±‚æˆ–æ“ä½œæ•°é‡ã€‚ä¾‹å¦‚ï¼Œä½ å¯èƒ½åªå…è®¸æ¯åˆ†é’Ÿ100ä¸ªè¯·æ±‚ã€‚</li><li><strong>è·Ÿè¸ªä½¿ç”¨æƒ…å†µ</strong>ï¼šé€Ÿç‡é™åˆ¶å™¨ä¼šè·Ÿè¸ªç”¨æˆ·æˆ–ç³»ç»Ÿéšæ—¶é—´æ‰€åšçš„è¯·æ±‚æ•°é‡ã€‚</li><li><strong>æ£€æŸ¥é™åˆ¶</strong>ï¼šåœ¨å¤„ç†æ–°è¯·æ±‚ä¹‹å‰ï¼Œé€Ÿç‡é™åˆ¶å™¨ä¼šæ£€æŸ¥ç”¨æˆ·æˆ–ç³»ç»Ÿæ˜¯å¦åœ¨å½“å‰æ—¶é—´çª—å£å†…è¶…è¿‡äº†å®šä¹‰çš„é™åˆ¶ã€‚</li><li><strong>å†³ç­–åˆ¶å®š</strong>ï¼šå¦‚æœç”¨æˆ·æˆ–ç³»ç»Ÿåœ¨å…è®¸çš„é™åˆ¶å†…ï¼Œè¯·æ±‚å°†è¢«å¤„ç†ã€‚å¦åˆ™ï¼Œè¯·æ±‚å¯èƒ½ä¼šè¢«å»¶è¿Ÿã€æ‹’ç»æˆ–æ ¹æ®å…·ä½“å®ç°é‡‡å–å…¶ä»–è¡ŒåŠ¨ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯Exponentçš„ä¸€ä¸ªæ¼‚äº®çš„å›¾è¡¨ï¼Œå±•ç¤ºäº†é€Ÿç‡é™åˆ¶å™¨çš„å®é™…åº”ç”¨ï¼š</p><img src="/System-Design-Basics-%E2%80%94-Rate-Limiter/3.webp" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>é€Ÿç‡é™åˆ¶å™¨ç®—æ³•</strong><br>æ ¹æ®ç³»ç»Ÿçš„è¦æ±‚å’Œç‰¹æ€§ï¼Œæœ‰ä¸åŒç®—æ³•å’Œç­–ç•¥æ¥å®ç°é€Ÿç‡é™åˆ¶ã€‚ä¸€äº›å¸¸è§çš„é€Ÿç‡é™åˆ¶ç®—æ³•åŒ…æ‹¬ï¼š</p><ul><li><strong>ä»¤ç‰Œæ¡¶</strong>ï¼šåªè¦æ¡¶ä¸­æœ‰ä»¤ç‰Œå¯ç”¨ï¼Œå°±å¯ä»¥æˆäºˆè¯·æ±‚ã€‚ä»¤ç‰Œä»¥å›ºå®šé€Ÿç‡æ·»åŠ åˆ°æ¡¶ä¸­ï¼Œæ¯ä¸ªè¯·æ±‚æ¶ˆè€—ä¸€ä¸ªæˆ–å¤šä¸ªä»¤ç‰Œã€‚</li><li><strong>æ¼æ¡¶</strong>ï¼šç±»ä¼¼äºä»¤ç‰Œæ¡¶ï¼Œä½†ä¸æ˜¯ä»¤ç‰Œï¼Œè€Œæ˜¯è¯·æ±‚ä»¥å›ºå®šé€Ÿç‡ä»æ¡¶ä¸­æ¼å‡ºã€‚å¦‚æœæ¡¶æº¢å‡ºï¼Œå¤šä½™çš„è¯·æ±‚å¯èƒ½ä¼šè¢«å»¶è¿Ÿæˆ–ä¸¢å¼ƒã€‚</li><li><strong>æ»‘åŠ¨çª—å£</strong>ï¼šåœ¨æ»‘åŠ¨æ—¶é—´çª—å£å†…è®¡ç®—è¯·æ±‚çš„æ•°é‡ã€‚å¦‚æœè®¡æ•°è¶…è¿‡å…è®¸çš„é™åˆ¶ï¼Œè¿›ä¸€æ­¥çš„è¯·æ±‚å°†è¢«å»¶è¿Ÿæˆ–æ‹’ç»ã€‚</li></ul><p>é€Ÿç‡é™åˆ¶åœ¨Web APIã€ç½‘ç»œåè®®ã€WebæœåŠ¡å™¨å’Œå„ç§åˆ†å¸ƒå¼ç³»ç»Ÿä¸­å¹¿æ³›ä½¿ç”¨ï¼Œä»¥ç¡®ä¿å…¬å¹³ä½¿ç”¨ã€é˜²æ­¢æ»¥ç”¨å’Œç»´æŠ¤ç³»ç»Ÿç¨³å®šæ€§ã€‚</p><p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼ŒByteByteGoçš„é€Ÿç‡é™åˆ¶å™¨ç« èŠ‚æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºï¼Œæˆ‘å¤§éƒ¨åˆ†çŸ¥è¯†éƒ½æ˜¯ä»é‚£é‡Œå­¦åˆ°çš„ã€‚</p><p>ä»¥ä¸‹æ˜¯ByteByteGoçš„ä¸€ä¸ªæ¼‚äº®çš„å›¾è¡¨ï¼Œç”¨ç®€å•çš„è¯­è¨€è§£é‡Šäº†é€Ÿç‡é™åˆ¶å™¨çš„å·¥ä½œåŸç†ï¼š</p><img src="/System-Design-Basics-%E2%80%94-Rate-Limiter/4.webp" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>ç³»ç»Ÿè®¾è®¡é¢è¯•èµ„æº</strong><br>è¿™é‡Œæ˜¯ä¸€ä»½ç²¾é€‰çš„æœ€ä½³ç³»ç»Ÿè®¾è®¡ä¹¦ç±ã€åœ¨çº¿è¯¾ç¨‹å’Œç»ƒä¹ ç½‘ç«™çš„åˆ—è¡¨ï¼Œä½ å¯ä»¥æŸ¥çœ‹è¿™äº›èµ„æºï¼Œæ›´å¥½åœ°ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ã€‚è¿™äº›è¯¾ç¨‹å¤§å¤šä¹Ÿå›ç­”äº†æˆ‘åœ¨è¿™é‡Œåˆ†äº«çš„é—®é¢˜ã€‚</p><ul><li>DesignGuruçš„ã€ŠæŒæ¡ç³»ç»Ÿè®¾è®¡è¯¾ç¨‹ã€‹ï¼šä¸€ä¸ªäº’åŠ¨å­¦ä¹ å¹³å°ï¼Œæœ‰åŠ¨æ‰‹ç»ƒä¹ å’Œç°å®åœºæ™¯ï¼Œä»¥åŠ å¼ºä½ çš„ç³»ç»Ÿè®¾è®¡æŠ€èƒ½ã€‚</li><li>Alex Xuçš„ã€Šç³»ç»Ÿè®¾è®¡é¢è¯•ã€‹ï¼šè¿™æœ¬ä¹¦æ·±å…¥æ¢è®¨äº†ç³»ç»Ÿè®¾è®¡æ¦‚å¿µã€ç­–ç•¥å’Œé¢è¯•å‡†å¤‡æŠ€å·§ã€‚</li><li>Martin Kleppmannçš„ã€Šè®¾è®¡æ•°æ®å¯†é›†å‹åº”ç”¨ã€‹ï¼šä¸€æœ¬å…¨é¢æŒ‡å—ï¼Œæ¶µç›–äº†è®¾è®¡å¯æ‰©å±•å’Œå¯é ç³»ç»Ÿçš„åŸåˆ™å’Œå®è·µã€‚</li><li>LeetCodeç³»ç»Ÿè®¾è®¡æ ‡ç­¾ï¼šLeetCodeæ˜¯ä¸€ä¸ªæµè¡Œçš„æŠ€æœ¯é¢è¯•å‡†å¤‡å¹³å°ã€‚LeetCodeä¸Šçš„ç³»ç»Ÿè®¾è®¡æ ‡ç­¾åŒ…æ‹¬å„ç§é—®é¢˜ä¾›ç»ƒä¹ ã€‚</li><li>GitHubä¸Šçš„ã€Šç³»ç»Ÿè®¾è®¡å…¥é—¨ã€‹ï¼šä¸€ä»½ç²¾é€‰èµ„æºåˆ—è¡¨ï¼ŒåŒ…æ‹¬æ–‡ç« ã€ä¹¦ç±å’Œè§†é¢‘ï¼Œå¸®åŠ©ä½ ä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•åšå‡†å¤‡ã€‚</li><li>Educativeçš„ç³»ç»Ÿè®¾è®¡è¯¾ç¨‹ï¼šä¸€ä¸ªäº’åŠ¨å­¦ä¹ å¹³å°ï¼Œæœ‰åŠ¨æ‰‹ç»ƒä¹ å’Œç°å®åœºæ™¯ï¼Œä»¥åŠ å¼ºä½ çš„ç³»ç»Ÿè®¾è®¡æŠ€èƒ½ã€‚</li><li>High Scalabilityåšå®¢ï¼šä¸€ä¸ªåšå®¢ï¼Œå±•ç¤ºé«˜æµé‡ç½‘ç«™å’Œå¯æ‰©å±•ç³»ç»Ÿæ¶æ„çš„æ–‡ç« å’Œæ¡ˆä¾‹ç ”ç©¶ã€‚</li><li>YouTubeé¢‘é“ï¼šæŸ¥çœ‹â€œGaurav Senâ€å’Œâ€œTech Dummiesâ€ç­‰é¢‘é“ï¼Œäº†è§£ç³»ç»Ÿè®¾è®¡æ¦‚å¿µå’Œé¢è¯•å‡†å¤‡çš„æœ‰è§åœ°çš„è§†é¢‘ã€‚</li><li>ByteByteGoï¼šAlex Xuä¸ºç³»ç»Ÿè®¾è®¡é¢è¯•å‡†å¤‡çš„æ´»ä¹¦å’Œè¯¾ç¨‹ã€‚å®ƒåŒ…å«äº†ã€Šç³»ç»Ÿè®¾è®¡é¢è¯•ã€‹ç¬¬ä¸€å·å’Œç¬¬äºŒå·çš„å…¨éƒ¨å†…å®¹ï¼Œå¹¶å°†åœ¨ç¬¬ä¸‰å·å‘å¸ƒæ—¶æ›´æ–°ã€‚</li><li>Exponentï¼šä¸€ä¸ªä¸“é—¨é’ˆå¯¹FAANGå…¬å¸ï¼ˆå¦‚äºšé©¬é€Šå’Œè°·æ­Œï¼‰é¢è¯•å‡†å¤‡çš„ç½‘ç«™ï¼Œä»–ä»¬ä¹Ÿæœ‰ä¸€ä¸ªå¾ˆå¥½çš„ç³»ç»Ÿè®¾è®¡è¯¾ç¨‹å’Œè®¸å¤šå…¶ä»–ææ–™ï¼Œå¯ä»¥å¸®åŠ©ä½ é€šè¿‡FAANGé¢è¯•ã€‚</li></ul><p>ä»¥ä¸‹æ˜¯ä¸€ä»½æ¼‚äº®çš„ç³»ç»Ÿè®¾è®¡é¢è¯•å¤‡å¿˜å•ï¼Œç”¨äºå¿«é€Ÿå¤ä¹ åŸºæœ¬çš„ç³»ç»Ÿè®¾è®¡æ¦‚å¿µï¼š</p><img src="/System-Design-Basics-%E2%80%94-Rate-Limiter/5.webp" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>ç»“è®º</strong><br>è¿™å°±æ˜¯å…³äºä»€ä¹ˆæ˜¯é€Ÿç‡é™åˆ¶å™¨ä»¥åŠå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚é€Ÿç‡é™åˆ¶å™¨æ˜¯ä»»ä½•è½¯ä»¶æ¶æ„å¸ˆæ‰‹ä¸­çš„é‡è¦å·¥å…·ï¼Œä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ä»»ä½•ä½ æƒ³é˜²æ­¢èµ„æºè€—å°½çš„åœ°æ–¹ã€‚</p><p>å®ƒä¹Ÿæ˜¯ç³»ç»Ÿè®¾è®¡é¢è¯•ä¸­éœ€è¦å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µä¹‹ä¸€ã€‚è®¸å¤šå…¬å¸è¿˜ä¼šè¯¢é—®å…³äºè®¾è®¡APIé€Ÿç‡é™åˆ¶å™¨çš„é—®é¢˜ã€‚æˆ‘çš„æ„æ€æ˜¯ï¼Œä½ å¯èƒ½ä¼šè¢«è¦æ±‚è®¾è®¡ä¸€ä¸ªAPIé€Ÿç‡é™åˆ¶å™¨ï¼Œæ ¹æ®ç”¨æˆ·å‘é€çš„è¯·æ±‚æ•°é‡æ¥é™åˆ¶ç”¨æˆ·ã€‚</p><!-- https://medium.com/javarevisited/system-design-basics-rate-limiter-249013cf5be4 -->]]></content>
      
      
      <categories>
          
          <category> System Design </category>
          
      </categories>
      
      
        <tags>
            
            <tag> System </tag>
            
            <tag> Design </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2024 å¹´åå¤§æ•°æ®å’Œäººå·¥æ™ºèƒ½è¶‹åŠ¿</title>
      <link href="/Top-10-Data-AI-Trends-for-2024.html"/>
      <url>/Top-10-Data-AI-Trends-for-2024.html</url>
      
        <content type="html"><![CDATA[<img src="/Top-10-Data-AI-Trends-for-2024/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>æ•°æ®å’Œäººå·¥æ™ºèƒ½é¢†åŸŸå‘å±•è¿…é€Ÿã€‚å¦‚æœä½ ä¸èƒ½ç»å¸¸åœä¸‹æ¥å¤šç…ç…è¿™ä¸ªï¼Œä½ å¯èƒ½ä¼šé”™è¿‡å®ƒã€‚</p><span id="more"></span><p>2023å¹´æ˜¯é€šç”¨äººå·¥æ™ºèƒ½ï¼ˆGenAIï¼‰çš„ä¸€å¹´ã€‚è€Œ2024å¹´ä¼¼ä¹ä¹Ÿå°†æˆä¸ºâ€¦åˆä¸€ä¸ªé€šç”¨äººå·¥æ™ºèƒ½çš„ä¸€å¹´ã€‚</p><p>ä½†åœ¨2023å¹´ï¼Œå›¢é˜Ÿä»¬äº‰å…ˆæååœ°æåŠé€šç”¨äººå·¥æ™ºèƒ½ï¼Œåˆ°äº†2024å¹´ï¼Œå›¢é˜Ÿä»¬å°†ä¼˜å…ˆè€ƒè™‘ä»–ä»¬çš„äººå·¥æ™ºèƒ½æ¨¡å‹è§£å†³çœŸæ­£çš„å•†ä¸šé—®é¢˜ã€‚éšç€é‡æ–°èšç„¦ï¼Œæ–°çš„ä¼˜å…ˆäº‹é¡¹ä¹Ÿéšä¹‹å‡ºç°ã€‚</p><p>å½“æ¶‰åŠåˆ°æ•°æ®çš„æœªæ¥æ—¶ï¼Œæ½®æ¶¨èˆ¹é«˜ã€‚é€šç”¨äººå·¥æ™ºèƒ½åœ¨2024å¹´å°†ç»§ç»­ä¸Šå‡ï¼Œæé«˜æ•°æ®è¡Œä¸šçš„æ ‡å‡†â€”â€”ä»¥åŠä¼˜å…ˆäº‹é¡¹â€”â€”ä¸å®ƒä¸€åŒä¸Šå‡ã€‚</p><p>ä»¥ä¸‹æ˜¯æˆ‘å¯¹æ•°æ®å’Œäººå·¥æ™ºèƒ½å›¢é˜Ÿä¸‹ä¸€æ­¥å‘å±•å’Œä½ çš„å›¢é˜Ÿå¦‚ä½•ä¿æŒä¸€æ­¥ä¹‹é¥çš„å‰10ä¸ªé¢„æµ‹ã€‚</p><p>å¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMsï¼‰å°†æ”¹å˜æŠ€æœ¯æ ˆ è¿™ä¸€ç‚¹æ˜¯æ˜¾è€Œæ˜“è§çš„ã€‚<br>æ¯«ä¸å¤¸å¼ åœ°è¯´ï¼Œåœ¨è¿‡å»çš„12ä¸ªæœˆé‡Œï¼Œå¤§å‹è¯­è¨€æ¨¡å‹å·²ç»å½»åº•æ”¹å˜äº†æŠ€æœ¯çš„é¢è²Œã€‚ä»æœ‰åˆæ³•ç”¨ä¾‹çš„å…¬å¸åˆ°å¯»æ‰¾é—®é¢˜çš„ä¸´æ—¶å›¢é˜Ÿï¼Œæ¯ä¸ªäººéƒ½åœ¨å°è¯•ä»¥è¿™æ ·æˆ–é‚£æ ·çš„æ–¹å¼ä½¿ç”¨ç”Ÿæˆæ€§äººå·¥æ™ºèƒ½ï¼ˆGenAIï¼‰ã€‚</p><p>å¤§å‹è¯­è¨€æ¨¡å‹é¢„è®¡å°†åœ¨2024å¹´åŠä»¥åç»§ç»­è¿™ç§è½¬å˜â€”â€”ä»æ¨åŠ¨å¯¹æ•°æ®çš„éœ€æ±‚å¢åŠ åˆ°éœ€è¦æ–°çš„æ¶æ„ï¼Œå¦‚å‘é‡æ•°æ®åº“ï¼ˆå³â€œAIæ ˆâ€ï¼‰ï¼Œå†åˆ°æ”¹å˜æˆ‘ä»¬ä¸ºæœ€ç»ˆç”¨æˆ·æ“çºµå’Œä½¿ç”¨æ•°æ®çš„æ–¹å¼ã€‚</p><p>è‡ªåŠ¨åŒ–æ•°æ®åˆ†æå’Œæ¿€æ´»å°†æˆä¸ºæ¯ä¸ªäº§å“å’Œæ•°æ®æ ˆæ¯ä¸ªå±‚é¢ä¸Šé¢„æœŸçš„å·¥å…·ã€‚é—®é¢˜æ˜¯ï¼šæˆ‘ä»¬å¦‚ä½•ç¡®ä¿è¿™äº›æ–°äº§å“åœ¨2024å¹´æä¾›çœŸæ­£çš„ä»·å€¼ï¼Œè€Œä¸ä»…ä»…æ˜¯ä¸ºäº†å…¬å…³ä¿¡ç”¨è€Œå¢åŠ ä¸€ç‚¹æ–°é—ªå…‰ç‚¹ï¼Ÿ</p><p>æ•°æ®å›¢é˜Ÿå°†çœ‹èµ·æ¥åƒè½¯ä»¶å›¢é˜Ÿ æœ€æˆç†Ÿçš„æ•°æ®å›¢é˜Ÿå°†ä»–ä»¬çš„æ•°æ®èµ„äº§è§†ä¸ºçœŸæ­£çš„æ•°æ®äº§å“â€”â€”åŒ…æ‹¬äº§å“éœ€æ±‚ã€æ–‡æ¡£ã€å†²åˆºï¼Œç”šè‡³æ˜¯æœ€ç»ˆç”¨æˆ·çš„æœåŠ¡ç­‰çº§åè®®ï¼ˆSLAï¼‰ã€‚<br>å› æ­¤ï¼Œéšç€ç»„ç»‡å¼€å§‹å°†è¶Šæ¥è¶Šå¤šçš„ä»·å€¼æ˜ å°„åˆ°ä»–ä»¬å®šä¹‰çš„æ•°æ®äº§å“ä¸Šï¼Œè¶Šæ¥è¶Šå¤šçš„æ•°æ®å›¢é˜Ÿå°†å¼€å§‹çœ‹èµ·æ¥â€”â€”å¹¶ä¸”è¢«ç®¡ç†â€”â€”åƒä»–ä»¬æ‰€æ˜¯çš„å…³é”®äº§å“å›¢é˜Ÿã€‚</p><p>è½¯ä»¶å›¢é˜Ÿå°†æˆä¸ºæ•°æ®å®è·µè€… å½“å·¥ç¨‹å¸ˆè¯•å›¾æ„å»ºæ•°æ®äº§å“æˆ–é€šç”¨äººå·¥æ™ºèƒ½è€Œä¸è€ƒè™‘æ•°æ®æ—¶ï¼Œç»“æœé€šå¸¸ä¸å¥½ã€‚åªéœ€é—®é—®è”åˆå¥åº·ä¿é™©ã€‚<br>éšç€äººå·¥æ™ºèƒ½ç»§ç»­åå™¬ä¸–ç•Œï¼Œå·¥ç¨‹å’Œæ•°æ®å°†æˆä¸ºåŒä¸€ä»¶äº‹ã€‚æ²¡æœ‰é‡å¤§è½¯ä»¶å¼€å‘ä¼šè¿›å…¥å¸‚åœºè€Œä¸è€ƒè™‘äººå·¥æ™ºèƒ½â€”â€”ä¹Ÿæ²¡æœ‰é‡å¤§äººå·¥æ™ºèƒ½ä¼šè¿›å…¥å¸‚åœºè€Œä¸ä½¿ç”¨ä¸€å®šç¨‹åº¦çš„çœŸå®ä¼ä¸šæ•°æ®ã€‚</p><p>è¿™æ„å‘³ç€ï¼Œéšç€å·¥ç¨‹å¸ˆå¯»æ±‚æå‡æ–°çš„äººå·¥æ™ºèƒ½äº§å“ï¼Œä»–ä»¬éœ€è¦å¯¹æ•°æ®â€”â€”ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒâ€”â€”å‘å±•å‡ºä¸€ç§çœ¼å…‰ï¼Œä»¥æ„å»ºå¢åŠ æ–°ä»·å€¼å’ŒæŒç»­ä»·å€¼çš„æ¨¡å‹ã€‚</p><p>RAGå°†æˆä¸ºæ‰€æœ‰RAGçš„ç„¦ç‚¹ åœ¨ä¸€ç³»åˆ—å¤‡å—ç©ç›®çš„é€šç”¨äººå·¥æ™ºèƒ½å¤±è´¥ä¹‹åï¼Œéœ€è¦æ¸…æ´ã€å¯é å’Œç­–åˆ’çš„ä¸Šä¸‹æ–‡æ•°æ®æ¥å¢å¼ºäººå·¥æ™ºèƒ½äº§å“çš„éœ€æ±‚å˜å¾—è¶Šæ¥è¶Šæ˜æ˜¾ã€‚<br>éšç€äººå·¥æ™ºèƒ½é¢†åŸŸçš„ä¸æ–­å‘å±•å’Œé€šç”¨å¤§å‹è¯­è¨€æ¨¡å‹è®­ç»ƒä¸­çš„ç›²ç‚¹å˜å¾—ç—›è‹¦æ˜æ˜¾ï¼Œæ‹¥æœ‰ä¸“æœ‰æ•°æ®çš„å›¢é˜Ÿå°†è½¬å‘RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å’Œå¤§è§„æ¨¡å¾®è°ƒï¼Œä»¥å¢å¼ºä»–ä»¬çš„ä¼ä¸šäººå·¥æ™ºèƒ½äº§å“ï¼Œä¸ºä»–ä»¬çš„åˆ©ç›Šç›¸å…³è€…æä¾›å¯è¯æ˜çš„ä»·å€¼æŠ¤åŸæ²³ã€‚</p><p>RAGåœ¨åœºæ™¯ä¸­ä»ç„¶æ˜¯ç›¸å¯¹è¾ƒæ–°çš„ï¼ˆå®ƒæœ€åˆç”±Meta AIåœ¨2020å¹´æ¨å‡ºï¼‰ï¼Œç»„ç»‡å°šæœªå›´ç»•RAGå¼€å‘ç»éªŒæˆ–æœ€ä½³å®è·µâ€”â€”ä½†å®ƒä»¬å³å°†åˆ°æ¥ã€‚</p><p>å›¢é˜Ÿå°†ä½¿ä¼ä¸šçº§äººå·¥æ™ºèƒ½äº§å“è¿è¥åŒ– æŒç»­æµè¡Œçš„æ•°æ®å·¥ç¨‹è¶‹åŠ¿â€”â€”æ•°æ®äº§å“ã€‚ä¸è¦æé”™ï¼Œäººå·¥æ™ºèƒ½æ˜¯ä¸€ç§æ•°æ®äº§å“ã€‚<br>å¦‚æœ2023å¹´æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€å¹´ï¼Œ2024å¹´å°†æ˜¯ä½¿äººå·¥æ™ºèƒ½äº§å“è¿è¥åŒ–çš„ä¸€å¹´ã€‚æ— è®ºæ˜¯å‡ºäºéœ€è¦è¿˜æ˜¯å¼ºè¿«ï¼Œå„è¡Œå„ä¸šçš„æ•°æ®å›¢é˜Ÿå°†æ‹¥æŠ±ä¼ä¸šçº§äººå·¥æ™ºèƒ½äº§å“ã€‚é—®é¢˜æ˜¯â€”â€”å®ƒä»¬çœŸçš„å‡†å¤‡å¥½äº†å—ï¼Ÿ</p><p>å¸Œæœ›ä¸å†æœ‰åˆ›å»ºéšæœºèŠå¤©åŠŸèƒ½åªæ˜¯ä¸ºäº†è¯´ä½ ä»¬æ­£åœ¨æ•´åˆäººå·¥æ™ºèƒ½ï¼Œå½“è‘£äº‹ä¼šé—®èµ·æ—¶ã€‚åˆ°2024å¹´ï¼Œå›¢é˜Ÿå¯èƒ½ä¼šå˜å¾—æ›´åŠ å¤æ‚ï¼Œäº†è§£ä»–ä»¬å¦‚ä½•å¼€å‘åˆ©ç”¨æ›´å¥½çš„åŸ¹è®­å®è·µæ¥åˆ›é€ ä»·å€¼çš„äººå·¥æ™ºèƒ½äº§å“ï¼Œå¹¶ç¡®å®šè¦è§£å†³çš„é—®é¢˜ï¼Œè€Œä¸æ˜¯åˆ¶é€ æŠ€æœ¯æ¥åˆ›é€ æ–°é—®é¢˜ã€‚</p><p>æ•°æ®å¯è§‚æµ‹æ€§å°†æ”¯æŒäººå·¥æ™ºèƒ½å’Œå‘é‡æ•°æ®åº“ åœ¨äºšé©¬é€Šç½‘ç»œæœåŠ¡ï¼ˆAWSï¼‰2023å¹´é¦–å¸­æ•°æ®å®˜æ´å¯Ÿè°ƒæŸ¥ä¸­ï¼Œå—è®¿è€…è¢«é—®åŠä»–ä»¬ç»„ç»‡å®ç°ç”Ÿæˆæ€§äººå·¥æ™ºèƒ½æ½œåŠ›çš„æœ€å¤§æŒ‘æˆ˜æ˜¯ä»€ä¹ˆã€‚<br>æœ€å¸¸è§çš„ç­”æ¡ˆï¼Ÿæ•°æ®è´¨é‡ã€‚</p><p>ç”Ÿæˆæ€§äººå·¥æ™ºèƒ½æœ¬è´¨ä¸Šæ˜¯ä¸€ç§æ•°æ®äº§å“ã€‚åƒä»»ä½•æ•°æ®äº§å“ä¸€æ ·ï¼Œæ²¡æœ‰å¯é çš„æ•°æ®å®ƒå°±æ— æ³•è¿ä½œã€‚ä½†åœ¨å¤§å‹è¯­è¨€æ¨¡å‹çš„è§„æ¨¡ä¸Šï¼Œæ‰‹åŠ¨ç›‘æ§æ— æ³•æä¾›æ‰€éœ€çš„å…¨é¢å’Œé«˜æ•ˆçš„è´¨é‡è¦†ç›–ï¼Œä»¥ä½¿ä»»ä½•äººå·¥æ™ºèƒ½å¯é ã€‚</p><p>è¦çœŸæ­£æˆåŠŸï¼Œæ•°æ®å›¢é˜Ÿéœ€è¦ä¸€ä¸ªé’ˆå¯¹äººå·¥æ™ºèƒ½æ ˆé‡èº«å®šåˆ¶çš„ã€æ´»ç”Ÿç”Ÿçš„æ•°æ®å¯è§‚æµ‹æ€§ç­–ç•¥ï¼Œä½¿ä»–ä»¬èƒ½å¤Ÿåœ¨ä¸æ–­å¢é•¿å’ŒåŠ¨æ€çš„ç¯å¢ƒä¸­ä¸€è‡´åœ°æ£€æµ‹ã€è§£å†³å’Œé¢„é˜²æ•°æ®åœæœºæ—¶é—´ã€‚<br>è€Œä¸”ï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆéœ€è¦ä¼˜å…ˆè€ƒè™‘è§£å†³ã€æµæ°´çº¿æ•ˆç‡ä»¥åŠæ”¯æŒäººå·¥æ™ºèƒ½çš„æµå¼/å‘é‡åŸºç¡€è®¾æ–½ï¼Œä»¥ä¾¿åœ¨2024å¹´çš„ç°ä»£äººå·¥æ™ºèƒ½å¯é æ€§ä¹‹æˆ˜ä¸­æˆä¸ºä¸€ä¸ªç«äº‰è€…ã€‚</p><p>å¤§æ•°æ®å°†å˜å° ä¸‰åå¹´å‰ï¼Œä¸ªäººç”µè„‘æ˜¯ä¸€ç§æ–°å¥‡äº‹ç‰©ã€‚ç°åœ¨ï¼Œéšç€ç°ä»£Macbooksæ‹¥æœ‰ä¸Snowflakeåœ¨2012å¹´æ¨å‡ºå…¶MVPä»“åº“æ—¶ç›¸åŒçš„è®¡ç®—èƒ½åŠ›ï¼Œç¡¬ä»¶æ­£åœ¨æ¨¡ç³Šå•†ä¸šå’Œä¼ä¸šè§£å†³æ–¹æ¡ˆä¹‹é—´çš„ç•Œçº¿ã€‚<br>ç”±äºå¤§å¤šæ•°å·¥ä½œè´Ÿè½½éƒ½å¾ˆå°ï¼Œæ•°æ®å›¢é˜Ÿå°†å¼€å§‹ä½¿ç”¨è¿›ç¨‹å†…å’Œå†…å­˜/è¿›ç¨‹å†…æ•°æ®åº“æ¥åˆ†æå’Œç§»åŠ¨æ•°æ®é›†ã€‚</p><p>ç‰¹åˆ«æ˜¯å¯¹äºéœ€è¦å¿«é€Ÿæ‰©å±•çš„å›¢é˜Ÿï¼Œè¿™äº›è§£å†³æ–¹æ¡ˆå¯ä»¥å¿«é€Ÿå¯åŠ¨ï¼Œå¹¶ä¸”å¯ä»¥éšç€å•†ä¸šäº‘æä¾›å•†çš„æä¾›ä¸Šå‡åˆ°ä¼ä¸šçº§åŠŸèƒ½ã€‚</p><p>æ­£ç¡®è°ƒæ•´è§„æ¨¡å°†ä¼˜å…ˆ ä»Šå¤©çš„æ•°æ®æ˜¾ç¤ºé¢†å¯¼è€…é¢ä¸´ä¸€ä¸ªä¸å¯èƒ½çš„ä»»åŠ¡ã€‚ä½¿ç”¨æ›´å¤šçš„æ•°æ®ï¼Œåˆ›é€ æ›´å¤§çš„å½±å“ï¼Œåˆ©ç”¨æ›´å¤šçš„äººå·¥æ™ºèƒ½â€”â€”ä½†é™ä½é‚£äº›äº‘æˆæœ¬ã€‚<br>æ­£å¦‚ã€Šå“ˆä½›å•†ä¸šè¯„è®ºã€‹æ‰€è¨€ï¼Œé¦–å¸­æ•°æ®å’Œäººå·¥æ™ºèƒ½å®˜è¢«è®¾ç½®ä¸ºå¤±è´¥ã€‚æˆªè‡³2023å¹´ç¬¬ä¸€å­£åº¦ï¼ŒIDCæŠ¥å‘Šç§°äº‘åŸºç¡€è®¾æ–½æ”¯å‡ºä¸Šå‡åˆ°215äº¿ç¾å…ƒã€‚æ ¹æ®éº¦è‚¯é”¡çš„æ•°æ®ï¼Œè®¸å¤šå…¬å¸çš„äº‘æ”¯å‡ºæ¯å¹´å¢é•¿é«˜è¾¾30%ã€‚</p><p>åƒå…ƒæ•°æ®ç›‘æ§è¿™æ ·çš„ä½å½±å“æ–¹æ³•å’Œå…è®¸å›¢é˜ŸæŸ¥çœ‹å’Œæ­£ç¡®è°ƒæ•´ä½¿ç”¨æƒ…å†µçš„å·¥å…·å°†åœ¨2024å¹´å˜å¾—éå¸¸å®è´µã€‚</p><p>Apache Icebergæ˜¯ç”±Netflixçš„æ•°æ®å·¥ç¨‹å›¢é˜Ÿå¼€å‘çš„å¼€æºæ•°æ®æ¹–è¡¨æ ¼å¼ï¼Œæ—¨åœ¨æä¾›ä¸€ç§æ›´å¿«ã€æ›´å®¹æ˜“å¤„ç†å¤§è§„æ¨¡æ•°æ®é›†çš„æ–¹æ³•ã€‚å®ƒè¢«è®¾è®¡ä¸ºå³ä½¿æ˜¯PBçº§çš„å¤§å‹åˆ†æè¡¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨SQLè½»æ¾æŸ¥è¯¢ã€‚</p><p>ç°ä»£æ•°æ®ä»“åº“å’Œæ•°æ®æ¹–å°†æä¾›è®¡ç®—å’Œå­˜å‚¨ï¼Œè€ŒIcebergä¸“æ³¨äºæä¾›æˆæœ¬æ•ˆç›Šé«˜ã€ç»“æ„åŒ–çš„å­˜å‚¨ï¼Œå¯ä»¥è¢«ç»„ç»‡å†…å¯èƒ½åŒæ—¶ä½¿ç”¨çš„è®¸å¤šä¸åŒå¼•æ“è®¿é—®ï¼Œå¦‚Apache Sparkã€Trinoã€Apache Flinkã€Prestoã€Apache Hiveå’ŒImpalaã€‚</p><p>æœ€è¿‘ï¼ŒDatabrickså®£å¸ƒDeltaè¡¨å…ƒæ•°æ®ä¹Ÿå°†ä¸Icebergæ ¼å¼å…¼å®¹ï¼ŒSnowflakeä¹Ÿåœ¨ç§¯ææ•´åˆIcebergã€‚éšç€æ•°æ®æ¹–æˆä¸ºè®¸å¤šç»„ç»‡çš„äº‹å®ä¸Šçš„è§£å†³æ–¹æ¡ˆï¼ŒApache Icebergâ€”â€”ä»¥åŠIcebergçš„æ›¿ä»£å“â€”â€”å¯èƒ½ä¼šç»§ç»­å¢é•¿å—æ¬¢è¿ã€‚</p><p>å¯¹æŸäººæ¥è¯´ï¼Œå›åˆ°åŠå…¬å®¤ RTOâ€”â€”æ¯ä¸ªäººéƒ½ä¸å–œæ¬¢çš„ç¼©å†™ã€‚æˆ–è€…å¯èƒ½æ˜¯ä»–ä»¬æœ€å–œæ¬¢çš„ï¼è€å®è¯´ï¼Œæˆ‘ç°åœ¨è·Ÿä¸ä¸Šäº†ã€‚è™½ç„¶å›¢é˜Ÿåœ¨è¿™ä¸ªé—®é¢˜ä¸Šä¼¼ä¹æ„è§åˆ†æ­§ï¼Œä½†è¶Šæ¥è¶Šå¤šçš„å›¢é˜Ÿæ¯å‘¨è‡³å°‘è¢«å¬å›ä»–ä»¬çš„å°éš”é—´çµæ´»å·¥ä½œç¯å¢ƒå‡ å¤©ã€‚</p><p>æ ¹æ®Resume Builder 2023å¹´9æœˆçš„æŠ¥å‘Šï¼Œ90%çš„å…¬å¸è®¡åˆ’åˆ°2024å¹´åº•å®æ–½å›åŠå…¬å®¤æ”¿ç­–â€”â€”è¿™è·ç¦»2020å¹´é‚£ä¸ªå‘½è¿ä¹‹æ˜¥å·²ç»å°†è¿‘å››å¹´äº†ã€‚</p><p>äº‹å®ä¸Šï¼ŒåŒ…æ‹¬äºšé©¬é€Šçš„Andy Jassyã€OpenAIçš„Sam Altmanå’Œè°·æ­Œçš„Sundar Pichaiåœ¨å†…çš„å‡ ä½æœ‰å½±å“åŠ›çš„CEOåœ¨è¿‡å»å‡ ä¸ªæœˆå·²ç»å®æ–½äº†å›åŠå…¬å®¤æ”¿ç­–ã€‚è€Œä¸”ï¼Œè‡³å°‘æœ‰ä¸€äº›åœ¨åŠå…¬å®¤å·¥ä½œï¼ˆè‡³å°‘æ˜¯å…¼èŒï¼‰ç›¸å¯¹äºå®Œå…¨åœ¨å®¶å·¥ä½œçš„å¥½å¤„ã€‚</p><p>å‘ç°è‡ªå·±åœ¨æ°¸è¿œåœ¨å®¶å·¥ä½œçš„é˜µè¥ï¼Ÿ<br>çœ‹æ¥ç­”æ¡ˆâ€”â€”å°±åƒåœ¨æ•°æ®ä¸­æ€»æ˜¯ä¸€æ ·â€”â€”æ˜¯æä¾›æ›´å¤šçš„ä»·å€¼ã€‚<br>å°½ç®¡æœ€è¿‘çš„ç»æµé€†é£å’Œå…¶å¯¹å°±ä¸šå¸‚åœºçš„å½±å“ï¼Œæ•°æ®å’Œäººå·¥æ™ºèƒ½å›¢é˜Ÿéœ€æ±‚é‡å¾ˆå¤§ã€‚é›‡ä¸»é€šå¸¸ä¼šå°½ä¸€åˆ‡åŠªåŠ›è·å¾—ä»–ä»¬â€”â€”å¹¶ç•™ä½ä»–ä»¬ã€‚</p><p>è™½ç„¶ä¸€äº›å…¬å¸è¦æ±‚æ‰€æœ‰å‘˜å·¥æ— è®ºè§’è‰²å¦‚ä½•éƒ½å›åˆ°åŠå…¬å®¤ï¼Œä½†åƒSalesforceè¿™æ ·çš„å…¶ä»–å…¬å¸åˆ™è¦æ±‚éè¿œç¨‹å·¥ç¨‹å¸ˆå°‘å¾—å¤šï¼Œæ¯ä¸ªå­£åº¦æ€»å…±10å¤©ã€‚</p><!-- https://barrmoses.medium.com/top-10-data-ai-trends-for-2024-7f830196db65 -->]]></content>
      
      
      <categories>
          
          <category> å¤§æ•°æ® </category>
          
          <category> äººå·¥æ™ºèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å¤§æ•°æ® </tag>
            
            <tag> äººå·¥æ™ºèƒ½ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>14ä¸ªå…è´¹æ•™ç¨‹è®©ä½ å¼€å§‹ä½¿ç”¨Web3</title>
      <link href="/14-Free-Tutorials-to-Get-You-Started-with-Web3.html"/>
      <url>/14-Free-Tutorials-to-Get-You-Started-with-Web3.html</url>
      
        <content type="html"><![CDATA[<img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½ å¯èƒ½å¬è¯´è¿‡è¿™æ ·ä¸€å¥è¯â€“å½“æ‰€æœ‰äººéƒ½åœ¨æŒ–é‡‘å­çš„æ—¶å€™ï¼Œåšé•å¤´å’Œé“²å­çš„ç”Ÿæ„å°±å¥½äº†ã€‚</p><p>Binanceã€Coinbaseå’Œå…¶ä»–åŠ å¯†è´§å¸äº¤æ˜“æ‰€ä»¥è¿™ç§æ–¹å¼è·åˆ©ã€‚åŒæ ·ï¼Œå„ç§å…¬å¸ä¹Ÿåœ¨ä¸æ–­æ¶Œç°ï¼Œåœ¨ç»™æ¶ˆè´¹è€…å¸¦æ¥ä»·å€¼çš„åŒæ—¶ä¹Ÿåœ¨èµšé’±ã€‚</p><p>äººä»¬ä¹Ÿå¯¹æŠ•èµ„åŠ å¯†è´§å¸æ„Ÿå…´è¶£ã€‚<br>æ˜¯çš„ï¼Œæˆ‘ä»¬å¤§å¤šæ•°äººéƒ½ä¸“æ³¨äºè´­ä¹°æ›´å¤šçš„æ¯”ç‰¹å¸å’Œä»¥å¤ªåŠï¼Œå› ä¸ºæˆ‘ä»¬ç›¸ä¿¡åŠ å¯†è´§å¸åœ¨æœªæ¥ä¼šæš´æ¶¨ã€‚</p><span id="more"></span><p>æˆ‘æ— æ³•é¢„æµ‹åŠ å¯†è´§å¸çš„æœªæ¥ä»·å€¼ï¼Œä½†æˆ‘å¯ä»¥è‡ªä¿¡åœ°è¯´ï¼Œå¦‚æœä½ å­¦ä¼šäº†Web3å¹¶åˆ©ç”¨å®ƒåˆ›é€ äº†ä»»ä½•ä¸œè¥¿ï¼Œä½ æ— ç–‘ä¼šæˆä¸ºå¯Œäººã€‚</p><p>ä½ æ‰€éœ€è¦çš„å°±æ˜¯å­¦ä¹ Web3çš„æœ€å¥½æŒ‡å—ã€‚ è€Œç°åœ¨ä½ å¯ä»¥å…è´¹å¾—åˆ°å®ƒã€‚</p><p>æ³¨æ„ï¼šè¿™äº›è¯¾ç¨‹æ˜¯å®Œå…¨å…è´¹çš„</p><p>æ­¤å¤–ï¼Œæˆ‘è¯•è¿‡å…¶ä¸­çš„ä¸€äº›è¯¾ç¨‹ï¼Œè€Œä¸”ç›¸å½“å–œæ¬¢ã€‚</p><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/2.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™ä¸æ˜¯å¾ˆé…·å—ï¼Ÿ</p><p>è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><ol><li><a href="https://buildspace.so/">buildspace.so</a> - ä¸“ä¸ºåˆå­¦è€…è®¾è®¡çš„Web3å®è·µåŸ¹è®­ã€‚å®ƒæ˜¯å®Œå…¨å…è´¹çš„ï¼Œå®Œæˆåï¼Œä½ å°†å¾—åˆ°ä¸€ä¸ªNFTã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/3.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯æˆ‘ç”¨æ¥å­¦ä¹ è¯¾ç¨‹çš„ç¬¬ä¸€ä¸ªç½‘ç«™ã€‚å…·ä½“æ¥è¯´ï¼Œæœ‰å‡ é—¨è¯¾ç¨‹ï¼Œæ¯”å¦‚ç”¨solidityåˆ›å»ºweb3åº”ç”¨ï¼Œç”šè‡³ç”¨Solanaï¼Œç”¨JavaScriptåˆ›å»ºDAOï¼Œç­‰ç­‰ã€‚</p><p>è€Œä¸”å†…å®¹ä¸°å¯Œã€‚ä»–ä»¬è¿˜æœ‰ä¸€ä¸ªDiscordé¢‘é“ï¼Œä½ å¯ä»¥åœ¨é‚£é‡Œé—®é—®é¢˜ã€‚</p><p>æ­¤å¤–ï¼Œåœ¨ä½ å®Œæˆä¸€é—¨è¯¾ç¨‹åï¼Œä½ ä¼šæ”¶åˆ°ä¸€ä¸ªNFTä½œä¸ºå®Œæˆç¤¼ç‰©ã€‚</p><ol start="2"><li><a href="https://cadena.dev/">Cadena</a> - åˆ›å»ºæ™ºèƒ½åˆçº¦ã€dappå’Œè·å¾—Cadena NFTè¯ä¹¦çš„æ•™ç¨‹ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/4.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å®ƒä¸Buildspaceå·®ä¸å¤šã€‚</p><p>ä»–ä»¬æä¾›å…³äºæ™ºèƒ½åˆçº¦ã€NFTã€ä»£å¸å’Œå…¶ä»–ç›¸å…³ä¸»é¢˜çš„å„ç§è¯¾ç¨‹ã€‚å®Œæˆåï¼Œä½ å°†è·å¾—NFTè¯ä¹¦ã€‚</p><p>ä¸Šè¿°ä¸¤ä¸ªç½‘ç«™éƒ½æä¾›äº†èŒä¸šå‘å±•çš„å¯èƒ½æ€§ã€‚</p><ol start="3"><li><a href="https://cryptozombies.io/">CryptoZombies</a> - å»ºç«‹ä½ è‡ªå·±çš„åŠ å¯†è´§å¸æ”¶è—å“æ¸¸æˆï¼Œåœ¨äº’åŠ¨ç¼–ç å­¦æ ¡å­¦ä¹ å¦‚ä½•è®¾è®¡æ™ºèƒ½åˆçº¦ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/5.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯äº’è”ç½‘ä¸Šéå¸¸å¥½çš„èµ„æºã€‚</p><p>å¦‚æœä½ å–œæ¬¢ç©æ¸¸æˆæˆ–æƒ³å»ºç«‹è‡ªå·±çš„æ¸¸æˆï¼Œä½ ä¼šå–œæ¬¢è¿™ä¸ªç½‘ç«™å’Œå®ƒæ•™æˆWeb3çš„æ–¹æ³•ã€‚</p><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/6.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯å…¶ä¸­ä¸€å¼ æˆªå›¾ï¼Œå±•ç¤ºäº†ä»–ä»¬å¦‚ä½•æ•™å¯¼å­¦ç”Ÿã€‚</p><p>è¿™æ˜¯ä¸æ˜¯çœŸçš„å¾ˆç–¯ç‹‚ï¼Ÿ</p><ol start="4"><li><a href="https://cryptodevhub.io/">cryptodevhub.io</a> - ä¸€ä¸ªç”±ç¤¾åŒºä¸»å¯¼çš„å€¡è®®ï¼Œå°†å¯¹åŒºå—é“¾å’ŒåŠ å¯†æŠ€æœ¯æ„Ÿå…´è¶£çš„äººèšé›†åœ¨ä¸€èµ·ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/7.webp" class="" title="ç¤ºæ„å›¾ width=400"><ol start="5"><li><a href="https://www.ludu.co/course/ethereum">Discover Ethereum &amp; Solidity</a> -å®Œæˆä¸€é—¨è¯¾ç¨‹ï¼ŒæŒ‡å¯¼ä½ æŒ‰ç…§æœ€ä½³å®è·µå»ºç«‹ä¸€ä¸ªå»ä¸­å¿ƒåŒ–çš„Twitterå…‹éš†ç¨‹åºæ˜¯å¿…é¡»çš„ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/8.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘è¯»äº†è¿™ä¸ªç½‘ç«™ä¸Šçš„ä¸œè¥¿ï¼Œå®ƒç›¸å½“ç®€å•ã€‚æˆ‘åœ¨å‡ åˆ†é’Ÿå†…å°±å­¦ä¼šäº†ä»åŸºç¡€çŸ¥è¯†åˆ°ä½¿ç”¨node.jså»ºç«‹åˆåŒï¼Œå†åˆ°truffleçš„ä¸€åˆ‡ã€‚</p><p>å…¥é—¨éå¸¸ç®€å•ã€‚</p><ol start="6"><li><p><a href="https://github.com/ExtropyIO/defi-bot">ExtropyIO/defi-bot</a> - å»ºç«‹DeFiå¥—åˆ©æœºå™¨äººçš„æ•™ç¨‹ã€‚</p></li><li><p><a href="https://gist.github.com/karmacoma-eth/4f206a46dedc6da6808c1ccdef3262d0">karmacoma-eth/sending-ether-cheat-sheet</a> - å‘é€ä»¥å¤ªçš„æŠ€å·§å’Œæœ€ä½³åšæ³•ã€‚</p></li><li><p><a href="https://learnxinyminutes.com/docs/solidity/">LearnXInY</a> - åœ¨15åˆ†é’Ÿå†…å­¦ä¼šSolidityï¼ˆé’ˆå¯¹æœ‰ç»éªŒçš„å¼€å‘è€…ï¼‰ã€‚</p></li><li><p><a href="https://github.com/manojpramesh/solidity-cheatsheet">manojpramesh/solidity-cheatsheet</a> - Cheatsheetå’Œæœ€ä½³å®è·µã€‚</p></li><li><p><a href="https://reference.auditless.com/cheatsheet">Solidity and Vyper cheat sheet</a> - å¹¶æ’å›é¡¾ä¸¤ç§è¯­è¨€çš„è¯­æ³•ã€‚</p></li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/9.webp" class="" title="ç¤ºæ„å›¾ width=400"><ol start="11"><li><a href="https://www.teachyourselfweb3.com/">Teach Yourself Web3</a> - åŠ å…¥ä¸€ä¸ªç”±Web3å·¥ç¨‹å¸ˆå’Œæ•™è‚²å®¶ç»„æˆçš„ç¤¾åŒºï¼Œä»–ä»¬å¯ä»¥å¸®åŠ©ä½ åœ¨Web3å¼€å‘ä¸­è¶…å¸¸å‘æŒ¥ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/10.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨å­¦ä¹ solidityçš„åŒæ—¶ï¼Œä½ å°†å­¦ä¹ æ™ºèƒ½åˆçº¦å®‰å…¨ã€æ™ºèƒ½åˆçº¦å®¡è®¡ä»¥åŠå…¶ä»–å„ç§ä¸»é¢˜ã€‚</p><ol start="12"><li><a href="https://topmonks.github.io/solidity_quick_ref/">topmonks/solidity_quick_ref</a> - è¯­æ³•æ¦‚è¿°ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/11.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯ä¸€ä¸ªsolidityçš„æ±‡æ€»ï¼Œå¯ä»¥å¸®åŠ©ä½ ç®€å•åœ°ä¿®æ­£å­¦ä¹ çš„ä¸€äº›å°ç»†èŠ‚ã€‚</p><ol start="13"><li><a href="https://github.com/willitscale/learning-solidity">willitscale/learning-solidity</a> - å…³äºå…¥é—¨ã€åˆ›å»ºè‡ªå·±çš„åŠ å¯†è´§å¸ã€ICOå’Œéƒ¨ç½²çš„å®Œæ•´æŒ‡å—ã€‚</li></ol><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/12.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>åˆ›ä½œè€…åˆ›å»ºäº†YouTubeè§†é¢‘æ¥æ•™å¯¼Web3æ–°æ‰‹ã€‚</p><p>14.<a href="">useweb3.xyz/tutorials</a> - ä¸€ä¸ªåŸºäºç‰¹å®šé¡¹ç›®ã€ä»»åŠ¡æˆ–æŒ‘æˆ˜çš„å…è´¹ç¤¾åŒºæ•™ç¨‹çš„ç²¾é€‰åˆ—è¡¨ã€‚</p><img src="/14-Free-Tutorials-to-Get-You-Started-with-Web3/13.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å¸Œæœ›ä½ å–œæ¬¢å®ƒã€‚</p><p>å°±è¿™æ ·å§â€“è°¢è°¢ã€‚</p><!-- https://javascript.plainenglish.io/14-insanely-free-web3-tutorials-youll-ever-find-on-the-internet-no-bs-7e07e8690ced -->]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
            <tag> Tutorials </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6ä¸ªå®¹æ˜“ä¸Šæ‰‹çš„ç¼–ç¨‹å‰¯ä¸šï¼Œæ¯æœˆèµšå–1,000å¤šç¾å…ƒ</title>
      <link href="/6-Easy-to-Start-Programming-Side-Hustle-to-Earn-1-000-A-Month.html"/>
      <url>/6-Easy-to-Start-Programming-Side-Hustle-to-Earn-1-000-A-Month.html</url>
      
        <content type="html"><![CDATA[<img src="/6-Easy-to-Start-Programming-Side-Hustle-to-Earn-1-000-A-Month/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><blockquote><p>æœ¬æ–‡è½¬è‡ª Nitin Sharma çš„åšå®¢</p></blockquote><p>ä½ ä»¬ä¸­çš„å¤§å¤šæ•°äººéƒ½è¯»è¿‡è¿™æ ·çš„æ•…äº‹ï¼Œå¸Œæœ›å…¶ä¸­ä¸€äº›èƒ½å¸®åŠ©ä½ ä»¬äº§ç”Ÿæ›´å¤šçš„é’±ã€‚</p><p>å—¯ï¼Œå‡ å¹´å‰æˆ‘ä¹Ÿæ˜¯è¿™æ ·çš„äººã€‚æˆ‘å¸Œæœ›èƒ½å°è¯•ä¸€äº›æ–°çš„å‰¯ä¸šï¼Œèµšç‚¹é’±ã€‚å…¶ä¸­ä¸€ä¸ªè§†é¢‘å»ºè®®æˆ‘åœ¨ç½‘ä¸Šå†™ä½œï¼Œæ­¤åæˆ‘åˆ¶ä½œäº†è®¸å¤šæŠ€æœ¯æ–‡ç« ã€‚</p><p>è€Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å¼€å±•äº†å¤šé¡¹å‰¯ä¸šï¼Œåœ¨å…¨èŒå·¥ä½œä¹‹å¤–è¿˜äº§ç”Ÿäº†è¢«åŠ¨æ”¶å…¥ï¼Œå¹¶è®¤è¯†äº†å‡ ä½ä¸“å®¶ï¼Œä»ä»–ä»¬é‚£é‡Œæˆ‘åˆå­¦åˆ°äº†å¾ˆå¤šã€‚</p><p>å› æ­¤ï¼ŒåŸºäºè¿™ä¸€ç¯‡æ–‡ç« ï¼Œæˆ‘å°†ååŠ©ä½ å¼€å§‹ä½ çš„å‰¯ä¸šï¼Œç”šè‡³ä¸ä½ åˆ†äº«æ”¶å…¥è¯æ˜ä»¥èµ„é¼“åŠ±ã€‚</p><span id="more"></span><p>åœ¨æˆ‘è¿›ä¸€æ­¥ä»‹ç»ä¹‹å‰ï¼Œæˆ‘æƒ³å¼ºè°ƒçš„æ˜¯ï¼Œè¿™äº›å‰¯ä¸šä¸»è¦æ˜¯ä¸ºå¯»æ±‚ä¸ç¼–ç¨‹æœ‰å…³çš„å‰¯ä¸šçš„åˆå­¦è€…æˆ–æœ‰ä¸€å®šä¸“ä¸šçŸ¥è¯†çš„ç¨‹åºå‘˜ï¼Œæˆ–å¸Œæœ›å»ºç«‹å‰¯ä¸šçš„äººã€‚å®ƒå½“ç„¶ä¸åŒ…æ‹¬è‡ªç”±èŒä¸šè€…ï¼Œåšå®¢ï¼Œæˆ–åˆ¶ä½œYouTubeè§†é¢‘ã€‚</p><p>è¯´å¾—æ›´å…·ä½“ä¸€ç‚¹ï¼Œä½ ä»¬ä»»ä½•äººéƒ½å¯ä»¥å¼€å§‹è¿™äº›å‰¯ä¸šã€‚è¯´å®è¯ï¼Œè¿™å°†éœ€è¦ä¸€äº›åŠªåŠ›ï¼›è€Œä¸”è¿™ä¸€ç‚¹ä¹Ÿä¸è¢«åŠ¨ã€‚</p><p>è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><h4 id="1-åœ¨Gumroadä¸Šé”€å”®ç¼–ç¨‹ç›¸å…³äº§å“"><a href="#1-åœ¨Gumroadä¸Šé”€å”®ç¼–ç¨‹ç›¸å…³äº§å“" class="headerlink" title="1. åœ¨Gumroadä¸Šé”€å”®ç¼–ç¨‹ç›¸å…³äº§å“"></a>1. åœ¨Gumroadä¸Šé”€å”®ç¼–ç¨‹ç›¸å…³äº§å“</h4><p>è¿™æ˜¯æˆ‘æœ€è¿‘ä¸ºè‡ªå·±åˆ›é€ çš„å‰¯ä¸šä¹‹ä¸€ã€‚<br>å‡ ä¸ªæœˆæ¥ï¼Œæˆ‘å‘ç°å¤§å¤šæ•°äººéƒ½è¯•å›¾åœ¨Gumroadä¸Šé”€å”®ä»–ä»¬çš„ä¸“ä¸šçŸ¥è¯†ï¼Œè€Œæ¶ˆè´¹è€…ä¹Ÿä¼šè´­ä¹°ã€‚</p><p>é‚£ä¹ˆæˆ‘ä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿ</p><p>ç„¶è€Œï¼Œæˆ‘æ‰€æ‹¥æœ‰çš„å°‘æ•°èƒ½åŠ›åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šä¸ç¼–ç¨‹æœ‰å…³ï¼Œæˆ–è€…æ›´å…·ä½“åœ°è¯´ï¼Œä¸ç½‘ç»œå¼€å‘æœ‰å…³ã€‚æ‰€ä»¥æˆ‘å†³å®šåšä¸€äº›ä¸æ­¤ç›¸å…³çš„ä¸œè¥¿ã€‚<br>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘å·²ç»åˆ›é€ äº†ä¸¤ä¸ªæ•°å­—äº§å“ï¼Œå¹¶åœ¨Gumroadä¸Šé”€å”®ã€‚ç¬¬ä¸€ä¸ªäº§å“æ˜¯å…è´¹èµ é€çš„ã€‚</p><p>æˆ‘åœ¨å‡ å¤©å†…å°±æ”¶åˆ°äº†ç¬¬ä¸€ç¬”ä»˜æ¬¾ã€‚</p><p>è¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä»˜æ¬¾çš„å¿«ç…§ã€‚</p><img src="/6-Easy-to-Start-Programming-Side-Hustle-to-Earn-1-000-A-Month/2.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨æ­¤ä¹‹åï¼Œæˆ‘çš„é”€å”®é‡å¢åŠ äº†ï¼Œæˆ‘çš„æŠ¥é…¬ä¹Ÿå¢åŠ äº†ã€‚</p><p>è¿™ä¸æ˜¯å¾ˆç¥å¥‡å—ï¼Ÿ</p><p>åŒæ ·ï¼Œä½ å¯ä»¥åœ¨Gumroadä¸Šå»ºç«‹å’Œé”€å”®ä¸ç¼–ç¨‹æœ‰å…³çš„é¡¹ç›®ã€‚<br>ä¸€å¼€å§‹å¯èƒ½éœ€è¦ä¸€äº›æ—¶é—´æ¥ç ”ç©¶å’Œå¼€å‘ï¼Œä½†ä½ å¾ˆå¿«å°±ä¼šæˆä¸ºä¸“å®¶ã€‚</p><p>æ€»ä¹‹ï¼Œå¦‚æœä½ èƒ½åœ¨å‡ å‘¨å†…èµšåˆ°10ç¾å…ƒï¼Œä½ å¯èƒ½åœ¨æœªæ¥å‡ ä¸ªæœˆå†…èµšåˆ°æ›´å¤šã€‚</p><h4 id="2-åœ¨ä½ çš„èŒä¸šç”Ÿæ¶¯ä¸­ä½¿ç”¨Web3æŠ€èƒ½"><a href="#2-åœ¨ä½ çš„èŒä¸šç”Ÿæ¶¯ä¸­ä½¿ç”¨Web3æŠ€èƒ½" class="headerlink" title="2. åœ¨ä½ çš„èŒä¸šç”Ÿæ¶¯ä¸­ä½¿ç”¨Web3æŠ€èƒ½"></a>2. åœ¨ä½ çš„èŒä¸šç”Ÿæ¶¯ä¸­ä½¿ç”¨Web3æŠ€èƒ½</h4><p>æˆ‘çš„æ—¥å¸¸å·¥ä½œæ˜¯ä½œä¸ºä¸€åç½‘ç»œå¼€å‘äººå‘˜ã€‚æˆ‘ä¸ºæˆ‘çš„è‡ªç”±èŒä¸šè€…å®¢æˆ·è®¾è®¡ç½‘ç«™ï¼Œæˆ‘çš„å…¨èŒå·¥ä½œæ˜¯ç½‘ç»œå¼€å‘ã€‚</p><p>å› æ­¤ï¼Œæˆ‘é€šè¿‡ç½‘ç»œå¼€å‘æ¥èµšé’±ã€‚ä½†æˆ‘éœ€è¦èµšæ›´å¤šçš„é’±ï¼Œè¿™åªæœ‰åœ¨æˆ‘åŠªåŠ›ä¸ºæˆ‘çš„å·¥ä½œå¢åŠ æ›´å¤šä»·å€¼æ—¶æ‰èƒ½å®ç°ã€‚</p><p>è€Œå°±åœ¨é‚£é‡Œï¼Œæˆ‘å­¦åˆ°äº†Web3çš„èƒ½åŠ›ã€‚å¯¹æˆ‘æ¥è¯´ï¼Œç†è§£ä¸ç½‘ç»œå¼€å‘æ¡†æ¶å’Œåº“æœ‰å…³çš„ä¸œè¥¿å¹¶ä¸å›°éš¾ï¼Œå› ä¸ºæˆ‘å¯¹å®ƒä»¬å¾ˆç†Ÿæ‚‰ã€‚</p><p>æˆ‘å”¯ä¸€éœ€è¦å­¦ä¹ çš„æ˜¯Solidityï¼ˆä¸JavaScriptç›¸åŒï¼‰ï¼ŒGanacheï¼Œå’ŒTruffleã€‚</p><p>ä½œä¸ºä¸€ä¸ªç»“æœï¼Œæˆ‘å¯èƒ½ä¼šé€šè¿‡å‘å®¢æˆ·æä¾›æ›´å¤šçš„ä»·å€¼æ¥èµšæ›´å¤šçš„é’±ã€‚å¦‚æœä½ å¸Œæœ›å…¨èŒå·¥ä½œï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¯è¡Œçš„é€‰æ‹©ã€‚</p><img src="/6-Easy-to-Start-Programming-Side-Hustle-to-Earn-1-000-A-Month/3.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“æˆ‘è¿›è¡Œè°·æ­Œæœç´¢æ—¶ï¼Œå®ƒè¯´web3å¼€å‘äººå‘˜çš„å¹´å¹³å‡æ”¶å…¥åœ¨90,000ç¾å…ƒåˆ°150,000ç¾å…ƒä¹‹é—´ã€‚</p><p>è¿™ä¸æ˜¯å¾ˆç–¯ç‹‚å—ï¼Ÿ</p><h4 id="3-ä½¿ç”¨-â€œè®¾è®¡åˆ°ä»£ç -â€œå¹³å°"><a href="#3-ä½¿ç”¨-â€œè®¾è®¡åˆ°ä»£ç -â€œå¹³å°" class="headerlink" title="3. ä½¿ç”¨ â€œè®¾è®¡åˆ°ä»£ç  â€œå¹³å°"></a>3. ä½¿ç”¨ â€œè®¾è®¡åˆ°ä»£ç  â€œå¹³å°</h4><p>ä»Šå¹´ï¼Œæˆ‘å¹¿æ³›ä½¿ç”¨äº†Design-to-Codeå¹³å°ã€‚ä½ å¯èƒ½çŸ¥é“ï¼Œæˆ‘æ˜¯å…¨èŒå·¥ä½œï¼Œåˆ›é€ æŠ€æœ¯å†…å®¹ï¼Œåœ¨Gumroadä¸Šé”€å”®äº§å“ï¼Œå¹¶åœ¨æˆ‘çš„èŒä¸šä¸­ä½¿ç”¨Web3ã€‚</p><p>å› ä¸ºæˆ‘æ²¡æœ‰è¶³å¤Ÿçš„æ—¶é—´å°†è®¾è®¡è½¬åŒ–ä¸ºä»£ç ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨è®¾è®¡åˆ°ä»£ç å¹³å°ã€‚è€Œè¿™äº›å¹³å°å…è®¸æˆ‘åœ¨å‡ åˆ†é’Ÿå†…å°†è®¾è®¡è½¬åŒ–ä¸ºä»£ç ã€‚</p><p>è€Œä¸”å®ƒä»¬ä¸­çš„å¤§å¤šæ•°éƒ½æ˜¯å®Œå…¨å…è´¹ä½¿ç”¨çš„ã€‚</p><p>æ˜¯çš„ï¼Œè¿™äº›å¹³å°å¹¶ä¸æ€»æ˜¯èƒ½å¤Ÿäº§ç”Ÿå®Œç¾çš„è®¾è®¡ã€‚ä½†æ˜¯ï¼Œå®ƒå¤§å¤§åŠ å¿«äº†æˆ‘å®Œæˆä»»åŠ¡çš„é€Ÿåº¦ã€‚</p><p>è€Œåœ¨è¿™äº›ç½‘ç«™çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘åœ¨ä¸€ä¸ªæœˆå†…èµšäº†5000ç¾å…ƒæˆ–æ›´å¤šã€‚</p><p>åŒæ ·åœ°ï¼Œä½ ä¹Ÿå¯ä»¥åˆ©ç”¨ç±»ä¼¼çš„ç½‘ç«™ã€‚</p><h4 id="4-å»ºç«‹ä¸€ä¸ªç¼–ç¨‹ç¤¾åŒº"><a href="#4-å»ºç«‹ä¸€ä¸ªç¼–ç¨‹ç¤¾åŒº" class="headerlink" title="4. å»ºç«‹ä¸€ä¸ªç¼–ç¨‹ç¤¾åŒº"></a>4. å»ºç«‹ä¸€ä¸ªç¼–ç¨‹ç¤¾åŒº</h4><p>å½“æˆ‘åœ¨å¤§å­¦æœ€åä¸€å¹´çš„æ—¶å€™ï¼Œæˆ‘çš„ä¸€äº›æœ‹å‹å»ºè®®æˆ‘åŠ å…¥æŸäº›Instagramå’ŒTelegramå°ç»„ã€‚ç®€è€Œè¨€ä¹‹ï¼Œè¿™äº›å°ç»„ååŠ©æˆ‘ç”³è¯·äº†æœ€è¿‘çš„å„ç§ç¼–ç¨‹èŒä½ã€‚</p><p>ä»¤äººæƒŠè®¶çš„æ˜¯ï¼Œä»–ä»¬åœ¨å‡ å¤©å†…å°±è·å¾—äº†å¤§é‡çš„è¿½éšè€…ã€‚</p><p>æ¥ä¸‹æ¥å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿä»–ä»¬å¼€å§‹åœ¨ç¤¾åŒºé‡Œé¢åˆ¶ä½œå’Œæä¾›è¯¾ç¨‹ã€‚</p><p>æœ€è¿‘ï¼Œå…¶ä¸­ä¸€ä¸ªå°ç»„çš„ç®¡ç†å‘˜é€šè¿‡ç¬¬ä¸‰æ–¹æ‰¾åˆ°äº†æˆ‘ï¼Œè®©æˆ‘ååŠ©ä»–ä»¬å‘å±•ç¤¾åŒºã€‚æ›´å…·ä½“åœ°è¯´ï¼Œæˆ‘æƒŠå¥‡åœ°å‘ç°ï¼Œä»–ä»¬æä¾›çš„è¯¾ç¨‹ï¼Œæ¯å¤©çš„æ”¶å…¥éƒ½è¶…è¿‡1,000ç¾å…ƒã€‚</p><p>å”¯ä¸€çš„åŸå› æ˜¯ï¼Œæ–°äººå¸Œæœ›è·å¾—é«˜è–ªèŒä¸šï¼Œå› æ­¤ä»–ä»¬è´­ä¹°è¯¾ç¨‹å­¦ä¹ å¹¶è·å¾—å·¥ä½œã€‚</p><p>è¿™ä¸æ˜¯å¾ˆå¸å¼•äººå—ï¼Ÿ</p><p>è¿™åªæ˜¯ä¸€ä¸ªä¾‹å­ã€‚æˆ‘å¹¶ä¸å»ºè®®ä½ åœ¨Instagramæˆ–Telegramä¸Šå»ºç«‹ä¸€ä¸ªç¤¾åŒºã€‚ç„¶è€Œï¼Œä½ å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹åˆ›å»ºä¸€ä¸ªç±»ä¼¼çš„ç¤¾åŒºã€‚</p><p>ä¾‹å¦‚ï¼Œæˆ‘åœ¨Mediumä¸Šæœ‰æˆåƒä¸Šä¸‡çš„è¿½éšè€…ï¼Œæˆ‘åœ¨é‚£é‡Œå‘å¸ƒå†…å®¹ã€‚è€Œä¸”ï¼Œç”±äºæˆ‘çš„å†…å®¹ï¼Œæˆ‘çš„è¿½éšè€…æ•°é‡æŒç»­ä¸Šå‡ã€‚</p><p>æ›´å…·ä½“åœ°è¯´ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç”±å…±åŒæ¸´æœ›äº†è§£æ›´å¤šç¼–ç¨‹çŸ¥è¯†çš„äººç»„æˆçš„ç¤¾åŒºã€‚</p><p>è¿™å¹¶ä¸æ„å‘³ç€æˆ‘æƒ³å‡ºå”®ä¸€äº›è¯¾ç¨‹ :)</p><h4 id="5-åˆ›å»ºWeb3æ•™ç¨‹"><a href="#5-åˆ›å»ºWeb3æ•™ç¨‹" class="headerlink" title="5. åˆ›å»ºWeb3æ•™ç¨‹"></a>5. åˆ›å»ºWeb3æ•™ç¨‹</h4><p>ä½ çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬å¤§å¤šæ•°äººè®¨åŒå†™åšå®¢ã€è‡ªç”±èŒä¸šè€…æˆ–åˆ¶ä½œYouTubeè§†é¢‘å—ï¼Ÿ</p><p>è§£é‡Šå¾ˆç®€å•ï¼šæœ‰å¾ˆå¤šä¸ªäººåœ¨é‚£é‡Œï¼Œè¿™æ„å‘³ç€æœ‰æ›´å¤šçš„ç«äº‰ã€‚</p><p>æˆ‘åŒæ„è¿™ä¸ªé¢†åŸŸæœ‰å¾ˆå¤šé’±ï¼Œä½†ç”±äºç«äº‰å¤ªå¤§ï¼Œæ–°äººè¦æˆåŠŸå¾ˆå›°éš¾ã€‚</p><p>é‚£ä¹ˆï¼Œä½ èƒ½åšä»€ä¹ˆï¼Ÿå¦‚æœä½ æƒ³åˆ¶ä½œè¯¾ç¨‹æˆ–æ•™ç¨‹ï¼Œè€ƒè™‘åˆ¶ä½œä»»ä½•æ–°äº‹ç‰©çš„æ•™ç¨‹ã€‚</p><p>ä¾‹å¦‚ï¼Œweb3æ˜¯ä¸€é¡¹ç›¸å¯¹è¾ƒæ–°çš„æŠ€æœ¯ï¼Œå¤§å¤šæ•°äººéƒ½ä¸çŸ¥é“æ”¯æŒå®ƒçš„ç¼–ç¨‹ã€‚ä»¥åŒæ ·çš„æ–¹å¼ï¼Œåªæœ‰ä¸€äº›æ™®é€šçš„YouTubeé¢‘é“åœ¨æ•™äººä»¬äº†è§£web3ã€‚</p><p>å› æ­¤ï¼Œè¿™å¯¹ä½ æ¥è¯´æ˜¯ä¸€ä¸ªæœºä¼šã€‚</p><h4 id="6-ä½¿ç”¨Canvaè¿›è¡Œå¹³é¢è®¾è®¡"><a href="#6-ä½¿ç”¨Canvaè¿›è¡Œå¹³é¢è®¾è®¡" class="headerlink" title="6. ä½¿ç”¨Canvaè¿›è¡Œå¹³é¢è®¾è®¡"></a>6. ä½¿ç”¨Canvaè¿›è¡Œå¹³é¢è®¾è®¡</h4><p>æˆ‘æ²¡æœ‰å­¦è¿‡å¹³é¢è®¾è®¡ï¼Œä¹Ÿæ²¡æœ‰é›‡äººå¸®æˆ‘åšã€‚<br>é‚£ä¹ˆï¼Œæˆ‘åº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘å°±ç”¨Canvaã€‚</p><p>Canvaæ˜¯åˆ›å»ºæ¼”ç¤ºæ–‡ç¨¿ã€ç¼©ç•¥å›¾ã€YouTubeè§†é¢‘ã€Instagramå¸–å­ã€æ ‡å¿—å’Œå…¶ä»–å›¾å½¢çš„å®Œç¾é€‰æ‹©ã€‚Canvaä¹Ÿè¢«æˆ‘ç”¨æ¥åˆ›å»ºæˆ‘çš„ç®€å†ã€‚</p><p>ç°åœ¨è®©æˆ‘å‘Šè¯‰ä½ å¦‚ä½•æŠŠå®ƒå˜æˆä¸€ä¸ªå‰¯ä¸šã€‚</p><p>ç¬¬ä¸€ä¸ªé€‰æ‹©æ˜¯ï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨Canvaä½œä¸ºä¸€ä¸ªå¹³é¢è®¾è®¡å¸ˆèµšé’±ã€‚</p><p>ä½ å¯èƒ½æƒ³çŸ¥é“å¹³é¢è®¾è®¡å¸ˆæ˜¯åšä»€ä¹ˆçš„ã€‚å›¾å½¢è®¾è®¡å¸ˆä½¿ç”¨è®¡ç®—æœºè½¯ä»¶æˆ–æ‰‹å·¥åˆ›é€ è§†è§‰è®¾è®¡ï¼Œå¯å‘ã€å‘ŠçŸ¥å’Œå¸å¼•å®¢æˆ·ã€‚</p><p>å¹³é¢è®¾è®¡å¸ˆè´Ÿè´£æ•´ä¸ªè®¾è®¡å’Œåº”ç”¨ç¨‹åºçš„å¸ƒå±€ï¼Œå¦‚å¹¿å‘Šã€å°å†Œå­ã€å‡ºç‰ˆç‰©å’ŒæŠ¥å‘Šã€‚è€Œä¸”ï¼Œæ­£å¦‚æˆ‘ä»¬æ‰€è§ï¼ŒCanvaè®©åˆ¶ä½œå˜å¾—ç®€å•ã€‚</p><p>å‡è®¾ä½ æƒ³é”€å”®ç½‘ç«™ä¸»é¢˜ï¼Œéœ€è¦ä¼˜ç§€çš„ç…§ç‰‡å’Œå›¾å½¢è®¾è®¡æŠ€å·§ï¼Œè¿™ä¸¤ç‚¹Canvaéƒ½èƒ½ç»™äºˆã€‚</p><p>ä¸‹ä¸€ä¸ªæ–¹æ³•æ˜¯é”€å”®Canvaæ¨¡æ¿ã€‚</p><p>è®©æˆ‘é—®ä½ ï¼Œè°è´Ÿè´£Canvaæ¨¡æ¿ï¼Ÿåƒæˆ‘ä»¬è¿™æ ·çš„è®¾è®¡å¸ˆï¼Œè€Œä½ å¯èƒ½å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚</p><p><a href="https://www.canva.com/en_in/creators/">Canvaåˆ›ä½œè€…</a>æ˜¯ä¸€ä¸ªç½‘ç«™ï¼Œå¦‚æœä½ æƒ³åœ¨Canvaä¸Šå‡ºå”®æ¨¡æ¿ï¼Œä½ å¯ä»¥ç”³è¯·ã€‚ä»–ä»¬ç›®å‰åªä¸é€‰å®šçš„åˆ›ä½œè€…åˆä½œã€‚å¦‚æœä½ çŸ¥é“å¦‚ä½•è®¾è®¡ï¼Œä½ å¯ä»¥ç”³è¯·ã€‚åœ¨æŸäº›æ—¶å€™ï¼ŒCanvaå›¢é˜Ÿä¼šå‘ä½ å‘é€ç”µå­é‚®ä»¶ã€‚</p><p>åŒæ ·ï¼Œä½ ä¹Ÿå¯ä»¥å‘ä½ çš„å®¢æˆ·æˆ–åœ¨ä»»ä½•å…¶ä»–å¹³å°ä¸Šå‡ºå”®Canvaæ¨¡æ¿ã€‚</p><p>æˆ‘ä¹Ÿé‡åˆ°è¿‡é€šè¿‡å‘å®¢æˆ·æ•™æˆCanvaæ¥è°‹ç”Ÿçš„äººã€‚</p><p>å¸Œæœ›ä½ å–œæ¬¢å®ƒã€‚</p><p>å°±è¿™æ ·å§â€“è°¢è°¢ã€‚</p><!-- https://medium.com/geekculture/6-easy-to-start-programming-side-hustle-to-earn-1-000-a-month-no-bs-34e2e8f58a38 -->]]></content>
      
      
      <categories>
          
          <category> Microservices </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Microservices </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ çŸ¥é“å¾®æœåŠ¡å’Œå…¶è®¾è®¡æ¨¡å¼å—ï¼Ÿ</title>
      <link href="/Do-you-know-about-Microservices-and-their-Design-Patterns.html"/>
      <url>/Do-you-know-about-Microservices-and-their-Design-Patterns.html</url>
      
        <content type="html"><![CDATA[<img src="/Do-you-know-about-Microservices-and-their-Design-Patterns/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å¤§å®¶å¥½ã€‚<br>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¾®æœåŠ¡æ¶æ„ï¼Œä»¥åŠå®ƒä¸å•ä½“åº”ç”¨çš„åŒºåˆ«ã€‚è¿˜å°†çœ‹åˆ°ä»€ä¹ˆæ˜¯å¾®æœåŠ¡è®¾è®¡æ¨¡å¼å’Œä¸åŒçš„ç±»å‹ã€‚<br>ç„¶åï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¾®æœåŠ¡æ¶æ„çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ï¼Œä»¥ç»“æŸè¿™ç¯‡æ–‡ç« ã€‚<br>è®©æˆ‘ä»¬å¼€å§‹å§ï¼</p><span id="more"></span><h4 id="ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å¾®æœåŠ¡ï¼Ÿ</h4><p>å¾®æœåŠ¡æ˜¯ä¸€ç§å¼€å‘è½¯ä»¶åº”ç”¨çš„æ¶æ„é£æ ¼ï¼Œå®ƒä½œä¸ºå•ç‹¬çš„æœåŠ¡è¿è¡Œï¼Œé€šè¿‡ä»¥ä¸‹æ–¹å¼ç›¸äº’é€šä¿¡ï¼š</p><ul><li>ä½¿ç”¨APIè°ƒç”¨è¿›è¡ŒåŒæ­¥é€šä¿¡</li><li>é€šè¿‡å‘å¸ƒå’Œè®¢é˜…/åŸºäºäº‹ä»¶çš„æœºåˆ¶è¿›è¡Œå¼‚æ­¥é€šä¿¡â€“å³ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—</li></ul><p>è¿™äº›å¾®æœåŠ¡å…·æœ‰ä»¥ä¸‹ç‰¹æ€§</p><ul><li>å¯ç‹¬ç«‹éƒ¨ç½²</li><li>å¯¹è´Ÿè½½æœ‰é«˜åº¦çš„å¯æ‰©å±•æ€§</li><li>å¯ä»¥ä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€è¿›è¡Œå¼€å‘â€“å³å¤šè¯­ç§</li><li>æ¾æ•£çš„è€¦åˆ</li><li>å›´ç»•ä¸šåŠ¡é¢†åŸŸè¿›è¡Œç»„ç»‡</li><li>ç”±å°å‹å’Œç‹¬ç«‹çš„å›¢é˜Ÿç»´æŠ¤</li><li>é«˜åº¦çš„å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§</li><li>é€šè¿‡è‡ªåŠ¨åŒ–çš„CICDç®¡é“å®ç°æŒç»­äº¤ä»˜ï¼ŒåŠ å¿«ä¸Šçº¿æ—¶é—´</li><li>å®¹ç¾å¤‡ç¾èƒ½åŠ›<br>ä½¿ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¤§å‹å¤æ‚åº”ç”¨ç¨‹åºçš„å¿«é€Ÿå¼€å‘å’Œäº¤ä»˜ï¼Œå³ç¼©çŸ­ä¸Šçº¿æ—¶é—´ã€‚</li></ul><h4 id="å•ä½“ä¸å¾®æœåŠ¡"><a href="#å•ä½“ä¸å¾®æœåŠ¡" class="headerlink" title="å•ä½“ä¸å¾®æœåŠ¡"></a>å•ä½“ä¸å¾®æœåŠ¡</h4><img src="/Do-you-know-about-Microservices-and-their-Design-Patterns/2.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ä¼ ç»Ÿçš„å•æœºæ¶æ„ä¸­ï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºè¢«ç´§ç´§åœ°è€¦åˆåœ¨ä¸€ä¸ªå•ä¸€çš„ä»£ç åº“ä¸­ï¼Œä½¿å…¶æˆä¸ºç´§è€¦åˆçš„ã€‚<br>åœ¨è¿™ä¸ªå•ä¸€çš„ä»£ç åº“ä¸­ä¼šæœ‰ä¸åŒçš„å±‚æ¬¡ï¼Œå¦‚è¡¨ç°å½¢å¼ã€ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®åº“æŒä¹…æ€§ï¼Œå¹¶è¿æ¥åˆ°ä¸€ä¸ªå•ä¸€çš„æ•°æ®åº“ã€‚<br>è¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯ä½œä¸ºä¸€ä¸ªå•ä¸€çš„fat jaræ„å»ºçš„ï¼Œå®ƒåŒ…å«äº†ç±»æ–‡ä»¶å’Œæ‰€æœ‰è¿è¡Œæ‰€éœ€çš„ä¾èµ–æ€§ã€‚</p><p>è™½ç„¶å•æœºåº”ç”¨ç¨‹åºéå¸¸å®¹æ˜“æ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²ï¼Œä½†å®ƒä¹Ÿé¢ä¸´ç€å„ç§æŒ‘æˆ˜ï¼Œå¦‚ç´§å¯†è€¦åˆå’Œå¯æ‰©å±•æ€§ã€‚<br>å•ä¸ªæ¨¡å—ä¸èƒ½åœ¨è´Ÿè½½æ—¶å•ç‹¬æ‰©å±•ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€ç§å«åšå‚ç›´æ‰©å±•çš„æŠ€æœ¯æ¥å†æ¬¡æ‰©å±•æ•´ä¸ªåº”ç”¨ç¨‹åºã€‚<br>å•æœºåº”ç”¨ä¹Ÿæ˜¯å•ç‚¹æ•…éšœã€‚</p><p>2009å¹´ï¼ŒNetflixé¢ä¸´å¾ˆå¤šåŸºç¡€è®¾æ–½é—®é¢˜ï¼Œå› ä¸ºå®ƒæ— æ³•è·Ÿä¸Šå…¶å¿«é€Ÿå¢é•¿çš„è§†é¢‘æµåª’ä½“æœåŠ¡çš„éœ€æ±‚ã€‚<br>ä»é‚£æ—¶èµ·ï¼ŒNetflixå†³å®šå°†å…¶åŸºç¡€è®¾æ–½ä»ç§æœ‰æ•°æ®ä¸­å¿ƒè¿ç§»åˆ°AWSäº‘ï¼Œå¹¶å°†å…¶å•ä½“æ¶æ„æ›¿æ¢ä¸ºå¾®æœåŠ¡æ¶æ„ã€‚</p><p>ä»–ä»¬æ˜¯æ—©æœŸä»å•ä½“æ¶æ„è¿‡æ¸¡åˆ°å¾®æœåŠ¡æ¶æ„çš„å…ˆé©±è€…ã€‚<br>ç”šè‡³å¼€æºäº†è‡ªå·±ç”¨äºæ„å»ºå¾®æœåŠ¡çš„æ¡†æ¶å’Œå·¥å…·ï¼Œè¿™å°±æ˜¯è‘—åçš„Netflix OSS Stackï¼Œåæ¥æ”¹åä¸ºSpring Cloud Netflixã€‚</p><p>å¾®æœåŠ¡æ¶æ„ï¼Œå³ç°ä»£åº”ç”¨å¼€å‘æ–¹æ³•ï¼Œç”±è¾ƒå°çš„è¿è¡ŒæœåŠ¡ç»„æˆï¼Œè¿™äº›æœåŠ¡æ˜¯åŸºäºé¢†åŸŸå¼€å‘çš„ã€‚<br>è¿™äº›æœåŠ¡æœ‰è‡ªå·±çš„æ•°æ®åº“æˆ–æ¨¡å¼ï¼Œå¹¶å°†åªåŒ…å«ç›¸å…³çš„é¢†åŸŸæ•°æ®ã€‚</p><img src="/Do-you-know-about-Microservices-and-their-Design-Patterns/3.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¾®æœåŠ¡æ ¹æ®ä¸šåŠ¡é¢†åŸŸè¢«éš”ç¦»å¼€æ¥ï¼Œå¦‚è´¦æˆ·æœåŠ¡ã€åº“å­˜æœåŠ¡ã€è¿è¾“æœåŠ¡ç­‰ï¼Œå®ƒä»¬è¿æ¥åˆ°å„è‡ªçš„æ•°æ®åº“ã€‚<br>è¿™äº›æœåŠ¡ä¹Ÿå¯ä»¥åŒæ­¥æˆ–å¼‚æ­¥åœ°ç›¸äº’è¿æ¥ä»¥è·å¾—ä»»ä½•éœ€è¦çš„æ•°æ®ã€‚</p><p>è¿™äº›æœåŠ¡ä½œä¸ºç‹¬ç«‹çš„å°jaræ–‡ä»¶è¢«éƒ¨ç½²åœ¨ä»–ä»¬è‡ªå·±çš„æœºå™¨ä¸Šï¼Œå¹¶ç‹¬ç«‹éƒ¨ç½²ï¼Œè¿™ä¸å•æœºåº”ç”¨ä¸åŒã€‚<br>éƒ¨ç½²å¯ä»¥åœ¨å†…éƒ¨æœåŠ¡å™¨ã€äº‘æœåŠ¡å™¨æˆ–dockerå®¹å™¨ä¸­å®Œæˆã€‚</p><p>è¿™ç§æ¶æ„æ˜¯å¯ä»¥ç‹¬ç«‹æ‰©å±•çš„ï¼Œä½¿ç”¨ä¸€ç§å«åš â€œæ°´å¹³æ‰©å±• â€œçš„æŠ€æœ¯ï¼Œå³åªæ‰©å±•å…·æœ‰è¾ƒé«˜è´Ÿè½½çš„æœåŠ¡ã€‚<br>æ­¤å¤–ï¼Œè¿™äº›æœåŠ¡æ˜¯å®¹é”™çš„ï¼Œæœ‰å¼¹æ€§çš„ï¼Œæ²¡æœ‰å•ç‚¹æ•…éšœã€‚<br>å³ä½¿åº“å­˜æœåŠ¡å’Œè¿è¾“æœåŠ¡å‡ºç°æ•…éšœï¼Œç”¨æˆ·ä»ç„¶å¯ä»¥ä½¿ç”¨è´¦æˆ·æœåŠ¡æ£€æŸ¥ä»–ä»¬çš„è´¦æˆ·ã€‚</p><h4 id="å¾®æœåŠ¡è®¾è®¡æ¨¡å¼"><a href="#å¾®æœåŠ¡è®¾è®¡æ¨¡å¼" class="headerlink" title="å¾®æœåŠ¡è®¾è®¡æ¨¡å¼"></a>å¾®æœåŠ¡è®¾è®¡æ¨¡å¼</h4><p>å¾®æœåŠ¡æ¶æ„æœ‰å¾ˆå¤šç°æˆçš„ä¸åŒè®¾è®¡æ¨¡å¼ï¼Œå¯ç”¨äºä¸åŒçš„ç”¨ä¾‹ã€‚</p><img src="/Do-you-know-about-Microservices-and-their-Design-Patterns/4.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å¾®æœåŠ¡æ˜¯ç‹¬ç«‹çš„ã€æ¾æ•£è€¦åˆçš„ï¼Œå¹¶éµå¾ªåˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„ï¼Œæ¯ä¸ªæœåŠ¡åªæ‰¿æ‹…ä¸€ä¸ªè´£ä»»ã€‚<br>åœ¨è¿™ç§ç±»å‹çš„æ¶æ„ä¸­ä¼šæœ‰å¾ˆå¤šæŒ‘æˆ˜ï¼ŒåŒ…æ‹¬é€šä¿¡æ•…éšœã€åˆ†å¸ƒå¼äº‹åŠ¡å›æ»šã€é…ç½®å¤–éƒ¨åŒ–ã€é›†ä¸­å¼æ—¥å¿—ç­‰ã€‚</p><p>è¿™äº›è®¾è®¡ä¸Šçš„æŒ‘æˆ˜ä»¥è§£å†³å®ƒä»¬çš„å½¢å¼è¢«ç§°ä¸ºå¾®æœåŠ¡è®¾è®¡æ¨¡å¼ã€‚<br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæœ‰å¾ˆå¤šå¾®æœåŠ¡çš„è®¾è®¡æ¨¡å¼ã€‚å¦‚æœèƒ½æ¥è§¦åˆ°æ‰€æœ‰é‡è¦çš„æ¨¡å¼ï¼Œå°†å¯¹è®¾è®¡å¾®æœåŠ¡æ¶æ„æœ‰å¾ˆå¤§å¸®åŠ©ã€‚</p><p>å¾®æœåŠ¡çš„è®¾è®¡æ¨¡å¼ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ç±»å‹</p><ul><li>åˆ†è§£æ¨¡å¼</li><li>é›†æˆæ¨¡å¼</li><li>æ•°æ®åº“è®¾è®¡æ¨¡å¼</li><li>å¯è§‚å¯Ÿæ€§è®¾è®¡æ¨¡å¼</li><li>è·¨é¢†åŸŸè®¾è®¡æ¨¡å¼</li></ul><img src="/Do-you-know-about-Microservices-and-their-Design-Patterns/5.webp" class="" title="ç¤ºæ„å›¾ width=400"><h5 id="1-åˆ†è§£æ¨¡å¼"><a href="#1-åˆ†è§£æ¨¡å¼" class="headerlink" title="1. åˆ†è§£æ¨¡å¼"></a>1. åˆ†è§£æ¨¡å¼</h5><p>å¦‚æœæˆ‘ä»¬éœ€è¦å°†ä¸€ä¸ªå•ä½“åº”ç”¨åˆ†è§£æˆæ›´å°çš„å¾®æœåŠ¡ï¼Œé‚£ä¹ˆåˆ†è§£æ¨¡å¼å°±éå¸¸æœ‰ç”¨ã€‚è¿™äº›æ¨¡å¼æä¾›äº†å¦‚ä½•åœ¨é€»è¾‘ä¸Šè¿›è¡Œåˆ†è§£çš„å»ºè®®ã€‚è¿™äº›æ¨¡å¼æœ‰ä¸åŒçš„ç±»å‹ï¼Œé‡è¦çš„æ˜¯è¦äº†è§£è¯¥é¢†åŸŸã€‚<br>a. æŒ‰ä¸šåŠ¡èƒ½åŠ›åˆ†è§£<br>b. æŒ‰å­åŸŸåˆ†è§£<br>c. æŒ‰ â€œç»æ€è€… â€œæ¨¡å¼è¿›è¡Œåˆ†è§£</p><h5 id="2-é›†æˆè®¾è®¡æ¨¡å¼"><a href="#2-é›†æˆè®¾è®¡æ¨¡å¼" class="headerlink" title="2. é›†æˆè®¾è®¡æ¨¡å¼"></a>2. é›†æˆè®¾è®¡æ¨¡å¼</h5><p>é›†æˆè®¾è®¡æ¨¡å¼ç”¨äºå¤„ç†ä¸åŒå¾®æœåŠ¡ä¹‹é—´çš„é€šä¿¡ï¼Œä»¥åŠå¦‚ä½•è·å¾—è·¨æœåŠ¡çš„å“åº”å¹¶å°†å…¶å‘é€åˆ°å®¢æˆ·ç«¯ï¼ŒåŒæ—¶ä¿æŒé«˜æ€§èƒ½ã€‚<br>é‡è¦çš„é›†æˆæ¨¡å¼æœ‰<br>a. APIç½‘å…³æ¨¡å¼<br>b. èšåˆå™¨æ¨¡å¼<br>c. ä»£ç†æ¨¡å¼<br>d. é“¾å¼å¾®æœåŠ¡æ¨¡å¼</p><h5 id="3-æ•°æ®åº“è®¾è®¡æ¨¡å¼"><a href="#3-æ•°æ®åº“è®¾è®¡æ¨¡å¼" class="headerlink" title="3. æ•°æ®åº“è®¾è®¡æ¨¡å¼"></a>3. æ•°æ®åº“è®¾è®¡æ¨¡å¼</h5><p>æ•°æ®åº“è®¾è®¡æ¨¡å¼å¸®åŠ©æˆ‘ä»¬ä¸ºå¾®æœåŠ¡æ¶æ„è®¾è®¡æ•°æ®åº“ï¼Œå¦‚ä¸ºæ¯ä¸ªå¾®æœåŠ¡ä½¿ç”¨å•ä¸€çš„å…±äº«æ•°æ®åº“æˆ–å•ç‹¬çš„æ•°æ®åº“ï¼Œä¸ºè¯»å’Œå†™æ“ä½œæä¾›å•ç‹¬çš„æ•°æ®åº“ï¼Œè·¨å¾®æœåŠ¡çš„åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†ï¼Œç­‰ç­‰ã€‚<br>ä»¥ä¸‹è¿™äº›æ•°æ®åº“è®¾è®¡æ¨¡å¼æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºæ•°æ®åº“çš„è®¾è®¡å¯ä»¥å†³å®šåº”ç”¨ç¨‹åºçš„å¥½å<br>a. æ¯ä¸ªæœåŠ¡çš„æ•°æ®åº“æ¨¡å¼<br>b. æ¯ä¸ªæœåŠ¡çš„å…±äº«æ•°æ®åº“æ¨¡å¼<br>c. å‘½ä»¤å’ŒæŸ¥è¯¢è´£ä»»éš”ç¦»ï¼ˆCQRSï¼‰æ¨¡å¼<br>d. äº‹ä»¶æ¥æº<br>e. ä¼ å¥‡æ¨¡å¼</p><h5 id="4-å¯è§‚å¯Ÿæ€§æ¨¡å¼"><a href="#4-å¯è§‚å¯Ÿæ€§æ¨¡å¼" class="headerlink" title="4. å¯è§‚å¯Ÿæ€§æ¨¡å¼"></a>4. å¯è§‚å¯Ÿæ€§æ¨¡å¼</h5><p>å¯è§‚å¯Ÿæ€§æ¨¡å¼å¯¹äºè®¾è®¡å¾®æœåŠ¡çš„é€‚å½“ç›‘æ§å’Œé¥æµ‹éå¸¸å…³é”®ï¼Œå³é›†ä¸­å¼æ—¥å¿—ã€åˆ†å¸ƒå¼è·Ÿè¸ªã€æ€§èƒ½æŒ‡æ ‡ã€å¾®æœåŠ¡å®ä¾‹çš„å¥åº·æ£€æŸ¥ç­‰ç­‰ã€‚<br>é‡è¦çš„æ¨¡å¼æœ‰<br>a. æ—¥å¿—èšåˆæ¨¡å¼<br>b. æ€§èƒ½åº¦é‡<br>c. åˆ†å¸ƒå¼è·Ÿè¸ª<br>d. å¥åº·æ£€æŸ¥</p><h5 id="5-äº¤å‰å…³æ³¨è®¾è®¡æ¨¡å¼"><a href="#5-äº¤å‰å…³æ³¨è®¾è®¡æ¨¡å¼" class="headerlink" title="5. äº¤å‰å…³æ³¨è®¾è®¡æ¨¡å¼"></a>5. äº¤å‰å…³æ³¨è®¾è®¡æ¨¡å¼</h5><p>äº¤å‰å…³æ³¨æ¨¡å¼ç”¨äºå¤„ç†å¾®æœåŠ¡å¦‚ä½•ç›¸äº’å‘ç°ï¼Œå¦‚ä½•å°†å¾®æœåŠ¡é…ç½®å¤–éƒ¨åŒ–ï¼Œå¦‚ä½•ä½¿ç”¨æ–­è·¯å™¨å¤„ç†æœåŠ¡æ•…éšœï¼Œä»¥åŠå¦‚ä½•éƒ¨ç½²å¾®æœåŠ¡ã€‚<br>é‡è¦çš„æ¨¡å¼æœ‰<br>a. å¤–éƒ¨é…ç½®æ¨¡å¼<br>b. æœåŠ¡å‘ç°æ¨¡å¼<br>c. æ–­è·¯å™¨æ¨¡å¼<br>d. è“ç»¿éƒ¨ç½²æ¨¡å¼</p><h4 id="å¾®æœåŠ¡çš„ä¼˜åŠ¿"><a href="#å¾®æœåŠ¡çš„ä¼˜åŠ¿" class="headerlink" title="å¾®æœåŠ¡çš„ä¼˜åŠ¿"></a>å¾®æœåŠ¡çš„ä¼˜åŠ¿</h4><ul><li>å¾®æœåŠ¡éµå¾ªå•ä¸€è´£ä»»åŸåˆ™ã€‚</li><li>æ›´å¥½çš„åˆè§„æ€§å’Œæ•°æ®å®‰å…¨æ€§ã€‚</li><li>è‡ªæˆä¸€ä½“ï¼Œå¯ç‹¬ç«‹éƒ¨ç½²</li><li>åŠ¨æ€æ‰©å±•ï¼Œä¸å•ç‰‡æœºç›¸æ¯”ï¼Œæ‰©å±•æˆæœ¬æ›´ä½</li><li>è¿›å…¥å‘å¸ƒçš„æ—¶é—´æ›´å¿«</li><li>æˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªå¾®æœåŠ¡ä½¿ç”¨å¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶</li><li>æ›´æœ‰å¼¹æ€§çš„åº”ç”¨ç¨‹åºå’Œæ”¹è¿›çš„æ•…éšœéš”ç¦»ã€‚</li><li>å¹¿æ³›çš„è®¾è®¡æ¨¡å¼çš„è‡ªåˆ¶æ€§</li></ul><h4 id="å¾®æœåŠ¡çš„å¼Šç«¯"><a href="#å¾®æœåŠ¡çš„å¼Šç«¯" class="headerlink" title="å¾®æœåŠ¡çš„å¼Šç«¯"></a>å¾®æœåŠ¡çš„å¼Šç«¯</h4><p>å¾®æœåŠ¡æ¶æ„æœ‰å…¶è‡ªèº«çš„ç¼ºç‚¹ï¼Œå…·ä½“å¦‚ä¸‹</p><ul><li>å¢åŠ äº†æœåŠ¡é—´é€šä¿¡çš„å¤æ‚æ€§</li><li>é€šä¿¡å¤±è´¥çš„å‡ ç‡æ›´é«˜</li><li>åˆ†å¸ƒå¼äº‹åŠ¡çš„å›æ»šå¾ˆå¤æ‚</li><li>æ›´å¤šçš„èµ„æºå’Œå¼€é”€</li><li>éš¾ä»¥æµ‹è¯•å’Œè°ƒè¯•</li><li>ç»´æŠ¤å¤šä¸ªå°å‹æœåŠ¡å¾ˆå¤æ‚</li><li>å¤æ‚çš„éƒ¨ç½²</li></ul><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¾®æœåŠ¡æ¶æ„ä»¥åŠå®ƒä¸å•ä½“åº”ç”¨çš„ä¸åŒä¹‹å¤„ã€‚<br>ç„¶åï¼Œæˆ‘ä»¬çœ‹äº†ä»€ä¹ˆæ˜¯å¾®æœåŠ¡è®¾è®¡æ¨¡å¼å’Œä¸åŒçš„ç±»å‹ã€‚<br>è¿˜çœ‹åˆ°äº†å¾®æœåŠ¡æ¶æ„çš„ä¼˜åŠ¿å’ŒåŠ£åŠ¿ã€‚</p><p>å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰ç”¨ï¼Œæ„Ÿè°¢ä½ çš„é˜…è¯»ï¼!</p><!-- https://medium.com/javarevisited/do-you-know-about-microservices-and-their-design-patterns-e8d7c8193dfe -->]]></content>
      
      
      <categories>
          
          <category> Microservices </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Microservices </tag>
            
            <tag> Design Patterns </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutteræ¸¸æˆå¼€å‘ åˆæ¢Bonfire</title>
      <link href="/Flutter-games-exploring-Bonfire.html"/>
      <url>/Flutter-games-exploring-Bonfire.html</url>
      
        <content type="html"><![CDATA[<p>æ–°çš„å·¥å…·åŒ… â€œFlutter Casual Games Toolkit â€œå·²éšFlutter 3.0å…¬å¸ƒã€‚å®ƒå¹¶ä¸å‡è£…æ˜¯ä»»ä½•é—®é¢˜çš„é€šç”¨è§£å†³æ–¹æ¡ˆï¼Œä½†æˆ‘ä»¬çœ‹åˆ°å®ƒæ˜¯å¦‚ä½•å‘æ¸¸æˆå¼€å‘è¿ˆå‡º â€œå®˜æ–¹ â€œçš„ç¬¬ä¸€æ­¥ã€‚</p><p>è¿˜æœ‰å…¶ä»–å·¥å…·ï¼Œå…¶ä¸­æœ€å¼ºå¤§çš„æ˜¯Flameæ¡†æ¶ã€‚åœ¨Flameçš„åŸºç¡€ä¸Šå»ºç«‹äº† â€œBonfireâ€â€“ä¸€ä¸ªæ¸¸æˆå¼€å‘æ¡†æ¶ã€‚å®ƒçœ‹èµ·æ¥è‡³å°‘æ˜¯å¼€å‘RPGæ¸¸æˆçš„æœ€ç®€å•çš„æ¡†æ¶ã€‚</p><img src="/Flutter-games-exploring-Bonfire/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³åˆ†äº«æˆ‘å¯¹Bonfireçš„ç»éªŒï¼Œå¹¶å±•ç¤ºå®ƒçš„ä¼˜ç‚¹å’Œç¼ºç‚¹â€¦â€¦å¦‚æœä½ è¿˜ä¸ç¡®å®šåœ¨ä½ çš„ç¬¬ä¸€ä¸ªæ¸¸æˆé¡¹ç›®ä¸­ä½¿ç”¨ä»€ä¹ˆæ¡†æ¶ï¼Œæˆ‘å¸Œæœ›æˆ‘çš„æ–‡ç« ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><h4 id="ç¬¬ä¸€å°è±¡"><a href="#ç¬¬ä¸€å°è±¡" class="headerlink" title="ç¬¬ä¸€å°è±¡"></a>ç¬¬ä¸€å°è±¡</h4><p>è®©æˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹æ¡†æ¶çš„ä¸»è¦åŠŸèƒ½ï¼Œåœ¨ç®€çŸ­çš„åˆ—è¡¨ä¸­ã€‚</p><ul><li>ç°æˆçš„æ§åˆ¶å±‚ï¼šæ”¯æŒé”®ç›˜å’Œè™šæ‹Ÿæ¸¸æˆæ¿ã€‚</li><li>å®ä½“ â€œç©å®¶â€ã€â€æ•Œäººâ€ã€â€è¿½éšè€… â€œéƒ½å¯ä»¥ä½¿ç”¨ã€‚</li><li>ç”¨äºåˆ›å»º â€œé£è¡Œæ”»å‡»ç‰©ä½“ â€œçš„å®ä½“ï¼Œå¦‚å­å¼¹ã€‚è¿‘æˆ˜æ”»å‡»æœºåˆ¶ã€‚</li><li>å®ç°NPCå‘ç©å®¶ç§»åŠ¨å¹¶æ”»å‡»ä»–çš„æ··åˆå™¨å’Œå‡½æ•°ã€‚</li><li>ä¸ºç©å®¶çš„è§’è‰²åœ¨å±å¹•ä¸Šç”¨é¼ æ ‡ç‚¹å‡»çš„ç‚¹è¿›è¡Œå¯»è·¯ã€‚</li><li>æ”¯æŒå¹³é“ºåœ°å›¾ç¼–è¾‘å™¨ã€åŠ¨ç”»å¹³é“ºã€ä¸å¹³é“ºçš„ç¢°æ’ã€è¯»å–å¹³é“ºå±æ€§ã€‚å°†Tileæ”¾åœ¨ä¸åŒçš„é«˜åº¦ä¸Šã€‚</li><li>å°†Tileä¸­å®šä¹‰çš„å¯¹è±¡æ˜ å°„åˆ°Dartçš„ç±»ä¸­ï¼Œä»¥å®ç°è‡ªå®šä¹‰è¡Œä¸ºã€‚</li><li>ç…§æ˜ï¼Œå…¨å±è‰²å½©æ•ˆæœã€‚</li><li>å¹³æ»‘çš„ç›¸æœºç§»åŠ¨ã€‚</li><li>ç”¨æˆ·ç•Œé¢ï¼Œå¯¹è¯æ¡†ã€‚</li><li>è¿·ä½ åœ°å›¾ã€‚</li><li>â€¦ä¹Ÿè®¸è¿˜æœ‰ä¸€äº›æˆ‘æ¼æ‰çš„ä¸œè¥¿ï¼Œæˆ–è€…åœ¨æˆ‘å‡†å¤‡è¿™ç¯‡æ–‡ç« çš„æ—¶å€™å·²ç»å®ç°äº†ã€‚</li></ul><p>è¿™ä¸ªå·¥å…·ç®±çœ‹èµ·æ¥éå¸¸é…·ï¼Œå¯¹å—ï¼Ÿ<br>çœŸçš„ï¼Œè¿™ä¸ªæ¡†æ¶å…è®¸æˆ‘ä»¬åœ¨Tiledä¸­å»ºç«‹å¤§éƒ¨åˆ†çš„æ¸¸æˆï¼Œä½¿ç”¨å¯¹è±¡çš„å±æ€§è®¾ç½®æ‰€æœ‰éœ€è¦çš„å‚æ•°ï¼Œç„¶ååœ¨ä½ çš„ä»£ç ä¸­è¯»å–å®ƒä»¬ï¼Œå¹¶é€šè¿‡ç»§æ‰¿é¢„å®šä¹‰çš„å®ä½“åœ¨è‡ªå®šä¹‰ç±»ä¸­å®ç°ç¼ºå¤±çš„æ¸¸æˆé€»è¾‘ã€‚</p><p>åœ¨å»ºç«‹ä¸€ä¸ªé¡¹ç›®åï¼Œä¸€åˆ‡éƒ½éå¸¸ç®€æ´æ˜äº†ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªæ¸¸æˆå¯¹è±¡ï¼Œå¯¹è±¡æœ‰å›è°ƒæ¥æ¥å—ä¼¤å®³ï¼Œå¤„ç†ä¸å…¶ä»–å¯¹è±¡çš„ç¢°æ’ï¼Œè¿åŠ¨æ—¶è°ƒç”¨å‡½æ•°ç­‰ç­‰ã€‚ä½ ä»€ä¹ˆéƒ½æœ‰äº†ï¼Œåªè¦å»å®ç°ä½ çš„æƒ³æ³•å°±å¯ä»¥äº†! æˆ‘è¯•ç€è¿™ä¹ˆåšäº†â€¦</p><h4 id="æˆ‘ä»¬çš„å®éªŒæ€§æ¸¸æˆ"><a href="#æˆ‘ä»¬çš„å®éªŒæ€§æ¸¸æˆ" class="headerlink" title="æˆ‘ä»¬çš„å®éªŒæ€§æ¸¸æˆ"></a>æˆ‘ä»¬çš„å®éªŒæ€§æ¸¸æˆ</h4><p>æˆ‘å†³å®šä¸å†åšå¦ä¸€ä¸ªRPGæ¸¸æˆï¼šé¦–å…ˆæ˜¯å› ä¸ºæˆ‘æ²¡æœ‰ä»»ä½•æœ‰çµæ„Ÿçš„æƒ³æ³•ï¼›å…¶æ¬¡æ˜¯å› ä¸ºBonfireå¤ªå®¹æ˜“äº†ï¼Œä½ å°†åœ¨Tiledä¸­å®Œæˆå¤§çº¦80%çš„å·¥ä½œã€‚å½“ä½ æƒ³æ¢ç´¢æ¡†æ¶çš„æ—¶å€™ï¼Œå®ƒçš„èƒ½åŠ›å’Œç•Œé™ä¸æ˜¯ä½ æ‰€éœ€è¦çš„ã€‚</p><p>ä½ è¿˜è®°å¾—ä¸€ä¸ªè€æ¸¸æˆï¼Œâ€å¦å…‹å¤§æˆ˜â€å—ï¼Ÿ<br>åœ¨é»‘æš—çš„èƒŒæ™¯ä¸‹ï¼Œå»ºç­‘ç‰©éƒ½æ˜¯ç”¨ç –å¤´ç Œæˆçš„ï¼Œä½ çš„å¦å…‹ä¿æŠ¤ç€ â€œè€é¹° â€œä¸å—å…¶ä»–å¦å…‹çš„æ”»å‡»ï¼Œç –å¤´æ˜¯å¯ä»¥æ‘§æ¯çš„ã€‚å¦‚æœåœ¨é‚£ä¸ª â€œå¤è€ â€œçš„æ—¶ä»£ï¼Œäººä»¬èƒ½å¤Ÿåˆ›é€ è¿™æ ·çš„æ¸¸æˆï¼Œé‚£ä¹ˆç”¨ç°ä»£å·¥å…·åŒ…çš„æ‰€æœ‰åŠ›é‡æ¥å®ç°åŒæ ·çš„æ¸¸æˆåº”è¯¥æ˜¯éå¸¸å®¹æ˜“çš„ã€‚</p><img src="/Flutter-games-exploring-Bonfire/2.webp" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="1-æ§åˆ¶å™¨"><a href="#1-æ§åˆ¶å™¨" class="headerlink" title="1. æ§åˆ¶å™¨"></a>1. æ§åˆ¶å™¨</h4><p>æˆ‘ä»¬åœ¨æ¡†æ¶ä¸­æ†ç»‘äº†é…ç½®æ¸¸æˆæ§åˆ¶å™¨çš„ç±»â€“ç§»åŠ¨è®¾å¤‡ç”¨è™šæ‹Ÿæ‘‡æ†ï¼Œæ¡Œé¢ç”¨æŒ‰é”®ï¼šWASDã€‚<br>ä½†åœ¨æˆ‘è¿™é‡Œï¼Œåº”è¯¥åªå…è®¸åœ¨ç¬¬å››ä¸ªæ–¹å‘ç§»åŠ¨ã€‚åœ¨Bonfireä¸­ï¼Œæ¯ä¸ªæ–¹å‘éƒ½å¯ä»¥ç§»åŠ¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å‰Šå‡ä¸å¿…è¦çš„åŠŸèƒ½ã€‚</p><p>æˆ‘æ²¡æœ‰ä»»ä½•å…¶ä»–çš„è§£å†³æ–¹æ¡ˆï¼Œåªæ˜¯å¤åˆ¶ç²˜è´´å¹¶é‡å†™æ•´ä¸ªæ··åˆå™¨ â€œMovementByDirection â€œçš„å†…å®¹ã€‚<br>è¿™ä¸æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ï¼Œä½†ä»ç„¶æ˜¯ â€œå¥½çš„â€â€“åªæ˜¯ä¸€ä¸ªå®Œæ•´çš„é‡æ–°å®ç°çš„å®ä½“ï¼Œä¸æ˜¯ä¸€ä¸ªé—®é¢˜ è®©æˆ‘ä»¬ç»§ç»­å‰è¿›â€¦</p><h4 id="2-å‡†å¤‡å¥½æ•Œäººçš„å®ä½“"><a href="#2-å‡†å¤‡å¥½æ•Œäººçš„å®ä½“" class="headerlink" title="2. å‡†å¤‡å¥½æ•Œäººçš„å®ä½“"></a>2. å‡†å¤‡å¥½æ•Œäººçš„å®ä½“</h4><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é¢ä¸´ç€ç±»ä¼¼çš„æƒ…å†µï¼šæˆ‘ä»¬éœ€è¦å°†NPCç»‘å®šä¸º4ä¸ªæ–¹å‘çš„è¿åŠ¨ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸éœ€è¦å¤åˆ¶ç²˜è´´ä»»ä½•ä¸œè¥¿ï¼Œä½†æ˜¯ä¸ºäº†å®ç°æ‰€éœ€çš„è¡Œä¸ºï¼Œä½ åº”è¯¥ç†Ÿæ‚‰Bonfireçš„å‡½æ•°è°ƒç”¨é¡ºåºï¼šä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ â€œupdate()â€ï¼Œå®ƒä¸ â€œonMove() â€œæœ‰ä»€ä¹ˆä¸åŒï¼Œä»€ä¹ˆæ˜¯ â€œmoveLeftâ€ã€â€moveRight â€œç­‰ç­‰ã€‚<br>å­¦ä¹ å†…éƒ¨æ¡†æ¶ç»“æ„ã€æ·±å…¥çš„ç±»/æ··åˆä½“å±‚æ¬¡ç»“æ„ç­‰ä¸æ˜¯é—®é¢˜ï¼Œä½†è¿™ä¸æ˜¯ä½ å¯ä»¥ç§°ä¹‹ä¸º â€œç®€å• â€œæˆ– â€œç›´è§‚ â€œçš„ä¸œè¥¿ã€‚<br>è¿™é‡Œæ˜¯Bonfireå¼€å§‹å‘ä½ å±•ç¤ºå…¶å¤æ‚æ€§çš„åœ°æ–¹ã€‚</p><h4 id="3-ä¸ºå­å¼¹å‡†å¤‡å¥½çš„å®ä½“ï¼Œæ‰¿å—å’Œæ¥æ”¶ä¼¤å®³"><a href="#3-ä¸ºå­å¼¹å‡†å¤‡å¥½çš„å®ä½“ï¼Œæ‰¿å—å’Œæ¥æ”¶ä¼¤å®³" class="headerlink" title="3. ä¸ºå­å¼¹å‡†å¤‡å¥½çš„å®ä½“ï¼Œæ‰¿å—å’Œæ¥æ”¶ä¼¤å®³"></a>3. ä¸ºå­å¼¹å‡†å¤‡å¥½çš„å®ä½“ï¼Œæ‰¿å—å’Œæ¥æ”¶ä¼¤å®³</h4><p>è¿™é‡Œæ˜¯æˆ‘ä»¬åœ¨Bonfireä¸­å®ç°çš„åŠŸèƒ½å’Œå®ç°æ¸¸æˆæœºåˆ¶æ‰€éœ€çš„åŠŸèƒ½ä¹‹é—´çš„ç¬¬ä¸€ä¸ªå†²çªç‚¹ã€‚</p><p>åœ¨Bonfireä¸­ï¼Œå­å¼¹æ˜¯é€šè¿‡ â€œFlyingAttackObject â€œç±»å®ç°çš„ã€‚<br>å®ƒåœ¨ä¸ä»»ä½•æ¸¸æˆç»„ä»¶ç¢°æ’çš„ç¬é—´å°±ä¼šçˆ†ç‚¸ï¼ˆå¦‚æœå®ƒæœ‰ä»»ä½•å…³äºç¢°æ’çš„ä¿¡æ¯çš„è¯ï¼‰ã€‚ä¼¤å®³åªç”± â€œå¯æ”»å‡» â€œç±»å‹çš„ç‰©ä½“æ¥å—ã€‚çœ‹èµ·æ¥å¾ˆæœ‰ç”¨ã€‚è®©æˆ‘ä»¬ä¸â€å¦å…‹å¤§æˆ˜â€çš„åŸå§‹æ¸¸æˆæœºåˆ¶è¿›è¡Œæ¯”è¾ƒã€‚</p><ul><li>æœ‰å¦å…‹ï¼Œå®ƒä»¬æ¥å—ä¼¤å®³ã€‚æ ‡å‡†Bonfireçš„æœºåˆ¶åœ¨è¿™é‡Œåº”è¯¥å¾ˆå¥½ç”¨ã€‚</li><li>è¿™é‡Œæœ‰å¯ç ´åçš„ç –å—ï¼Œæˆ‘ä¸çŸ¥é“å¦‚ä½•åœ¨ä¸ä¿®æ”¹çš„æƒ…å†µä¸‹ä½¿ç”¨Bonfireçš„æœºåˆ¶ï¼Œå› ä¸ºç –å—åœ¨ç¬¬ä¸€æ¬¡æ’å‡»åä¸ä¼šæ¶ˆå¤±â€“åªæœ‰ç –å—çš„ä¸€éƒ¨åˆ†åº”è¯¥è¢«åˆ é™¤ã€‚</li><li>æœ€åï¼Œæˆ‘ä»¬åœ¨åœ°å›¾ä¸Šæœ‰æ°´ã€‚æ°´ç –åº”è¯¥æ˜¯å¯ä»¥ç¢°æ’çš„ï¼Œå› ä¸ºå¦å…‹ä¸èƒ½æ¸¸æ³³ï¼Œä½†å­å¼¹åº”è¯¥åœ¨æ°´é¢ä¸Šè‡ªç”±é£è¡Œã€‚</li></ul><p>æˆ‘ä»¬åº”è¯¥å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿæˆ‘å†³å®šé‡‡ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><ul><li>å¦å…‹çš„ä¸€åˆ‡éƒ½å¾ˆå¥½ï¼Œè®©æˆ‘ä»¬ä¿æŒæ ‡å‡†çš„åŠ›å­¦ã€‚</li><li>å¯¹äºå¢™å£â€“ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯ç”¨å°Tileæ¥å»ºé€ åœ°å›¾ï¼Œä½†è¿™æ„å‘³ç€å¤§é‡ç–¯ç‹‚çš„æ‰‹å·¥ä½œä¸šï¼Œå› ä¸ºæœ€å°çš„Tileå°ºå¯¸æ˜¯4pxã€‚å¦å¤–ï¼Œç”¨å¼•æ“å¤„ç†è¿™ä¹ˆå¤šçš„ç“¦ç‰‡å¯¹è±¡ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚<br> ç„¶åæˆ‘é€‰æ‹©äº†å¦ä¸€ç§æ–¹æ³•ï¼šå½“å­å¼¹å‡»ä¸­å¢™å£æ—¶ï¼Œæˆ‘ä»¬è®¡ç®—å­å¼¹çš„é£è¡ŒçŸ¢é‡ï¼Œå¹¶åœ¨è¿™ä¸ªæ–¹å‘ä¸Šå°†Tileçš„å°ºå¯¸ç¼©å°ä¸ºç“¦ç‰‡å…¨å°ºå¯¸çš„ä¸€åŠã€‚å¦‚æœå°ºå¯¸ä¸ºé›¶ï¼Œé‚£ä¹ˆè¿™å—Tileå°±åº”è¯¥è¢«ç§»é™¤ã€‚<br> è¯¥æ–¹æ¡ˆè¿è¡Œè‰¯å¥½ï¼Œä½†æ‰€æœ‰æ¥è‡ª â€œonCollision() â€œå‡½æ•°çš„æ ‡å‡†æœºåˆ¶åº”è¯¥ä»å¤´å¼€å§‹é‡å†™ã€‚</li><li>æ°´ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦å†æ¬¡é‡å†™å­å¼¹ç±»çš„ â€œonCollision() â€œå‡½æ•°ä»¥å¿½ç•¥ä¸æ°´çš„ç¢°æ’ã€‚<br>è¿™çœ‹èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œä½†æ˜¯ä¸€ä¸ªé—®é¢˜æ¥ç€å¦ä¸€ä¸ªé—®é¢˜å‡ºç°ï¼šBonfireçœ‹ä¸åˆ°ä¸åŒç±»å‹çš„Tileä¹‹é—´æœ‰ä»»ä½•åŒºåˆ«ã€‚<br>ä¸ºäº†è®©å¼•æ“çœ‹åˆ°æ°´æ˜¯æ°´ï¼Œç –æ˜¯ç –ï¼Œæˆ‘ä»¬åº”è¯¥åœ¨å®ƒçš„æ ¸å¿ƒéƒ¨åˆ†åšä¸€äº›é¢å¤–çš„å·¥ä½œâ€¦â€¦æˆ‘å°†åœ¨ç¬¬7éƒ¨åˆ†æè¿°å®ƒã€‚</li></ul><h4 id="4å’Œ5ã€‚æ•Œäººå¯¹ç©å®¶çš„ç§»åŠ¨ã€å¯»è·¯ã€‚"><a href="#4å’Œ5ã€‚æ•Œäººå¯¹ç©å®¶çš„ç§»åŠ¨ã€å¯»è·¯ã€‚" class="headerlink" title="4å’Œ5ã€‚æ•Œäººå¯¹ç©å®¶çš„ç§»åŠ¨ã€å¯»è·¯ã€‚"></a>4å’Œ5ã€‚æ•Œäººå¯¹ç©å®¶çš„ç§»åŠ¨ã€å¯»è·¯ã€‚</h4><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæ‰€æœ‰æ¡†æ¶çš„ â€œå¼€ç®±å³ç”¨ â€œçš„è§£å†³æ–¹æ¡ˆéƒ½å˜å¾—æ— ç”¨ã€‚<br>æ•Œäººçš„ç§»åŠ¨åªå¯èƒ½åœ¨ç¬¬å››ä¸ªæ–¹å‘ä¸Šè¿›è¡Œã€‚å¦å¤–ï¼Œæœ‰å¾ˆå¤šéšœç¢ç‰©éœ€è¦å‡†ç¡®åœ°ç»•è¿‡ï¼Œä»¥ä¾¿æœ‰ç›®çš„åœ°åˆ°è¾¾æŸä¸ªåœ°æ–¹ã€‚</p><p>æ†ç»‘å¼å¯»è·¯ä¹Ÿè®©äººåƒæƒŠã€‚<br>é¦–å…ˆï¼Œå®ƒåªä¸ºç©å®¶å®ç°ã€‚å¯¹äºä»»ä½•å…¶ä»–çš„æ¸¸æˆå¯¹è±¡ï¼Œä½ åº”è¯¥è‡ªå·±å®ç°ä¸€åˆ‡ã€‚<br>Bonfireçš„ä½œè€…ä½¿ç”¨äº†ç¬¬ä¸‰æ–¹è½¯ä»¶åŒ…<a href="https://pub.flutter-io.cn/packages/a_star_algorithm%EF%BC%8C%E7%9B%B4%E6%8E%A5%E4%BD%BF%E7%94%A8%E5%AE%83%E6%98%AF%E5%BE%88%E7%AE%80%E5%8D%95%E7%9A%84%EF%BC%8C%E4%B8%8D%E9%9C%80%E8%A6%81%E9%A2%9D%E5%A4%96%E7%9A%84%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3%E3%80%82">https://pub.flutter-io.cn/packages/a_star_algorithmï¼Œç›´æ¥ä½¿ç”¨å®ƒæ˜¯å¾ˆç®€å•çš„ï¼Œä¸éœ€è¦é¢å¤–çš„æ¡†æ¶æ¥å£ã€‚</a><br>ä½†æ˜¯ï¼Œæˆ‘ä»¬åˆé¢ä¸´å¦ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœåœ°å›¾ä¸Šæœ‰å¤æ‚çš„æµ®é›•ï¼Œè€Œä¸”ç‚¹ä¸ç‚¹ä¹‹é—´çš„è·ç¦»å¾ˆé•¿ï¼Œé‚£ä¹ˆè¿™ä¸ªç®—æ³•ä¼šä½¿æ•´ä¸ªæ¸¸æˆå˜æ…¢ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ä½FPSã€‚<br>æ‰€æœ‰çš„æ“ä½œéƒ½æ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥æ˜¾ç¤ºå™¨ä¸Šçš„å¦å…‹è¶Šå¤šï¼Œæ¸¸æˆå°±ä¼šè¶Šæ…¢ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘æœ€ç»ˆåœæ­¢äº†éšæœºç§»åŠ¨å’Œåœ¨è½¬è§’å¤„æ”¹å˜æ–¹å‘çš„ç®€å•ç®—æ³•ï¼Œä»¥åŠå½“ç©å®¶åœ¨è§†çº¿èŒƒå›´å†…æ—¶å¼€ç«ã€‚<br>è¿™å¹¶ä¸å®Œå…¨æ˜¯æˆ‘æƒ³åšçš„ï¼Œä½†ä»ç„¶æ¯”åŸæ¸¸æˆä¸­çš„è¡Œä¸ºæ›´èªæ˜ã€‚</p><h4 id="6-æ”¯æŒå¹³é“ºï¼Œæ¸¸æˆå¯¹è±¡çš„ä¸åŒé«˜åº¦ã€‚"><a href="#6-æ”¯æŒå¹³é“ºï¼Œæ¸¸æˆå¯¹è±¡çš„ä¸åŒé«˜åº¦ã€‚" class="headerlink" title="6. æ”¯æŒå¹³é“ºï¼Œæ¸¸æˆå¯¹è±¡çš„ä¸åŒé«˜åº¦ã€‚"></a>6. æ”¯æŒå¹³é“ºï¼Œæ¸¸æˆå¯¹è±¡çš„ä¸åŒé«˜åº¦ã€‚</h4><p>æˆ‘å·²ç»æåˆ°äº†å¯¹å¹³é“ºåœ°å›¾çš„æ”¯æŒã€‚<br>ç°åœ¨è®©æˆ‘ä»¬æ¥æè¿°ä¸€ä¸‹æˆ‘æ‰€è¯´çš„å¯¹è±¡çš„é«˜åº¦ã€‚<br>æœ‰æ—¶å€™ï¼Œä¸€ç§ç‰©ä½“åº”è¯¥è¢«æ¸²æŸ“åœ¨å¦ä¸€ç§ç‰©ä½“ä¹‹ä¸Šã€‚<br>ä¾‹å¦‚ï¼Œæƒ³è±¡ä¸€ä¸‹RPGæ¸¸æˆä¸­çš„åœ°ç‰¢å’Œé‚£é‡Œçš„ç«æŠŠæˆ–æªå£ã€‚è¿™äº›ç‰©ä½“æ¯”ç©å®¶å‘†åœ¨åœ°æ¿ä¸Šçš„é«˜åº¦è¦é«˜ï¼Œæ‰€ä»¥å½“ç©å®¶åœ¨å®ƒä»¬ä¸‹é¢ç§»åŠ¨æ—¶ï¼Œå®ƒåº”è¯¥è¢«ç”»åœ¨ä¸Šé¢ã€‚</p><p>åœ¨Flameä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç‰¹æ®Šçš„å‚æ•°æ¥æ§åˆ¶è¿™ä¸ªã€‚<br>æ¸¸æˆå¯¹è±¡çš„ â€œä¼˜å…ˆçº§ â€œå±æ€§ã€‚å®ƒæ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå®ƒè¶Šé«˜ï¼Œç›¸åº”çš„ç‰©ä½“å°±è¢«æ”¾åœ¨è¶Šé«˜çš„ä½ç½®ã€‚<br>ä»¤äººæƒŠè®¶çš„æ˜¯ï¼ŒBonfireæ¸¸æˆä¸å…è®¸ä½ ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼ä½ å”¯ä¸€èƒ½åšçš„å°±æ˜¯å½±å“æ¸¸æˆå¯¹è±¡çš„ä½ç½®ã€‚<br>ä½ å¯ä»¥é€šè¿‡åœ¨Tiledç¼–è¾‘å™¨ä¸­æŒ‡å®š â€œé«˜äº â€œä½œä¸ºTiledç±»å‹çš„åç§°æ¥å½±å“å¯¹è±¡çš„æ‘†æ”¾é«˜åº¦çš„å”¯ä¸€æ–¹æ³•ã€‚æœ‰äº† â€œé«˜äºâ€ï¼Œè¿™ä¸ªTileå°±ä¼šè¢«æ¸²æŸ“åˆ°æ¸¸æˆä¸­æ‰€æœ‰ç‰©ä½“çš„ä¸Šæ–¹ã€‚<br>æˆ‘è¿˜åœ¨æœ€åçš„æäº¤ä¸­å‘ç°äº†ä¸€ä¸ªæ–°çš„ç±»å‹ â€œdynamicAboveâ€ï¼Œä½†ä¼¼ä¹æ²¡æœ‰åŠæ³•ç›´æ¥æ§åˆ¶ â€œä¼˜å…ˆçº§â€ã€‚</p><p>Bonfireå®Œå…¨æ§åˆ¶äº† â€œä¼˜å…ˆçº§â€ï¼Œå› ä¸ºå®ƒæ˜¯ä»¥æ¸¸æˆä¸ºå¯¼å‘çš„ï¼Œæ‘„åƒæœºè¢«æ”¾ç½®åœ¨45æˆ–70åº¦çš„åœ°æ–¹ã€‚å®ƒå¹¶ä¸æ˜¯ç®€å•åœ°ä»ä¸Šåˆ°ä¸‹å‚ç›´è§‚å¯Ÿã€‚å› æ­¤ï¼Œä¸€ä¸ªç‰©ä½“æœ‰å¯èƒ½ä¸å¦ä¸€ä¸ªç‰©ä½“é‡å ï¼Œåªæ˜¯å› ä¸ºå®ƒåœ¨Yè½´ä¸Šæ¯”è¾ƒä½ã€‚<br>ä¹Ÿè®¸ä½œè€…ä¼šæ‰©å±•æ¡†æ¶ä»¥å…è®¸ä½¿ç”¨å¤šä¸ªé«˜åº¦å±‚ï¼Œä½†ç°åœ¨æ‰€æœ‰å¯ç”¨çš„é«˜åº¦å±‚éƒ½è¢«ç¡¬ç¼–ç åœ¨ â€œLayerPriority â€œç±»ä¸­ï¼Œæ·»åŠ è‡ªå·±çš„å±‚çš„å”¯ä¸€æ–¹æ³•æ˜¯ç¼–è¾‘æ¡†æ¶çš„ä»£ç ã€‚</p><p>ä¸ºä»€ä¹ˆæˆ‘å¼€å§‹æ¢ç´¢è¿™ä¸ªé—®é¢˜ï¼Ÿ<br>åœ¨æœ€åˆçš„æ¸¸æˆä¸­ï¼ŒèƒŒæ™¯åªæ˜¯ä¸€ä¸ªç®€å•çš„æ·±è‰²ï¼Œè€Œä¸”åœ¨ç ´ååå¢™å£ç®€å•åœ°æ¶ˆå¤±ã€‚<br>æˆ‘å†³å®šæ·»åŠ ä¸€ä¸ªåœ°é¢çº¹ç†ï¼Œè€Œä¸æ˜¯æ·±è‰²èƒŒæ™¯ï¼Œå¹¶æ·»åŠ ç°çƒ¬çº¹ç†æ¥ä»£æ›¿è¢«ç ´åçš„å¢™ã€‚<br>å› æ­¤ï¼Œç°çƒ¬çš„ä½ç½®åº”è¯¥æ¯”åœ°é¢é«˜ï¼Œä½†æ¯”ä»»ä½•å…¶ä»–æ¸¸æˆå¯¹è±¡ä½ã€‚<br>ä¸å¹¸çš„æ˜¯ï¼Œæˆ‘æ²¡æœ‰ä»»ä½•å·¥å…·æ¥å®ç°è¿™ä¸ªç›®æ ‡ï¼Œæœ€åæˆ‘forkäº†è¿™ä¸ªæ¡†æ¶ï¼Œå¹¶ç›´æ¥åœ¨å…¶ä¸­æ·»åŠ äº†ä¸€ä¸ªæ‰€éœ€çš„é€»è¾‘ã€‚</p><p>å½“ä½ æœŸæœ›åªæ˜¯ç®€å•åœ°ä½¿ç”¨ç°æˆçš„ â€œå¼€ç®±å³ç”¨ â€œçš„è§£å†³æ–¹æ¡ˆæ—¶ï¼Œè¿™å¯ä¸æ˜¯ä»€ä¹ˆå¥½æ¶ˆæ¯ã€‚</p><h4 id="7-å°†åœ°å›¾ä¸Šçš„å¯¹è±¡å’ŒTileæ˜ å°„åˆ°Dartçš„è‡ªå®šä¹‰ç±»ä¸­"><a href="#7-å°†åœ°å›¾ä¸Šçš„å¯¹è±¡å’ŒTileæ˜ å°„åˆ°Dartçš„è‡ªå®šä¹‰ç±»ä¸­" class="headerlink" title="7. å°†åœ°å›¾ä¸Šçš„å¯¹è±¡å’ŒTileæ˜ å°„åˆ°Dartçš„è‡ªå®šä¹‰ç±»ä¸­"></a>7. å°†åœ°å›¾ä¸Šçš„å¯¹è±¡å’ŒTileæ˜ å°„åˆ°Dartçš„è‡ªå®šä¹‰ç±»ä¸­</h4><p>ä¸ºäº†å®ç°æˆ‘çš„ç›®æ ‡ï¼Œè¿™æ˜¯ä¸‹ä¸€ä¸ªéœ€è¦é‡å†™çš„éƒ¨åˆ†ã€‚</p><p>æˆ‘å¾ˆæƒŠè®¶Bonfireä¸å…è®¸æ¡†æ¶çš„ç”¨æˆ·çœ‹åˆ°Tileä¹‹é—´çš„å·®å¼‚ã€‚<br>è¿™ä¸ªåŠŸèƒ½åªé€‚ç”¨äºTiled â€œobjectsâ€ï¼Œä½†å®ƒå’Œ â€œtile â€œæ˜¯å®Œå…¨ä¸åŒçš„å®ä½“ã€‚<br>Tile â€œå¯¹è±¡ â€œæ²¡æœ‰ç²¾çµæˆ–åŠ¨ç”»ï¼Œå®ƒåªèƒ½åœ¨åœ°å›¾ä¸Šè¢«å®šä½å’Œè°ƒæ•´å¤§å°ã€‚æœ€ç®€å•çš„æè¿°æ˜¯ï¼Œâ€ç‰©ä½“ â€œåªæ˜¯åœ°å›¾ä¸Šæœ‰ä¸ªåˆ«åç§°çš„æ–¹å—ã€‚å› æ­¤ï¼Œæˆ‘å¸Œæœ›åœ¨Bonfireä¸Šèƒ½å¤Ÿåˆ›å»ºå•ç‹¬çš„ç±»æ¥å¤„ç† â€œç –å— â€œï¼Œä½†è¿™å¹¶æ²¡æœ‰å®ç°ã€‚äº‹å®ä¸Šï¼ŒBonfireçš„é€»è¾‘æ˜¯è¿™æ ·çš„ã€‚</p><p>æ‰€æœ‰æ‰“ç®—åœ¨æ¸¸æˆä¸­è¿›è¡Œäº’åŠ¨çš„å¯¹è±¡ï¼Œéƒ½åº”è¯¥åœ¨Tiledä¸­åˆ›å»ºä¸º â€œå¯¹è±¡ â€œå®ä½“ã€‚å¯¹è±¡å¯ä»¥åœ¨åœ°å›¾åŠ è½½æ—¶è¢«è½¬åŒ–ä¸ºè‡ªå®šä¹‰ç±»ï¼Œä½†ä½ åº”è¯¥æ‰‹åŠ¨è¿›è¡Œç²¾çµæˆ–åŠ¨ç”»åŠ è½½ã€‚<br>æ‰€æœ‰çš„ç¯å¢ƒå¯¹è±¡ï¼Œæ¯”å¦‚å¢™å£ã€åœ°æ¿ã€éäº¤äº’å¼çš„è£…é¥°ç‰©éƒ½åº”è¯¥è¢«åˆ›å»ºä¸ºTileã€‚ä½†æ˜¯ä½ å¯ä»¥æŒ‡å®šæŸäº›Tileåº”è¯¥æ˜¯å¯ç¢°æ’çš„ã€‚<br>ä½ å¯ä»¥åœ¨æ–‡æ¡£å’Œæ•™ç¨‹ä¸­çœ‹åˆ°è¿™ä¸€ç‚¹ã€‚<br>ç¬¬ä¸€æ¬¡æ˜¯æˆ‘æ„Ÿåˆ°å›°æƒ‘çš„åŸå› ï¼Œä¸ºä»€ä¹ˆä½œè€…ä¸åœ¨æ‰€éœ€çš„ç±»ä¸­ç›´æ¥æ˜ å°„Tileï¼Œä½†ä½ å¯ä»¥çœ‹åˆ°è¿™ä¸ªåŠŸèƒ½è¿˜æ²¡æœ‰è¢«å®ç°ã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ä¸ªåŠŸèƒ½å¾ˆå…³é”®ï¼Œå› ä¸º:</p><ul><li>åœ¨å¤„ç†å­å¼¹çš„æ¸¸æˆé€»è¾‘æ—¶ï¼Œæˆ‘éœ€è¦çŸ¥é“Tileçš„ç±»å‹ï¼šä»¥åŒºåˆ«æ°´çš„Tileå’Œç –çš„Tileã€‚</li><li>æˆ‘éœ€è¦æ§åˆ¶æ¯å—ç –ç“¦åœ¨è¢«å­å¼¹å‡»ä¸­æ—¶ç¼©å°å…¶å°ºå¯¸ã€‚</li><li>æœ€åï¼Œæˆ‘æƒ³å®ç°é¢å¤–çš„æœºåˆ¶ï¼šå…è®¸ç©å®¶èº²åœ¨æ£®æ—é‡Œï¼Œå¯¹ç”µè„‘æ•Œäººæ¥è¯´æ˜¯éšå½¢çš„ã€‚</li></ul><p>æ‰€ä»¥ï¼Œå¦‚æœä»…é™äºBonfireçš„å†…ç½®åŠŸèƒ½ï¼Œæˆ‘ä»¬ä¹Ÿè®¸åº”è¯¥åœ¨Tileå±‚ä¸Šé¢å†ç”»ä¸€å±‚ç‰©ä½“ã€‚è¿™çœ‹èµ·æ¥æ¯”æ¢ç´¢å’Œä¿®æ”¹æ¡†æ¶çš„æºä»£ç è¦å›°éš¾å¾—å¤šã€‚</p><p>æœ€åï¼Œæˆ‘å®ç°äº†é¢å¤–çš„æ„å»ºå™¨â€“â€tileBuilder â€œå’Œ â€œdecorationBuilderâ€ã€‚ä¸å†…ç½®çš„ â€œobjectBuilder â€œä¸€èµ·ï¼Œå®ƒå¯ä»¥ä¸ºä»»ä½•Tileå¯¹è±¡åˆ›å»ºæ¯ä¸€ä¸ªéœ€è¦çš„ç±»ã€‚ä¸‹é¢æ˜¯æˆ‘çš„ä»£ç ä¾‹å­:</p><img src="/Flutter-games-exploring-Bonfire/3.webp" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="æœ€ä»¤äººå¤±æœ›çš„æ˜¯"><a href="#æœ€ä»¤äººå¤±æœ›çš„æ˜¯" class="headerlink" title="æœ€ä»¤äººå¤±æœ›çš„æ˜¯"></a>æœ€ä»¤äººå¤±æœ›çš„æ˜¯</h4><p>æœ€åï¼Œæˆ‘æ‹¥æœ‰äº†å®ç°æ¸¸æˆé€»è¾‘çš„æ‰€æœ‰å¿…è¦å·¥å…·â€“å¤šäºäº†forkå’Œå¯¹æ¡†æ¶çš„æ·±å…¥ä¿®æ”¹ã€‚</p><p>ç„¶åæˆ‘é¢ä¸´å¦ä¸€ä¸ªæƒŠå–œï¼šåœ¨æ¡Œé¢ä¸Šçš„æ€§èƒ½å¤§çº¦æ˜¯20-30FPSï¼Œè€Œåœ¨æ‰‹æœºä¸Šåªæœ‰12-15FPS!</p><img src="/Flutter-games-exploring-Bonfire/4.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘å¼€å§‹æ¢ç´¢è¿™ä¸ªé—®é¢˜ï¼Œç¦ç”¨äº†æˆ‘ä»¥å‰å†™çš„æ‰€æœ‰æ¸¸æˆé€»è¾‘ï¼Œä½†FPSæ€»æ˜¯åœ¨30å·¦å³ã€‚<br>ä¹‹åï¼Œæˆ‘è¯•ç€å»æ‰æœ‰ç¢°æ’çš„å›¾å±‚å’Œè£…é¥°æ€§Tileã€‚<br>è¿™æœ‰æ›´å¥½çš„æ•ˆæœï¼Œä½†ä»ç„¶ä¸æ˜¯60FPSã€‚æœ€åï¼Œæˆ‘ç¦ç”¨äº†æ‰€æœ‰çš„å›¾å½¢ï¼Œç©å®¶çš„å¦å…‹ç«™åœ¨ç»å¯¹é»‘è‰²çš„å±å¹•ä¸Šï¼Œæ¸¸æˆåœºå‘¨å›´æœ‰å¾ˆå°çš„ç –å—æ–¹å—ã€‚<br>å¥½å§ï¼Œè¿™æ ·çš„é…ç½®è¾¾åˆ°äº†60FPSï¼Œä½†åªæ˜¯åœ¨ä½ è¯•å›¾ç§»åŠ¨æˆ–å¼€ç«æˆ–äº§ç”Ÿæ•Œäººä¹‹å‰æ‰å¯ä»¥ã€‚</p><img src="/Flutter-games-exploring-Bonfire/5.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>â€œä¹Ÿè®¸æˆ‘forké”™äº†ä»€ä¹ˆï¼Ÿâ€ - æˆ‘æ›¾æƒ³è¿‡ï¼Œå¹¶å¼€å§‹å»ºç«‹å’Œå¯åŠ¨Bonfireçš„æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚<br>è€Œä¸”ï¼Œä»¤äººæƒŠè®¶çš„æ˜¯! - å®ƒä¹Ÿåªåœ¨30FPSä¸‹å·¥ä½œï¼ï¼ã€‚</p><p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘å®Œæˆäº†æˆ‘å¯¹æ¡†æ¶æˆ–å†™åœ¨è¿™ä¸ªæ¡†æ¶ä¸Šçš„æ¸¸æˆçš„ä»»ä½•å°è¯•ã€‚<br>åœ¨æ”¾å¼ƒä¸€åˆ‡ä¹‹å‰ï¼Œæˆ‘å†æ¬¡ç ”ç©¶äº†Bonfireçš„æºä»£ç ï¼Œå¹¶å°†å…¶å†…éƒ¨é€»è¾‘ä¸Flameè¿›è¡Œäº†æ¯”è¾ƒã€‚ç°åœ¨æˆ‘æƒ³æˆ‘å¯ä»¥åˆ—ä¸¾å‡ºBonfireå¦‚æ­¤ç¼“æ…¢çš„åŸå› äº†ï¼ˆè€Œä¸”ï¼Œæˆ‘ç¡®ä¿¡ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•æ ¹æœ¬æ€§çš„æ¶æ„æ”¹å˜ï¼Œå®ƒåœ¨æœªæ¥ä¹Ÿä¼šå˜å¾—ç¼“æ…¢ï¼‰ã€‚</p><h4 id="åå°æ“ä½œ"><a href="#åå°æ“ä½œ" class="headerlink" title="åå°æ“ä½œ"></a>åå°æ“ä½œ</h4><p>é™¤éä½ åœ¨ â€œæ›´æ–° â€œä¸­å†™ä¸‹è‡ªå·±çš„é€»è¾‘ï¼Œå¦åˆ™Flameåœ¨åå°ä¸ä¼šå‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚<br>å¦‚æœä½ å¯ç”¨å®ƒï¼Œåªæœ‰ç¢°æ’ä¼šè¢«è®¡ç®—ã€‚è¿™å°±æ˜¯å…¨éƒ¨ã€‚</p><p>åœ¨Bonfireä¸­ï¼Œè‡³å°‘æœ‰3ä¸ªåå°ä»»åŠ¡è¢«æ°¸ä¹…åœ°å¯åŠ¨ã€‚</p><ul><li>å¾ªç¯æµè§ˆæ‰€æœ‰æ¸¸æˆå¯¹è±¡å¹¶ç¡®å®šä¸å¯è§çš„å¯¹è±¡ã€‚ä¸åœ¨è§†å£ä¸­çš„ç‰©ä½“å°†ä¸ä¼šè¢«å¤„ç†ã€‚æˆ‘ç¡®ä¿¡è¿™æ˜¯ä¸€ä¸ªå¯ç–‘çš„è§£å†³æ–¹æ¡ˆï¼šå¦‚æœæˆ‘ä»¬æƒ³é¿å…ä¸å¿…è¦çš„æ¸²æŸ“â€“è¿™æ˜¯å›¾å½¢å¼•æ“åº”è¯¥å¤„ç†çš„å·¥ä½œï¼Œè€Œä¸”æˆ‘ç›¸ä¿¡å®ƒä¼šåšå¾—æ›´å¿«ã€æ›´æœ‰æ•ˆã€‚</li><li>å¦ä¸€ä¸ªå¾ªç¯ç©¿è¿‡æ‰€æœ‰æ¸¸æˆå¯¹è±¡æ¥è®¡ç®—æ¯ä¸ªå¯¹è±¡çš„ â€œä¼˜å…ˆçº§â€ã€‚æ­£å¦‚æˆ‘åœ¨ç¬¬6éƒ¨åˆ†æ‰€è¯´çš„ï¼ŒBonfireä¼šè‡ªåŠ¨è®¡ç®—è¿™ä¸ªå‚æ•°ä»¥å®ç° â€œå€¾æ–œçš„ç›¸æœº â€œè§†å›¾ã€‚<br> ä½†æ˜¯ï¼Œå®æ–½çœ‹èµ·æ¥å¹¶ä¸ä¼˜åŒ–ï¼šä¾‹å¦‚ï¼Œä¼šæœ‰ä¸€äº›é¢å¤–çš„å±‚ï¼Œå…¶ä¸­çš„å¯¹è±¡ä»ä¸ç›¸äº’é‡å ã€‚æˆ–è€…è¯´ï¼Œå¦‚æœä½ç½®æ²¡æœ‰å˜åŒ–å°±ä¸é‡æ–°è®¡ç®—ã€‚</li><li>ç¢°æ’æ£€æµ‹ã€‚ä½œè€…è¯•å›¾é€šè¿‡ä¼ é€’å½“å‰ä¸åœ¨è§†å£ä¸­çš„ç‰©ä½“æ¥ä¼˜åŒ–è¿™ä¸€ç‚¹ã€‚æœ‰äº†è¿™ç§è¡Œä¸ºï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°å‘ç°å¡åœ¨çº¹ç†é‡Œçš„NPCï¼Œç”šè‡³æ˜¯æ¸¸æˆåœºå¤–çš„NPCï¼Œå› ä¸ºNPCå¯ä»¥åœ¨å±å¹•ä¸Šçœ‹ä¸åˆ°çš„æ—¶å€™ç©¿è¿‡å¢™å£ã€‚</li></ul><p>æ‰€æœ‰è¿™äº›æ“ä½œéƒ½ä¼šå¯¹ä½ çš„æ¸¸æˆäº§ç”ŸæŒç»­çš„è´Ÿè½½ï¼Œå³ä½¿æ²¡æœ‰å†™ä»»ä½•ä¸€è¡Œè‡ªå®šä¹‰çš„æ¸¸æˆé€»è¾‘ã€‚è´Ÿè½½é‡åªæ˜¯ç”±ä½ åœ¨Tiledç¼–è¾‘å™¨ä¸­ç»˜åˆ¶çš„å¯¹è±¡æ•°é‡å†³å®šçš„ã€‚</p><p>åå°æ“ä½œçš„é—´éš”ï¼ˆä½†æ‰€æœ‰æ“ä½œéƒ½åœ¨å•çº¿ç¨‹ä¸­ï¼‰ã€‚</p><img src="/Flutter-games-exploring-Bonfire/6.webp" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Flutter-games-exploring-Bonfire/7.webp" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="Tileçš„æ¸²æŸ“"><a href="#Tileçš„æ¸²æŸ“" class="headerlink" title="Tileçš„æ¸²æŸ“"></a>Tileçš„æ¸²æŸ“</h4><p>Flameåœ¨æ¸²æŸ“Tileæ—¶ä¸ä¼šåˆ›å»ºä»»ä½•é¢å¤–çš„å®ä½“ã€‚<br>Tileä¸æ˜¯æ¸¸æˆå¯¹è±¡ï¼Œä¸ä¼šè¢«æ¸¸æˆå¾ªç¯äº‹ä»¶å¤„ç†ã€‚Flameä½¿ç”¨SpriteBatchï¼ˆ<a href="https://pub.dev/documentation/flame/latest/sprite/SpriteBatch-class.html%EF%BC%89%E6%9D%A5%E4%BC%98%E5%8C%96%E5%9C%B0%E5%9B%BE%E7%9A%84%E6%B8%B2%E6%9F%93%E3%80%82">https://pub.dev/documentation/flame/latest/sprite/SpriteBatch-class.htmlï¼‰æ¥ä¼˜åŒ–åœ°å›¾çš„æ¸²æŸ“ã€‚</a><br>æˆ‘æƒ³å®ƒå¯èƒ½ä¼šæ›´ä¼˜åŒ–ï¼Œä½†æ— è®ºå¦‚ä½•å®ƒä»ç„¶æ¯”Bonfireçš„æ–¹æ³•å¿«ã€‚</p><p>BonfireæŠŠæ¯å—Tileå½“ä½œæ¸¸æˆå¯¹è±¡ã€‚<br>å¯¹äºæ¯ä¸€å—Tileï¼ŒBonfireéƒ½è¦è¿›è¡Œè®¡ç®—ï¼Œè¿™å—Tileæ˜¯å¦å¯è§ï¼Ÿæ¯å—Tileéƒ½æœ‰å¯èƒ½åŒ…å«ç¢°æ’ï¼Œæ‰€ä»¥æ¯å—Tileä¹Ÿè¦è¿›è¡Œæ£€æŸ¥ã€‚<br>æœ€åï¼Œâ€ä¼˜å…ˆçº§ â€œå‚æ•°ä¹Ÿè¦ä¸ºæ¯å—Tileè®¡ç®—ã€‚</p><h4 id="ç¢°æ’å¤„ç†"><a href="#ç¢°æ’å¤„ç†" class="headerlink" title="ç¢°æ’å¤„ç†"></a>ç¢°æ’å¤„ç†</h4><p>Flameå°†æ‰€æœ‰ç¢°æ’å¯¹è±¡åˆ†ä¸ºä¸¤ç±»ã€‚</p><ul><li>è¢«åŠ¨å¯¹è±¡ï¼Œæ¯”å¦‚å¢™ã€‚è¿™ç±»ç‰©ä½“åªæ˜¯åœ¨å…¶ä½ç½®ä¸Šç§»åŠ¨ï¼Œä¸ä¼šç›¸äº’ç¢°æ’ã€‚</li><li>ä¸»åŠ¨å¯¹è±¡ï¼Œå¦‚ç©å®¶ã€å­å¼¹æˆ–æ•Œäººã€‚è¿™ç±»ç‰©ä½“ä¸»åŠ¨ç§»åŠ¨ï¼Œå®ƒå¯ä»¥ç›¸äº’ç¢°æ’ï¼Œä¹Ÿå¯ä»¥ä¸è¢«åŠ¨ç‰©ä½“ç¢°æ’ã€‚</li></ul><p>è¿™ç§æ–¹æ³•å¯ä»¥å‡å°‘è¢«åŠ¨ç‰©ä½“çš„è®¡ç®—æ—¶é—´ã€‚æˆ‘ç¡®ä¿¡è¢«åŠ¨ç‰©ä½“æ˜¯å¤§å¤šæ•°å…¸å‹æ¸¸æˆåœ°å›¾çš„ä¸»è¦ç»„æˆéƒ¨åˆ†ã€‚</p><p>åœ¨Bonfireä¸­ï¼Œç‰©ä½“ç±»å‹ä¹‹é—´æ²¡æœ‰åŒºåˆ«ã€‚<br>æ¯ä¸ªç‰©ä½“éƒ½æ˜¯å¹³ç­‰çš„ï¼Œæ¯ä¸ªç‰©ä½“éƒ½è¢«è®¡ç®—ã€‚ç³»ç»Ÿæ¯æ¬¡éƒ½ä¼šæ£€æŸ¥å¹¶æŠ¥å‘Šä½ ä¸ä¸¤é¢é™æ€å¢™çš„ç¢°æ’æƒ…å†µâ€“è¿™æ˜¯ä½ è¾ƒæ–°éœ€è¦çš„ä¿¡æ¯ï¼ˆå¾ˆå¯èƒ½ï¼‰ã€‚<br>é¢å¤–çš„å¼€é”€æ˜¯Bonfireçš„è¿åŠ¨ç³»ç»Ÿã€‚<br>åœ¨æ¯æ¬¡å¯¹ç§»åŠ¨ç‰©ä½“çš„ â€œupdate() â€œè°ƒç”¨ä¸­ï¼ŒBonfireéƒ½ä¼šåœ¨ä¸‹ä¸€æ¬¡å‹¾é€‰æ—¶å°†è¯¥ç‰©ä½“ç§»åŠ¨åˆ°å®ƒçš„ä½ç½®ï¼Œå¹¶è¿›è¡Œé¢å¤–çš„ç¢°æ’è®¡ç®—ã€‚å› æ­¤ï¼Œä½ æ·»åŠ çš„ç§»åŠ¨å¯¹è±¡è¶Šå¤šï¼Œç³»ç»Ÿå°±è¶Šæ…¢ã€‚</p><p>ä¸è¦å¿˜äº†ï¼Œæ‰€æœ‰çš„è®¡ç®—éƒ½æ˜¯åœ¨å•çº¿ç¨‹ä¸Šè¿›è¡Œçš„ï¼Œè¿™é‡Œæ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ â€œéš”ç¦»â€â€“æ‰€ä»¥æ•ˆç‡æ˜¯éå¸¸æœ‰é™çš„ã€‚</p><h4 id="åŠ è½½åŠ¨ç”»"><a href="#åŠ è½½åŠ¨ç”»" class="headerlink" title="åŠ è½½åŠ¨ç”»"></a>åŠ è½½åŠ¨ç”»</h4><p>è¿™å¯èƒ½æ˜¯æœ€æ— å®³çš„é—®é¢˜ï¼Œä½†æ— è®ºå¦‚ä½•ã€‚<br>åœ¨Bonfireä¸­ï¼Œå¤§å¤šæ•°åŠ¨ç”»éƒ½æ˜¯ä»å¤´å¼€å§‹åˆ›å»ºçš„ï¼šä½ ä¼ é€’æ–‡ä»¶åï¼Œæ¡†æ¶åˆ‡å‰²å›¾åƒï¼Œå¹¶ä»å®ƒåˆ¶ä½œç‹¬ç«‹çš„å¸§â€¦â€¦åªæœ‰å›¾åƒæœ¬èº«è¢«ç¼“å­˜ï¼Œä½†å¦‚æœæŠŠå‡†å¤‡å¥½çš„å¸§ä¹Ÿç¼“å­˜èµ·æ¥ï¼Œé‚£å°±å¾ˆæœ‰ç”¨äº†ã€‚<br>æˆ‘è®¤ä¸ºï¼Œè¿™ç§æ–¹æ³•æœ‰å¯èƒ½å¯¼è‡´åœ¨éœ€è¦åˆ›å»ºæ–°åŠ¨ç”»çš„æ—¶å€™å‡ºç°çŸ­æš‚çš„ â€œå†»ç»“ â€œç°è±¡ã€‚</p><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>æˆ‘è‡ªå·±çš„å†³å®šæ˜¯æ ¹æœ¬ä¸ä½¿ç”¨Bonfireã€‚<br>é¦–å…ˆï¼Œæˆ‘è®¤ä¸ºå¦‚æœä½ forkå®ƒå¹¶ä¸ºä½ çš„æ¸¸æˆç›®çš„é‡å†™å®ƒçš„å†…éƒ¨é€»è¾‘ï¼Œå®ƒå¯èƒ½æ˜¯æœ‰ç”¨çš„ã€‚ä½†è¿™æ ·çš„æ€§èƒ½ç“¶é¢ˆæ˜¯éå¸¸ä»¤äººå¤±æœ›çš„ã€‚</p><p>å°½ç®¡å¦‚æ­¤ï¼Œä»ç„¶æœ‰å¾ˆå¤šæœ‰ç”¨çš„ä¸œè¥¿ä½ å¯ä»¥ä»Bonfireä¸­æ‹¿åˆ°ä½ çš„é¡¹ç›®ä¸­å»ã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªæ“çºµæ†ç»„ä»¶ã€‚æˆ–è€…å…¨å±çš„åŠ¨ç”»è‰²å½©è¿‡æ»¤å™¨ã€‚<br>ä½†ä½ åº”è¯¥å°å¿ƒï¼Œå¹¶å§‹ç»ˆåˆ†æä½ è¦å¤åˆ¶çš„ä¸œè¥¿ã€‚</p><p>Bonfireæœ‰æœºä¼šå…‹æœè¿™äº›é—®é¢˜å—ï¼Ÿæˆ‘è®¤ä¸ºæ²¡æœ‰è¿›åŒ–çš„æ–¹æ³•ã€‚<br>å¤ªå¤šçš„ä»£ç å·²ç»å†™å¥½äº†ï¼Œç³»ç»Ÿçš„ä¸åŒéƒ¨åˆ†ä¹‹é—´å­˜åœ¨ç€å¤§é‡çš„ä¾èµ–å…³ç³»ï¼Œè¦ä½¿å¼•æ“çš„æ€§èƒ½å’Œçµæ´»æ€§æé«˜ï¼Œéœ€è¦è¿›è¡Œéå¸¸å½»åº•çš„æ”¹å˜ã€‚å³ä½¿ä½œè€…å†³å®šé‡æ–°è®¾è®¡æ‰€æœ‰çš„ä¸œè¥¿ï¼Œå®ƒä¹Ÿå°†æ˜¯å®Œå…¨ä¸åŒçš„æ¡†æ¶ã€‚</p><p>æœ€åï¼ŒBonfireçœŸçš„æœ‰å®ƒçš„åº”ç”¨é¢†åŸŸå—ï¼Ÿ<br>æˆ‘ç›¸ä¿¡ï¼Œå¦‚æœä½ çš„é¡¹ç›®ä¸å¤æ‚ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒï¼šåœ°å›¾å°ï¼Œå¯¹è±¡æ•°é‡å°‘ï¼Œæ¸¸æˆé€»è¾‘ç®€å•ã€‚å¦‚æœä½ çŸ¥é“90%çš„å·¥ä½œéƒ½å¯ä»¥åœ¨Tiledä¸­å®Œæˆâ€“Bonfireç»å¯¹æ˜¯ä½ çš„é€‰æ‹©ï¼</p><p>Flameæœ¬èº«ä¼šä¸ä¼šæœ‰æ›´é«˜çš„æ€§èƒ½ï¼Ÿè‚¯å®šæ˜¯çš„!<br>ä½†ä¸è¦æŒ‡æœ›å¦‚æœä½ åˆ›å»ºäº†æˆåƒä¸Šä¸‡çš„å¯¹è±¡ï¼Œå¼•æ“ä¼šè½»æ¾åœ°å¤„ç†å®ƒä»¬ã€‚è¿™ä¸ªé”™è¯¯ä¼šå¯¼è‡´ä½ é‡åˆ°Bonfireçš„æ€§èƒ½é—®é¢˜ã€‚</p><p>å¦‚æœä½ çœŸçš„æƒ³è®©ä½ çš„Flutteræ¸¸æˆæ›´å¿«ï¼Œå³ä½¿ç”¨Flameï¼<br>ä½ ä¹Ÿéœ€è¦å¼€å‘ç‰¹æ®Šçš„ä¼˜åŒ–ï¼Œé€‚åˆä½ çš„æ¸¸æˆæœºåˆ¶ã€‚</p><!-- https://asgalex.medium.com/flutter-games-exploring-bonfire-1190938f3020 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Bonfire </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>8ä¸ªå¿…é¡»çŸ¥é“çš„Stream APIä½¿ç”¨æ–¹æ³•</title>
      <link href="/8-Must-know-Stream-API-Usages.html"/>
      <url>/8-Must-know-Stream-API-Usages.html</url>
      
        <content type="html"><![CDATA[<img src="/8-Must-know-Stream-API-Usages/1.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½œä¸ºä¸€åjavaå¼€å‘å·¥ç¨‹å¸ˆï¼Œæ•°ç»„å’Œé›†åˆåœ¨æˆ‘çš„ä»£ç ä¸­éšå¤„å¯è§ã€‚æˆ‘ç»å¸¸ä½¿ç”¨é›†åˆæˆ–æ•°ç»„æ¥å¤„ç†æ•°æ®ï¼Œå¦‚è¿‡æ»¤å’Œå¯¹è±¡è½¬æ¢ã€‚æˆ‘ç›¸ä¿¡å¤§å®¶å¯¹æ•°ç»„çš„æ•°æ®å¤„ç†å·²ç»éå¸¸ç†Ÿæ‚‰äº†ã€‚</p><span id="more"></span><p>ä½†æ˜¯å½“æ•°æ®å¤„ç†æ¯”è¾ƒå¤æ‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬çš„ä»£ç å°±ä¼šéå¸¸é•¿ï¼Œéš¾ä»¥ç†è§£ã€‚è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘é€šå¸¸ä¼šæŠŠä»£ç æ‹†æˆæ–¹æ³•ï¼Œå¹¶ç»™å‡ºæœ‰æ„ä¹‰çš„æ–¹æ³•åç§°ï¼Œè¿™æ ·å¯ä»¥è§£å†³ä¸€éƒ¨åˆ†é—®é¢˜ã€‚ç„¶è€Œï¼Œåœ¨java8ä¹‹åï¼Œå®˜æ–¹æœ‰äº†ä¸€ä¸ªæ›´æœ‰æ•ˆã€æ›´æ–¹ä¾¿çš„è§£å†³æ–¹æ¡ˆï¼šStream APIã€‚</p><p>Streamæ˜¯Java8ä¸­å¤„ç†é›†åˆçš„å…³é”®æŠ½è±¡ã€‚å®ƒå¯ä»¥æŒ‡å®šä½ è¦å¯¹é›†åˆè¿›è¡Œçš„æ“ä½œï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œéå¸¸å¤æ‚çš„æ“ä½œï¼Œå¦‚æœç´¢ã€è¿‡æ»¤å’Œæ˜ å°„æ•°æ®ã€‚<br>ä½¿ç”¨Stream APIå¯¹é›†åˆæ•°æ®è¿›è¡Œæ“ä½œï¼Œç±»ä¼¼äºä½¿ç”¨SQLè¿›è¡Œæ•°æ®åº“æŸ¥è¯¢ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨Stream APIæ¥æ‰§è¡Œå¹¶è¡Œæ“ä½œã€‚ç®€è€Œè¨€ä¹‹ï¼ŒStream APIæä¾›äº†ä¸€ç§é«˜æ•ˆä¸”æ˜“äºä½¿ç”¨çš„æ•°æ®å¤„ç†æ–¹å¼ã€‚</p><p>Streamå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹:</p><ul><li>å®ƒä¸æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œä¸ä¿å­˜æ•°æ®ã€‚</li><li>æ‡’æƒ°è¯„ä¼°ï¼Œåœ¨æµçš„ä¸­é—´å¤„ç†è¿‡ç¨‹ä¸­ï¼Œåªè®°å½•æ“ä½œï¼Œä¸ç«‹å³æ‰§è¡Œï¼Œç›´åˆ°æ‰§è¡Œç»ˆæ­¢æ“ä½œæ‰ä¼šè¿›è¡Œå®é™…è®¡ç®—ã€‚</li></ul><p>ä»Šå¤©æˆ‘å°†åˆ†äº«ä¸€äº›å·¥ä½œä¸­å¸¸ç”¨çš„ã€éå¸¸æœ‰ç”¨çš„APIã€‚</p><h4 id="åˆ—è¡¨åˆ°åœ°å›¾"><a href="#åˆ—è¡¨åˆ°åœ°å›¾" class="headerlink" title="åˆ—è¡¨åˆ°åœ°å›¾"></a>åˆ—è¡¨åˆ°åœ°å›¾</h4><p>åœ¨æˆ‘ä»¬çš„å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šé‡åˆ°åˆ—è¡¨æˆ–æ•°ç»„è¢«è½¬æ¢ä¸ºåœ°å›¾çš„åœºæ™¯ã€‚Collectors.toMapå¯ä»¥å°†Listè½¬æ¢æˆMapã€‚<br>ä»£ç å¦‚ä¸‹:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListToMap</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"David"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        users<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"Lance"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/**         *  list to map         *  (k1, k2) -&gt;k1 indicates that if there is a duplicate key, the first key is retained and the second key is discarded         */</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userMap <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getUsername</span><span class="token punctuation">,</span> user <span class="token operator">-&gt;</span> user<span class="token punctuation">,</span> <span class="token punctuation">(</span>k1<span class="token punctuation">,</span> k2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> k1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        userMap<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>user<span class="token operator">-&gt;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŒæ ·ï¼Œè¿˜æœ‰Collectors.toList(),Collectors.toSet()ï¼Œè¿™æ„å‘³ç€å°†ç›¸åº”çš„æµè½¬æ¢ä¸ºä¸€ä¸ªListæˆ–Setã€‚</p><h4 id="ä½¿ç”¨groupingByè¿›è¡Œåˆ†ç»„"><a href="#ä½¿ç”¨groupingByè¿›è¡Œåˆ†ç»„" class="headerlink" title="ä½¿ç”¨groupingByè¿›è¡Œåˆ†ç»„"></a>ä½¿ç”¨groupingByè¿›è¡Œåˆ†ç»„</h4><p>åˆ†ç»„åœ¨æ‰§è¡Œèšåˆæ•°æ®æ“ä½œæ—¶ç»å¸¸ä½¿ç”¨ï¼Œæ¯”å¦‚æŒ‰å›½ç±å¯¹ç”¨æˆ·è¿›è¡Œåˆ†ç»„ã€‚è¯´åˆ°åˆ†ç»„ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä¼šæƒ³åˆ°SQLçš„group byã€‚åœ¨Java8ä¹‹å‰ï¼Œæˆ‘ä»¬å¯èƒ½éœ€è¦è¿™æ ·åš:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"Daivd"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"Lance"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span><span class="token string">"England"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">User</span> user <span class="token operator">:</span> users<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token class-name">String</span> country <span class="token operator">=</span> user<span class="token punctuation">.</span><span class="token function">getCountry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>country<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>userList <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      userList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      result<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>country<span class="token punctuation">,</span> userList<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  userList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ ä½¿ç”¨groupingByï¼Œåªéœ€è¦ä¸€è¡Œä»£ç å°±å¯ä»¥äº†:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> result<span class="token operator">=</span>users<span class="token punctuation">.</span>stream<span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getCountry</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="ä½¿ç”¨é™åˆ¶å’Œè·³è¿‡çš„å†…å­˜åˆ†é¡µ"><a href="#ä½¿ç”¨é™åˆ¶å’Œè·³è¿‡çš„å†…å­˜åˆ†é¡µ" class="headerlink" title="ä½¿ç”¨é™åˆ¶å’Œè·³è¿‡çš„å†…å­˜åˆ†é¡µ"></a>ä½¿ç”¨é™åˆ¶å’Œè·³è¿‡çš„å†…å­˜åˆ†é¡µ</h4><p>æœ‰æ—¶æˆ‘ä»¬åœ¨å†…å­˜ä¸­èšåˆæ•°æ®åï¼Œæ•°æ®é‡å¯èƒ½å¤ªå¤§ï¼Œæ— æ³•ä¸€æ¬¡æ€§å°†æ•°æ®è¿”å›åˆ°å‰ç«¯ã€‚è¿™ä¸ªæ—¶å€™ï¼Œå°±éœ€è¦åˆ†é¡µã€‚Stream apiæä¾›äº†limitå’Œskipæ¥å®Œç¾æ”¯æŒå®ƒã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> pageableList<span class="token operator">=</span>list<span class="token punctuation">.</span>stream<span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨filter-æ¥è¿‡æ»¤å…ƒç´ "><a href="#ä½¿ç”¨filter-æ¥è¿‡æ»¤å…ƒç´ " class="headerlink" title="ä½¿ç”¨filter()æ¥è¿‡æ»¤å…ƒç´ "></a>ä½¿ç”¨filter()æ¥è¿‡æ»¤å…ƒç´ </h4><p>ä»é›†åˆä¸­è¿‡æ»¤æ‰ä¸ç¬¦åˆæ ‡å‡†çš„å…ƒç´ ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//Get all students older than 18</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">&gt;</span></span> studentNames <span class="token operator">=</span> students<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>student<span class="token operator">-&gt;</span>student<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨-sorted-Comparator-è¿›è¡Œæ’åº"><a href="#ä½¿ç”¨-sorted-Comparator-è¿›è¡Œæ’åº" class="headerlink" title="ä½¿ç”¨ sorted+Comparator è¿›è¡Œæ’åº"></a>ä½¿ç”¨ sorted+Comparator è¿›è¡Œæ’åº</h4><p>åœ¨é›†åˆæ“ä½œä¸­ï¼Œæ’åºç»å¯¹æ˜¯ä¸€ä¸ªé«˜é¢‘çš„æ“ä½œã€‚è™½ç„¶æœ‰ç°æˆçš„é›†åˆå·¥å…·è¿›è¡Œæ’åºï¼Œä½†Stream apiæ•´åˆäº†è¿™ä¸€åŠŸèƒ½ï¼Œå½¢æˆäº†è‡ªå·±çš„åŠŸèƒ½ç”Ÿæ€ï¼Œè¿›ä¸€æ­¥æé«˜äº†apiçš„ä¾¿åˆ©æ€§ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"Daivd"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"Lance"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span><span class="token string">"England"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> sortedUsers <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sorted</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token operator">::</span><span class="token function">getAge</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨reduceè¿›è¡Œèšåˆè¯„ä¼°"><a href="#ä½¿ç”¨reduceè¿›è¡Œèšåˆè¯„ä¼°" class="headerlink" title="ä½¿ç”¨reduceè¿›è¡Œèšåˆè¯„ä¼°"></a>ä½¿ç”¨reduceè¿›è¡Œèšåˆè¯„ä¼°</h4><p>Stream apiä¹Ÿæœ‰ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ–¹æ³•reduce()ã€‚ä½¿ç”¨reduceå¯ä»¥èšåˆé›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œå¾—åˆ°ä¸€ä¸ªå•ä¸€çš„å€¼ã€‚æœ€å…¸å‹çš„æƒ…å†µæ˜¯æ•°ç»„çš„æ€»å’Œã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> sum<span class="token operator">=</span>list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token operator">-&gt;</span>a<span class="token operator">+</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨reduceæ¥æ‰§è¡Œå…¶ä»–çš„èšåˆæ“ä½œï¼Œæ¯”å¦‚å¯»æ‰¾ä¸€ä¸ªæ•°ç»„çš„å¹³å‡å€¼ã€‚</p><h4 id="ä½¿ç”¨mapæ¥è½¬æ¢ç±»å‹"><a href="#ä½¿ç”¨mapæ¥è½¬æ¢ç±»å‹" class="headerlink" title="ä½¿ç”¨mapæ¥è½¬æ¢ç±»å‹"></a>ä½¿ç”¨mapæ¥è½¬æ¢ç±»å‹</h4><p>mapæ“ä½œæ˜¯å¯¹æµä¸­çš„å…ƒç´ è¿›è¡Œé‡æ–°å¤„ç†ï¼Œå½¢æˆä¸€ä¸ªæ–°çš„æµã€‚è¿™åœ¨å¼€å‘ä¸­å¾ˆæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œæˆ‘æœ‰ä¸€ä¸ªç”¨æˆ·çš„é›†åˆï¼Œä½†æˆ‘åªéœ€è¦ä½¿ç”¨ç”¨æˆ·çš„åå­—å’Œå¹´é¾„ï¼Œä½¿ç”¨mapæ–¹æ³•å°±å¯ä»¥åšåˆ°è¿™ç‚¹ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"Daivd"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"Lance"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span><span class="token string">"England"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserVo</span><span class="token punctuation">&gt;</span></span> userVoList <span class="token operator">=</span> users<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>user<span class="token operator">-&gt;</span><span class="token punctuation">{</span><span class="token class-name">UserVo</span> userVo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">UserVo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>userVo<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>userVo<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> userVo<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h4><p>flatMapæ“ä½œå¯ä»¥å°†åŒä¸€ç±»å‹çš„å¤šä¸ªæµåˆå¹¶ä¸ºä¸€ä¸ªæµã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> users <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"Bob"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"Daivd"</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"Lance"</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span><span class="token string">"England"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userList <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">"James"</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string">"America"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>users<span class="token punctuation">,</span>userList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flatMap</span><span class="token punctuation">(</span>s<span class="token operator">-&gt;</span>s<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h4><p>æµAPIä»¥å£°æ˜çš„æ–¹å¼å¤„ç†é›†åˆæ•°æ®ï¼Œå¯ä»¥æå¤§åœ°æé«˜Javaç¨‹åºå‘˜çš„å·¥ä½œæ•ˆç‡ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿå†™å‡ºé«˜æ•ˆã€å¹²å‡€ã€ç®€æ´çš„ä»£ç ã€‚<br>æˆ‘å¸Œæœ›æ¯ä¸ªäººéƒ½èƒ½æŒæ¡Stream Apiï¼Œå†™å‡ºä¼˜é›…çš„ä»£ç ã€‚è°¢è°¢ä½ çš„é˜…è¯»!</p><!-- https://levelup.gitconnected.com/8-must-know-stream-api-usages-b72ebc50d447 -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> StreamAPI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nylo v3.x - Flutterçš„æœ€æ–°å¾®æ¡†æ¶</title>
      <link href="/Nylo-v3-x-%E2%80%94-Flutter%E2%80%99s-Latest-Micro-Framework.html"/>
      <url>/Nylo-v3-x-%E2%80%94-Flutter%E2%80%99s-Latest-Micro-Framework.html</url>
      
        <content type="html"><![CDATA[<p>Nylo v3.xå·²ç»é¢ä¸–ï¼Œå¯ä»¥å¸®åŠ©ä½ æ›´å®¹æ˜“åœ°æ„å»ºFlutteråº”ç”¨ç¨‹åºã€‚</p><img src="/Nylo-v3-x-%E2%80%94-Flutter%E2%80%99s-Latest-Micro-Framework/1.png" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>æˆ‘å¾ˆé«˜å…´åœ°åˆ†äº«Nylo v3.xç»ˆäºå‘å¸ƒäº†ã€‚<br>è¿™ä¸ªç‰ˆæœ¬æ˜¯ç–¯ç‹‚çš„ï¼Œæœ‰ä¸€äº›å°çš„å˜åŒ–ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›å¤§çš„è¡¥å……ï¼Œä½¿å¼€å‘Flutteråº”ç”¨ç¨‹åºå˜å¾—è½»è€Œæ˜“ä¸¾ã€‚</p><h4 id="é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å§"><a href="#é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å§" class="headerlink" title="é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å§"></a>é¦–å…ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹å§</h4><p>ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ä¸‹è½½Nyloã€‚</p><ul><li><a href="https://nylo.dev/">https://nylo.dev</a></li><li>git clone <a href="https://github.com/nylo-core/nylo.git">https://github.com/nylo-core/nylo.git</a></li></ul><p>æ‰“å¼€é¡¹ç›®åï¼Œæ„å»ºå¹¶è¿è¡Œè¯¥åº”ç”¨ç¨‹åºã€‚</p><img src="/Nylo-v3-x-%E2%80%94-Flutter%E2%80%99s-Latest-Micro-Framework/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç¥è´ºä½ ! ç°åœ¨è®©æˆ‘ä»¬æ·±å…¥äº†è§£ä¸€ä¸‹v3.xçš„æ–°æ›´æ–°ã€‚</p><h4 id="çªå‡ºçš„ç‰¹ç‚¹"><a href="#çªå‡ºçš„ç‰¹ç‚¹" class="headerlink" title="çªå‡ºçš„ç‰¹ç‚¹"></a>çªå‡ºçš„ç‰¹ç‚¹</h4><ul><li>ç¼–å†™APIæœåŠ¡çš„ä¸€ç§æ–°çš„ä¼˜é›…æ–¹å¼</li><li>äº‹ä»¶+ç›‘å¬å™¨</li><li>å¯å¯åŠ¨çš„æä¾›è€…</li><li>å¸®åŠ©è€…</li><li>æ–°ç½‘ç«™</li></ul><p>ä¸ºäº†ä¿æŒæ•…äº‹çš„çŸ­å°ç²¾æ‚ï¼Œæˆ‘å°†åªä»‹ç»ä¸Šè¿°å†…å®¹ã€‚ä½ å¯ä»¥åœ¨<a href="https://nylo.dev/">https://nylo.dev</a>ï¼ŒæŸ¥çœ‹æ–‡æ¡£ä»¥äº†è§£æ›´å¤šã€‚</p><h4 id="APIæœåŠ¡"><a href="#APIæœåŠ¡" class="headerlink" title="APIæœåŠ¡"></a>APIæœåŠ¡</h4><p>æˆ‘å°†ä»æœ€é…·çš„æ–°å¢åŠŸèƒ½ï¼ˆåœ¨v3.xä¸­ï¼‰å¼€å§‹ï¼Œå®ƒæ˜¯æ–°çš„ç½‘ç»œåŠ©æ‰‹ã€‚<br>åœ¨ä½ çš„é¡¹ç›®ä¸­ï¼Œå¯¼èˆªåˆ°â€/lib/app/networking/â€œã€‚åœ¨è¿™é‡Œä½ å¯ä»¥ä¸ºä½ çš„åº”ç”¨ç¨‹åºæ·»åŠ ä½ çš„APIæœåŠ¡ã€‚</p><h4 id="æå‡ºHTTPè¯·æ±‚"><a href="#æå‡ºHTTPè¯·æ±‚" class="headerlink" title="æå‡ºHTTPè¯·æ±‚"></a>æå‡ºHTTPè¯·æ±‚</h4><p>åœ¨ä½ çš„APIæœåŠ¡ä¸­ï¼Œä½¿ç”¨ç½‘ç»œæ–¹æ³•æ¥å»ºç«‹ä½ çš„APIè¯·æ±‚ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ApiService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseApiService</span> <span class="token punctuation">{</span>  <span class="token class-name">ApiService</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">BuildContext</span><span class="token operator">?</span> buildContext<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>buildContext<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">String</span> <span class="token keyword">get</span> baseUrl <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string-literal"><span class="token string">"https://jsonplaceholder.typicode.com"</span></span><span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> network<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/users/1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼š<code>è¯·æ±‚å‚æ•°</code>æ˜¯ä¸€ä¸ª<a href="https://pub.dev/packages/dio">Dio</a>å®ä¾‹ã€‚</p><p>ä½¿ç”¨æ³›å‹ï¼Œä½ å¯ä»¥ä½¿ç”¨Nyloçš„æ¨¡å‹è§£ç å™¨ä»å“åº”ä¸­è‡ªåŠ¨è¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚</p><h4 id="å¼•å…¥æ¨¡å‹è§£ç å™¨"><a href="#å¼•å…¥æ¨¡å‹è§£ç å™¨" class="headerlink" title="å¼•å…¥æ¨¡å‹è§£ç å™¨"></a>å¼•å…¥æ¨¡å‹è§£ç å™¨</h4><p>æ¨¡å‹è§£ç å™¨æ˜¯Nylo v3.xä¸­å¼•å…¥çš„ä¸€ä¸ªæ–°æ¦‚å¿µã€‚å®ƒä»¬ä½¿ä½ å¾ˆå®¹æ˜“è¿”å›ä½ çš„å¯¹è±¡ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ApiService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseApiService</span> <span class="token punctuation">{</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> network<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/users/1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ–‡ä»¶: lib/config/decoders.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">final</span> modelDecoders <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token class-name">User</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token comment">// add your model and handle the return of the object</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ"><a href="#è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ" class="headerlink" title="è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ"></a>è¿™æ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿ</h4><p>åœ¨å¹•åï¼ŒNyloä¼šæŸ¥çœ‹ä½ çš„config/decoders.dartæ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨modelDecoderså˜é‡æ¥å†³å®šè§£ç æ—¶ä½¿ç”¨å“ªç§ â€œç±»å‹â€ã€‚<br>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">final</span> modelDecoders <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token class-name">User</span><span class="token punctuation">:</span> <span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç¬¬ä¸€ä¸ªé”®æ˜¯ä½ çš„æ¨¡å‹çš„<code>type</code>ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨ä¸Šé¢çš„ä¾‹å­ï¼Œå°†æ˜¯<code>User</code>å’Œ<code>List&lt;User&gt;</code>ã€‚</li><li><code>(data)</code>å‚æ•°å°†åŒ…å«æ¥è‡ªä½ çš„APIè¯·æ±‚çš„HTTPå“åº”ä½“ã€‚</li></ul><p>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ç§æ–¹æ³•ï¼Œåˆå§‹åŒ–ä½ çš„æ¨¡å‹ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>  <span class="token class-name">String</span><span class="token operator">?</span> name<span class="token punctuation">;</span>  <span class="token class-name">String</span><span class="token operator">?</span> email<span class="token punctuation">;</span>  <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token keyword">dynamic</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'name'</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'email'</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ä½ å¯ä»¥åƒä¸‹é¢çš„ä¾‹å­ä¸€æ ·ï¼Œä½¿ç”¨<code>network</code>è‡ªåŠ¨è¿”å›ä½ çš„æ¨¡å‹çš„æ­£ç¡®è¡¨ç¤ºã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ApiService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseApiService</span> <span class="token punctuation">{</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">fetchUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> network<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/users/1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">fetchUsers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> network<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/users"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ²¡æœ‰æ¨¡å‹è§£ç å™¨çš„HTTPè¯·æ±‚"><a href="#æ²¡æœ‰æ¨¡å‹è§£ç å™¨çš„HTTPè¯·æ±‚" class="headerlink" title="æ²¡æœ‰æ¨¡å‹è§£ç å™¨çš„HTTPè¯·æ±‚"></a>æ²¡æœ‰æ¨¡å‹è§£ç å™¨çš„HTTPè¯·æ±‚</h4><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ç»œåŠ©æ‰‹çš„handleSuccesså‚æ•°æ¥å¤„ç†HTTPè¯·æ±‚ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ApiService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseApiService</span> <span class="token punctuation">{</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment">// Example: returning an Object</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">findUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">network</span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/users/1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        handleSuccess<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Response</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment">// response - Dio Response object</span>          <span class="token keyword">dynamic</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>          <span class="token keyword">return</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">// Example: returning a String</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">findMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">network</span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/message/1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        handleSuccess<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Response</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment">// response - Dio Response object</span>          <span class="token keyword">dynamic</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'name'</span></span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'Anthony'</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"It's Anthony"</span></span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">"Hello world"</span></span><span class="token punctuation">;</span>         <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">// Example: returning a bool</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">network</span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/user/1"</span></span><span class="token punctuation">,</span> data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">"name"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Anthony"</span></span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        handleSuccess<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Response</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token comment">// response - Dio Response object</span>          <span class="token keyword">dynamic</span> data <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'status'</span></span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'OK'</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼Œä½ ä¸éœ€è¦åœ¨<code>network</code>ä¸ŠæŒ‡å®šä»»ä½•é€šç”¨ç±»å‹ã€‚åœ¨<code>handleSuccess</code>å›è°ƒé‡Œé¢ï¼Œä½ åªéœ€è¦è‡ªå·±å¤„ç†è¿”å›ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>handleFailure</code>å‚æ•°æ¥å¤„ç†å¤±è´¥çš„HTTPå“åº”ã€‚</p><h4 id="åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨APIæœåŠ¡"><a href="#åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨APIæœåŠ¡" class="headerlink" title="åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨APIæœåŠ¡"></a>åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨APIæœåŠ¡</h4><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _MyHomePageState <span class="token keyword">extends</span> <span class="token class-name">NyState</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyHomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token class-name">ApiService</span> _apiService <span class="token operator">=</span> <span class="token class-name">ApiService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token metadata function">@override</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">User</span><span class="token operator">?</span> user <span class="token operator">=</span> <span class="token keyword">await</span> _apiService<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">print</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// User? instance</span>    <span class="token comment">// or</span> <span class="token class-name">User</span><span class="token operator">?</span> user <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ApiService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> request<span class="token punctuation">.</span><span class="token function">getUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">print</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// User? instance</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h4><p>å¦‚æœä½ å¯¹æ‹¦æˆªå™¨æ„Ÿåˆ°é™Œç”Ÿï¼Œä¸è¦æ‹…å¿ƒã€‚å®ƒä»¬æä¾›äº†ä¸€ç§åœ¨ä½ çš„HTTPè¯·æ±‚è¢«å‘é€ä¹‹å‰æ‹¦æˆªå®ƒä»¬çš„æ–¹æ³•ã€‚</p><p>æ‹¦æˆªå™¨æä¾›äº†ä»¥ä¸‹çš„å›è°ƒã€‚</p><ul><li>onRequest: åœ¨å‘é€ä¹‹å‰ä¿®æ”¹è¯·æ±‚ã€‚</li><li>onResponse: å¯¹å“åº”æ•°æ®åšä¸€äº›å¤„ç†ã€‚</li><li>onErrorã€‚å¤„ç†HTTPè¯·æ±‚ä¸­çš„é”™è¯¯ã€‚<br>Nyloå…è®¸ä½ ä¸ºä½ çš„APIæœåŠ¡æ·»åŠ æ–°çš„æ‹¦æˆªå™¨ï¼Œå°±åƒä¸‹é¢çš„ä¾‹å­ä¸€æ ·ã€‚</li></ul><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ApiService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseApiService</span> <span class="token punctuation">{</span>  <span class="token class-name">ApiService</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">BuildContext</span><span class="token operator">?</span> buildContext<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>buildContext<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token metadata function">@override</span>  <span class="token keyword">final</span> interceptors <span class="token operator">=</span> <span class="token punctuation">{</span>    <span class="token class-name">LoggingInterceptor</span><span class="token punctuation">:</span> <span class="token class-name">LoggingInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token comment">// Add more interceptors for the API Service e.g. below</span>    <span class="token comment">// BearerAuthInterceptor: BearerAuthInterceptor(),</span>  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥åœ¨é¡¹ç›®ä¸­çš„å¦‚ä¸‹æ–‡ä»¶æŸ¥çœ‹æ‹¦æˆªå™¨çš„å®ç°: â€œlib/app/networking/dio/interceptors/logging_interceptor.dartâ€</p><h4 id="åˆ›å»ºä¸€ä¸ªæ–°çš„APIæœåŠ¡"><a href="#åˆ›å»ºä¸€ä¸ªæ–°çš„APIæœåŠ¡" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–°çš„APIæœåŠ¡"></a>åˆ›å»ºä¸€ä¸ªæ–°çš„APIæœåŠ¡</h4><pre class="line-numbers language-none"><code class="language-none">flutter pub run nylo_framework:main make:api_service shop<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ¡å‘½ä»¤ä¼šåœ¨ç›®å½•/lib/app/networking/*ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„APIæœåŠ¡ï¼Œåç§°ä¸ºshop_api_service.dartã€‚</p><h4 id="å¢åŠ æ¨¡å‹é€‰é¡¹"><a href="#å¢åŠ æ¨¡å‹é€‰é¡¹" class="headerlink" title="å¢åŠ æ¨¡å‹é€‰é¡¹"></a>å¢åŠ æ¨¡å‹é€‰é¡¹</h4><pre class="line-numbers language-none"><code class="language-none">flutter pub run nylo_framework:main make:api_service shop --model="Shop"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¨¡å‹é€‰é¡¹â€“model=â€Shopâ€å‘Šè¯‰Nyloä¸ºä½ æ–°åˆ›å»ºçš„APIæœåŠ¡æ·»åŠ ä»¥ä¸‹æ–¹æ³•ï¼šæŸ¥æ‰¾ã€åˆ›å»ºã€åˆ é™¤ã€æ›´æ–°å’Œè·å–å…¨éƒ¨å†…å®¹ã€‚</p><h4 id="å¢åŠ äº†URLæ ‡å¿—"><a href="#å¢åŠ äº†URLæ ‡å¿—" class="headerlink" title="å¢åŠ äº†URLæ ‡å¿—"></a>å¢åŠ äº†URLæ ‡å¿—</h4><pre class="line-numbers language-none"><code class="language-none">flutter pub run nylo_framework:main make:api_service shop --url="https://myapi-baseurl.com"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-url```é€‰é¡¹å‘Šè¯‰Nyloå°†baseUrlè®¾ç½®ä¸ºä½ æä¾›çš„å€¼ã€‚" data-language="url```é€‰é¡¹å‘Šè¯‰Nyloå°†baseUrlè®¾ç½®ä¸ºä½ æä¾›çš„å€¼ã€‚"><code class="language-url```é€‰é¡¹å‘Šè¯‰Nyloå°†baseUrlè®¾ç½®ä¸ºä½ æä¾›çš„å€¼ã€‚">#### äº‹ä»¶+ç›‘å¬å™¨å½“ä½ éœ€è¦åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å‘ç”Ÿä¸€äº›äº‹æƒ…åå¤„ç†é€»è¾‘æ—¶ï¼Œäº‹ä»¶æ˜¯å¼ºå¤§çš„ã€‚Nyloæä¾›äº†ä¸€ä¸ªç®€å•çš„äº‹ä»¶å®ç°ï¼Œå…è®¸ä½ è°ƒç”¨ä¸ºè¯¥äº‹ä»¶æ³¨å†Œçš„ç›‘å¬å™¨ã€‚ç›‘å¬å™¨å¯ä»¥ä»äº‹ä»¶çš„æœ‰æ•ˆè½½è·ä¸­æ‰§è¡Œé€»è¾‘ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªäº‹ä»¶çš„ä¾‹å­ï¼Œæˆ‘ä»¬è®¾æƒ³æˆ‘ä»¬æ‹¥æœ‰ä¸€ä¸ªé”€å”®Tæ¤çš„ç”µå­å•†åŠ¡åº”ç”¨ç¨‹åºã€‚å½“ç”¨æˆ·æˆåŠŸä»˜æ¬¾åï¼Œæˆ‘ä»¬æƒ³æ´¾å‘ä¸€ä¸ªäº‹ä»¶æ¥å¤„ç†ä»¥ä¸‹äº‹æƒ…ã€‚ * æ¸…é™¤ç”¨æˆ·çš„è´­ç‰©è½¦ * ä½¿ç”¨è°·æ­Œæ ‡ç­¾ç®¡ç†å™¨æ¥è®°å½•äº‹ä»¶ï¼Œä»¥ä¾¿è¿›è¡Œåˆ†æã€‚```dartimport 'package:nylo_framework/nylo_framework.dart';import 'package:google_tag_manager/google_tag_manager.dart' as gtm;class PaymentSuccessfulEvent implements NyEvent {final listeners = {    SanitizeCheckoutListener: SanitizeCheckoutListener(),    GTMPurchaseListener: GTMPurchaseListener(),  };}class SanitizeCheckoutListener extends NyListener {  handle(dynamic event) async {    await NyStorage.store('cart', null); // clear the cart  }}class GTMPurchaseListener extends NyListener {  handle(dynamic event) async {    // Get payload from event    Order order = event['order'];   // Push event to gtm (Google tag manager).    gtm.push({      'ecommerce': {        'purchase': {          'actionField': {            'id': order.id,            'revenue': order.revenue,            'tax': order.tax,            'shipping': order.shipping          },          'products': order.line_items        }      }    });  }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨Nyloä¸­è°ƒåº¦ä¸€ä¸ªäº‹ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">stripePay</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span> products<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token comment">// create the order</span>  <span class="token class-name">Order</span><span class="token operator">?</span> order <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderApiService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>api<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> api<span class="token punctuation">.</span><span class="token function">createOrder</span><span class="token punctuation">(</span>products<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// dispatch the event</span>  <span class="token keyword">await</span> event<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PaymentSuccessfulEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">'order'</span></span><span class="token punctuation">:</span> order<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥åœ¨ â€œlib/app/events/â€œç›®å½•ä¸‹æ·»åŠ äº‹ä»¶ã€‚</p><h4 id="åˆ›å»ºæ–°äº‹ä»¶"><a href="#åˆ›å»ºæ–°äº‹ä»¶" class="headerlink" title="åˆ›å»ºæ–°äº‹ä»¶"></a>åˆ›å»ºæ–°äº‹ä»¶</h4><pre class="line-numbers language-none"><code class="language-none">flutter pub run nylo_framework:main make:event message_created_event<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Providers"><a href="#Providers" class="headerlink" title="Providers"></a>Providers</h4><p>åœ¨Nyloä¸­ï¼Œå½“ä½ çš„åº”ç”¨ç¨‹åºé¦–æ¬¡è¿è¡Œæ—¶ï¼Œæä¾›ç¨‹åºå°†ä»ä½ çš„main.dartæ–‡ä»¶ä¸­å¯åŠ¨ã€‚æ‰€æœ‰çš„æä¾›è€…éƒ½åœ¨â€/lib/app/providers/â€œä¸­ï¼Œä½ å¯ä»¥ä¿®æ”¹è¿™äº›æ–‡ä»¶æˆ–ä½¿ç”¨Metroåˆ›å»ºä½ çš„æä¾›è€…ã€‚</p><p>å¯¹æä¾›è€…çš„éœ€æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ<br>éšç€é¡¹ç›®çš„å‘å±•ï¼Œä½ å¯èƒ½éœ€è¦åœ¨ä½ çš„åº”ç”¨ç¨‹åºè¿è¡Œå‰åˆå§‹åŒ–æ›´å¤šçš„åŒ…ã€ç±»æˆ–ä»£ç ã€‚</p><p>æä¾›è€…æä¾›äº†ä¸€ä¸ªæ•´æ´çš„è§£å†³æ–¹æ¡ˆï¼Œä½¿ä½ çš„main.dartæ–‡ä»¶ä¸è‡´è‡ƒè‚¿ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸€äº›å¼€ç®±å³æ³¨å†Œçš„æä¾›è€…ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">// file: lib/app/providers/app_provider.dart</span><span class="token keyword">class</span> <span class="token class-name">AppProvider</span> <span class="token keyword">implements</span> <span class="token class-name">NyProvider</span> <span class="token punctuation">{</span>  <span class="token function">boot</span><span class="token punctuation">(</span><span class="token class-name">Nylo</span> nylo<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token class-name">NyLocalization</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>        localeType<span class="token punctuation">:</span> localeType<span class="token punctuation">,</span>        languageCode<span class="token punctuation">:</span> languageCode<span class="token punctuation">,</span>        languagesList<span class="token punctuation">:</span> languagesList<span class="token punctuation">,</span>        assetsDirectory<span class="token punctuation">:</span> assetsDirectory<span class="token punctuation">,</span>        valuesAsMap<span class="token punctuation">:</span> valuesAsMap<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// file: lib/app/providers/route_provider.dart</span><span class="token keyword">class</span> <span class="token class-name">RouteProvider</span> <span class="token keyword">implements</span> <span class="token class-name">NyProvider</span> <span class="token punctuation">{</span>  <span class="token function">boot</span><span class="token punctuation">(</span><span class="token class-name">Nylo</span> nylo<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    nylo<span class="token punctuation">.</span><span class="token function">addRouter</span><span class="token punctuation">(</span><span class="token function">appRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> nylo<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸¤ä¸ªæä¾›è€…éƒ½æœ‰åŠ©äºå¯åŠ¨åº”ç”¨ç¨‹åºã€‚ä¸€ä¸ªæ˜¯æ·»åŠ è·¯ç”±ï¼Œå¦ä¸€ä¸ªæ˜¯åˆå§‹åŒ–é¡¹ç›®çš„æœ¬åœ°åŒ–ã€‚</p><p>æ‚¨å¯ä»¥ä¿®æ”¹æ‚¨çš„æä¾›è€…æˆ–åˆ›å»ºæ–°çš„æä¾›è€…ï¼Œä»¥ä¿ƒè¿›æ‚¨çš„Flutteråº”ç”¨ç¨‹åºä¸­çš„æ–°æœåŠ¡ã€‚</p><h4 id="åˆ›å»ºä¸€ä¸ªæ–°çš„provider"><a href="#åˆ›å»ºä¸€ä¸ªæ–°çš„provider" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ–°çš„provider"></a>åˆ›å»ºä¸€ä¸ªæ–°çš„provider</h4><pre class="line-numbers language-none"><code class="language-none">flutter pub run nylo_framework:main make:provider firebase_provider<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Helpers"><a href="#Helpers" class="headerlink" title="Helpers"></a>Helpers</h4><p>ä¸€äº›æ–°å¢åŠ çš„å°åŠŸèƒ½ã€‚</p><p>whenEnv - è¿™å…è®¸ä½ åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„ç¯å¢ƒå¤„äºæŸç§çŠ¶æ€æ—¶æ‰§è¡Œä¸€äº›ä»£ç ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Your</span> <span class="token punctuation">.</span>env fileAPP_NAME<span class="token operator">=</span><span class="token class-name">MyApp</span>APP_ENV<span class="token operator">=</span>developing <span class="token comment">// &lt; -- this is set to "developing"</span><span class="token comment">// Register page for users</span><span class="token keyword">class</span> _RegisterPageState <span class="token keyword">extends</span> <span class="token class-name">NyState</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RegisterPage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">TextEditingController</span> _txtNameController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">TextEditingController</span> _txtEmailController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token metadata function">@override</span>  <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">whenEnv</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'developing'</span></span><span class="token punctuation">,</span> perform<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> faker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Faker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      _txtEmailController<span class="token punctuation">.</span>text <span class="token operator">=</span> faker<span class="token punctuation">.</span>internet<span class="token punctuation">.</span><span class="token function">email</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      _txtNameController<span class="token punctuation">.</span>text <span class="token operator">=</span> faker<span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// E.g. Fill the fields with fake data to save time</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¸Œæœ›ä¸Šé¢çš„ä¾‹å­èƒ½å‘Šè¯‰ä½ å¦‚ä½•ä½¿ç”¨whenEnvå¸®åŠ©å™¨æ¥ä½¿ä½ çš„æµ‹è¯•/å¼€å‘å·¥ä½œæ›´å®¹æ˜“ã€‚</p><p>Backpack - è¿™ä¸ªç±»è¢«è®¾è®¡ç”¨æ¥å­˜å‚¨å³æ—¶çš„å°å°ºå¯¸æ•°æ®ã€‚å®ƒä¸éœ€è¦å¼‚æ­¥ç­‰å¾…ï¼Œè¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆå­˜å‚¨ç”¨æˆ·è®¤è¯ä»¤ç‰Œã€APIä¼šè¯ç­‰ã€‚</p><p>Hereâ€™s an example:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">// storing a string</span><span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'user_api_token'</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'a secure token'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// storing an object</span><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'user'</span></span><span class="token punctuation">,</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// storing an int</span><span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'my_lucky_no'</span></span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// reading data</span><span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'user_api_token'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a secure token</span><span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'user'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// User instance</span><span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'my_lucky_no'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥åœ¨ä½ çš„åº”ç”¨ç¨‹åºçš„ä»»ä½•åœ°æ–¹ä½¿ç”¨Backpackï¼Œä¾‹å¦‚æˆæƒä¸€ä¸ªAPIè¯·æ±‚ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ApiService</span> <span class="token keyword">extends</span> <span class="token class-name">BaseApiService</span> <span class="token punctuation">{</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">accountDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">await</span> <span class="token function">network</span><span class="token punctuation">(</span>        request<span class="token punctuation">:</span> <span class="token punctuation">(</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token class-name">String</span> userToken <span class="token operator">=</span> <span class="token class-name">Backpack</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'user_api_token'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// Set auth header</span>      request<span class="token punctuation">.</span>options<span class="token punctuation">.</span>headers <span class="token operator">=</span> <span class="token punctuation">{</span>          <span class="token string-literal"><span class="token string">'Authorization'</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Bearer "</span></span> <span class="token operator">+</span> userToken      <span class="token punctuation">}</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> request<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"/account/1"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šåœ¨Backpackç±»ä¸­è®¾ç½®çš„å€¼ä¸ä¼šæŒä¹…åŒ–ã€‚å¦‚æœä½ çš„åº”ç”¨ç¨‹åºéœ€è¦ï¼Œä½ å¯èƒ½éœ€è¦å®ç°NyStorageå’ŒBackpackçš„ç»„åˆã€‚</p><h4 id="æ–°ç½‘ç«™"><a href="#æ–°ç½‘ç«™" class="headerlink" title="æ–°ç½‘ç«™"></a>æ–°ç½‘ç«™</h4><p>å®˜æ–¹ç½‘ç«™å·²ç»è¢«é‡æ–°è®¾è®¡ï¼Œä»¥ä½¿å­¦ä¹ Nyloçš„ä½“éªŒæ›´å¥½ã€‚ä½ ä¼šå‘ç°ï¼Œæ–‡æ¡£é¡µé¢æ˜¯å…¨æ–°çš„ï¼Œçœ‹èµ·æ¥å¾ˆç®€çº¦ã€‚</p><img src="/Nylo-v3-x-%E2%80%94-Flutter%E2%80%99s-Latest-Micro-Framework/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>éå¸¸å…´å¥‹ï¼Œv3.xç»ˆäºå‘å¸ƒäº†ã€‚å¦‚æœä½ æ˜¯Nyloçš„æ–°æ‰‹ï¼Œå®ƒæ˜¯æ–°é¡¹ç›®çš„ä¸€ä¸ªä¼Ÿå¤§çš„èµ·ç‚¹ã€‚å®ƒè®©ä½ å¿˜è®°å°äº‹ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¸“æ³¨äºåˆ›ä½œã€‚</p><p>ä¸€å¦‚æ—¢å¾€ï¼Œæ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚</p><!-- https://medium.com/@agordn52/nylo-v3-x-flutters-latest-micro-framework-updates-2d063c0b5945 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Nylo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ˜¯ä»€ä¹ˆè®©Juliaç‹¬æ ‘ä¸€å¸œï¼Ÿ</title>
      <link href="/What-Makes-Julia-Unique.html"/>
      <url>/What-Makes-Julia-Unique.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>çœ‹çœ‹multiple dispatchæ˜¯å¦‚ä½•å°†Juliaä¸æ‰€æœ‰å…¶ä»–ç¼–ç¨‹è¯­è¨€åŒºåˆ†å¼€æ¥çš„</p></blockquote><img src="/What-Makes-Julia-Unique/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>multiple dispatchæ˜¯ Julia ç¼–ç¨‹è¯­è¨€çš„æ€æ‰‹é”ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œå¾ˆå°‘æœ‰å¼€å‘è€…å¬è¯´è¿‡multiple dispatchã€‚<br>æ›´å°‘çš„äººçŸ¥é“å®ƒæ˜¯ä»€ä¹ˆæˆ–è€…å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚<br>è¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºå¾ˆå°‘æœ‰è¯­è¨€æ”¯æŒmultiple dispatchï¼Œè€Œé‚£äº›æ”¯æŒmultiple dispatchçš„è¯­è¨€å¾€å¾€æŠŠå®ƒè—å¾—å¾ˆæ·±ã€‚å› æ­¤ï¼Œåœ¨æˆ‘å¤§è‚†å®£æ‰¬multiple dispatchçš„å¨åŠ›ä¹‹å‰ï¼Œæˆ‘å¿…é¡»å…ˆè§£é‡Šä¸€ä¸‹å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆã€‚<br>æˆ‘ç»™ä½ ä¸€æ¡çº¿ç´¢ï¼šå®ƒä¸å‡½æ•°çš„è°ƒç”¨æ–¹å¼æœ‰å…³ï¼Œä½†è®©æˆ‘ä»¬é€€ä¸€æ­¥æ¥é˜è¿°ã€‚</p><p>å½“ä¸€ä¸ªç¨‹åºè¿è¡Œæ—¶ï¼Œé‡åˆ°ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œå®ƒå¿…é¡»å¼„æ¸…æ¥šè¦è·³åˆ°ä»€ä¹ˆä»£ç å¹¶æ‰§è¡Œã€‚<br>åœ¨ç®€å•çš„ç¨‹åºæ€§ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œå¦‚Cæˆ–Pascalï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯ç›´æ¥çš„ã€‚<br>æ¯ä¸ªå‡½æ•°éƒ½è¢«å®ç°ä¸ºä¸€ä¸ªå­ç¨‹åºï¼Œä½äºä¸€ä¸ªç‹¬ç‰¹çš„å†…å­˜ä½ç½®ã€‚è°ƒç”¨è¯¥å‡½æ•°åªéœ€è¦è·³è½¬åˆ°å­ç¨‹åºçš„å†…å­˜åœ°å€ï¼Œå¹¶æ‰§è¡Œæ¯ä¸€æ¡æŒ‡ä»¤ï¼Œç›´åˆ°å¾®å¤„ç†å™¨å‘å‡ºè¿”å›æŒ‡ä»¤ã€‚</p><p>åœ¨å¤„ç†å‡½æ•°æŒ‡é’ˆæ—¶ï¼Œäº‹æƒ…å˜å¾—æœ‰ç‚¹æ£˜æ‰‹äº†ã€‚<br>æˆ‘ä»¬è·³è½¬åˆ°çš„å­ç¨‹åºå¯ä»¥åœ¨è¿è¡ŒæœŸé—´æ”¹å˜ï¼Œå› ä¸ºä»£ç è¢«å…è®¸æ”¹å˜å­˜å‚¨åœ¨å‡½æ•°æŒ‡é’ˆä¸­çš„å­ç¨‹åºåœ°å€ã€‚<br>æˆ‘ä¸ºä»€ä¹ˆè¦æåˆ°è¿™äº›ç»†èŠ‚å‘¢ï¼Ÿå› ä¸ºæˆ‘æƒ³è¡¨è¾¾è¿™æ ·ä¸€ä¸ªè§‚ç‚¹ï¼šè°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶ç¡®å®šæ‰§è¡Œä»€ä¹ˆä»£ç å¹¶ä¸æ€»æ˜¯ä¸€ä»¶å¾®ä¸è¶³é“çš„äº‹æƒ…ã€‚</p><p>è€ƒè™‘ä¸€ä¸‹åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­è°ƒç”¨ä¸€ä¸ªæ–¹æ³•çš„å¤æ‚æ€§ã€‚</p><pre class="line-numbers language-julia" data-language="julia"><code class="language-julia">warrior<span class="token punctuation">.</span>attack<span class="token punctuation">(</span>knight<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆå‘˜å‡½æ•°attackå¹¶ä¸å¯¹åº”äºä¸€ä¸ªç‰¹å®šå†…å­˜åœ°å€çš„å­ç¨‹åºã€‚<br>å½“attackæ–¹æ³•åœ¨æˆ˜å£«å¯¹è±¡ä¸Šè¢«è°ƒç”¨æ—¶ï¼Œä¸€ä¸ªç¡®å®šè·³è½¬åˆ°å“ªä¸ªå­ç¨‹åºçš„å¤æ‚è¿‡ç¨‹è¢«å¯åŠ¨äº†ã€‚<br>æˆ‘ä»¬å¿…é¡»ç¡®å®šä»€ä¹ˆæ ·çš„æˆ˜å£«åœ¨è¿›è¡Œæ”»å‡»ã€‚æˆ‘ä»¬å¯ä»¥æƒ³è±¡ä¸€ä¸‹ä¸åŒæˆ˜å£«çš„ç±»å‹å±‚æ¬¡ï¼Œå¦‚å¼“ç®­æ‰‹ã€é•¿çŸ›æ‰‹å’Œéª‘å£«ã€‚</p><img src="/What-Makes-Julia-Unique/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å› ä¸ºå¼“ç®­æ‰‹çš„æ”»å‡»æ–¹å¼ä¸æ­¥å…µæˆ–éª‘å£«ä¸åŒï¼Œæ¯ç§ç±»å‹çš„æ”»å‡»æ–¹æ³•çš„å®ç°æ–¹å¼ä¹Ÿä¸åŒã€‚<br>é€šè¿‡ä¸€ä¸ªè¢«ç§°ä¸ºå•ä¸€è°ƒåº¦çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬å†³å®šè°ƒç”¨å“ªä¸ªæ–¹æ³•ã€‚ä»ä½çº§åˆ«çš„è§’åº¦æ¥çœ‹ï¼Œæˆ‘ä»¬è¯•å›¾ç¡®å®šåœ¨æ‰§è¡Œ<code>warrior.attack(knight)</code>è¯­å¥æ—¶è·³åˆ°å“ªä¸ªå­ç¨‹åºã€‚</p><p>å•ä¸€è°ƒåº¦å¦‚ä½•å·¥ä½œå–å†³äºæˆ‘ä»¬æ˜¯åœ¨å¤„ç†åŠ¨æ€è¯­è¨€è¿˜æ˜¯é™æ€ç±»å‹çš„è¯­è¨€ã€‚è®©æˆ‘ä»¬å…³æ³¨å®ƒåœ¨åŠ¨æ€ç±»å‹è¯­è¨€ä¸­æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå› ä¸ºæˆ‘ä»¬å°†æŠŠè¿™ä¸ªè¿‡ç¨‹ä¸Juliaè¿›è¡Œæ¯”è¾ƒï¼Œåè€…ä¹Ÿæ˜¯ä¸€ç§åŠ¨æ€ç±»å‹çš„è¯­è¨€ã€‚</p><p>æƒ³è±¡ä¸€ä¸‹ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªæˆ˜å£«aåœ¨æ”»å‡»ä¸€ä¸ªæˆ˜å£«bï¼Œæˆ‘ä»¬çš„ç¬¬ä¸€æ­¥å°†æ˜¯ç¡®å®šaæ˜¯ä»€ä¹ˆç±»å‹ã€‚<br>åœ¨åŠ¨æ€ç±»å‹çš„è¯­è¨€ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½çŸ¥é“ä»–ä»¬æ˜¯ä»€ä¹ˆç±»å‹ã€‚<br>ä¾‹å¦‚ï¼Œåœ¨Objective-Cä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå«åšisaçš„å­—æ®µï¼ŒæŒ‡å‘ä¸€ä¸ªæè¿°è¯¥å¯¹è±¡ç±»å‹çš„ç±»å¯¹è±¡ã€‚åœ¨ä¸‹é¢çš„å›¾å½¢ä¸­ï¼Œæˆ‘ä»¬å‡è£…æˆ˜å£«aæ˜¯Archerç±»çš„ä¸€ä¸ªå®ä¾‹ã€‚Archerç±»åŒ…å«äº†æ¯ä¸ªå®ç°æ–¹æ³•çš„å‡½æ•°æŒ‡é’ˆã€‚ä¸ºäº†æ‰¾åˆ°æ­£ç¡®çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å¯¹ â€œattackï¼â€è¿™ä¸ªé”®åšä¸€ä¸ªå­—å…¸æŸ¥è¯¢ã€‚</p><img src="/What-Makes-Julia-Unique/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å‡ ä¸ªæ–¹æ³•ç»“å°¾å¤„çš„æ„Ÿå¹å·å¯èƒ½çœ‹èµ·æ¥å¾ˆç‰¹åˆ«ã€‚<br>åˆ«æ‹…å¿ƒï¼Œè¿™åªæ˜¯ä¸€ä¸ªå‘½åæƒ¯ä¾‹ï¼Œåœ¨Lispå’ŒJuliaä¸­æµè¡Œï¼Œç”¨äºçªå˜å‡½æ•°ã€‚å®ƒæ²¡æœ‰ä»»ä½•è¯­ä¹‰ä¸Šçš„æ„ä¹‰ã€‚</p><p>ä¸¥æ ¼åœ°è¯´ï¼Œåœ¨å¤§å¤šæ•°åŠ¨æ€è¯­è¨€ä¸­è°ˆè®ºå‡½æ•°æŒ‡é’ˆæ˜¯é”™è¯¯çš„ã€‚ä¾‹å¦‚ï¼Œåœ¨Rubyä¸­ï¼Œä½ å®é™…ä¸Šå¹¶æ²¡æœ‰ç”¨æœºå™¨ç æŒ‡å‘ä»»ä½•å­ç¨‹åºï¼Œè€Œæ˜¯æŒ‡å‘ç”±è§£ææ–¹æ³•äº§ç”Ÿçš„æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚Rubyè§£é‡Šå™¨è§£é‡ŠASTæ¥è¿è¡Œæ–¹æ³•ä¸­çš„ä»£ç ã€‚</p><img src="/What-Makes-Julia-Unique/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ä»¬åˆšæ‰è®¨è®ºçš„è¢«ç§°ä¸ºå•ä¸€è°ƒåº¦ï¼Œå› ä¸ºæˆ‘ä»¬æ ¹æ®å•ä¸€å¯¹è±¡æ¥å†³å®šè°ƒç”¨ä»€ä¹ˆæ–¹æ³•ã€‚<br>å¯¹è±¡bçš„ç±»å‹å¹¶ä¸ä»¥ä»»ä½•æ–¹å¼å½±å“æ–¹æ³•çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚<br>ç›¸æ¯”ä¹‹ä¸‹ï¼Œåœ¨multiple dispatchä¸­ï¼Œå‡½æ•°è°ƒç”¨ä¸­çš„æ¯ä¸€ä¸ªå‚æ•°éƒ½åœ¨å†³å®šå“ªä¸ªæ–¹æ³•è¢«é€‰ä¸­æ–¹é¢èµ·ä½œç”¨ã€‚æˆ‘çŸ¥é“è¿™å¬èµ·æ¥å¾ˆå¤æ€ªï¼Œæ‰€ä»¥è®©æˆ‘é€šè¿‡è§£é‡Šå•ä¸€è°ƒåº¦çš„é—®é¢˜æ¥ç»™ä½ ä¸€ä¸ªæ‹¥æœ‰multiple dispatchçš„åŠ¨æœºã€‚</p><h4 id="multiple-dispatchè§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ"><a href="#multiple-dispatchè§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ" class="headerlink" title="multiple dispatchè§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ"></a>multiple dispatchè§£å†³äº†å“ªäº›é—®é¢˜ï¼Ÿ</h4><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªç”¨Juliaä»£ç ç¼–å†™çš„battleï¼å‡½æ•°ã€‚<br>å®ƒé€šè¿‡è°ƒç”¨attackï¼å‡½æ•°æ¥æ¨¡æ‹Ÿä¸¤ä¸ªæˆ˜å£«aå’Œbä¹‹é—´çš„æˆ˜æ–—ï¼Œå¹¶æ ¹æ®ç»“æœå‘ç”¨æˆ·æ‰“å°å‡ºä¿¡æ¯ã€‚<br>ä¸‹é¢çš„å¤§éƒ¨åˆ†ä»£ç åº”è¯¥æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚åœ¨Juliaä¸­ï¼Œæˆ‘ä»¬ç”¨::æ¥åˆ†éš”å˜é‡åå’Œå˜é‡ç±»å‹ã€‚<br>å› æ­¤ï¼Œåœ¨ä»£ç çš„ä¾‹å­ä¸­ï¼Œa::Warriorï¼Œå‘Šè¯‰ Julia æˆ˜æ–—ï¼å‡½æ•°æœ‰ä¸€ä¸ªåä¸º a çš„ Warrior ç±»å‹çš„å‚æ•°ã€‚</p><pre class="line-numbers language-julia" data-language="julia"><code class="language-julia"><span class="token keyword">function</span> battle<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>Warrior<span class="token punctuation">,</span> b<span class="token punctuation">::</span>Warrior<span class="token punctuation">)</span>    attack<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>    <span class="token keyword">if</span> a<span class="token punctuation">.</span>health <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>health <span class="token operator">==</span> <span class="token number">0</span>        <span class="token keyword">println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">" and "</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">" destroyed each other"</span><span class="token punctuation">)</span>    <span class="token keyword">elseif</span> a<span class="token punctuation">.</span>health <span class="token operator">==</span> <span class="token number">0</span>        <span class="token keyword">println</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">" defeated "</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token keyword">elseif</span> b<span class="token punctuation">.</span>health <span class="token operator">==</span> <span class="token number">0</span>        <span class="token keyword">println</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">" defeated "</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token keyword">else</span>        <span class="token keyword">println</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">" survived attack from "</span><span class="token punctuation">,</span> a<span class="token punctuation">.</span>name<span class="token punctuation">)</span>    <span class="token keyword">end</span><span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹çœ‹è¿™äº›ä»£ç å¹¶é—®è‡ªå·±è¿™ä¸ªç®€å•çš„é—®é¢˜ã€‚<br>ç±»ä¼¼çš„ä»£ç åœ¨C++æˆ–Javaä¸­ä¹Ÿèƒ½å·¥ä½œå—ï¼Ÿä¹ä¸€çœ‹ï¼Œè¿™ä¼¼ä¹æ˜¯å¯èƒ½çš„ã€‚<br>è¿™ä¸¤ç§è¯­è¨€éƒ½å…è®¸ä½ å®šä¹‰å¤šä¸ªå…·æœ‰ç›¸åŒåç§°ä½†ä¸åŒå‚æ•°çš„å‡½æ•°ã€‚ä½ å¯ä»¥å†™ä¸€äº›ç±»ä¼¼äºä¸‹é¢Juliaä»£ç çš„ä¸œè¥¿ã€‚</p><pre class="line-numbers language-julia" data-language="julia"><code class="language-julia"><span class="token keyword">function</span> attack<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>Archer<span class="token punctuation">,</span> b<span class="token punctuation">::</span>Archer<span class="token punctuation">)</span>    <span class="token keyword">if</span> a<span class="token punctuation">.</span>arrows <span class="token operator">&gt;</span> <span class="token number">0</span>        shoot<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>        damage <span class="token operator">=</span> <span class="token number">6</span> <span class="token operator">+</span> rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span>        b<span class="token punctuation">.</span>health <span class="token operator">=</span> max<span class="token punctuation">(</span>b<span class="token punctuation">.</span>health <span class="token operator">-</span> damage<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">end</span>    a<span class="token punctuation">.</span>health<span class="token punctuation">,</span> b<span class="token punctuation">.</span>health<span class="token keyword">end</span><span class="token keyword">function</span> attack<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>Archer<span class="token punctuation">,</span> b<span class="token punctuation">::</span>Knight<span class="token punctuation">)</span>    <span class="token keyword">if</span> a<span class="token punctuation">.</span>arrows <span class="token operator">&gt;</span> <span class="token number">0</span>        shoot<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>        damage <span class="token operator">=</span> rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span>        <span class="token keyword">if</span> b<span class="token punctuation">.</span>mounted            damage <span class="token operator">+=</span> <span class="token number">3</span>        <span class="token keyword">end</span>        b<span class="token punctuation">.</span>health <span class="token operator">=</span> max<span class="token punctuation">(</span>b<span class="token punctuation">.</span>health <span class="token operator">-</span> damage<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">end</span>    a<span class="token punctuation">.</span>health<span class="token punctuation">,</span> b<span class="token punctuation">.</span>health<span class="token keyword">end</span><span class="token keyword">function</span> attack<span class="token operator">!</span><span class="token punctuation">(</span>a<span class="token punctuation">::</span>Knight<span class="token punctuation">,</span> b<span class="token punctuation">::</span>Knight<span class="token punctuation">)</span>    a<span class="token punctuation">.</span>health <span class="token operator">=</span> max<span class="token punctuation">(</span>a<span class="token punctuation">.</span>health <span class="token operator">-</span> rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    b<span class="token punctuation">.</span>health <span class="token operator">=</span> max<span class="token punctuation">(</span>b<span class="token punctuation">.</span>health <span class="token operator">-</span> rand<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>    a<span class="token punctuation">.</span>health<span class="token punctuation">,</span> b<span class="token punctuation">.</span>health<span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç çš„å…·ä½“å†…å®¹å¹¶ä¸é‡è¦ã€‚<br>æˆ‘æƒ³è®©ä½ ä»è¿™ä¸ªä»£ç ä¾‹å­ä¸­å¾—åˆ°çš„æ˜¯ï¼Œæˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸‰æ¬¡attack!ã€‚<br>æ¯ä¸ªå®šä¹‰éƒ½æ¥å—äº†ä¸åŒç±»å‹çš„å‚æ•°ã€‚åœ¨C++å’ŒJavaä¸­ï¼Œæˆ‘ä»¬æŠŠè¿™ç§°ä¸ºå‡½æ•°é‡è½½ã€‚åœ¨ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘å™¨ä¼šé€šè¿‡æ£€æŸ¥è°ƒç”¨å¤„çš„æ¯ä¸ªè¾“å…¥å‚æ•°çš„ç±»å‹æ¥é€‰æ‹©åˆé€‚çš„å‡½æ•°æ¥è°ƒç”¨ã€‚</p><p>è¿™é‡Œæœ‰ä¸€ä¸ªå…³é”®çš„é—®é¢˜ã€‚ä¸€ä¸ªC++ç¼–è¯‘å™¨ä¸å¯èƒ½çŒœåˆ°åœ¨battleï¼å‡½æ•°ä¸­è°ƒç”¨å“ªä¸ªattack!å‡½æ•°ï¼Œå› ä¸ºå®ƒä¸çŸ¥é“å‚æ•°aå’Œbçš„å…·ä½“ç±»å‹ã€‚å“ªä¸ªå­ç±»å‹åªæœ‰åœ¨ä»£ç å®é™…è¿è¡Œæ—¶æ‰èƒ½ç¡®å®šã€‚è¿™æ˜¯ä¸€ä¸ªæ— å¥ˆä¹‹ä¸¾ï¼Œå› ä¸ºå‡½æ•°é‡è½½åªåœ¨ç¼–è¯‘æ—¶å‘æŒ¥ä½œç”¨ã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œmultiple dispatchå¯ä»¥åšä¸€äº›å•ä¸€è°ƒåº¦å’Œå‡½æ•°é‡è½½éƒ½åšä¸åˆ°çš„äº‹æƒ…ã€‚å®ƒå¯ä»¥åœ¨è¿è¡Œæ—¶æ ¹æ®å‚æ•°aå’Œbçš„ç±»å‹æ¥é€‰æ‹©æ­£ç¡®çš„ä»£ç ã€‚</p><h4 id="multiple-dispatchæ˜¯å¦‚ä½•å·¥ä½œçš„"><a href="#multiple-dispatchæ˜¯å¦‚ä½•å·¥ä½œçš„" class="headerlink" title="multiple dispatchæ˜¯å¦‚ä½•å·¥ä½œçš„"></a>multiple dispatchæ˜¯å¦‚ä½•å·¥ä½œçš„</h4><p>è¿˜è®°å¾—å•æ¬¡æ´¾å‘æ˜¯å¦‚ä½•é€šè¿‡åœ¨è¿è¡Œæ—¶æŸ¥æ‰¾æ­£ç¡®çš„æ–¹æ³•æ¥å·¥ä½œçš„å—ï¼Ÿ<br>multiple dispatchä¹Ÿæ˜¯è¦é€‰æ‹©æ­£ç¡®çš„æ–¹æ³•ã€‚<br>ä½ åˆšæ‰çœ‹åˆ°çš„attack!å®šä¹‰å®é™…ä¸Šä¸æ˜¯å‡½æ•°çš„å®šä¹‰ï¼Œè€Œæ˜¯æ–¹æ³•çš„å®šä¹‰ã€‚è¦åœ¨Juliaä¸­å®šä¹‰ä¸€ä¸ªattack!å‡½æ•°ï¼Œä½ å¯ä»¥å†™:</p><pre class="line-numbers language-julia" data-language="julia"><code class="language-julia"><span class="token keyword">function</span> attack<span class="token operator">!</span> <span class="token keyword">end</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ºä»€ä¹ˆæ²¡æœ‰å‚æ•°ï¼Ÿå› ä¸º Julia å‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œè€Œ Julia æ–¹æ³•æœ‰å‚æ•°ã€‚<br>ä¸é¢å‘å¯¹è±¡çš„è¯­è¨€ä¸åŒï¼ŒJulia ä¸­çš„æ–¹æ³•æ˜¯é™„å±äºå‡½æ•°çš„ï¼Œè€Œä¸æ˜¯ç±»ã€‚</p><p>å› æ­¤ï¼Œåœ¨ Julia ä¸­ï¼Œå‡½æ•°çš„è°ƒç”¨æ˜¯é€šè¿‡é¦–å…ˆæŸ¥æ‰¾å“ªä¸ªå‡½æ•°è¢«è°ƒç”¨æ¥è¿›è¡Œçš„ã€‚<br>åœ¨æ¯ä¸ªå‡½æ•°ä¸Šï¼ŒJulia éƒ½æ³¨å†Œäº†ä¸€ä¸ªæ–¹æ³•è¡¨ã€‚è¿™ä¸ªè¡¨è¢«ä»ä¸Šåˆ°ä¸‹æœç´¢ï¼Œä»¥æ‰¾åˆ°ä¸€ä¸ªæ¥å—å‚æ•°ç±»å‹ä¸å‡½æ•°è°ƒç”¨å¤„æä¾›çš„è¾“å…¥å‚æ•°ç±»å‹ç›¸åŒ¹é…çš„æ–¹æ³•ã€‚</p><img src="/What-Makes-Julia-Unique/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Juliaæ˜¯ä¸€ç§å³æ—¶ç¼–è¯‘ï¼ˆJITï¼‰è¯­è¨€ï¼Œå› æ­¤æ–¹æ³•çš„æºä»£ç åœ¨å‡ ä¸ªæ­¥éª¤ä¸­å˜æˆäº†å¯æ‰§è¡Œçš„æœºå™¨ä»£ç ã€‚</p><ul><li>å½“Juliaæ–‡ä»¶è¢«åŠ è½½åˆ°å†…å­˜ä¸­æ—¶ï¼Œæ¯ä¸ªæ–¹æ³•çš„æºä»£ç éƒ½ä¼šè¢«è§£æå¹¶å˜æˆä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚</li><li>æ¯ä¸ªæ–¹æ³•çš„ASTè¢«å­˜å‚¨åœ¨æ­£ç¡®çš„æ–¹æ³•è¡¨ä¸­ï¼Œç”¨äºæ­£ç¡®çš„åŠŸèƒ½ã€‚</li><li>åœ¨è¿è¡Œæ—¶ï¼Œå½“ä¸€ä¸ªæ–¹æ³•è¢«å®šä½æ—¶ï¼Œæˆ‘ä»¬é¦–å…ˆå¾—åˆ°ASTã€‚ASTè¢«JITç¼–è¯‘å™¨è½¬åŒ–ä¸ºæœºå™¨ä»£ç ï¼Œå¹¶ä¸ºä»¥åçš„æŸ¥æ‰¾è¿›è¡Œç¼“å­˜ã€‚<br>è¿™ä¸ªè¿‡ç¨‹å®é™…ä¸Šæ¯”æˆ‘åœ¨è¿™é‡Œå±•ç¤ºçš„è¦å¤æ‚å¾—å¤šã€‚<br>ä½ çœ‹ï¼Œä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘å¯ä»¥æ˜¯éå¸¸é€šç”¨çš„ã€‚å®ƒå¯ä»¥æ˜¯ä¸€ä¸ªä¸ºæ•°å­—å‚æ•°å®šä¹‰çš„è®¡ç®—ã€‚æ— è®ºå‚æ•°æ˜¯16ä½æ— ç¬¦å·æ•´æ•°è¿˜æ˜¯32ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œæ‰€è¿›è¡Œçš„è®¡ç®—éƒ½æ˜¯ä¸€æ ·çš„ã€‚<br>ç„¶è€Œï¼Œè¿™äº›æƒ…å†µä¸‹çš„æ±‡ç¼–ä»£ç çœ‹èµ·æ¥å°±ä¸ä¸€æ ·äº†ã€‚<br>åŒä¸€ä¸ª AST å¯ä»¥äº§ç”Ÿå‡ ä¸ªæœºå™¨ä»£ç å­ç¨‹åºã€‚Julia å°†ä¸ºæ–¹æ³•è¡¨ä¸­çš„æ¯ä¸€ç§æƒ…å†µæ·»åŠ ä¸€ä¸ªæ¡ç›®ã€‚<br>å› æ­¤ï¼Œä¸€ä¸ªæ–¹æ³•è¡¨å¹¶ä¸å±€é™äºä½ æ‰€å†™çš„æºä»£ç çš„æ–¹æ³•æ•°é‡ã€‚</li></ul><h4 id="æ˜¯ä»€ä¹ˆä½¿Juliaçš„multiple-dispatchå˜å¾—ç‹¬ç‰¹"><a href="#æ˜¯ä»€ä¹ˆä½¿Juliaçš„multiple-dispatchå˜å¾—ç‹¬ç‰¹" class="headerlink" title="æ˜¯ä»€ä¹ˆä½¿Juliaçš„multiple dispatchå˜å¾—ç‹¬ç‰¹"></a>æ˜¯ä»€ä¹ˆä½¿Juliaçš„multiple dispatchå˜å¾—ç‹¬ç‰¹</h4><p>æ¯å½“ä½ åœ¨Juliaä¸­è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œéƒ½ä¼šè¿›è¡Œä¸€æ¬¡æ–¹æ³•æŸ¥æ‰¾ã€‚æˆ–è€…è¯´ï¼Œä»Juliaå¼€å‘è€…çš„è§’åº¦æ¥çœ‹ï¼Œè¿™å°±æ˜¯æ‰€å‘ç”Ÿçš„äº‹æƒ…ã€‚ä»£ç çš„è¿è¡Œå°±åƒæ¯æ¬¡éƒ½ä¼šå‘ç”Ÿä¸€æ ·ã€‚</p><p>åœ¨å…¶ä»–æ”¯æŒmultiple dispatchçš„è¯­è¨€ä¸­ï¼Œè¿™å¹¶ä¸æ˜¯å‘ç”Ÿçš„äº‹æƒ…ã€‚åªæœ‰ä»¥ç‰¹æ®Šæ–¹å¼æ ‡è®°çš„å‡½æ•°æ‰èƒ½åˆ©ç”¨multiple dispatchã€‚å¦åˆ™ï¼Œä¼šè¿›è¡Œå¸¸è§„çš„å‡½æ•°è°ƒç”¨ã€‚ä¸ºä»€ä¹ˆå…¶ä»–è¯­è¨€é™åˆ¶ä½¿ç”¨multiple dispatchï¼Ÿå› ä¸ºåœ¨Juliaå‡ºç°ä¹‹å‰ï¼Œmultiple dispatchæ˜¯éå¸¸æ…¢çš„ã€‚</p><p>ä¸éš¾æƒ³è±¡ä¸ºä»€ä¹ˆmultiple dispatchä¼šå¾ˆæ…¢ã€‚ä¸å…¶åœ¨æ’å®šæ—¶é—´å†…åšä¸€æ¬¡å­—å…¸æŸ¥è¯¢ï¼Œå³ O(1)ï¼Œä¸å¦‚åœ¨ä¸€ä¸ªå¤§è¡¨ä¸­åšä¸€æ¬¡çº¿æ€§æœç´¢ï¼Œå³ O(N)ã€‚å‡½æ•°å¯ä»¥æœ‰å·¨å¤§çš„æ–¹æ³•è¡¨ã€‚</p><p>Julia æ˜¯å¦‚ä½•è§„é¿è¿™ä¸ªé—®é¢˜çš„å‘¢ï¼Ÿ<br>Julia æ˜¯å›´ç»•ç€ä¿æŒç±»å‹å°½å¯èƒ½ç¨³å®šçš„æƒ³æ³•è€Œè®¾è®¡çš„ã€‚åœ¨åƒ Python æˆ– JavaScript è¿™æ ·çš„è¯­è¨€ä¸­ï¼Œæƒ…å†µå¹¶éå¦‚æ­¤ã€‚å­—æ®µå’Œæ–¹æ³•å¯ä»¥åœ¨è¿è¡Œæ—¶è¢«æ·»åŠ æˆ–åˆ é™¤ã€‚å•ä¸ªå­—æ®µçš„ç±»å‹å¯ä»¥æ”¹å˜ã€‚åœ¨ Julia ä¸­ï¼Œç±»å‹åœ¨è®¾è®¡ä¸Šè¢«é”å®šå¾—æ›´å¤šã€‚å½“ä½ å®šä¹‰ä¸€ä¸ªå¤åˆç±»å‹æ—¶ï¼Œä½ å›ºå®šäº†å­—æ®µçš„æ•°é‡å’Œå®ƒä»¬çš„ç±»å‹ã€‚</p><p>è¿™ç§è®¾è®¡é€‰æ‹©æ˜¯å¦‚ä½•å½±å“multiple dispatchçš„å‘¢ï¼Ÿ<br>è¿™æ„å‘³ç€ Julia JIT ç¼–è¯‘å™¨æ‰€åšçš„ä»£ç åˆ†æå˜å¾—æ›´åŠ å®¹æ˜“ã€‚ä»£ç çš„è¡Œä¸ºå˜å¾—æ›´åŠ å¯é¢„æµ‹ï¼Œè¿™ä½¿å¾—æœ‰å¯èƒ½è¯†åˆ«æ›´å¤šçš„æƒ…å†µï¼Œå½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œåº”è¯¥è¢«å®šä½çš„æ–¹æ³•å˜å¾—å®Œå…¨ç¡®å®šå’Œå¯é¢„æµ‹ã€‚<br>è®°ä½ï¼Œå¦‚æœå‡½æ•°è°ƒç”¨çš„å‚æ•°ç±»å‹ä¿æŒä¸å˜ï¼Œé‚£ä¹ˆJuliaå°†æ€»æ˜¯æŸ¥æ‰¾åŒä¸€ä¸ªæ–¹æ³•ã€‚<br>å¦‚æœä»£ç åˆ†æèƒ½å¤Ÿç¡®å®šå‡½æ•°çš„å“ªäº›å‚æ•°æ°¸è¿œä¸ä¼šè¢«æ”¹å˜ï¼Œé‚£ä¹ˆJITç¼–è¯‘å™¨å°±å¯ä»¥ç”¨ä¸€ä¸ªç›´æ¥çš„å‡½æ•°è°ƒç”¨æ¥ä»£æ›¿å¤šæ¬¡è°ƒåº¦çš„æŸ¥æ‰¾ã€‚å¦‚æœä»£ç å¾ˆçŸ­ï¼Œå®ƒç”šè‡³å¯ä»¥è¢«å†…è”ã€‚</p><p>å› æ­¤ï¼ŒJuliaæˆåŠŸåœ°å°†å¼€å§‹æ—¶çš„æ€§èƒ½åŠ£åŠ¿å˜æˆäº†æ€§èƒ½ä¼˜åŠ¿ã€‚ä½ çœ‹æ­£å› ä¸ºå¦‚æ­¤ï¼ŒJulia çš„å‡½æ•°è°ƒç”¨ä¸€èˆ¬ä¼šæ¯”é¢å‘å¯¹è±¡è¯­è¨€çš„å•æ¬¡è°ƒåº¦è°ƒç”¨å¿«å¾—å¤šã€‚</p><p>ä¸€æ—¦ä½ å¾—åˆ°äº†é—ªç”µèˆ¬çš„é€Ÿåº¦ï¼Œåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨multiple dispatchï¼Œä½ çš„ç¼–ç é£æ ¼å°±ä¼šæ”¹å˜ã€‚å§‹ç»ˆæœ‰å¤šè·¯è°ƒåº¦å¯ç”¨ï¼Œå¯¹ Julia ç¤¾åŒºçš„è½¯ä»¶å·¥ç¨‹å®è·µäº§ç”Ÿäº†æ·±è¿œçš„å½±å“ã€‚</p><h4 id="é€šè¿‡multiple-dispatché‡ç”¨ä»£ç "><a href="#é€šè¿‡multiple-dispatché‡ç”¨ä»£ç " class="headerlink" title="é€šè¿‡multiple dispatché‡ç”¨ä»£ç "></a>é€šè¿‡multiple dispatché‡ç”¨ä»£ç </h4><p>é¢å‘å¯¹è±¡è¯­è¨€çš„ç”¨æˆ·é€šè¿‡ç»§æ‰¿ç±»å’Œå®ç°æ¥å£æ¥é‡ç”¨ä»£ç ï¼Œè¿™ä½¿å¾—äººä»¬å¯ä»¥å°†æ–°çš„ä»£ç æ’å…¥ç°æœ‰çš„æ¡†æ¶ä¸­ã€‚<br>Juliaçš„æ–¹æ³•æ˜¯åœ¨å‡½æ•°å±‚é¢ä¸Šè¿›è¡Œé‡ç”¨ã€‚<br>ä¸åŒçš„å¼€å‘è€…éƒ½å¯ä»¥å‘ç›¸åŒçš„å‡½æ•°æ·»åŠ æ–¹æ³•ã€‚æˆ‘ä»¬ä¸æ˜¯æ‰©å±•ç±»ï¼Œè€Œæ˜¯æ‰©å±•å‡½æ•°ã€‚å› ä¸ºå‡½æ•°å­˜åœ¨äºè¾ƒä½çš„ç²’åº¦æ°´å¹³ä¸Šï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¾—åˆ°æ›´å¤šçš„ä»£ç é‡ç”¨æœºä¼šã€‚</p><p>è¿™ç§çµæ´»æ€§çš„ä¸€ä¸ªç®€å•ä¾‹å­æ˜¯å®šä¹‰åœ¨ Julia æ ‡å‡†åº“ä¸­çš„ show å‡½æ•°ã€‚<br>å®ƒè¢«Juliaç”¨æ¥åœ¨ä¸åŒçš„èƒŒæ™¯ä¸‹æ˜¾ç¤ºä¸€ä¸ªå€¼ã€‚ä¸Šä¸‹æ–‡å¯ä»¥æ˜¯ REPLï¼ˆäº¤äº’å¼å‘½ä»¤è¡Œï¼‰ã€ç¬”è®°æœ¬æˆ– IDE ç¯å¢ƒã€‚åŒ¹é…ä»¥ä¸‹ä¸¤ä¸ªç­¾åçš„æ–¹æ³•å¯ä»¥è¢«æ·»åŠ åˆ°showå‡½æ•°ä¸­ã€‚</p><pre class="line-numbers language-julia" data-language="julia"><code class="language-julia">show<span class="token punctuation">(</span>io<span class="token punctuation">::</span>IO<span class="token punctuation">,</span> mime<span class="token punctuation">,</span> x<span class="token punctuation">)</span>show<span class="token punctuation">(</span>io<span class="token punctuation">::</span>IO<span class="token punctuation">,</span> x<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ioå¯¹è±¡ä»£è¡¨ä¸€ä¸ªæ˜¾ç¤ºå€¼xçš„ç›®æ ‡ã€‚ioå¯ä»¥æ˜¯æ§åˆ¶å°çª—å£ã€æ–‡ä»¶ã€æ–‡æœ¬å­—ç¬¦ä¸²ã€å¥—æ¥å­—æˆ–å›¾å½¢æ˜¾ç¤ºã€‚å€¼xå¯ä»¥æ˜¯ä¸€ä¸ªç®€å•çš„æ•°å­—ã€æ—¥æœŸã€æ–‡æœ¬å­—ç¬¦ä¸²æˆ–æ›´å¤æ‚çš„å¯¹è±¡ï¼Œå¦‚å­—å…¸æˆ–æ•°ç»„ã€‚</p><p>ä¸é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ä¸åŒï¼Œä½ å¯ä»¥æ²¿ç€å¤šä¸ªç»´åº¦æ‰©å±•æ˜¾ç¤ºåŠŸèƒ½ã€‚<br>ä½ å¯ä»¥ä¸ºå…¨æ–°çš„IOå­ç±»å‹æ·»åŠ æ˜¾ç¤ºæ–¹æ³•ï¼Œåˆ›å»ºè¿™äº›æ–¹æ³•æ˜¯ä¸ºäº†åœ¨æ–°çš„èƒŒæ™¯ä¸‹æ˜¾ç¤ºç°æœ‰çš„å€¼ç±»å‹ã€‚<br>æ¯”å¦‚æˆ‘ä»¬åˆ›å»ºäº†ç‰¹æ®Šçš„ç±»å‹æ¥è¡¨ç¤ºæ¸©åº¦å•ä½æ‘„æ°åº¦ã€åæ°åº¦å’Œå¼€å°”æ–‡ã€‚å¯ä»¥ä¸ºæ˜¾ç¤ºæ–¹æ³•æ·»åŠ ï¼Œè¿™æ ·ä»£è¡¨æ¸©åº¦çš„æ•°å­—å°±ä¼šä»¥æ­£ç¡®çš„å•ä½æ˜¾ç¤ºã€‚</p><p><em>è¯·æ³¨æ„ï¼Œåœ¨Juliaä¸­å¯ä»¥ç”¨ç­‰å·æ¥å®šä¹‰å•è¡Œå‡½æ•°ã€‚</em></p><pre class="line-numbers language-julia" data-language="julia"><code class="language-julia">show<span class="token punctuation">(</span>io<span class="token punctuation">::</span>IO<span class="token punctuation">,</span> t<span class="token punctuation">::</span>Celsius<span class="token punctuation">)</span>    <span class="token operator">=</span> <span class="token keyword">print</span><span class="token punctuation">(</span>io<span class="token punctuation">,</span> t<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token string">"Â°C"</span><span class="token punctuation">)</span>show<span class="token punctuation">(</span>io<span class="token punctuation">::</span>IO<span class="token punctuation">,</span> t<span class="token punctuation">::</span>Fahrenheit<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">print</span><span class="token punctuation">(</span>io<span class="token punctuation">,</span> t<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token string">"Â°F"</span><span class="token punctuation">)</span>show<span class="token punctuation">(</span>io<span class="token punctuation">::</span>IO<span class="token punctuation">,</span> t<span class="token punctuation">::</span>Kelvin<span class="token punctuation">)</span>     <span class="token operator">=</span> <span class="token keyword">print</span><span class="token punctuation">(</span>io<span class="token punctuation">,</span> t<span class="token punctuation">.</span>value<span class="token punctuation">,</span> <span class="token string">"K"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¸ºäº†ç†è§£ä¸ºä»€ä¹ˆè¿™ç§æ‰©å±•æœºåˆ¶å¦‚æ­¤å¼ºå¤§ï¼Œè¯·å…è®¸æˆ‘æŒ‡å‡ºä¸€äº›ä½ è¯•å›¾ç”¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ¥å¤åˆ¶è¿™ç§æ‰©å±•æœºåˆ¶ä¼šé¢ä¸´çš„é—®é¢˜ã€‚ä½ å¯ä»¥è®¾è®¡ä¸€ä¸ªç³»ç»Ÿï¼Œæ¯ä¸ªå¯¹è±¡éƒ½å¿…é¡»å®ç°ä¸€ä¸ªæ˜¾ç¤ºæ–¹æ³•æ‰èƒ½è¢«æ˜¾ç¤ºï¼Œä½†è¿™ç§é€‰æ‹©ä¼šå¯¼è‡´å‡ ä¸ªé—®é¢˜ã€‚</p><ul><li>æ‰€æœ‰çš„ç±»éƒ½å¿…é¡»ç»§æ‰¿ä¸€ä¸ªå…·æœ‰æ˜¾ç¤ºæ–¹æ³•çš„åŸºç±»ã€‚</li><li>æ¯ä¸ªå¯¹è±¡éƒ½ä¼šåœ¨æ¯ä¸ªIOå¯¹è±¡ç±»å‹ä¸Šå¾—åˆ°ç›¸åŒçš„è¡¨ç¤ºã€‚</li></ul><p>è¯·å…è®¸æˆ‘è¯¦ç»†è¯´æ˜ä¸€ä¸‹ã€‚è®¸å¤šé¢å‘å¯¹è±¡çš„ç³»ç»Ÿæœ€ç»ˆä¼šå‡ºç°è¿‡äºå¤æ‚çš„åŸºç±»ã€‚åŸå› æ˜¯ä½ æƒ³ä¸ºæ¯ä¸ªå¯¹è±¡æ”¯æŒè¿™ä¹ˆå¤šçš„åŠŸèƒ½ã€‚</p><ul><li>åœ¨ä¸åŒçš„ç¯å¢ƒä¸­å¯¹ä¸€ä¸ªå¯¹è±¡è¿›è¡Œå¯è§†åŒ–ï¼Œæ¯”å¦‚åœ¨è°ƒè¯•å™¨ä¸­</li><li>ç”¨äºæ‰“å°æˆ–å­˜å‚¨åˆ°æ–‡ä»¶çš„æ–‡æœ¬è¡¨ç¤ºæ³•</li><li>å…è®¸åœ¨ä¸€ä¸ªé›†åˆä¸­ä½¿ç”¨è¯¥å¯¹è±¡çš„å“ˆå¸Œå‡½æ•°<br>ä½ å¯ä»¥åœ¨Javaå’ŒObjective-Cä¸­æ‰¾åˆ°è¿™ç§æ¨¡å¼ï¼Œä¾‹å¦‚ã€‚è¿™æ ·çš„æ–¹æ³•æ˜¯åƒµåŒ–å’Œä¸çµæ´»çš„ã€‚å¦‚æœä½ æŠŠåŸºç±»çš„è®¾è®¡å¼„é”™äº†ï¼Œå°±ä¼šå¯¹æ‰€æœ‰ä¾èµ–çš„ä»£ç äº§ç”Ÿä¸¥é‡çš„åæœã€‚</li></ul><p>æ›´ä¸ç”¨è¯´ï¼Œå¦‚æœè¯­è¨€è®¾è®¡è€…å¿˜è®°æ·»åŠ ä¸€ä¸ªæ˜¾ç¤ºæ–¹æ³•ï¼Œé‚£ä¹ˆå°±æ²¡æœ‰ç®€å•çš„æ–¹æ³•æ¥æ”¹é€ å®ƒã€‚åªæœ‰å¯¹æ ‡å‡†åº“çš„æ›´æ–°æ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä½ ä½œä¸ºä¸€ä¸ªç¬¬ä¸‰æ–¹å¼€å‘è€…ï¼Œæ˜¯æ— æ³•æ”¹é€ ä¸€ä¸ªè§£å†³æ–¹æ¡ˆçš„ã€‚ç›¸åï¼Œå¦‚æœJuliaæ ‡å‡†åº“æ²¡æœ‰å®šä¹‰æ˜¾ç¤ºå‡½æ•°ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°è‡ªå·±å®šä¹‰å®ƒï¼Œå¹¶å‘å¸ƒä¸€ä¸ªä¸ºæ™®é€šå¯¹è±¡å®ç°å¯è§†åŒ–çš„åº“ï¼Œä½ å¯ä»¥æŠŠå®ƒå‘å¸ƒç»™å…¶ä»–äººã€‚</p><img src="/What-Makes-Julia-Unique/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è®©æˆ‘ä»¬å†è°ˆè°ˆI/Oç³»ç»Ÿçš„é—®é¢˜ã€‚å‡è®¾ä½ å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå«åšVector2Dçš„2DçŸ¢é‡ç±»å‹ã€‚<br>å½“åœ¨æ§åˆ¶å°ä¸­ä½¿ç”¨æ—¶ï¼Œä½ å¯èƒ½æƒ³æŠŠä¸€ä¸ªå‘é‡æ˜¾ç¤ºä¸º[4, 8]ï¼Œè€Œå¦‚æœI/Oå¯¹è±¡ä»£è¡¨ä¸€ä¸ªå›¾å½¢æ˜¾ç¤ºï¼Œä½ ä¼šæƒ³æ˜¾ç¤ºä¸€ä¸ªç®­å¤´ã€‚<br>è¿™ä¸¤ç§é€‰æ‹©åœ¨ Julia ä¸­éƒ½æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºä½ å¯ä»¥ä¸º io å‚æ•°æ˜¯ä¸€ä¸ªå›¾å½¢æ˜¾ç¤ºï¼Œè€Œ x å‚æ•°æ˜¯ä¸€ä¸ª 2D çŸ¢é‡çš„æƒ…å†µç¼–å†™ä¸€ä¸ªä¸“é—¨æ–¹æ³•ã€‚<br>ä¸æ­¤ç›¸åï¼Œé¢å‘å¯¹è±¡çš„è¯­è¨€åªèƒ½æ ¹æ®ioæˆ–xçš„ç±»å‹æ¥é€‰æ‹©æ‰§è¡Œçš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯ä¸¤è€…ã€‚<br>è¯·è®°ä½ï¼Œåœ¨å•è°ƒåº¦ä¸­ï¼Œè¿è¡Œæ—¶è¦è°ƒç”¨çš„æ–¹æ³•æ˜¯æ ¹æ®å•ä¸ªå‚æ•°çš„ç±»å‹æ¥é€‰æ‹©çš„ï¼Œè€Œä¸æ˜¯å¤šä¸ªå‚æ•°ã€‚</p><p>å½“ç„¶ï¼Œä½ å¯ä»¥æŠ›å‡ºä¸€ä¸ªswitch-caseè¯­å¥æ¥å¤„ç†ä¸åŒçš„ç±»å‹ï¼Œä½†è¿™æ˜¯ä¸å¯æ‰©å±•çš„ã€‚æ¯æ¬¡ä½ å¢åŠ ä¸€ä¸ªæ–°çš„ç±»å‹ï¼Œä½ éƒ½å¿…é¡»ä¿®æ”¹switch-caseè¯­å¥ã€‚è¿™ä½¿ä½ æ— æ³•å°†ä½ çš„ä»£ç ä½œä¸ºä¸€ä¸ªå¯é‡ç”¨çš„åº“æ¥å‘å¸ƒã€‚<br>åº“çš„ç”¨æˆ·ä¸åº”è¯¥ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“çš„æºä»£ç æ¥æ‰©å±•å®ƒã€‚</p><h4 id="multiple-dispatchçš„æ•ˆç”¨"><a href="#multiple-dispatchçš„æ•ˆç”¨" class="headerlink" title="multiple dispatchçš„æ•ˆç”¨"></a>multiple dispatchçš„æ•ˆç”¨</h4><p>æ¨¡æ‹Ÿä¸åŒç±»å‹çš„æˆ˜å£«ä¹‹é—´çš„æˆ˜æ–—æˆ–åˆ¶ä½œä¸€ä¸ªI/Oç³»ç»Ÿï¼Œå½“ç„¶åªæ˜¯multiple dispatchç®€åŒ–ç¼–ç çš„å°‘æ•°æƒ…å†µã€‚<br>æˆ‘ç¬¬ä¸€æ¬¡å‘ç°è‡ªå·±åœ¨ä¸ºè§†é¢‘æ¸¸æˆçš„ç¢°æ’æ£€æµ‹ç¼–ç æ—¶éœ€è¦è¿™æ ·çš„ä¸œè¥¿ã€‚<br>ä¸åŒçš„æ¸¸æˆå¯¹è±¡å°†ç”±ä¸åŒçš„å‡ ä½•å½¢çŠ¶æ¥è¡¨ç¤ºã€‚<br>é—®é¢˜æ˜¯ï¼Œè®¡ç®—ä¸¤ä¸ªåœ†å½¢ã€ä¸¤ä¸ªæ­£æ–¹å½¢æˆ–ä¸€ä¸ªåœ†å½¢å’Œä¸€ä¸ªæ­£æ–¹å½¢ä¹‹é—´çš„äº¤ç‚¹æ˜¯å®Œå…¨ä¸åŒçš„ã€‚<br>ä½ ä¸èƒ½åªçœ‹ä¸€ä¸ªå‚æ•°å°±ç¡®å®šè¦ä½¿ç”¨çš„ç®—æ³•ï¼Œä½ éœ€è¦ä¸¤ä¸ªå‚æ•°ã€‚å¦‚æœæ²¡æœ‰multiple dispatchï¼Œä½ çš„è§£å†³æ–¹æ¡ˆå°±ä¼šå˜å¾—å¾ˆæ··ä¹±ã€‚</p><img src="/What-Makes-Julia-Unique/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p>multiple dispatchä¹Ÿè‡ªç„¶é€‚åˆäºä»»ä½•æ•°å­—å·¥ä½œã€‚å¯¹æ•°å­—çš„æ“ä½œé€šå¸¸æ˜¯äºŒè¿›åˆ¶çš„ã€‚å¦‚æœåªçœ‹ç¬¬ä¸€ä¸ªæ•°å­—çš„ç±»å‹æ¥å†³å®šå¦‚ä½•ç»„åˆä¸¤ä¸ªæ•°å­—ï¼Œæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œmultiple dispatchå°±åƒä¸€æŠŠç‘å£«å†›åˆ€ã€‚å®ƒå¯ä»¥å¸®åŠ©ç¨‹åºè¿è¡Œå¾—æ›´å¿«ï¼Œè®©ä½ ä¼˜é›…åœ°è§£å†³è®¸å¤šé—®é¢˜ï¼Œå¹¶ä¸ºä»£ç é‡ç”¨æä¾›äº†ä¸€ç§å“è¶Šçš„æ‰‹æ®µã€‚<br>è¿™å¬èµ·æ¥å¯èƒ½æœ‰ç‚¹å¤¸å¼ ï¼Œä½†æˆ‘çœŸçš„ç›¸ä¿¡multiple dispatchå°†å®šä¹‰æœªæ¥çš„ç¼–ç¨‹èŒƒå¼ã€‚</p><!-- https://itnext.io/what-makes-julia-unique-f3ad184fa4a2 -->]]></content>
      
      
      <categories>
          
          <category> Julia </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Julia </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>15ä¸ªå…è´¹çš„APIï¼Œä½ å¯ä»¥åœ¨è‡ªå·±çš„é¡¹ç›®é‡Œè¯•è¯•</title>
      <link href="/15-Free-APIs-for-your-Programming-Projects.html"/>
      <url>/15-Free-APIs-for-your-Programming-Projects.html</url>
      
        <content type="html"><![CDATA[<p>APIæ˜¯åº”ç”¨ç¼–ç¨‹æ¥å£çš„æ„æ€ã€‚<br>ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜ï¼Œä½¿ç”¨å¤–éƒ¨å·¥å…·æ˜¯åŠ å¿«ä½ æƒ³å»ºç«‹çš„é¡¹ç›®å¼€å‘çš„ä¸€ä¸ªå¥½æ–¹æ³•ã€‚<br>APIç®€åŒ–äº†å¼€å‘è€…å¦‚ä½•å°†æ–°çš„åº”ç”¨ç»„ä»¶é›†æˆåˆ°ç°æœ‰çš„æ¶æ„ä¸­ã€‚<br>è¿™é‡Œæœ‰15ä¸ªAPIï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥å¸®åŠ©ä½ å¯åŠ¨ä¸€ä¸ªæƒŠäººçš„é¡¹ç›®ã€‚<br>æ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥åœ¨ä»–ä»¬çš„ç¼–ç¨‹é¡¹ç›®ä¸­ä½¿ç”¨è¿™15ä¸ªAPIã€‚</p><span id="more"></span><h4 id="â­Fake-Store-API"><a href="#â­Fake-Store-API" class="headerlink" title="â­Fake Store API"></a>â­<a href="http://fakestoreapi.com/">Fake Store API</a></h4><p>å¦‚æœä½ æ­£åœ¨åˆ›å»ºä¸€ä¸ªç”µå­å•†åŠ¡å•†åº—ï¼Œé‚£ä¹ˆè¿™ä¸ªAPIæ˜¯ä¸ºä½ å‡†å¤‡çš„ã€‚<br>ç”µå­å•†åŠ¡å•†åº—æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„é¡¹ç›®ï¼Œæœ‰äº†Fake Store APIï¼Œå®ƒå°±å˜å¾—æ›´å®¹æ˜“äº†ã€‚<br>å¿˜æ‰åå°å’Œæ•°æ®åº“çš„ç¹çï¼Œä¸“æ³¨äºå»ºç«‹è´­ç‰©è½¦ã€æ„¿æœ›æ¸…å•ã€æ¨èå’Œå…¶ä»–åŠŸèƒ½ã€‚</p><h4 id="â­Words-API"><a href="#â­Words-API" class="headerlink" title="â­Words API"></a>â­<a href="https://www.wordsapi.com/">Words API</a></h4><p>ä¸€ä¸ªè‹±è¯­è¯­è¨€çš„APIã€‚Words APIæ˜¯ä¸€ç»„Restful APIï¼Œå…è®¸å¼€å‘è€…æŸ¥è¯¢å•è¯çš„å®šä¹‰ã€ä¸Šä¸‹æ–‡ç»†èŠ‚å’Œå…¶ä»–å½¢æ€ä¸Šçš„å•è¯ç‰¹å®šä¿¡æ¯ï¼Œå¦‚åŒä¹‰è¯ã€ç¤ºä¾‹ç”¨æ³•ã€è¯­ç¯‡ã€æŠ¼éŸµã€ä½¿ç”¨åŒºåŸŸç­‰ã€‚</p><h4 id="â­éšæœºç”¨æˆ·æ•°æ®API"><a href="#â­éšæœºç”¨æˆ·æ•°æ®API" class="headerlink" title="â­éšæœºç”¨æˆ·æ•°æ®API"></a>â­<a href="https://randomuser.me/">éšæœºç”¨æˆ·æ•°æ®API</a></h4><p>ä¸è¦å†æµªè´¹æ—¶é—´æ‰‹åŠ¨åˆ›å»ºå‡çš„ç”¨æˆ·æ•°æ®ã€‚<br>åªéœ€ä»è¿™ä¸ªAPIæ‹‰è¿‡å…¨é¢çš„éšæœºç”¨æˆ·æ•°æ®ã€‚å¯¹é¡¹ç›®æ¥è¯´æ˜¯éå¸¸æ–¹ä¾¿çš„APIã€‚<br>è€Œä¸”å®ƒæ¯”ç¡¬ç¼–ç æ•°æ®æ›´èƒ½æ¨¡æ‹ŸçœŸå®çš„åšæ³•ã€‚</p><h4 id="â­Quotes-API"><a href="#â­Quotes-API" class="headerlink" title="â­Quotes API"></a>â­<a href="https://api-ninjas.com/api/quotes">Quotes API</a></h4><p>Quotes APIæä¾›äº†å†å²ä¸Šå‡ ä¹æ— ç©·æ— å°½çš„åäººåè¨€ã€‚<br>Quotes APIç»“åˆäº†æ£€ç´¢è¯åˆ¸æ—¥ç»ˆä»·æ ¼ã€å»¶è¿Ÿä»·æ ¼å’Œå®æ—¶ä»·æ ¼çš„ç«¯ç‚¹ï¼Œä»¥åŠè¯åˆ¸å’Œå¸‚åœºå±‚é¢çš„ä¸šç»©å…³é”®æ•°å­—å’ŒåŸºæœ¬å‚è€ƒæ•°æ®ã€‚</p><h4 id="â­DummyAPI"><a href="#â­DummyAPI" class="headerlink" title="â­DummyAPI"></a>â­<a href="http://dummyapi.io/">DummyAPI</a></h4><p>Dummy APIæ‹¥æœ‰ä½ æ‰€éœ€è¦çš„ä¸€åˆ‡ï¼Œä½¿ä½ çš„åº”ç”¨ç¨‹åºçœ‹èµ·æ¥åƒæœ‰çœŸå®çš„ç”¨æˆ·æ´»åŠ¨åœ¨çƒ­é—¹ã€‚ä»å‡ç”¨æˆ·åˆ°å‡è¯„è®ºå’Œå¸–å­ã€‚å‘Šåˆ«ç¡¬ç¼–ç çš„JSONæ•°æ®ã€‚</p><h4 id="â­Sejda"><a href="#â­Sejda" class="headerlink" title="â­Sejda"></a>â­<a href="https://www.sejda.com/">Sejda</a></h4><p>æ˜¯å¦æ›¾ç»ä¸å¾—ä¸ä¸‹è½½ä¸€ä¸ªPDFï¼Œåªæ˜¯ä¸ºäº†é˜…è¯»æˆ–ç¼–è¾‘å®ƒï¼Ÿ<br>åªæ˜¯ä¸ºäº†å†æ¬¡ä¸Šä¼ ä¿®æ”¹å†…å®¹ã€‚ä¸è¦è®©æ‚¨çš„ç”¨æˆ·å¿å—è¿™ç§ç³Ÿç³•çš„ç”¨æˆ·ä½“éªŒã€‚ä½¿ç”¨Sejdaçš„APIï¼Œä½ å¯ä»¥ç›´æ¥ä»ä½ çš„Webåº”ç”¨ä¸­é˜…è¯»å’Œç¼–è¾‘PDFã€‚</p><h4 id="â­IGDB-API"><a href="#â­IGDB-API" class="headerlink" title="â­IGDB API"></a>â­<a href="https://www.igdb.com/api">IGDB API</a></h4><p>äº’è”ç½‘æ¸¸æˆæ•°æ®åº“ã€‚</p><p>IGDBæ˜¯ä¸€ä¸ªæµè¡Œçš„è§†é¢‘æ¸¸æˆæ•°æ®åº“ç½‘ç«™ï¼Œå®ƒæœ‰ä¸€ä¸ªå¼ºå¤§å’Œå…¬å¼€çš„APIã€‚<br>è¿™æœ‰åŠ©äºæˆ‘ä»¬éœ€è¦è§†é¢‘æ¸¸æˆæ•°æ®çš„æ¯ä¸ªé¡¹ç›®â€“å¦‚å‘å¸ƒæ—¥æœŸã€Metacriticè¯„åˆ†ã€æ ‡ç­¾ç­‰ã€‚<br>è¿™åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹æ•ˆæœå¾ˆå¥½ï¼Œç‰¹åˆ«æ˜¯è‡ªV4ä»¥æ¥ï¼ŒTwitchï¼ˆäºšé©¬é€Šï¼‰ä¹Ÿè¢«æ”¯æŒè¯¥APIäº†ã€‚</p><h4 id="â­Movie-DB-API-TMDB"><a href="#â­Movie-DB-API-TMDB" class="headerlink" title="â­Movie DB API (TMDB)"></a>â­<a href="https://www.themoviedb.org/documentation/api">Movie DB API (TMDB)</a></h4><p>è¿™ä¸ªAPIæ˜¯å²è¯—çº§çš„! å®ƒæœ‰è¿™ä¹ˆå¤šçš„æ•°æ®ï¼Œæœ‰å¾ˆå¥½çš„æ–‡æ¡£ï¼Œå¹¶å…è®¸ä½ åˆ›å»ºä»¤äººéš¾ä»¥ç½®ä¿¡çš„åº”ç”¨ç¨‹åºï¼Œå¦‚Netflixçš„å…‹éš†ã€‚<br>è€Œä¸”å®ƒæ˜¯å®Œå…¨å…è´¹çš„ã€‚åªè¦æŠŠå®ƒä»¬å½’å…¥ä½ çš„åº”ç”¨ç¨‹åºã€‚</p><h4 id="â­Mailchimp"><a href="#â­Mailchimp" class="headerlink" title="â­Mailchimp"></a>â­<a href="https://mailchimp.com/">Mailchimp</a></h4><p>è¯´ â€œæˆ‘æ˜¯ä¸“å®¶ â€œçš„æœ€å¥½æ–¹å¼è«è¿‡äºå‘æ‚¨çš„ç”¨æˆ·è‡ªåŠ¨å‘é€æ¬¢è¿é‚®ä»¶ã€‚<br>æœ‰äº†Mailchimpæ…·æ…¨çš„å…è´¹å±‚çº§ï¼Œä½ å°±å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹!<br>Mailchimpçš„ç»å…¸è‡ªåŠ¨åŒ–åŠŸèƒ½å¯ä»¥è®©ä½ å»ºç«‹ä¸€ç³»åˆ—çš„é‚®ä»¶ï¼Œåœ¨ç‰¹å®šçš„æ—¥æœŸã€æ´»åŠ¨æˆ–äº‹ä»¶çš„è§¦å‘ä¸‹å‘é€ç»™ç”¨æˆ·ã€‚ä½¿ç”¨APIæ¥ç®¡ç†è‡ªåŠ¨åŒ–å·¥ä½œæµç¨‹ã€ç”µå­é‚®ä»¶å’Œé˜Ÿåˆ—ã€‚</p><h4 id="â­Mapbox"><a href="#â­Mapbox" class="headerlink" title="â­Mapbox"></a>â­<a href="https://www.mapbox.com/">Mapbox</a></h4><p>æ­£åœ¨å»ºç«‹ä¸€ä¸ªåŸºäºä½ç½®çš„é¡¹ç›®å—ï¼Ÿè¿™æ˜¯ä¸ºä½ å‡†å¤‡çš„API! è¢«Stravaç­‰çŸ¥åå…¬å¸ä½¿ç”¨ï¼Œæ‰€ä»¥ä½ çŸ¥é“ä»–ä»¬çš„APIæ˜¯é¡¶çº§è´¨é‡çš„ã€‚<br>ä»–ä»¬çš„å…è´¹ç­‰çº§é—¨æ§›éå¸¸æ…·æ…¨ï¼Œä½ å¯ä»¥ä½¿ç”¨Mapboxè€Œä¸éœ€è¦æ”¯ä»˜ä¸€åˆ†é’±ã€‚</p><h4 id="â­å¸‚åœºæ•°æ®API"><a href="#â­å¸‚åœºæ•°æ®API" class="headerlink" title="â­å¸‚åœºæ•°æ®API"></a>â­<a href="https://site.financialmodelingprep.com/developer/docs/">å¸‚åœºæ•°æ®API</a></h4><p>è‚¡ç¥¨APIæ˜¯ä¸€ä¸ªç¼–ç¨‹æ¥å£ï¼Œæ—¨åœ¨å‘ç‰¹å®šæ¥æºæä¾›å®æ—¶è‚¡ç¥¨å¸‚åœºæ•°æ®æµã€‚<br>ä¾‹å¦‚ï¼Œè®¸å¤šç°æœ‰çš„ç»çºªå¹³å°ä¾é è‚¡ç¥¨APIä¸ºä»–ä»¬æä¾›å®æ—¶ä¿¡æ¯ï¼Œä»–ä»¬çš„æŠ•èµ„è€…å¯ä»¥åˆ©ç”¨è¿™äº›ä¿¡æ¯åšå‡ºè´­ä¹°å’Œé”€å”®å†³ç­–ã€‚</p><h4 id="â­SERP-API"><a href="#â­SERP-API" class="headerlink" title="â­SERP API"></a>â­<a href="https://serpapi.com/">SERP API</a></h4><p>æœç´¢å¼•æ“ç»“æœé¡µã€‚</p><p>SERP API ä½¿ç”¨ Google çš„åœ°ç†å®šä½ã€åŠ å¯†å‚æ•°ï¼Œå¹¶é€šè¿‡ç¦»ä½ æ‰€éœ€ä½ç½®æœ€è¿‘çš„ä»£ç†æœåŠ¡å™¨è·¯ç”±ä½ çš„è¯·æ±‚ä»¥ç¡®ä¿å‡†ç¡®æ€§ã€‚åœ¨æˆ‘ä»¬çš„locationç«¯ç‚¹è·å–ä½ç½®ã€‚</p><p>å½“ä½ æœ‰è°·æ­Œå’Œå…¶ä»–æœç´¢å¼•æ“çš„åŠ›é‡æ”¯æŒæ—¶ï¼Œå¯èƒ½æ€§æ˜¯æ— ç©·çš„ã€‚SERP APIä½¿è¿™ä¸€åˆ‡æˆä¸ºå¯èƒ½ã€‚<br>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å¯ä»¥ç”¨è¿™ç§åŠ›é‡å»ºç«‹ä»€ä¹ˆ!</p><h4 id="â­Auth0-API"><a href="#â­Auth0-API" class="headerlink" title="â­Auth0 API"></a>â­<a href="https://auth0.com/">Auth0 API</a></h4><p>Auth0æ˜¯å®ç°OAuthæˆ–å•ç‚¹ç™»å½•ï¼ˆSSOï¼‰çš„å¥½æ–¹æ³•ã€‚<br>SSOä½¿ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡ç¬¬ä¸‰æ–¹åº”ç”¨ç¨‹åºå¦‚Facebookæˆ–Googleè¿›è¡Œæ³¨å†Œæˆ–ç™»å½•ã€‚<br>è¿™æ˜¯ä¸€ä¸ªä¼Ÿå¤§çš„åŠŸèƒ½ï¼Œå¯ä»¥æ·»åŠ åˆ°ä¸€ä¸ªæ›´å¤§çš„é¡¹ç›®ã€‚</p><h4 id="â­ILovePDF-API"><a href="#â­ILovePDF-API" class="headerlink" title="â­ILovePDF API"></a>â­<a href="https://www.ilovepdf.com/">ILovePDF API</a></h4><p>æ— è®ºä½ æ˜¯ä¸€ä¸ªå°å‹çš„åˆ›ä¸šå…¬å¸è¿˜æ˜¯ä¸€ä¸ªå¤§å‹ä¼ä¸šï¼ŒILovePDF APIéƒ½å¯ä»¥å¸®åŠ©ä½ å®ç°æ–‡æ¡£å¤„ç†çš„è‡ªåŠ¨åŒ–ã€‚<br>ä½¿ç”¨ILovePDF APIçš„PDFå¤„ç†å·¥ä½œæµç¨‹éå¸¸ç®€å•ï¼Œç”±4ä¸ªåŸºæœ¬è¯·æ±‚æŒ‡ä»¤ç»„æˆï¼š<br>å¼€å§‹ä»»åŠ¡ã€ä¸Šä¼ æ–‡ä»¶ã€å¤„ç†æ–‡ä»¶å’Œä¸‹è½½æ–‡ä»¶ã€‚<br>ä¸€æ—¦APIæ‰§è¡Œäº†è¿™å››ä¸ªæ­¥éª¤ï¼Œä½ çš„PDFæ–‡ä»¶å°†è¢«ä½ æ‰€éœ€è¦çš„å·¥å…·å¤„ç†ï¼Œå¹¶ä¸‹è½½åˆ°ä½ å–œæ¬¢çš„åœ°æ–¹ã€‚</p><h4 id="â­æ–°é—»-API"><a href="#â­æ–°é—»-API" class="headerlink" title="â­æ–°é—» API"></a>â­<a href="https://newsapi.org/">æ–°é—» API</a></h4><p>å¼ºå¤§çš„æ–°é—» API æ‰«ææ•´ä¸ªç½‘ç»œçš„æ•°ä¸‡ä¸ªæ–°é—»æºï¼Œå¹¶æ ¹æ®æ‚¨çš„è¯·æ±‚è¿”å›ç›¸å…³å†…å®¹ã€‚å¦‚æœä½ æƒ³åœ¨ä½ çš„ç½‘ç«™ä¸Šä»‹ç»ä¸ä½ çš„äº§å“æˆ–è¡Œä¸šç›¸å…³çš„å†…å®¹ï¼Œè¿™æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å·¥å…·ã€‚</p><!-- https://medium.com/@flutterqueen/15-free-apis-for-your-programming-projects-c68aca72b392 -->]]></content>
      
      
      
        <tags>
            
            <tag> API </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ¯ä¸ªJavaå¼€å‘è€…éƒ½å¿…é¡»çŸ¥é“çš„ä¸ƒä¸ªIntellijè°ƒè¯•æŠ€å·§</title>
      <link href="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know.html"/>
      <url>/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know.html</url>
      
        <content type="html"><![CDATA[<p>ä½ çŸ¥é“è¿™äº›çªé—¨å—ï¼Ÿè¿™äº›è‚¯å®šä¼šæé«˜ä½ çš„å¼€å‘æ•ˆç‡ã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>è°ƒè¯•ä»£ç æ˜¯javaå·¥ç¨‹å¸ˆæ—¥å¸¸å·¥ä½œçš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚<br>è°ƒè¯•ä»£ç çš„ç›®çš„æœ‰ä¸¤ä¸ª:<br>ä¸€ä¸ªæ˜¯æ£€æŸ¥ä»£ç é€»è¾‘æ˜¯å¦æœ‰é—®é¢˜ï¼Œä»è€Œæ£€æŸ¥ä»£ç é€»è¾‘ï¼Œå‘ç°éšè—çš„bugï¼›<br>å¦ä¸€ä¸ªæ˜¯å½“ç³»ç»Ÿå‡ºç°bugæ—¶ï¼Œå¯ä»¥å¿«é€Ÿå®šä½é—®é¢˜ï¼Œä¿®å¤è¿™äº›bugã€‚<br>ä½†æ˜¯ï¼Œä¸ç®¡æ˜¯å“ªç§ç›®çš„ï¼Œé«˜æ•ˆçš„ä»£ç è°ƒè¯•æ— ç–‘ä¼šæé«˜æˆ‘ä»¬çš„ä»£ç æ•ˆç‡ï¼Œæé«˜å®šä½å’Œè§£å†³é—®é¢˜çš„æ•ˆç‡ï¼Œä»è€Œè¾¾åˆ°ç™½ç›’ä»£ç è‡ªæˆ‘è§‚å¯Ÿçš„ç›®çš„ã€‚<br>æœ¬æ–‡ä¸»è¦åˆ—ä¸¾äº†10ç§å¸¸ç”¨çš„è°ƒè¯•æŠ€å·§ï¼Œè¿™äº›æŠ€å·§å¯ä»¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå‘ç°ä»£ç BUGã€‚</p><h4 id="è¡¨è¾¾å¼è®¡ç®—ç»“æœè¯„ä¼°"><a href="#è¡¨è¾¾å¼è®¡ç®—ç»“æœè¯„ä¼°" class="headerlink" title="è¡¨è¾¾å¼è®¡ç®—ç»“æœè¯„ä¼°"></a>è¡¨è¾¾å¼è®¡ç®—ç»“æœè¯„ä¼°</h4><p>åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­ï¼Œä¸€äº›å˜é‡çš„å½“å‰å€¼ä¼šé»˜è®¤æ˜¾ç¤ºåœ¨ä»£ç çš„å³ä¾§ï¼Œä½†ä¸€äº›è¡¨è¾¾å¼çš„å€¼åˆ™é»˜è®¤ä¸æ˜¾ç¤ºã€‚<br>æœ‰æ—¶æˆ‘ä»¬åœ¨è®¡ç®—è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„è¡¨è¾¾å¼çš„æ•°æ®æ˜¯å¦æ­£ç¡®ã€‚<br>è¿™æ—¶ï¼Œä½ å¯ä»¥å¤åˆ¶è¦é€‰æ‹©çš„è¡¨è¾¾å¼ï¼Œç„¶åä½¿ç”¨å¿«æ·é”®æˆ–ç‚¹å‡»ä¸‹é¢çš„å›¾æ ‡æ¥æŸ¥çœ‹è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="è°ƒè¯•æ¡ä»¶"><a href="#è°ƒè¯•æ¡ä»¶" class="headerlink" title="è°ƒè¯•æ¡ä»¶"></a>è°ƒè¯•æ¡ä»¶</h4><p>åœ¨ä¸€äº›å¾ªç¯æ¡ä»¶ä¸­ï¼Œä¸€ä¸ªä»£ç ç‰‡æ®µéœ€è¦é€šè¿‡æ¡ä»¶åˆ¤æ–­åæ‰èƒ½æ‰§è¡Œã€‚<br>ç„¶è€Œï¼Œåœ¨è°ƒè¯•æ—¶ï¼Œæˆ‘ä»¬å¸Œæœ›å¿«é€Ÿæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯æŠŠæ—¶é—´æµªè´¹åœ¨æˆ‘ä»¬ä¸å…³å¿ƒçš„è°ƒè¯•å¯¹è±¡ä¸Šã€‚<br>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è°ƒè¯•è¿‡æ»¤æ¡ä»¶æ¥å¿«é€Ÿè¿‡æ»¤å‡ºæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ï¼Œå¤§å¤§æé«˜äº†æˆ‘ä»¬çš„è°ƒè¯•æ•ˆç‡ã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ä¸¢å¼ƒæ¡†æ¶"><a href="#ä¸¢å¼ƒæ¡†æ¶" class="headerlink" title="ä¸¢å¼ƒæ¡†æ¶"></a>ä¸¢å¼ƒæ¡†æ¶</h4><p>åœ¨ä»£ç è°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶ç”±äºä½ ç‚¹å‡»ä¸‹ä¸€æ­¥çš„é€Ÿåº¦å¾ˆå¿«ï¼Œå¯èƒ½ä¼šåœ¨æ‰“åˆ°ä¹‹å‰æ‰“çš„æ–­ç‚¹åç›´æ¥è·³åˆ°æŸä¸ªæ–¹æ³•çš„å†…éƒ¨ï¼Œæˆ–è€…æœ‰äº›ä¼šç›´æ¥é€€å‡ºï¼Œé‡æ–°æ‰§è¡Œè°ƒè¯•ã€‚<br>è¿™æ—¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ â€œDrop Frame â€œçš„åŠŸèƒ½è¿”å›åˆ°ä¸Šä¸€æ­¥ï¼Œå¹¶å¿«é€Ÿå®šä½åˆ°ä¹‹å‰ä»£ç çš„è¿è¡Œä½ç½®ã€‚<br>æˆ‘ä»¬éƒ½çŸ¥é“ï¼ŒJVMæ˜¯é€šè¿‡å †æ ˆæ¡†æ¶æ¥ä¿å­˜æ–¹æ³•è°ƒç”¨åœ°å€çš„ï¼Œæ‰€ä»¥å…¶å®è¿™éƒ¨åˆ†åŠŸèƒ½å¯ä»¥ç†è§£ä¸ºæ”¾å¼ƒå½“å‰çš„è°ƒç”¨å †æ ˆï¼Œè¿”å›åˆ°åŸæ¥çš„è°ƒç”¨ã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/4.png" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/5.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="è°ƒè¯•å­—æ®µ"><a href="#è°ƒè¯•å­—æ®µ" class="headerlink" title="è°ƒè¯•å­—æ®µ"></a>è°ƒè¯•å­—æ®µ</h4><p>å½“æˆ‘ä»¬éœ€è¦çŸ¥é“ä¸€ä¸ªç±»ä¸­çš„å­—æ®µå€¼è¢«ä¿®æ”¹æ—¶ï¼Œä»ä¸€å¼€å§‹å°±è¿›è¡Œè°ƒè¯•æ˜¯éå¸¸éº»çƒ¦çš„ï¼Œå› ä¸ºæœ‰æ—¶æˆ‘ä»¬å¯èƒ½ä¸çŸ¥é“å­—æ®µå€¼èµ‹å€¼çš„èµ·ç‚¹åœ¨å“ªé‡Œï¼Œç‰¹åˆ«æ˜¯åœ¨é˜…è¯»æ¡†æ¶æºä»£ç æ—¶ã€‚<br>è¿™ä¸ªæ—¶å€™ï¼Œä½ å¯ä»¥å°è¯•åœ¨ç±»çš„å­—æ®µä¸­åšæ–­ç‚¹ã€‚<br>æ£€æŸ¥å­—æ®µè®¿é—®æˆ–å­—æ®µä¿®æ”¹æ˜¯å¦ä¼šè¿è¡Œåˆ°å­—æ®µä¿®æ”¹å‘ç”Ÿçš„åœ°æ–¹æˆ–å­—æ®µè¢«è®¿é—®çš„åœ°æ–¹ã€‚<br>è¿™å°†å¤§å¤§æé«˜å¯»æ‰¾å­—æ®µè¢«ä¿®æ”¹çš„åœ°æ–¹ï¼Œç„¶åè¿›è¡Œä¿®æ”¹çš„æ•ˆç‡ã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/6.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="æµè°ƒè¯•"><a href="#æµè°ƒè¯•" class="headerlink" title="æµè°ƒè¯•"></a>æµè°ƒè¯•</h4><p>Java 8åæ¥å¼•å…¥äº†lambdaè¡¨è¾¾å¼çš„åŠŸèƒ½ã€‚<br>è™½ç„¶è¯¥åŠŸèƒ½ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†è°ƒè¯•èµ·æ¥å´éå¸¸éº»çƒ¦ã€‚<br>ä¸»è¦æ˜¯ä¸æ–¹ä¾¿æŸ¥çœ‹æµçš„å†…éƒ¨å€¼çš„è¿è¡ŒçŠ¶æ€ã€‚<br>è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨Java Stream Debuggeræ’ä»¶ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨è°ƒè¯•æµçš„æ—¶å€™å°±å¯ä»¥çœ‹åˆ°å†…éƒ¨å€¼çš„æ‰§è¡Œè¿‡ç¨‹å’Œæœ€ç»ˆç»“æœï¼Œæ–¹ä¾¿æˆ‘ä»¬å®šä½é—®é¢˜ã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/7.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="å¼ºåˆ¶è¿”å›"><a href="#å¼ºåˆ¶è¿”å›" class="headerlink" title="å¼ºåˆ¶è¿”å›"></a>å¼ºåˆ¶è¿”å›</h4><p>æœ‰æ—¶ï¼Œå½“æˆ‘ä»¬è°ƒè¯•ä¸€äº›è€—æ—¶çš„ä»£ç æ—¶ï¼Œæˆ‘ä»¬å¯èƒ½åªæ˜¯æƒ³ç¡®è®¤ä¸šåŠ¡é€»è¾‘æ˜¯å¦æœ‰é—®é¢˜ï¼Œè€Œå¹¶ä¸çœŸçš„æƒ³æ‰§è¡Œè¿™äº›ä»£ç ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼ºåˆ¶è¿”å›å‡½æ•°æ¥æŒ‡å®šä¸€ä¸ªè¿”å›å€¼ï¼Œä»¥ç»§ç»­åç»­çš„ä¸šåŠ¡é€»è¾‘è°ƒè¯•ï¼Œè€Œä¸æ‰§è¡Œè¯¥æ–¹æ³•èƒŒåçš„ä»£ç ã€‚</p><h4 id="å¤šçº¿ç¨‹è°ƒè¯•"><a href="#å¤šçº¿ç¨‹è°ƒè¯•" class="headerlink" title="å¤šçº¿ç¨‹è°ƒè¯•"></a>å¤šçº¿ç¨‹è°ƒè¯•</h4><p>åœ¨Ideaçš„é»˜è®¤è°ƒè¯•æ¨¡å¼ä¸‹ï¼Œæ‰€æœ‰çº¿ç¨‹éƒ½å°†è¢«å°é”ã€‚<br>åªæœ‰å½“å½“å‰çš„è°ƒè¯•çº¿ç¨‹å®Œæˆäº†å®ƒçš„é€»è¾‘ï¼Œå®ƒæ‰èƒ½è¿›å…¥å…¶ä»–çº¿ç¨‹ã€‚<br>å¦‚æœæˆ‘æƒ³åœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹è°ƒè¯•ä»£ç é€»è¾‘ï¼Œåº”è¯¥æ€ä¹ˆåšï¼Ÿ<br>å…¶å®ï¼Œåœ¨è®¾ç½®æ–­ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å³é”®å•å‡»æ–­ç‚¹æ¥é€‰æ‹©çº¿ç¨‹è°ƒè¯•æ¨¡å¼ã€‚</p><img src="/Seven-Intellij-Debug-Tricks-that-Every-Java-Developer-Must-Know/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¥½äº†ï¼Œå·²ç»ä»‹ç»äº†ä¸ƒç§è°ƒè¯•æŠ€æœ¯ã€‚æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿæé«˜ä½ çš„IntelliJè°ƒè¯•èƒ½åŠ›ã€‚æœ€åï¼Œæ„Ÿè°¢æ‚¨çš„é˜…è¯»ã€‚</p><!-- https://levelup.gitconnected.com/seven-intellij-debug-tricks-that-every-java-developer-must-know-de26aaac736a -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Intellij </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¸¦æœ‰å®æ—¶ä½ç½®è·Ÿè¸ªçš„Flutterè°·æ­Œåœ°å›¾--Uberé£æ ¼</title>
      <link href="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style.html"/>
      <url>/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style.html</url>
      
        <content type="html"><![CDATA[<p>é€šè¿‡æœ¬è¯¾ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•åœ¨Flutterä¸­ä½¿ç”¨è°·æ­Œåœ°å›¾ï¼Œå¹¶è¿›è¡Œä¸€äº›å®šåˆ¶ï¼Œå¦‚è®¾ç½®è‡ªå®šä¹‰å›¾åƒæ ‡è®°å’Œç»˜åˆ¶è·¯çº¿æ–¹å‘æŠ˜çº¿ã€‚åœ¨åœ°å›¾ä¸Šæ·»åŠ å®æ—¶ä½ç½®æ›´æ–°ã€‚</p><img src="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style/1.gif" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><h3 id="å†…å®¹è¡¨"><a href="#å†…å®¹è¡¨" class="headerlink" title="å†…å®¹è¡¨ :"></a>å†…å®¹è¡¨ :</h3><ul><li>åˆå§‹è®¾ç½® âš™ï¸</li><li>è°·æ­Œåœ°å›¾ ğŸ—º</li><li>ç»˜åˆ¶è·¯çº¿æ–¹å‘ ã€°</li><li>åœ¨åœ°å›¾ä¸Šå®æ—¶æ›´æ–°ä½ç½® ğŸ”´</li><li>æ·»åŠ è‡ªå®šä¹‰æ ‡è®°/å›¾é’‰ ğŸ“</li></ul><blockquote><p>æ³¨æ„ï¼šè¿™ç¯‡æ–‡ç« å‡è®¾æ‚¨å·²ç»åœ¨æ‚¨çš„é¡¹ç›®ä¸­ä½¿ç”¨è°·æ­Œåœ°å›¾FlutteråŒ…å’Œæ‚¨è‡ªå·±çš„è°·æ­Œåœ°å›¾APIå¯†é’¥è®¾ç½®äº†åœ°å›¾ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·ç‚¹å‡»æ­¤<a href="https://pub.dev/packages/google_maps_flutter">é“¾æ¥</a>ï¼Œäº†è§£å¦‚ä½•è®¾ç½®æ‚¨çš„Flutteré¡¹ç›®ä¸è°·æ­Œåœ°å›¾ä¸€èµ·å·¥ä½œã€‚å…¶ä»–ä¾èµ–é¡¹åŒ…æ‹¬<a href="https://pub.dev/packages/flutter_polyline_points">Flutter Polyline Points</a>åŒ…å’Œ<a href="https://pub.dev/packages/location">Flutter Location Plugin</a>ã€‚</p></blockquote><h4 id="åˆå§‹è®¾ç½®-âš™ï¸"><a href="#åˆå§‹è®¾ç½®-âš™ï¸" class="headerlink" title="åˆå§‹è®¾ç½® âš™ï¸"></a>åˆå§‹è®¾ç½® âš™ï¸</h4><p>è¯·ç¡®ä¿ä½ å¯¹ä½ çš„ç¯å¢ƒåšäº†ç›¸åº”çš„å‡†å¤‡ï¼Œä»¥ä¾¿åœ¨IOSå’ŒAndroidä¸Šå¯ç”¨ä½ç½®è·Ÿè¸ªï¼Œå…·ä½“æ–¹æ³•æ˜¯æŒ‰ç…§è½¯ä»¶åŒ…çš„READMEä¸­å…³äºAndroidæ¸…å•æ–‡ä»¶å’ŒiOS Info.plistçš„æ­¥éª¤è¿›è¡Œã€‚</p><p>ä¸€æ—¦è®¾ç½®å¥½ï¼Œä¾èµ–å…³ç³»çœ‹èµ·æ¥åƒğŸ‘‡</p><pre class="line-numbers language-none"><code class="language-none">....dependencies:  flutter:    sdk: flutter  cupertino_icons: ^1.0.2  flutter_polyline_points: ^1.0.0  google_maps_flutter: ^2.1.7  location: ^4.4.0...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šæˆªè‡³æœ¬æ–‡å†™ä½œæ—¶ï¼Œä¸Šè¿°è½¯ä»¶åŒ…çš„ç‰ˆæœ¬æ˜¯å¯ç”¨çš„â€“è¯·ç›¸åº”æ›´æ–°ã€‚</p></blockquote><h4 id="è°·æ­Œåœ°å›¾-ğŸ—º"><a href="#è°·æ­Œåœ°å›¾-ğŸ—º" class="headerlink" title="è°·æ­Œåœ°å›¾ ğŸ—º"></a>è°·æ­Œåœ°å›¾ ğŸ—º</h4><p>åˆ›å»ºä¸€ä¸ªåä¸ºOrderTrackingPageçš„StatefulWidgetåŠå…¶ç›¸åº”çš„Stateç±»ï¼Œåœ¨è¿™é‡Œæˆ‘å¯¼å…¥äº†æ‰€éœ€çš„åŒ…ä»¥åŠä¸€äº›ç¡¬ç¼–ç çš„æºå’Œç›®æ ‡ä½ç½®ï¼ˆä¸ºäº†æœ¬æ•™ç¨‹çš„ç›®çš„ï¼‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:async'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:google_maps_flutter/google_maps_flutter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">OrderTrackingPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">OrderTrackingPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token metadata function">@override</span>  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderTrackingPage</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">OrderTrackingPageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">OrderTrackingPageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OrderTrackingPage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Completer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GoogleMapController</span><span class="token punctuation">&gt;</span></span> _controller <span class="token operator">=</span> <span class="token class-name">Completer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span> sourceLocation <span class="token operator">=</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.33500926</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.03272188</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span> destination <span class="token operator">=</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.33429383</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.06600055</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token class-name">GoogleMap</span> widget will be here <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºGoogleMapå°ç»„ä»¶ï¼Œå¹¶å°†initialCameraPositionè®¾ç½®ä¸ºæºçš„ä½ç½®ã€‚åœ°å›¾éœ€è¦æ”¾å¤§ä¸€äº›ï¼Œæ‰€ä»¥æŠŠå®ƒè®¾ç½®ä¸º13.5ã€‚</p><p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ ‡è®°/å›¾é’‰æ¥äº†è§£ç¡®åˆ‡çš„ä½ç½®ã€‚å®šä¹‰ä¸€ä¸ªæ ‡è®°ï¼Œå¹¶å°†å…¶ä½ç½®è®¾ç½®ä¸ºæºä½ç½®ã€‚å¯¹äºç›®çš„åœ°ï¼Œæ·»åŠ å¦ä¸€ä¸ªæ ‡è®°/å›¾é’‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">GoogleMap</span><span class="token punctuation">(</span>  initialCameraPosition<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span>    target<span class="token punctuation">:</span> sourceLocation<span class="token punctuation">,</span>    zoom<span class="token punctuation">:</span> <span class="token number">13.5</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>  markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token class-name">Marker</span><span class="token punctuation">(</span>      markerId<span class="token punctuation">:</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"source"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      position<span class="token punctuation">:</span> sourceLocation<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">const</span> <span class="token class-name">Marker</span><span class="token punctuation">(</span>      markerId<span class="token punctuation">:</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"destination"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      position<span class="token punctuation">:</span> destination<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  onMapCreated<span class="token punctuation">:</span> <span class="token punctuation">(</span>mapController<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _controller<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>mapController<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ç»˜åˆ¶è·¯çº¿æ–¹å‘-ã€°"><a href="#ç»˜åˆ¶è·¯çº¿æ–¹å‘-ã€°" class="headerlink" title="ç»˜åˆ¶è·¯çº¿æ–¹å‘ ã€°"></a>ç»˜åˆ¶è·¯çº¿æ–¹å‘ ã€°</h4><p>æ¥ä¸‹æ¥æˆ‘æƒ³åšçš„æ˜¯ç”»ä¸€æ¡ä»ç›®çš„åœ°åˆ°æºå¤´çš„çº¿ã€‚<br>åˆ›å»ºä¸€ä¸ªåä¸ºpolylineCoordinatesçš„ç©ºåˆ—è¡¨ã€‚<br>åˆ›å»ºä¸€ä¸ªPolylinePointsçš„å®ä¾‹å’Œä¸€ä¸ªå«åšgetPolyPointsçš„å¼‚æ­¥å‡½æ•°ã€‚getRouteBetweenCoordinatesæ–¹æ³•è¿”å›å¤šçº¿ç‚¹çš„åˆ—è¡¨ã€‚<br>éœ€è¦è°·æ­ŒAPIå¯†é’¥ã€æºå’Œç›®çš„åœ°ä½ç½®ã€‚å¦‚æœè¿™äº›ç‚¹ä¸æ˜¯ç©ºçš„ï¼Œæˆ‘ä»¬å°†å®ƒä»¬å­˜å‚¨åˆ°polylineCoordinatesã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LatLng</span><span class="token punctuation">&gt;</span></span> polylineCoordinates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">getPolyPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">PolylinePoints</span> polylinePoints <span class="token operator">=</span> <span class="token class-name">PolylinePoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">PolylineResult</span> result <span class="token operator">=</span> <span class="token keyword">await</span> polylinePoints<span class="token punctuation">.</span><span class="token function">getRouteBetweenCoordinates</span><span class="token punctuation">(</span>    google_api_key<span class="token punctuation">,</span> <span class="token comment">// Your Google Map Key</span>    <span class="token class-name">PointLatLng</span><span class="token punctuation">(</span>sourceLocation<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> sourceLocation<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">PointLatLng</span><span class="token punctuation">(</span>destination<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> destination<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>points<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>    result<span class="token punctuation">.</span>points<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>      <span class="token punctuation">(</span><span class="token class-name">PointLatLng</span> point<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> polylineCoordinates<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>        <span class="token class-name">LatLng</span><span class="token punctuation">(</span>point<span class="token punctuation">.</span>latitude<span class="token punctuation">,</span> point<span class="token punctuation">.</span>longitude<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åœ¨ initStateæ–¹æ³•ä¸­è°ƒç”¨ getPolyPoints</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span><span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">getPolyPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å›åˆ°GoogleMapå°ç»„ä»¶ï¼Œå®šä¹‰å¤šæ®µçº¿ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">GoogleMap</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  polylines<span class="token punctuation">:</span> <span class="token punctuation">{</span>    <span class="token class-name">Polyline</span><span class="token punctuation">(</span>      polylineId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">PolylineId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"route"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      points<span class="token punctuation">:</span> polylineCoordinates<span class="token punctuation">,</span>      color<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFF7B61FF</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      width<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="åœ°å›¾ä¸Šçš„å®æ—¶ä½ç½®æ›´æ–°-ğŸ”´"><a href="#åœ°å›¾ä¸Šçš„å®æ—¶ä½ç½®æ›´æ–°-ğŸ”´" class="headerlink" title="åœ°å›¾ä¸Šçš„å®æ—¶ä½ç½®æ›´æ–° ğŸ”´"></a>åœ°å›¾ä¸Šçš„å®æ—¶ä½ç½®æ›´æ–° ğŸ”´</h4><p>ç°åœ¨åˆ°äº†æœ€ä»¤äººå…´å¥‹çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦è®¾å¤‡çš„ä½ç½®ã€‚<br>åˆ›å»ºä¸€ä¸ªåä¸ºcurrentLocationçš„å¯ç©ºå˜é‡ã€‚<br>ç„¶åç”¨ä¸€ä¸ªå«getCurrentLocationçš„å‡½æ•°ï¼Œåœ¨é‡Œé¢åˆ›å»ºä¸€ä¸ªLocationçš„å®ä¾‹ã€‚ä¸€æ—¦æˆ‘ä»¬å¾—åˆ°äº†ä½ç½®ï¼Œå°†å½“å‰ä½ç½®è®¾ç½®ä¸ºç­‰äºè¯¥ä½ç½®ã€‚<br>åœ¨ä½ç½®æ”¹å˜æ—¶ï¼Œæ›´æ–°å½“å‰ä½ç½®ã€‚ä½¿å…¶åœ¨åœ°å›¾ä¸Šå¯è§ï¼Œç§°ä¸ºsetStateã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">LocationData</span><span class="token operator">?</span> currentLocation<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token class-name">Location</span> location <span class="token operator">=</span> <span class="token class-name">Location</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>location<span class="token punctuation">.</span><span class="token function">getLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>      <span class="token punctuation">(</span>location<span class="token punctuation">)</span> <span class="token punctuation">{</span>        currentLocation <span class="token operator">=</span> location<span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">GoogleMapController</span> googleMapController <span class="token operator">=</span> <span class="token keyword">await</span> _controller<span class="token punctuation">.</span>future<span class="token punctuation">;</span>location<span class="token punctuation">.</span>onLocationChanged<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>      <span class="token punctuation">(</span>newLoc<span class="token punctuation">)</span> <span class="token punctuation">{</span>        currentLocation <span class="token operator">=</span> newLoc<span class="token punctuation">;</span>googleMapController<span class="token punctuation">.</span><span class="token function">animateCamera</span><span class="token punctuation">(</span>          <span class="token class-name">CameraUpdate</span><span class="token punctuation">.</span><span class="token function">newCameraPosition</span><span class="token punctuation">(</span>            <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span>              zoom<span class="token punctuation">:</span> <span class="token number">13.5</span><span class="token punctuation">,</span>              target<span class="token punctuation">:</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span>                newLoc<span class="token punctuation">.</span>latitude<span class="token operator">!</span><span class="token punctuation">,</span>                newLoc<span class="token punctuation">.</span>longitude<span class="token operator">!</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·ç¡®ä¿åœ¨initStateä¸Šè°ƒç”¨getCurrentLocationã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">getPolyPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœcurrentLocationæ˜¯ç©ºçš„ï¼Œå®ƒæ˜¾ç¤ºä¸€ä¸ªåŠ è½½æ–‡æœ¬ã€‚åŒæ—¶ï¼Œä¸ºcurrentLocationæ·»åŠ å¦ä¸€ä¸ªæ ‡è®°/å›¾é’‰ï¼Œä»¥åŠå°†åˆå§‹æ‘„åƒæœºä½ç½®æ”¹ä¸ºå½“å‰ä½ç½®ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">body<span class="token punctuation">:</span> currentLocation <span class="token operator">==</span> <span class="token keyword">null</span>  <span class="token operator">?</span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Loading"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">:</span> <span class="token class-name">GoogleMap</span><span class="token punctuation">(</span>      initialCameraPosition<span class="token punctuation">:</span> <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span>        target<span class="token punctuation">:</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span>            currentLocation<span class="token operator">!</span><span class="token punctuation">.</span>latitude<span class="token operator">!</span><span class="token punctuation">,</span> currentLocation<span class="token operator">!</span><span class="token punctuation">.</span>longitude<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        zoom<span class="token punctuation">:</span> <span class="token number">13.5</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token class-name">Marker</span><span class="token punctuation">(</span>          markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"currentLocation"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          position<span class="token punctuation">:</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span>              currentLocation<span class="token operator">!</span><span class="token punctuation">.</span>latitude<span class="token operator">!</span><span class="token punctuation">,</span> currentLocation<span class="token operator">!</span><span class="token punctuation">.</span>longitude<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">const</span> <span class="token class-name">Marker</span><span class="token punctuation">(</span>          markerId<span class="token punctuation">:</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"source"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          position<span class="token punctuation">:</span> sourceLocation<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">const</span> <span class="token class-name">Marker</span><span class="token punctuation">(</span>          markerId<span class="token punctuation">:</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"destination"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          position<span class="token punctuation">:</span> destination<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      onMapCreated<span class="token punctuation">:</span> <span class="token punctuation">(</span>mapController<span class="token punctuation">)</span> <span class="token punctuation">{</span>        _controller<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>mapController<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      polylines<span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token class-name">Polyline</span><span class="token punctuation">(</span>          polylineId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">PolylineId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"route"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          points<span class="token punctuation">:</span> polylineCoordinates<span class="token punctuation">,</span>          color<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFF7B61FF</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          width<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style/4.gif" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="å¯¹äºiOS"><a href="#å¯¹äºiOS" class="headerlink" title="å¯¹äºiOS ::"></a>å¯¹äºiOS ::</h4><p>è¿›å…¥åŠŸèƒ½ï¼Œå°†é¼ æ ‡æ‚¬åœåœ¨ä½ç½®ä¸Šï¼Œé€‰æ‹©Freeway driveã€‚æˆ‘æ˜¯æ ¹æ®è¿™ä¸ªFreewayé©±åŠ¨å™¨ä½¿ç”¨æºå’Œç›®æ ‡ä½ç½®ã€‚</p><img src="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style/5.gif" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="å¯¹äºå®‰å“ç³»ç»Ÿ"><a href="#å¯¹äºå®‰å“ç³»ç»Ÿ" class="headerlink" title="å¯¹äºå®‰å“ç³»ç»Ÿ ::"></a>å¯¹äºå®‰å“ç³»ç»Ÿ ::</h4><p>å¦‚æœä½ åœ¨Windowsä¸Šæˆ–ä½¿ç”¨å®‰å“æ¨¡æ‹Ÿå™¨ï¼Œç‚¹å‡»åº•éƒ¨çš„ä¸‰ä¸ªç‚¹ï¼Œå¹¶ç¡®ä¿ä½ åœ¨ä½ç½®ä¸Šã€‚<br>æ¯”æ–¹è¯´ï¼Œæºä½ç½®æ˜¯è°·æ­ŒPlexï¼ŒæŠŠsourceLocationæ”¹ä¸ºè¿™ä¸ªåæ ‡ï¼Œç›®çš„åœ°ä½ç½®æ˜¯å¾®è½¯ç¡…è°·å›­åŒºã€‚<br>æŠŠç›®çš„åœ°æ”¹ä¸ºè¿™ä¸ªä½ç½®ã€‚ç°åœ¨ç‚¹å‡» â€œè·¯çº¿ â€œæ ‡ç­¾ï¼Œæœç´¢å¾®è½¯ç¡…è°·å’Œè°·æ­ŒPlexä½œä¸ºèµ·ç‚¹ã€‚ä¿å­˜è·¯çº¿ï¼Œè®¾ç½®ä¸€ä¸ªæ’­æ”¾é€Ÿåº¦ï¼Œç‚¹å‡»æ’­æ”¾è·¯çº¿ã€‚<br>å½“å‰çš„ä½ç½®æ­£åœ¨ç§»åŠ¨ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span> sourceLocation <span class="token operator">=</span> your chosen location<span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span> destination <span class="token operator">=</span> your chosen location<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ·»åŠ è‡ªå®šä¹‰æ ‡è®°-å›¾é’‰-ğŸ“"><a href="#æ·»åŠ è‡ªå®šä¹‰æ ‡è®°-å›¾é’‰-ğŸ“" class="headerlink" title="æ·»åŠ è‡ªå®šä¹‰æ ‡è®°/å›¾é’‰ ğŸ“"></a>æ·»åŠ è‡ªå®šä¹‰æ ‡è®°/å›¾é’‰ ğŸ“</h4><p>æ¥æºã€ç›®çš„åœ°å’Œå½“å‰ä½ç½®çš„å›¾æ ‡æ˜¯ä¸€æ ·çš„ã€‚è®©æˆ‘ä»¬ä¸ºå®ƒä»¬ä½¿ç”¨ä¸€ä¸ªè‡ªå®šä¹‰æ ‡è®°/å›¾é’‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">BitmapDescriptor</span> sourceIcon <span class="token operator">=</span> <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span>defaultMarker<span class="token punctuation">;</span><span class="token class-name">BitmapDescriptor</span> destinationIcon <span class="token operator">=</span> <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span>defaultMarker<span class="token punctuation">;</span><span class="token class-name">BitmapDescriptor</span> currentLocationIcon <span class="token operator">=</span> <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span>defaultMarker<span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">setCustomMarkerIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span><span class="token function">fromAssetImage</span><span class="token punctuation">(</span>          <span class="token class-name">ImageConfiguration</span><span class="token punctuation">.</span>empty<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"assets/Pin_source.png"</span></span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">{</span>      sourceIcon <span class="token operator">=</span> icon<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span><span class="token function">fromAssetImage</span><span class="token punctuation">(</span>          <span class="token class-name">ImageConfiguration</span><span class="token punctuation">.</span>empty<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"assets/Pin_destination.png"</span></span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">{</span>      destinationIcon <span class="token operator">=</span> icon<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span><span class="token function">fromAssetImage</span><span class="token punctuation">(</span>          <span class="token class-name">ImageConfiguration</span><span class="token punctuation">.</span>empty<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"assets/Badge.png"</span></span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">{</span>      currentLocationIcon <span class="token operator">=</span> icon<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨initStateä¸Šè°ƒç”¨setCustomMarkerIcon</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">getPolyPoints</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">getCurrentLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setCustomMarkerIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨æ ‡è®°é›†çš„å›¾æ ‡ä¸Šåšæœ€åçš„æ¶¦è‰²ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">GoogleMap</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>      <span class="token class-name">Marker</span><span class="token punctuation">(</span>        markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"currentLocation"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        icon<span class="token punctuation">:</span> currentLocationIcon<span class="token punctuation">,</span>        position<span class="token punctuation">:</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span>            currentLocation<span class="token operator">!</span><span class="token punctuation">.</span>latitude<span class="token operator">!</span><span class="token punctuation">,</span> currentLocation<span class="token operator">!</span><span class="token punctuation">.</span>longitude<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Marker</span><span class="token punctuation">(</span>        markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"source"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        icon<span class="token punctuation">:</span> sourceIcon<span class="token punctuation">,</span>        position<span class="token punctuation">:</span> sourceLocation<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Marker</span><span class="token punctuation">(</span>        markerId<span class="token punctuation">:</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"destination"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        icon<span class="token punctuation">:</span> destinationIcon<span class="token punctuation">,</span>        position<span class="token punctuation">:</span> destination<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-Google-Map-With-Live-Location-Tracking-%E2%80%94-Uber-Style/6.gif" class="" title="ç¤ºæ„å›¾ width=400"><!-- https://medium.com/flutter-community/flutter-google-map-with-live-location-tracking-uber-style-12da38771829 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> GoogleMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter - å¸¦æœ‰è‡ªå®šä¹‰æ ‡è®°çš„è°·æ­Œåœ°å›¾ğŸ“</title>
      <link href="/Flutter-%E2%80%94-Google-Map-with-Custom-Marker.html"/>
      <url>/Flutter-%E2%80%94-Google-Map-with-Custom-Marker.html</url>
      
        <content type="html"><![CDATA[<p>è®©æˆ‘ä»¬æŠŠè°·æ­Œåœ°å›¾æ·»åŠ åˆ°æ‚¨çš„Flutteråº”ç”¨ä¸­ï¼Œç”¨ä¸€ä¸ªèŠ±å“¨çš„æ ‡è®°æ¥å–ä»£æ— èŠçš„æ ‡è®°ã€‚</p><img src="/Flutter-%E2%80%94-Google-Map-with-Custom-Marker/1.png" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><h4 id="è·å–APIå¯†é’¥"><a href="#è·å–APIå¯†é’¥" class="headerlink" title="è·å–APIå¯†é’¥"></a>è·å–APIå¯†é’¥</h4><p>å¦‚æœæ‚¨æƒ³åœ¨æ‚¨çš„Flutteråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è°·æ­Œåœ°å›¾ï¼Œæ‚¨éœ€è¦åœ¨è°·æ­Œåœ°å›¾å¹³å°é…ç½®ä¸€ä¸ªAPIé¡¹ç›®ã€‚</p><ul><li>è¿›å…¥<a href="https://cloud.google.com/maps-platform/">è°·æ­Œåœ°å›¾å¹³å°</a> &gt; åˆ›å»ºæ–°é¡¹ç›®æˆ–ä½¿ç”¨ç°æœ‰é¡¹ç›®ã€‚</li><li>åœ¨åº“é¡µé¢ &gt; æœç´¢ â€œMaps SDKâ€ã€‚</li><li>ç‚¹å‡»Maps SDK for iOSï¼Œç„¶åç‚¹å‡»Enableã€‚</li><li>ç‚¹å‡»Maps SDK for Androidï¼Œç„¶åç‚¹å‡»Enable</li><li>åœ¨Credentialsé¡µé¢ï¼Œç‚¹å‡»Create credentials &gt; API keyã€‚(åˆ›å»ºçš„APIå¯†é’¥å¯¹è¯æ¡†æ˜¾ç¤ºæ‚¨æ–°åˆ›å»ºçš„APIå¯†é’¥ï¼‰ã€‚</li><li>æ–°çš„APIå¯†é’¥è¢«åˆ—åœ¨å‡­è¯é¡µé¢çš„APIå¯†é’¥ä¸‹ã€‚è¦é‡æ–°å‘½åå®ƒï¼Œè¯·ç‚¹å‡»ç¼–è¾‘å›¾æ ‡ã€‚(ä¸“ä¸šæç¤ºï¼šåœ¨ç”Ÿäº§ä¸­ä½¿ç”¨APIå¯†é’¥ä¹‹å‰è¦å¯¹å…¶è¿›è¡Œé™åˆ¶ã€‚ï¼‰</li></ul><h4 id="å°†è°·æ­Œåœ°å›¾FlutteråŒ…ä½œä¸ºä¾èµ–é¡¹æ·»åŠ "><a href="#å°†è°·æ­Œåœ°å›¾FlutteråŒ…ä½œä¸ºä¾èµ–é¡¹æ·»åŠ " class="headerlink" title="å°†è°·æ­Œåœ°å›¾FlutteråŒ…ä½œä¸ºä¾èµ–é¡¹æ·»åŠ "></a>å°†è°·æ­Œåœ°å›¾FlutteråŒ…ä½œä¸ºä¾èµ–é¡¹æ·»åŠ </h4><p>åœ¨Flutterä¸­ï¼ŒåŒ…å…è®¸ä½ æ·»åŠ é¢å¤–çš„åŠŸèƒ½ã€‚è¿è¡Œæ­¤å‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">flutter pub add google_maps_flutter<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>or add the package under dependencies</p><pre class="line-numbers language-none"><code class="language-none">dependencies:    google_maps_flutter: ^2.2.1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ä¸ºå®‰å“åº”ç”¨æ·»åŠ APIå¯†é’¥"><a href="#ä¸ºå®‰å“åº”ç”¨æ·»åŠ APIå¯†é’¥" class="headerlink" title="ä¸ºå®‰å“åº”ç”¨æ·»åŠ APIå¯†é’¥"></a>ä¸ºå®‰å“åº”ç”¨æ·»åŠ APIå¯†é’¥</h4><p>ä¸ºäº†ç»™å®‰å“åº”ç”¨æ·»åŠ ä¸€ä¸ªAPIå¯†é’¥ï¼Œç¼–è¾‘android/app/src/mainä¸­çš„AndroidManifest.xmlæ–‡ä»¶ã€‚<br>åœ¨åº”ç”¨ç¨‹åºèŠ‚ç‚¹å†…æ·»åŠ ä¸€ä¸ªå•ä¸€çš„å…ƒæ•°æ®æ¡ç›®ï¼Œå…¶ä¸­åŒ…å«åœ¨ä¸Šä¸€æ­¥ä¸­åˆ›å»ºçš„APIå¯†é’¥ã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;manifest ...  &lt;application ...    &lt;meta-data android:name="com.google.android.geo.API_KEY"               android:value="YOUR KEY HERE"/&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Also set the minSdkVersion to 20 in android/app/build.gradle</p><pre class="line-numbers language-none"><code class="language-none">android {    defaultConfig {        minSdkVersion 20    }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸ºiOSåº”ç”¨ç¨‹åºæ·»åŠ APIå¯†é’¥"><a href="#ä¸ºiOSåº”ç”¨ç¨‹åºæ·»åŠ APIå¯†é’¥" class="headerlink" title="ä¸ºiOSåº”ç”¨ç¨‹åºæ·»åŠ APIå¯†é’¥"></a>ä¸ºiOSåº”ç”¨ç¨‹åºæ·»åŠ APIå¯†é’¥</h4><p>ä¸ºäº†ç»™iOSåº”ç”¨ç¨‹åºæ·»åŠ ä¸€ä¸ªAPIå¯†é’¥ï¼Œè¯·ç¼–è¾‘ios/Runnerä¸­çš„AppDelegate.swiftæ–‡ä»¶ã€‚å°†æ•´ä¸ªä»£ç æ›¿æ¢ä¸ºä»¥ä¸‹å†…å®¹ğŸ‘‡</p><pre class="line-numbers language-objectivec" data-language="objectivec"><code class="language-objectivec">import UIKitimport Flutterimport GoogleMaps  <span class="token comment">// Add this import</span><span class="token operator">@</span>UIApplicationMain<span class="token operator">@</span>objc class AppDelegate<span class="token punctuation">:</span> FlutterAppDelegate <span class="token punctuation">{</span>  override func <span class="token function">application</span><span class="token punctuation">(</span>    _ application<span class="token punctuation">:</span> UIApplication<span class="token punctuation">,</span>    didFinishLaunchingWithOptions launchOptions<span class="token punctuation">:</span> <span class="token punctuation">[</span>UIApplication<span class="token punctuation">.</span>LaunchOptionsKey<span class="token punctuation">:</span> Any<span class="token punctuation">]</span><span class="token operator">?</span>  <span class="token punctuation">)</span> <span class="token operator">-&gt;</span> Bool <span class="token punctuation">{</span>    GeneratedPluginRegistrant<span class="token punctuation">.</span><span class="token keyword">register</span><span class="token punctuation">(</span>with<span class="token punctuation">:</span> <span class="token keyword">self</span><span class="token punctuation">)</span>    <span class="token comment">// TODO: Add your Google Maps API key</span>    GMSServices<span class="token punctuation">.</span><span class="token function">provideAPIKey</span><span class="token punctuation">(</span><span class="token string">"YOUR-API-KEY"</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">application</span><span class="token punctuation">(</span>application<span class="token punctuation">,</span> didFinishLaunchingWithOptions<span class="token punctuation">:</span> launchOptions<span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ›å»ºè°·æ­Œåœ°å›¾å±å¹•"><a href="#åˆ›å»ºè°·æ­Œåœ°å›¾å±å¹•" class="headerlink" title="åˆ›å»ºè°·æ­Œåœ°å›¾å±å¹•"></a>åˆ›å»ºè°·æ­Œåœ°å›¾å±å¹•</h4><p>ç°åœ¨æ˜¯åœ¨å±å¹•ä¸Šè·å–åœ°å›¾çš„æ—¶å€™äº†ã€‚<br>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªåˆå§‹CameraPositionæ¥æ˜¾ç¤ºåœ°å›¾ã€‚å®ƒå¯ä»¥æ˜¯ç”¨æˆ·çš„å½“å‰ä½ç½®ï¼Œä½†ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€ä¸ªå›ºå®šå€¼ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:google_maps_flutter/google_maps_flutter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MapScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">MapScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token metadata function">@override</span>  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MapScreen</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_MapScreenState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _MapScreenState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MapScreen</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">LatLng</span> initialLocation <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.422131</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.084801</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ToDo: add custom marker</span><span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">GoogleMap</span><span class="token punctuation">(</span>        initialCameraPosition<span class="token punctuation">:</span> <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span>          target<span class="token punctuation">:</span> initialLocation<span class="token punctuation">,</span>          zoom<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token comment">// ToDO: add markers</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-%E2%80%94-Google-Map-with-Custom-Marker/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="åœ¨åœ°å›¾ä¸Šæ·»åŠ æ ‡è®°"><a href="#åœ¨åœ°å›¾ä¸Šæ·»åŠ æ ‡è®°" class="headerlink" title="åœ¨åœ°å›¾ä¸Šæ·»åŠ æ ‡è®°"></a>åœ¨åœ°å›¾ä¸Šæ·»åŠ æ ‡è®°</h4><p>æ ‡è®°å¯¹äºè¯†åˆ«ä»»ä½•ç‰¹å®šçš„ä½ç½®å¾ˆæœ‰ç”¨ã€‚ä½ å¯ä»¥åœ¨åœ°å›¾ä¸Šæ·»åŠ å¤šä¸ªæ ‡è®°ã€‚æ›¿æ¢ä¸ºï¼šç”¨è¿™ä¸ªæ·»åŠ æ ‡è®°ğŸ‘‡</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token class-name">Marker</span><span class="token punctuation">(</span>    markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"marker1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    position<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.422131</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.084801</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    draggable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    onDragEnd<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">// value is the new position</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token comment">// To do: custom marker icon</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">Marker</span><span class="token punctuation">(</span>    markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"marker2"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    position<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.415768808487435</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.08440050482749</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ å…è®¸ç”¨æˆ·æ”¹å˜æ ‡è®°çš„ä½ç½®ï¼Œé‚£ä¹ˆå°±æŠŠå¯æ‹–åŠ¨è®¾ç½®ä¸º â€œtrueâ€ï¼Œé»˜è®¤ä¸º â€œfalseâ€ã€‚ onDragEndä¸ºä½ æä¾›æ–°çš„ä½ç½®LatLngã€‚</p><img src="/Flutter-%E2%80%94-Google-Map-with-Custom-Marker/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="åœ¨åœ°å›¾ä¸Šè®¾ç½®è‡ªå®šä¹‰å›¾åƒæ ‡è®°"><a href="#åœ¨åœ°å›¾ä¸Šè®¾ç½®è‡ªå®šä¹‰å›¾åƒæ ‡è®°" class="headerlink" title="åœ¨åœ°å›¾ä¸Šè®¾ç½®è‡ªå®šä¹‰å›¾åƒæ ‡è®°"></a>åœ¨åœ°å›¾ä¸Šè®¾ç½®è‡ªå®šä¹‰å›¾åƒæ ‡è®°</h4><p>åœ¨æˆ‘çš„èµ„äº§ä¸­æ·»åŠ äº†ä¸€ä¸ªæ ‡è®°å›¾ç‰‡ï¼Œç„¶ååˆ›å»ºä¸€ä¸ªæ–¹æ³•æ¥è®¾ç½®markerIconã€‚æ›¿æ¢ä¸ºï¼šç”¨ä»¥ä¸‹ä»£ç æ·»åŠ è‡ªå®šä¹‰æ ‡è®°ğŸ‘‡</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">BitmapDescriptor</span> markerIcon <span class="token operator">=</span> <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span>defaultMarker<span class="token punctuation">;</span><span class="token metadata function">@override</span><span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">addCustomIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">addCustomIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span><span class="token function">fromAssetImage</span><span class="token punctuation">(</span>          <span class="token keyword">const</span> <span class="token class-name">ImageConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"assets/Location_marker.png"</span></span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>    <span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        markerIcon <span class="token operator">=</span> icon<span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å›åˆ°ç¬¬ä¸€ä¸ªæ ‡è®°ï¼ŒmarkerIdæ˜¯marker1ã€‚è®¾ç½®<code>icon = markerIcon</code></p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Marker</span><span class="token punctuation">(</span>  markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"marker1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>  position<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.422131</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.084801</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  draggable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  onDragEnd<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// value is the new position</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  icon<span class="token punctuation">:</span> markerIcon<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-%E2%80%94-Google-Map-with-Custom-Marker/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å®Œæ•´çš„ä»£ç  ğŸ¥³</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:google_maps_flutter/google_maps_flutter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MapScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">MapScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MapScreen</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_MapScreenState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _MapScreenState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MapScreen</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">LatLng</span> initialLocation <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.422131</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.084801</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">BitmapDescriptor</span> markerIcon <span class="token operator">=</span> <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span>defaultMarker<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">addCustomIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">void</span> <span class="token function">addCustomIcon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">BitmapDescriptor</span><span class="token punctuation">.</span><span class="token function">fromAssetImage</span><span class="token punctuation">(</span>            <span class="token keyword">const</span> <span class="token class-name">ImageConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"assets/Location_marker.png"</span></span><span class="token punctuation">)</span>        <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>      <span class="token punctuation">(</span>icon<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          markerIcon <span class="token operator">=</span> icon<span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">GoogleMap</span><span class="token punctuation">(</span>        initialCameraPosition<span class="token punctuation">:</span> <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span>          target<span class="token punctuation">:</span> initialLocation<span class="token punctuation">,</span>          zoom<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>          <span class="token class-name">Marker</span><span class="token punctuation">(</span>            markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"marker1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            position<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.422131</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.084801</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            draggable<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            onDragEnd<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">// value is the new position</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            icon<span class="token punctuation">:</span> markerIcon<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">Marker</span><span class="token punctuation">(</span>            markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"marker2"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            position<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">37.415768808487435</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">122.08440050482749</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><!-- https://medium.com/flutter-community/flutter-google-map-with-custom-marker-ea1555a37342 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> GoogleMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter - åœ¨è°·æ­Œåœ°å›¾ä¸­çªå‡ºæ˜¾ç¤ºä»»ä½•åŒºåŸŸ</title>
      <link href="/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps.html"/>
      <url>/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps.html</url>
      
        <content type="html"><![CDATA[<p>æˆ‘ä»¬å·²ç»å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•åœ¨Flutteråº”ç”¨ç¨‹åºä¸­æ·»åŠ è°·æ­Œåœ°å›¾å’Œè‡ªå®šä¹‰æ ‡è®°ã€‚<br>è®©æˆ‘ä»¬æ›´è¿›ä¸€æ­¥ï¼Œå‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨æ‚¨çš„åœ°å›¾ä¸Šæ·»åŠ ä¸€ä¸ªåœ†åœˆï¼Œæˆ–è¯†åˆ«ä¸€ä¸ªç‰¹å®šçš„åŒºåŸŸå¸‚ã€å·æˆ–å›½å®¶ã€‚</p><img src="/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps/1.png" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>è¯·æ³¨æ„ã€‚è¿™é‡Œå·²ç»å‡è®¾æ‚¨çŸ¥é“å¦‚ä½•å°†è°·æ­Œåœ°å›¾æ·»åŠ åˆ°Flutteråº”ç”¨ä¸­ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·æŸ¥çœ‹æˆ‘ä¹‹å‰çš„æ–‡ç« ğŸ‘‰<a href="https://pangz.fun/Flutter-%E2%80%94-Google-Map-with-Custom-Marker.html">Flutter - å¸¦æœ‰è‡ªå®šä¹‰æ ‡è®°çš„è°·æ­Œåœ°å›¾ğŸ“</a>ã€‚</p><h4 id="åˆå§‹è®¾ç½®"><a href="#åˆå§‹è®¾ç½®" class="headerlink" title="åˆå§‹è®¾ç½®"></a>åˆå§‹è®¾ç½®</h4><p>ç°åœ¨æ˜¯æ—¶å€™å¼€å§‹äº†!<br>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å±å¹•ï¼Œä¸Šé¢æœ‰ä¸€ä¸ªè°·æ­Œåœ°å›¾å°éƒ¨ä»¶ï¼Œè®¾ç½®äº†initialCameraPositionå’Œä¸€ä¸ªæ ‡è®°ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">GoogleMapScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">GoogleMapScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token metadata function">@override</span>  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GoogleMapScreen</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_GoogleMapScreenState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _GoogleMapScreenState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GoogleMapScreen</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Completer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GoogleMapController</span><span class="token punctuation">&gt;</span></span> _controller <span class="token operator">=</span> <span class="token class-name">Completer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">LatLng</span> intialLocation <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.762912</span><span class="token punctuation">,</span> <span class="token number">90.427816</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token class-name">Expanded</span><span class="token punctuation">(</span>            child<span class="token punctuation">:</span> <span class="token class-name">GoogleMap</span><span class="token punctuation">(</span>              initialCameraPosition<span class="token punctuation">:</span> <span class="token class-name">CameraPosition</span><span class="token punctuation">(</span>                target<span class="token punctuation">:</span> intialLocation<span class="token punctuation">,</span>                zoom<span class="token punctuation">:</span> <span class="token number">15.6746</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>              onMapCreated<span class="token punctuation">:</span> <span class="token punctuation">(</span>controller<span class="token punctuation">)</span> <span class="token punctuation">{</span>                _controller<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>controller<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              markers<span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token class-name">Marker</span><span class="token punctuation">(</span>                  markerId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MarkerId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  position<span class="token punctuation">:</span> intialLocation<span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              <span class="token comment">// ToDo: Add Circle</span>              <span class="token comment">// ToDo: Add polygon</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="æ·»åŠ ä¸€ä¸ªåœˆåœˆ"><a href="#æ·»åŠ ä¸€ä¸ªåœˆåœˆ" class="headerlink" title="æ·»åŠ ä¸€ä¸ªåœˆåœˆ"></a>æ·»åŠ ä¸€ä¸ªåœˆåœˆ</h4><p>ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯å¦‚ä½•åœ¨æˆ‘ä»¬çš„åœ°å›¾ä¸Šæ·»åŠ ä¸€ä¸ªåœ†åœˆã€‚ç”¨ä»¥ä¸‹ä»£ç </p><pre class="line-numbers language-ToDo:" data-language="ToDo:"><div class="caption"><span>Add Circle```ç”¨ä¸‹é¢çš„ä»£ç æ·»åŠ åœ†åœˆğŸ‘‡</span></div><code class="language-ToDo:">```dartcircles: {  Circle(    circleId: CircleId("1"),    center: intialLocation,    radius: 420,    strokeWidth: 2,    fillColor: Color(0xFF006491).withOpacity(0.2),  ),},<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>centerè®¾ç½®åœ†çš„ä½ç½®ã€‚æˆ‘ä½¿ç”¨intialLocationï¼Œè¿™æ ·æ ‡è®°å°±ä¼šæ˜¯åœ†çš„ä¸­é—´ç‚¹ã€‚åŠå¾„å€¼ä¸º430æ¯”è¾ƒåˆé€‚çš„ï¼Œä½†æ˜¯å¦‚æœåœ°å›¾æ²¡æœ‰è¢«æ”¾å¤§ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ä¸€ä¸ªæ›´å¤§çš„å€¼ã€‚<br>ä¸ºäº†é¿å…åœ†å‘¨å›´å‡ºç°å·¨å¤§çš„è¾¹ç•Œï¼Œæˆ‘å°†strokeWidthè®¾ç½®ä¸º2ã€‚</p><img src="/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="çªå‡ºä¸€ä¸ªç‰¹å®šçš„åŒºåŸŸ"><a href="#çªå‡ºä¸€ä¸ªç‰¹å®šçš„åŒºåŸŸ" class="headerlink" title="çªå‡ºä¸€ä¸ªç‰¹å®šçš„åŒºåŸŸ"></a>çªå‡ºä¸€ä¸ªç‰¹å®šçš„åŒºåŸŸ</h4><p>å¹¶ä¸æ€»æ˜¯éœ€è¦ç”»ä¸€ä¸ªåœ†ï¼Œä¹Ÿè®¸ä½ åªéœ€è¦æ ‡è®°æŸä¸ªåŒºåŸŸã€‚<br>ä¸ºäº†è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨è°·æ­Œåœ°å›¾çš„å¤šè¾¹å½¢ã€‚éœ€è¦ç”¨ä¸‹é¢çš„ä»£ç æ›¿æ¢<code>//ToDo: Add polygon</code></p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">polygons<span class="token punctuation">:</span> <span class="token punctuation">{</span>  <span class="token class-name">Polygon</span><span class="token punctuation">(</span>    polygonId<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">PolygonId</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"1"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    fillColor<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFF006491</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    strokeWidth<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>    points<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token punctuation">[</span>      <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.766315</span><span class="token punctuation">,</span> <span class="token number">90.425778</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.764691</span><span class="token punctuation">,</span> <span class="token number">90.424767</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.761916</span><span class="token punctuation">,</span> <span class="token number">90.426862</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.758532</span><span class="token punctuation">,</span> <span class="token number">90.428588</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.758825</span><span class="token punctuation">,</span> <span class="token number">90.429228</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token class-name">LatLng</span><span class="token punctuation">(</span><span class="token number">23.763698</span><span class="token punctuation">,</span> <span class="token number">90.431324</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¯·çœ‹ä¸‹æ•ˆæœï¼š</p><img src="/Flutter-%E2%80%94-Highlight-any-area-in-Google-Maps/5.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœè¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹ä¸ªèµğŸ‘ å‘—ã€‚</p><!-- https://theflutterway.medium.com/flutter-highlight-any-area-in-google-maps-4f6380a203c3 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> GoogleMap </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter ARKit--å®Œæ•´çš„é€Ÿæˆè¯¾ç¨‹</title>
      <link href="/Flutter-ARKit-%E2%80%94-the-complete-crash-course.html"/>
      <url>/Flutter-ARKit-%E2%80%94-the-complete-crash-course.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ‰æ²¡æœ‰æƒ³è¿‡åœ¨Flutteråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ARï¼Ÿ<br>Wellï¼ŒARKitå¯ä»¥å¸®åŠ©ä½ ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸å®¹æ˜“ä½¿ç”¨çš„è½¯ä»¶åŒ…ï¼Œåªè¦ä½ äº†è§£å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚<br>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»Šå¤©è¦å‘ä½ ä»‹ç»è¿™ä¸ªè½¯ä»¶åŒ…çš„åŸå› ! è®©æˆ‘ä»¬å¼€å§‹å§!</p><span id="more"></span><p>æ³¨æ„ã€‚ARKitåªé€‚ç”¨äºiOSè®¾å¤‡ï¼ˆå› ä¸ºARKitæ˜¯ç”±è‹¹æœå¼€å‘çš„ï¼‰ã€‚å¯¹äºå®‰å“è®¾å¤‡ï¼Œä½ å¯ä»¥ä½¿ç”¨ar_core_flutter_pluginã€‚</p><p>Happy reading!</p><h4 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h4><p>åˆ›å»ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåï¼Œæˆ‘ä»¬è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯æ·»åŠ  arkit_pluginã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å‘½ä»¤<br><code>flutter pub add arkit_plugin</code>ã€‚ä½ åº”è¯¥ç†Ÿæ‚‰è¿™äº›å‘½ä»¤ï¼Œå¦åˆ™ï¼Œæˆ‘å»ºè®®ä½ å†æŸ¥ä¸€ä¸‹Flutterçš„åŸºç¡€çŸ¥è¯†ã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬é…ç½®ä¸€äº›æ–‡ä»¶ä»¥åœ¨iOSè®¾å¤‡ä¸Šä½¿ç”¨ARKitã€‚</p><p>é¦–å…ˆï¼Œå…è®¸ä½ çš„åº”ç”¨ç¨‹åºä½¿ç”¨æ‘„åƒå¤´ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æä¾›ä¸€ä¸ª<code>NSCameraUsageDescription</code>ã€‚</p><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™ä¹‹åï¼Œæˆ‘ä»¬å¿…é¡»æ›´æ–°Podfileã€‚<br>æœ€ä½æ”¯æŒçš„iOSç‰ˆæœ¬æ˜¯11.0ï¼Œä½†å¦‚æœä½ éœ€è¦ä½¿ç”¨å›¾åƒé”šï¼Œè¯·ä½¿ç”¨11.3ã€‚<br>å¯¹äºå›¾åƒè·Ÿè¸ªé…ç½®æˆ–é¢éƒ¨è·Ÿè¸ªï¼Œå°†å…¶è®¾ç½®ä¸º12.0ï¼Œèº«ä½“è·Ÿè¸ªçš„æœ€ä½ç‰ˆæœ¬ä¸º13.0ã€‚</p><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ä½¿ç”¨ARKit"><a href="#ä½¿ç”¨ARKit" class="headerlink" title="ä½¿ç”¨ARKit"></a>ä½¿ç”¨ARKit</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ä¸€ä¸ªStatefulWidgetä¸­åˆ›å»ºä¸€ä¸ªARitControllerã€‚</p><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åˆ›å»ºæˆ‘ä»¬çš„ARKitè§†å›¾ã€‚<br>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ARKitSceneViewã€‚å®ƒæœ‰ä¸€ä¸ªåä¸ºonARKitViewCreatedçš„å±æ€§ã€‚<br>æˆ‘ä»¬å¯ä»¥åœ¨é‚£é‡Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°å¹¶åˆå§‹åŒ–æˆ‘ä»¬çš„ARKITControllerã€‚</p><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½†ç›®å‰ï¼Œæˆ‘ä»¬ä»€ä¹ˆéƒ½çœ‹ä¸åˆ°ã€‚<br>è®©æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªFloatingActionButtonï¼Œè°ƒç”¨ä¸€ä¸ªå‡½æ•°ï¼Œå‘akitControlleræ·»åŠ ä¸€ä¸ªå¯¹è±¡ã€‚</p><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ARKitNodeè¿˜æœ‰å¾ˆå¤šè‡ªå®šä¹‰é€‰é¡¹ï¼Œä½ å¯ä»¥åœ¨<a href="https://pub.dev/documentation/arkit_plugin/latest/arkit_plugin/ARKitNode-class.html">è¿™é‡Œ</a>æ‰¾åˆ°ã€‚</p><p>ç°åœ¨çš„ARKitå¯ä»¥æ˜¯è¿™æ ·çš„:</p><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/8.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ çœ‹ä¸€ä¸‹ARKitçš„ä¾‹å­ã€‚<br>ä½ å¯ä»¥åœ¨é‚£é‡Œå­¦ä¹ å¦‚ä½•åœ¨èŠ‚ç‚¹ä¸Šæ·»åŠ ä½ è‡ªå·±çš„å›¾åƒï¼Œä½¿ç”¨è‡ªå®šä¹‰ç¯å…‰è®¾ç½®ï¼Œè¿½è¸ªè„¸éƒ¨ã€èº«ä½“å’Œå…¶ä»–ã€‚<br>æœ‰å¾ˆå¤šä¸œè¥¿å¯ä»¥å‘ç°ï¼Œæ‰€ä»¥çœ‹ä¸€ä¸‹è¿™ä¸ª<a href="https://pub.dev/packages/arkit_plugin#examples">åˆ—è¡¨</a>ï¼Œçœ‹çœ‹ä½ å–œæ¬¢ä»€ä¹ˆã€‚ä½ ç®€ç›´å¯ä»¥ç”¨ARKitåšä»»ä½•äº‹æƒ…ã€‚</p><p>åœ¨å‘å¸ƒåˆ°App Storeä¹‹å‰ï¼Œä¸€äº›ç»™å¼€å‘è€…ä»¬çš„å»ºè®®ï¼š</p><blockquote><p>è¯¥æ’ä»¶æ”¯æŒTrueDepth APIã€‚å¦‚æœä½ ä¸ä½¿ç”¨å®ƒï¼Œä¸€å®šè¦é€šè¿‡ä¿®æ”¹ä½ çš„Podfileæ–‡ä»¶æ¥åˆ é™¤ä»»ä½•TrueDepthåŠŸèƒ½ï¼Œå¦åˆ™ï¼Œä½ çš„åº”ç”¨ç¨‹åºå°†è¢«è‹¹æœæ‹’ç»ã€‚</p></blockquote><img src="/Flutter-ARKit-%E2%80%94-the-complete-crash-course/9.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="è¿›ä¸€æ­¥é˜…è¯»ä¸ç»“è®º"><a href="#è¿›ä¸€æ­¥é˜…è¯»ä¸ç»“è®º" class="headerlink" title="è¿›ä¸€æ­¥é˜…è¯»ä¸ç»“è®º"></a>è¿›ä¸€æ­¥é˜…è¯»ä¸ç»“è®º</h4><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ å·²ç»äº†è§£äº†ARåŒ… â€œARKit â€œçš„åŸºç¡€çŸ¥è¯†ã€‚ä½ å·²ç»çœ‹åˆ°äº†å®ƒæ˜¯å¤šä¹ˆå®¹æ˜“ä½¿ç”¨ï¼Œä»¥åŠå®ƒæ˜¯å¤šä¹ˆå¼ºå¤§ã€‚</p><p>å¦‚æœä½ ä½¿ç”¨Freezedã€Isaræˆ–Flutter Hooksç­‰åŒ…ï¼Œä½ å¯ä»¥å±•å¼€ARKitçš„å…¨éƒ¨åŠ›é‡ã€‚</p><p>è°¢è°¢ä½ çš„é˜…è¯»ï¼Œç¥ä½ æœ‰ä¸ªæ„‰å¿«çš„ä¸€å¤©ï¼</p><!-- https://tomicriedel.medium.com/4007f8b7f945 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> ARKit </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>6ä¸ªé’ˆå¯¹Javaç¨‹åºå‘˜çš„å…è´¹Spring Bootè¯¾ç¨‹</title>
      <link href="/6-Free-Spring-Boot-Courses-For-Java-Programmers.html"/>
      <url>/6-Free-Spring-Boot-Courses-For-Java-Programmers.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™äº›å…è´¹è¯¾ç¨‹å°†æ•™ä¼šä½ å…³äºæµè¡Œçš„Javaæ¡†æ¶Spring Bootçš„ä¸€åˆ‡çŸ¥è¯†ã€‚</p></blockquote><img src="/6-Free-Spring-Boot-Courses-For-Java-Programmers/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿‡å»åå¹´ä¸­ï¼ŒSpringå·²ç»æˆä¸ºJavaå¼€å‘è€…æœ€å—æ¬¢è¿çš„æ¡†æ¶ä¹‹ä¸€ã€‚<br>åŒæ ·ï¼ŒSpring Bootæ˜¯Springæ¡†æ¶çš„ä¸€ä¸ªè½»é‡çº§ç‰ˆæœ¬ï¼Œç”¨äºå¾®æœåŠ¡ã€‚<br>å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ªæ‹¥æœ‰è®¸å¤šé›†æˆå·¥å…·çš„å¹³å°ï¼Œæ”¯æŒå¤šç§è¡Œä¸šç”¨ä¾‹ï¼Œå¦‚Spring Batchå’ŒSpring Integrationã€‚å®ƒæ˜¯ä¸€ä¸ªç›´è§‚çš„ã€æ˜“äºé…ç½®çš„ä¸‹ä¸€ä»£æ¡†æ¶ã€‚</p><p>å› æ­¤ï¼Œæˆ‘åœ¨è¿™é‡Œåˆ†äº«ä¸€äº›æœ€æœ‰ç”¨çš„å…è´¹Spring bootè¯¾ç¨‹ã€‚å¦‚æœä½ å¯¹æ”¯ä»˜Spring Bootæ•™ç¨‹ä¸æ„Ÿå…´è¶£ï¼Œè¿™ç¯‡æ–‡ç« å°†å¸®åŠ©ä½ å­¦ä¹ å®ƒã€‚æ‰€ä»¥ï¼Œä¸å†å¤šè¯´ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§!</p><span id="more"></span><h3 id="é¢å‘Javaç¨‹åºå‘˜çš„å…è´¹Spring-Bootè¯¾ç¨‹"><a href="#é¢å‘Javaç¨‹åºå‘˜çš„å…è´¹Spring-Bootè¯¾ç¨‹" class="headerlink" title="é¢å‘Javaç¨‹åºå‘˜çš„å…è´¹Spring Bootè¯¾ç¨‹"></a>é¢å‘Javaç¨‹åºå‘˜çš„å…è´¹Spring Bootè¯¾ç¨‹</h3><p>è¯·è®°ä½ï¼Œè¿™äº›å…è´¹çš„Spring Bootè¯¾ç¨‹å°†æ¥å¯èƒ½åˆä¼šå˜æˆä»˜è´¹è¯¾ç¨‹ï¼Œæ‰€ä»¥æŠŠå®ƒä»¬æ”¾åœ¨ä½ çš„æ¸…å•ä¸Šï¼Œé¿å…ä»¥åå†ä»˜è´¹ã€‚ä¸å¤šè¯´äº†ï¼Œæˆ‘ä»¬å¼€å§‹å§!</p><h4 id="1-Spring-Boot-Restful-Web-Services-Tutorial-â€”-Udemy"><a href="#1-Spring-Boot-Restful-Web-Services-Tutorial-â€”-Udemy" class="headerlink" title="1. Spring Boot Restful Web Services Tutorial â€” [Udemy]"></a>1. <a href="https://www.udemy.com/course/spring-boot-restful-web-services-tutorial-free-course/">Spring Boot Restful Web Services Tutorial</a> â€” [Udemy]</h4><img src="/6-Free-Spring-Boot-Courses-For-Java-Programmers/2.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>Spring Bootå…è®¸å¼€å‘äººå‘˜å¿«é€Ÿã€è½»æ¾åœ°åˆ›å»ºåŸºäºSpringçš„åº”ç”¨ç¨‹åºã€‚ä½¿ç”¨Spring Bootï¼Œå¼€å‘äººå‘˜å¯ä»¥å¿«é€Ÿåˆ›å»ºåŸºäºSpringçš„åº”ç”¨ç¨‹åºï¼Œè€Œä¸éœ€è¦ä¸€æ¬¡åˆä¸€æ¬¡åœ°ç¼–å†™æ¨¡æ¿ä»£ç ã€‚</p><p>åœ¨è¿™ä¸ªSpring Bootè¯¾ç¨‹ä¸­ï¼Œæ‚¨å°†:</p><ul><li>å­¦ä¹ å¦‚ä½•ä½¿ç”¨Spring Bootæ„å»ºRESTful WebæœåŠ¡ã€‚</li><li>å‘ç°å¦‚ä½•åœ¨Spring bootåº”ç”¨ç¨‹åºä¸­å®ç°ä¸‰å±‚æ¶æ„ï¼ˆæ§åˆ¶å™¨ã€æœåŠ¡å’Œå­˜å‚¨åº“ï¼‰ã€‚</li><li>äº†è§£å¦‚ä½•å°†Spring bootåº”ç”¨ç¨‹åºè¿æ¥åˆ°MySQLæ•°æ®åº“ã€‚</li><li>äº†è§£å¦‚ä½•ä½¿ç”¨Lombokåº“æ¥å‡å°‘æ¨¡æ¿ä»£ç ã€‚</li><li>äº†è§£Spring Data JPAå¦‚ä½•åœ¨Spring Bootåº”ç”¨ç¨‹åºä¸­å·¥ä½œã€‚</li></ul><p>æ€»ä¹‹ï¼ŒSpring Bootæ˜¯Springæ¡†æ¶çš„ä¸€ä¸ªæ‰©å±•ï¼Œå®ƒæ¶ˆé™¤äº†è®¾ç½®Springåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰æ¨¡æ¿é…ç½®ã€‚æœ¬è¯¾ç¨‹å°†å¸®åŠ©æ‚¨å­¦ä¹ å¦‚ä½•ä½¿ç”¨Spring Bootã€Spring Data JPAï¼ˆHibernateï¼‰å’ŒMySQLä¸ºå‘˜å·¥ç®¡ç†é¡¹ç›®å¼€å‘REST APIã€‚</p><p>è¿™æ˜¯Udemyä¸Šçš„ä¸€é—¨å…è´¹Spring Bootè¯¾ç¨‹ï¼Œåœ¨5é—¨è¯¾ç¨‹ä¸­è·å¾—äº†4.4åˆ†ï¼Œé•¿åº¦ä¸º1å°æ—¶51åˆ†é’Ÿã€‚å¦å¤–ï¼Œè¯·è®°ä½ï¼Œç”±äºè¿™æ˜¯ä¸€ä¸ªå…è´¹çš„Udemyè¯¾ç¨‹ï¼Œä½ åœ¨å®Œæˆåä¸ä¼šå¾—åˆ°ä¸€ä¸ªè¯ä¹¦ã€‚</p><h4 id="2-Building-Scalable-Java-Microservices-with-Spring-Boot-and-Spring-Cloud-â€”-Coursera"><a href="#2-Building-Scalable-Java-Microservices-with-Spring-Boot-and-Spring-Cloud-â€”-Coursera" class="headerlink" title="2. Building Scalable Java Microservices with Spring Boot and Spring Cloud â€” [Coursera]"></a>2. <a href="https://www.coursera.org/learn/google-cloud-java-spring">Building Scalable Java Microservices with Spring Boot and Spring Cloud</a> â€” [Coursera]</h4><p>å¾®æœåŠ¡æ˜¯æ¾æ•£è€¦åˆçš„æœåŠ¡ï¼Œå½¢æˆä¸€ç§è½¯ä»¶è®¾è®¡æ¨¡å¼ã€‚<br>å®ƒä»¬æ˜¯ç»†ç²’åº¦çš„ï¼Œå¯ä»¥ç‹¬ç«‹åœ°è¿›è¡Œæ‰©å±•å’Œç»´æŠ¤ã€‚ç”±äºå¼ºè°ƒå¼¹æ€§æ‰©å±•å’ŒæŒ‰éœ€èµ„æºï¼Œå¾®æœåŠ¡æ˜¯å…¬å…±äº‘ç¯å¢ƒçš„ç†æƒ³é€‰æ‹©ã€‚<br>æœ¬è¯¾ç¨‹æ•™æ‚¨å¦‚ä½•ä½¿ç”¨Spring Bootå’ŒSpring Cloudåœ¨è°·æ­Œäº‘ä¸Šå¼€å‘Javaåº”ç”¨ç¨‹åºã€‚</p><p>åœ¨è¿™ä¸ªSpring Bootè¯¾ç¨‹ä¸­ï¼Œæ‚¨å°†:</p><ul><li>å­¦ä¹ åœ¨è°·æ­Œäº‘ä¸Šä½¿ç”¨Spring Bootå’ŒSpring Cloudæ„å»ºJavaåº”ç”¨ç¨‹åºã€‚</li><li>ä½¿ç”¨Pub/Subå’ŒSpring Integrationå‘é€å’Œæ¥æ”¶ä¿¡æ¯ã€‚</li><li>å­¦ä¹ å¦‚ä½•ä»Cloud SQLè¿ç§»åˆ°Cloud Spannerä½œä¸ºJavaåº”ç”¨çš„ç®¡ç†å…³ç³»æ•°æ®åº“ã€‚</li><li>ç”¨Google Cloudçš„æ“ä½œå¥—ä»¶è·Ÿè¸ªå’Œè°ƒè¯•ä½ çš„Springåº”ç”¨ç¨‹åºã€‚</li></ul><p>åœ¨æœ¬è¯¾ç¨‹ä¸­ï¼Œæ‚¨å°†ä½¿ç”¨Spring Cloud Configæ¥ç®¡ç†åº”ç”¨ç¨‹åºçš„é…ç½®ã€‚æ‚¨å°†ä½¿ç”¨Pub/Subå’ŒSpring Integrationå‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚<br>æ­¤å¤–ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä¸ºæ‚¨çš„Javaåº”ç”¨ç¨‹åºä½¿ç”¨äº‘SQLï¼Œå®ƒæ˜¯è°·æ­Œäº‘çš„å…¨çƒåˆ†å¸ƒçš„å¼ºä¸€è‡´æ€§æ•°æ®åº“ï¼Œä»¥åŠå¦‚ä½•è¿ç§»åˆ°äº‘Spannerã€‚<br>æ­¤å¤–ï¼Œä½ è¿˜å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨è°·æ­Œäº‘çš„æ“ä½œå¥—ä»¶æ¥è°ƒè¯•å’Œè·Ÿè¸ªä½ çš„Springåº”ç”¨ç¨‹åºã€‚</p><p>è¿™æ˜¯Courseraä¸Šçš„ä¸€é—¨å…è´¹çš„Spring bootè¯¾ç¨‹ï¼Œåœ¨5é—¨è¯¾ç¨‹ä¸­è·å¾—äº†4.3åˆ†ï¼Œå­¦æ—¶ä¸º13å°æ—¶ã€‚ç”±äºè¿™æ˜¯ä¸€é—¨å…è´¹çš„Courseraè¯¾ç¨‹ï¼Œä½ åœ¨å®Œæˆåä¼šæ”¶åˆ°ä¸€ä»½è¯ä¹¦ã€‚</p><h4 id="3-Introduction-to-Spring-Boot-2-and-Spring-Framework-5-â€”-Udemy"><a href="#3-Introduction-to-Spring-Boot-2-and-Spring-Framework-5-â€”-Udemy" class="headerlink" title="3. Introduction to Spring Boot 2 and Spring Framework 5 â€” [Udemy]"></a>3. <a href="https://www.udemy.com/course/introduction-to-spring-boot-2-and-spring-framework-5/">Introduction to Spring Boot 2 and Spring Framework 5</a> â€” [Udemy]</h4><img src="/6-Free-Spring-Boot-Courses-For-Java-Programmers/3.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™ä¸ªæ¥è‡ªUdemyçš„å…è´¹Spring Bootè¯¾ç¨‹å°†å¸®åŠ©ä½ äº†è§£Spring Boot 2å’ŒSpring Framework 5ã€‚æœ¬è¯¾ç¨‹å¯¹ä»»ä½•åˆšæ¥è§¦Spring Bootçš„äººæ¥è¯´éƒ½æ˜¯å®Œç¾çš„!<br>å®ƒè§£é‡Šäº†å¦‚ä½•ä½¿ç”¨Spring Boot 2å¿«é€Ÿã€è½»æ¾åœ°å»ºç«‹ä¸€ä¸ªWebåº”ç”¨ç¨‹åºã€‚<br>ä½¿ç”¨Spring Initializerï¼Œæ‚¨å°†åˆ›å»ºæ‚¨çš„åˆå§‹Spring Booté¡¹ç›®ã€‚</p><p>åœ¨è¿™ä¸ªSpring Bootè¯¾ç¨‹ä¸­ï¼Œæ‚¨å°†:</p><ul><li>å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªSpring Boot Webåº”ç”¨ç¨‹åºã€‚</li><li>åˆ›å»ºä¸€ä¸ªæ–°çš„Spring Booté¡¹ç›®ã€‚</li><li>ä½¿ç”¨Spring Data JPAå­˜å‚¨å’Œæ£€ç´¢æ•°æ®ã€‚</li><li>ä½¿ç”¨Thymeleafå°†æ•°æ®ä»æ•°æ®åº“æ˜¾ç¤ºåˆ°ç½‘é¡µä¸Šã€‚<br>ä¹‹åï¼Œæ‚¨å°†åœ¨è¿™ä¸ªSpring Bootè¯¾ç¨‹ä¸­ä½¿ç”¨Hibernateåˆ›å»ºJPAå®ä½“ä»¥æŒä¹…åŒ–åˆ°æ•°æ®åº“ä¸­ã€‚<br>ä½¿ç”¨Spring Bootå’ŒSpring Data JPAï¼Œæ‚¨å°†çœ‹åˆ°å¦‚ä½•é…ç½®å†…å­˜ä¸­çš„H2æ•°æ®åº“å¹¶åˆå§‹åŒ–æ•°æ®ã€‚<br>æœ€åï¼Œä½ å°†çœ‹åˆ°å¦‚ä½•ä½¿ç”¨Spring MVCå’ŒThymeleafæ¨¡æ¿åœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºæ•°æ®åº“çš„æ•°æ®ã€‚</li></ul><p>è¿™æ˜¯Udemyçš„ä¸€é—¨å…è´¹çš„Spring bootè¯¾ç¨‹ï¼Œè¯¾ç¨‹è¯„åˆ†ä¸º4.4ï¼ˆæ»¡åˆ†5åˆ†ï¼‰ï¼Œæ—¶é•¿2å°æ—¶18åˆ†é’Ÿã€‚å¦å¤–ï¼Œè¯·è®°ä½ï¼Œç”±äºè¿™æ˜¯ä¸€ä¸ªå…è´¹çš„Udemyè¯¾ç¨‹ï¼Œä½ åœ¨å®Œæˆåä¸ä¼šå¾—åˆ°ä¸€ä¸ªè¯ä¹¦ã€‚</p><h4 id="4-Spring-MVC-Spring-Boot-and-Rest-Controllers-â€”-Coursera"><a href="#4-Spring-MVC-Spring-Boot-and-Rest-Controllers-â€”-Coursera" class="headerlink" title="4. Spring MVC, Spring Boot, and Rest Controllers â€” [Coursera]"></a>4. <a href="https://www.coursera.org/learn/spring-mvc-rest-controller">Spring MVC, Spring Boot, and Rest Controllers</a> â€” [Coursera]</h4><p>å¸Œæœ›ä½¿ç”¨è‘—åçš„Spring MVCå’ŒSpring Bootæ¡†æ¶å¼€å‘åŸºäºJavaçš„Webåº”ç”¨å’ŒRestful Micro Servicesçš„å­¦ç”Ÿå°†ä»æœ¬è¯¾ç¨‹ä¸­å—ç›Šã€‚<br>ä½œä¸ºè¯¾ç¨‹çš„ä¸€éƒ¨åˆ†ï¼Œå­¦ç”Ÿå°†ä½¿ç”¨å„ç§URLæ¨¡æ¿åˆ›å»ºæœåŠ¡ï¼Œä½¿ç”¨jsonæˆ–XMLæœ‰æ•ˆè½½è·è¿›è¡Œæ¶ˆè´¹å’Œå“åº”ï¼Œå¹¶åˆ›å»ºè‡ªå®šä¹‰HTTPå¤´ã€‚</p><p>è¿™äº›æœåŠ¡å°†æ”¯æŒJavaå’ŒAngular JSå®¢æˆ·ç«¯ï¼Œä»¥å±•ç¤ºå®ƒä»¬åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å¯é‡ç”¨æ€§ã€‚<br>æˆ‘ä»¬è¿˜å°†è®¨è®ºä½¿ç”¨æ¨¡å‹-è§†å›¾-æ§åˆ¶å™¨ï¼ˆMVCï¼‰æ¶æ„æ¥æ¸²æŸ“ç½‘é¡µçš„ä¼ ç»Ÿç½‘ç»œåº”ç”¨ã€‚<br>åœ¨è¿™ä¸ªå®è·µè¯¾ç¨‹ä¸­ï¼ŒåŒ…æ‹¬å‡ ä¸ªå®éªŒå®¤æ¥è¯´æ˜å…³é”®æ¦‚å¿µã€‚</p><p>è¿™ä¸ªSpring bootè¯¾ç¨‹çš„ä¸»é¢˜åŒ…æ‹¬:</p><ul><li>Spring MVCã€SpringBootå’ŒRestControllers</li><li>è¯·æ±‚å‚æ•°</li><li>æ§åˆ¶å™¨</li></ul><p>è¿™æ˜¯Courseraä¸Šçš„ä¸€é—¨å…è´¹çš„Spring bootè¯¾ç¨‹ï¼Œè¯¾ç¨‹è¯„åˆ†ä¸º4.3åˆ†ï¼Œæ—¶é•¿ä¸º12å°æ—¶ã€‚<br>ç”±äºè¿™æ˜¯ä¸€é—¨å…è´¹çš„Courseraè¯¾ç¨‹ï¼Œä½ åœ¨å®Œæˆåä¼šæ”¶åˆ°ä¸€ä»½è¯ä¹¦ã€‚</p><h4 id="5-Spring-Framework-And-Dependency-Injection-For-Beginners-â€”-Udemy"><a href="#5-Spring-Framework-And-Dependency-Injection-For-Beginners-â€”-Udemy" class="headerlink" title="5. Spring Framework And Dependency Injection For Beginners â€” [Udemy]"></a>5. <a href="https://www.udemy.com/course/spring-framework-video-tutorial/">Spring Framework And Dependency Injection For Beginners</a> â€” [Udemy]</h4><p>æœ¬è¯¾ç¨‹éå¸¸é€‚åˆé‚£äº›åˆšæ¥è§¦Springæ¡†æ¶æˆ–Springä½†è¿‡å»ä»æœªé…ç½®è¿‡Javaçš„åˆå­¦è€…ã€‚<br>ä¸€ä¸ªçœŸå®ä¸–ç•Œçš„å¼€å‘è€…åªéœ€è¦çŸ¥é“Springæ¡†æ¶çš„ä¾èµ–æ³¨å…¥æ¡†æ¶çš„å‡ ä¸ªå…³é”®ç‰¹æ€§ã€‚<br>è¿™äº›æ˜¯ä½ éœ€è¦çŸ¥é“çš„å‡ ä»¶äº‹ï¼Œä»¥ä¾¿é©¬ä¸Šå¼€å§‹åˆ›å»ºçœŸå®ä¸–ç•Œçš„åº”ç”¨ç¨‹åºã€‚</p><p>åœ¨è¿™ä¸ªSpringè¯¾ç¨‹ä¸­ï¼Œä½ å°†:</p><ul><li>å¿«é€Ÿå¼€å§‹ä½¿ç”¨Springåº”ç”¨ç¨‹åºã€‚</li><li>æœ‰æ•ˆåœ°ä½¿ç”¨Javaå’ŒåŸºäºæ³¨è§£çš„ä¾èµ–æ³¨å…¥ã€‚</li><li>ä¸ºä¸åŒçš„ç¯å¢ƒé…ç½®è‡ªå®šä¹‰çš„å¤–éƒ¨å±æ€§å’Œbeanã€‚</li><li>ä½¿ç”¨Spring Bootä»¥æ­£ç¡®çš„æ–¹å¼å‘é€SMTPé‚®ä»¶ã€‚</li><li>æ»¡æ€€ä¿¡å¿ƒåœ°è¿›ä¸€æ­¥å­¦ä¹ Springã€‚</li></ul><p>åœ¨è¿™ä¸ªå¾ªåºæ¸è¿›çš„è§†é¢‘æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å­¦ä¹ å¦‚ä½•å¿«é€Ÿåˆ›å»ºä¸€ä¸ªSpringåº”ç”¨ç¨‹åºã€‚<br>æœ¬è¯¾ç¨‹å°†æ•™ä½ ä½¿ç”¨Javaå’ŒåŸºäºæ³¨è§£çš„é…ç½®ï¼Œäº†è§£Springçš„ä¾èµ–æ³¨å…¥ï¼ˆIoCï¼‰åŠŸèƒ½çš„åŸºæœ¬åŸç†ã€‚<br>è¿™é¡¹æŠ€èƒ½åœ¨ä»»ä½•Springæ¡†æ¶è¯¾ç¨‹ä¸­éƒ½æ˜¯éå¸¸å®è´µçš„ã€‚</p><p>è¿™æ˜¯Udemyä¸Šçš„ä¸€é—¨å…è´¹çš„Spring bootè¯¾ç¨‹ï¼Œåœ¨5é—¨è¯¾ç¨‹ä¸­è·å¾—äº†4.4åˆ†ï¼Œé•¿åº¦ä¸º1å°æ—¶24åˆ†é’Ÿã€‚å¦å¤–ï¼Œè¯·è®°ä½ï¼Œç”±äºè¿™æ˜¯ä¸€é—¨å…è´¹çš„Udemyè¯¾ç¨‹ï¼Œä½ åœ¨å®Œæˆåä¸ä¼šå¾—åˆ°ä¸€ä¸ªè¯ä¹¦ã€‚</p><ol start="6"><li><a href="https://www.youtube.com/watch?v=vtPkZShrvXQ">Spring Boot Tutorial For Beginners</a> [FreeCodeCamp â€” YouTube]</li></ol><iframe width="692" height="519" src="https://www.youtube.com/embed/vtPkZShrvXQ" title="Spring Boot Tutorial for Beginners (Java Framework)" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><p>ç”¨Spring Bootå¼€å‘Javaåº”ç”¨ç¨‹åºæ˜¯ä¸€ç§å¾ˆå¥½çš„ä½“éªŒã€‚<br>è¯¥æ¡†æ¶ç®€åŒ–äº†åˆ›å»ºç‹¬ç«‹çš„ã€åŸºäºSpringçš„ç”Ÿäº§çº§åº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ã€‚<br>åœ¨è¿™ä¸ªé¢å‘åˆå­¦è€…çš„å®Œæ•´çš„Spring Bootè¯¾ç¨‹ä¸­ï¼Œä½ å°†å­¦åˆ°å…³äºSpring Bootçš„æ‰€æœ‰çŸ¥è¯†ã€‚</p><!-- https://medium.com/quick-code/5-free-spring-boot-courses-for-java-programmers-369981c93c4a -->]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> SpringBoot </tag>
            
            <tag> Courses </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Flutterä½¿ç”¨NFC</title>
      <link href="/NFC-with-Flutter.html"/>
      <url>/NFC-with-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/NFC-with-Flutter/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿‘åœºé€šä¿¡æŠ€æœ¯æœ‰å„ç§å„æ ·çš„ç”¨ä¾‹ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•åœ¨è·¨å¹³å°çš„Flutteråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚</p><span id="more"></span><h4 id="NFCç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#NFCç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="NFCç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ"></a>NFCç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</h4><img src="/NFC-with-Flutter/2.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>NFCï¼ˆè¿‘åœºé€šä¿¡ï¼‰å®é™…ä¸Šæè¿°äº†ä¸€ç³»åˆ—çš„é€šä¿¡æŠ€æœ¯ï¼Œå¯ä»¥ç”¨æ¥åœ¨ä¸¤ä¸ªè®¾å¤‡ä¹‹é—´è¿›è¡ŒçŸ­è·ç¦»çš„é€šä¿¡ï¼ˆå–å†³äºç¡¬ä»¶ï¼Œåœ¨æˆ‘çš„æµ‹è¯•ä¸­æœ€å¤š3å˜ç±³ï¼‰ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œå…¶ä¸­ä¸€ä¸ªè®¾å¤‡æ²¡æœ‰ä»»ä½•å½¢å¼çš„ç”µæºï¼ˆä¾‹å¦‚ä¸Šé¢çš„è´´çº¸ï¼Œè¢«åŠ¨éƒ¨åˆ†ï¼‰ï¼Œç”±å¦ä¸€ä¸ªè®¾å¤‡æ— çº¿ä¾›ç”µï¼ˆä¾‹å¦‚ä½ çš„æ‰‹æœºï¼Œä¸»åŠ¨éƒ¨åˆ†ï¼‰ã€‚<br>NFCç¡¬ä»¶æœ‰å¤šç§ç±»å‹ï¼Œä»å¡‘æ–™å¡ä¸Šçš„è´´çº¸ã€å°é’¥åŒ™æ‰£ä»¤ç‰Œåˆ°ç¼æœ‰èŠ¯ç‰‡çš„è¡£æœã€‚å®é™…çš„èŠ¯ç‰‡ä¹Ÿæœ‰ä¸åŒçš„åŠŸèƒ½ï¼Œæ¯”å¦‚:</p><ul><li>æ”¯æŒçš„ä¸åŒåè®®/å­˜å‚¨æ ¼å¼ï¼ˆåé¢ä¼šæœ‰æ›´å¤šä»‹ç»ï¼‰</li><li>å­˜å‚¨å¤§å°ï¼ˆä»å‡ ä¸ªå­—èŠ‚åˆ°32KBä¸ç­‰ï¼‰</li><li>è¯»/å†™é€Ÿåº¦</li><li>å†…ç½®çš„ç¡¬ä»¶åŠ å¯†ï¼ˆå¦‚CRYPTO 1ã€3DESã€AES128ï¼‰ã€‚</li><li>è¯»å–è·ç¦»ï¼ˆéœ€è¦ä¸€ä¸ªç‰¹æ®Šçš„è¯»å¡å™¨ï¼Œä¾‹å¦‚æ©æ™ºæµ¦ICODE SLIXï¼Œæœ€è¿œå¯è¾¾1.5ç±³ï¼‰ã€‚</li><li>æ”¯æŒå†™é”ï¼Œæ”¯æŒè¯»è®¡æ•°å™¨ï¼Œæ”¯æŒè¯»é”</li></ul><p>ISO/IEC 14443å°†NFCæ ‡ç­¾åˆ†ä¸º5ä¸ªä¸åŒçš„ç»„åˆ«ï¼Œè¿™å–å†³äºä¸Šè¿°çš„ç‰¹å¾é›†ã€‚<br>é€šå¸¸æƒ…å†µä¸‹ï¼Œä½ ä¼šå¤„ç†ç¬¬äºŒç»„å…¼å®¹çš„æ ‡ç­¾ï¼Œè¿™äº›æ ‡ç­¾å…è®¸å¤šæ¬¡è¯»å†™ï¼Œå¤§å°åœ¨48å­—èŠ‚åˆ°2KBä¹‹é—´ï¼ˆç†è®ºä¸Šè§„èŒƒå…è®¸è¾¾åˆ°1MBï¼‰ã€‚<br>æ ¹æ®ä½ çš„ä½¿ç”¨æƒ…å†µï¼Œä½ ä¹Ÿå¯èƒ½æœ€ç»ˆä½¿ç”¨éµå¾ªISO/IEC 15693çš„æ ‡ç­¾ï¼Œè¯¥æ ‡ç­¾æè¿°äº†èŒƒå›´ä¸ºå¤šç±³çš„éæ¥è§¦å¼èŠ¯ç‰‡å¡ã€‚</p><h4 id="NDEF"><a href="#NDEF" class="headerlink" title="NDEF"></a>NDEF</h4><p>NFCæ•°æ®äº¤æ¢æ ¼å¼ï¼Œæ­£å¦‚å…¶åç§°æ‰€ç¤ºï¼Œæè¿°äº†ä¸€ç§å¦‚ä½•å°†å†…å®¹ä¿å­˜åœ¨èŠ¯ç‰‡ä¸Šçš„æ–¹æ³•ã€‚<br>æ‰€ä»¥ï¼Œæ˜¯çš„ï¼Œæˆ‘ä»¬ç»ˆäºåœ¨è°ˆè®ºè½¯ä»¶äº† :)<br>NDEFå…è®¸æ‰€æœ‰å…¼å®¹è®¾å¤‡äº†è§£å­˜å‚¨åœ¨èŠ¯ç‰‡ä¸Šçš„æ•°æ®ç»“æ„å’Œç±»å‹ã€‚æ‰€æœ‰çš„å†…å®¹éƒ½è¢«ä¿å­˜ä¸ºä¿¡æ¯ï¼Œä¸€æ¡ä¿¡æ¯å¯ä»¥åŒ…å«å¤šä¸ªè®°å½•ã€‚</p><p>æ¯æ¡è®°å½•ä»¥ä¸€ä¸ªå¤´å¼€å§‹ï¼Œå…¶ä¸­åŒ…å«å…³äºè¯¥è®°å½•çš„å…ƒæ•°æ®ï¼Œä¾‹å¦‚åŒ…æ‹¬æœ‰æ•ˆè½½è·çš„ç±»å‹å’Œå¤§å°ä¿¡æ¯ã€‚å¤´éƒ¨ä¹‹åæ˜¯è®°å½•çš„æœ‰æ•ˆå†…å®¹ã€‚</p><blockquote><p>NDEF Record = [Record HEADER][Record playload]</p></blockquote><p>æ•´æ´çš„éƒ¨åˆ†æ˜¯å¤´çš„ç±»å‹ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œä½ æœ‰7ä¸ªç±»å‹çš„å€¼:</p><ul><li>0: Empty â€” ä¸€ä¸ªæ²¡æœ‰ç±»å‹å’Œæœ‰æ•ˆå†…å®¹çš„è®°å½•</li><li>1: Well-Known (WKT) â€” NFCè®ºå›RTDä¸­é¢„å…ˆå®šä¹‰çš„ç±»å‹ä¹‹ä¸€ï¼Œç¼–ç ä¸ºç»Ÿä¸€èµ„æºåç§°ï¼ˆURNï¼‰ï¼Œå¦‚ â€œurn:wkt:Tâ€ï¼Œå…¶ä¸­Tä»£è¡¨æ–‡æœ¬ã€‚</li><li>2: MIME media-type â€” RFC 2046ä¸­å®šä¹‰çš„ç±»å‹ï¼Œå¦‚text/csv</li><li>3: Absolute URL â€” åœ¨RFC 3986ä¸­å®šä¹‰</li><li>4: External â€” ç”¨æˆ·å®šä¹‰çš„å€¼</li><li>5: Unknown â€” æœªçŸ¥ç±»å‹ï¼Œè¦æ±‚é•¿åº¦ä¸º0</li><li>6: Unchanged â€” ç”¨äºåˆ†å—æœ‰æ•ˆå†…å®¹ä¹‹é—´æˆ–æœ«ç«¯ï¼ˆç»ˆæ­¢ï¼‰çš„è®°å½•ï¼Œé•¿åº¦å¿…é¡»ä¸º0</li><li>7: Reserved â€” ä¿ç•™ç»™æœªæ¥ä½¿ç”¨</li></ul><p>ä½ ç”¨å®ƒåšçš„å¤§å¤šæ•°äº‹æƒ…è¦ä¹ˆå±äº1-Well-Knownã€2-MIMEæˆ–4-Externalç±»åˆ«ã€‚<br>ä¸€ä¸ªéå¸¸å¸¸è§çš„4-Externalè®°å½•çš„ä¾‹å­æ˜¯Androidçš„ â€œandroid.com:pkgâ€ï¼Œå®ƒè¢«ç”¨æ¥æ‰“å¼€åº”ç”¨ç¨‹åºã€‚<br>å…³äºå®é™…çš„ç»“æ„å’Œé…ç½®è¿˜æœ‰å¾ˆå¤šï¼Œä½†ç°åœ¨ï¼Œæˆ‘ä»¬å°†ç»“æŸè¿™ä¸ªè¯é¢˜ï¼Œæœ€åçœ‹ä¸€ä¸‹Flutterçš„ä»£ç ã€‚</p><img src="/NFC-with-Flutter/3.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="Flutterå’ŒNFC"><a href="#Flutterå’ŒNFC" class="headerlink" title="Flutterå’ŒNFC"></a><a href="https://pub.flutter-io.cn/packages/nfc_manager">Flutterå’ŒNFC</a></h4><p>ä½ ä¼šå‘ç°pub.flutter-io.cnä¸Šæœ‰å¤šä¸ªä¸NFCæœ‰ç‚¹å…³ç³»çš„åŒ…ã€‚<br>æˆ‘é€‰æ‹©çš„è¿™ä¸ªå«nfc_managerï¼Œæ”¯æŒAndroidå’ŒiOSï¼Œè¿™ä¸ªåŒ…åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­çš„æ—¥å¸¸ä½¿ç”¨è¢«è¯æ˜æ˜¯å¯é çš„ã€‚</p><p>æˆ‘ä»¬å°†åœ¨æ­¤å±•ç¤ºçš„é¡¹ç›®æ˜¯åŸºäºFlutterçš„è®¡æ•°å™¨ä¾‹å­ï¼Œå¹¶åŠ å…¥äº†NFCçš„å…ƒç´ ã€‚<br>è¿™ä¸ªæƒ³æ³•å¾ˆç®€å•ï¼šä½ å¯ä»¥åœ¨ä¸€ä¸ªæ ‡ç­¾ä¸Šå­˜å‚¨ä½ å½“å‰çš„è®¡æ•°å™¨å€¼ï¼Œæˆ–è€…ä»æ ‡ç­¾ä¸Šè¯»å–ä¸€ä¸ªå€¼ã€‚<br>æ ‡ç­¾å°±åƒè®¡æ•°å™¨åº”ç”¨çš„ä¸€ä¸ªæŒä¹…æ€§å­˜å‚¨å±‚ã€‚<br>æœ€é…·çš„ä¸€ç‚¹æ˜¯ï¼Œè¿™ç§å­˜å‚¨ä¸åœ¨è®¾å¤‡ä¸Šï¼Œä¹Ÿä¸éœ€è¦ä»»ä½•ç”µæºã€‚</p><h4 id="å¿…è¦çš„è®¾ç½®"><a href="#å¿…è¦çš„è®¾ç½®" class="headerlink" title="å¿…è¦çš„è®¾ç½®"></a>å¿…è¦çš„è®¾ç½®</h4><p>å¯¹äºè¿™ä¸¤ä¸ªå¹³å°ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯å®‰å“å’ŒiOSï¼Œä½ éœ€è¦é…ç½®ä½ çš„åº”ç”¨ç¨‹åºä»¥ä¾¿èƒ½å¤Ÿä½¿ç”¨NFCåŠŸèƒ½ã€‚<br>ä¸Šè¿°é“¾æ¥è½¯ä»¶åŒ…çš„pub.flutter-io.cné¡µé¢å·²ç»æŒ‡å‡ºäº†æ‰€éœ€çš„æ­¥éª¤ã€‚</p><h4 id="å®‰å“"><a href="#å®‰å“" class="headerlink" title="å®‰å“"></a>å®‰å“</h4><p>åªè¦åœ¨ä½ çš„flutteré¡¹ç›®ä¸­çš„AndroidManifest.xmlæ–‡ä»¶ä¸­æ·»åŠ æƒé™è¯·æ±‚ï¼Œä½ å°±å¯ä»¥å¼€å§‹äº†ã€‚<br>å¦‚æœä½ è®¤ä¸ºNFCæ˜¯ä½ çš„åº”ç”¨ç¨‹åºéœ€è¦ä½¿ç”¨çš„ä¸€ä¸ªè¦æ±‚ï¼Œä½ ä¹Ÿå¯ä»¥ä¸ºNFCæ·»åŠ ä¸€ä¸ª â€œuse-feature â€œæ ‡ç­¾ã€‚</p><h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><p>é¦–å…ˆï¼Œä¼¼ä¹åªæœ‰å½“ä½ æ‹¥æœ‰ä¸€ä¸ªä»˜è´¹çš„è‹¹æœå¼€å‘è€…è´¦æˆ·æ—¶ï¼Œä½ æ‰èƒ½ç©è½¬NFCã€‚<br>ç™»å½•è‹¹æœå¼€å‘è€…é—¨æˆ·ï¼Œé€‰æ‹©</p><pre class="line-numbers language-none"><code class="language-none">Certificates, Identifiers &amp; Profiles -&gt; Identifiers â†’ Select your app -&gt; Enable NFC Tag Reading -&gt; Save.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸€æ—¦ä½ å®Œæˆäº†è¿™äº›ï¼Œä½ å¯èƒ½éœ€è¦åŒæ­¥/ä¸‹è½½æ›´æ–°çš„é…ç½®æ–‡ä»¶ï¼ˆå¯¹æˆ‘æ¥è¯´ï¼Œå®ƒå¼€ç®±å³ç”¨ï¼‰ã€‚<br>ä¸‹ä¸€æ­¥æ˜¯æ‰“å¼€XCodeï¼Œå¯¼èˆªåˆ°ä½ çš„é¡¹ç›®å’Œä¸‹é¢æ˜¾ç¤ºçš„å±å¹•ã€‚</p><img src="/NFC-with-Flutter/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™åº”è¯¥å·²ç»ç”Ÿæˆäº†ä½ è¯»å†™NDEFæ ‡ç­¾æ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶ã€‚<br>ä½ å¯èƒ½æƒ³æ›´æ–°ä½ çš„.plistæ–‡ä»¶ä¸­çš„æ–‡å­—ï¼Œè¯´æ˜ä½ ä¸ºä»€ä¹ˆè¦ä½¿ç”¨NFCã€‚å¦‚æœä½ éœ€è¦æ›´å¤šçš„æ ‡ç­¾ç±»å‹ï¼Œè¯·æŸ¥çœ‹pub.flutter-io.cné¡µé¢æˆ–<a href="https://developer.apple.com/documentation/corenfc/building_an_nfc_tag-reader_app">è‹¹æœçš„è¿™ä¸ªé“¾æ¥</a>ã€‚</p><img src="/NFC-with-Flutter/5.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="å€¼å¾—æ³¨æ„çš„æ˜¯"><a href="#å€¼å¾—æ³¨æ„çš„æ˜¯" class="headerlink" title="å€¼å¾—æ³¨æ„çš„æ˜¯"></a>å€¼å¾—æ³¨æ„çš„æ˜¯</h4><p>å®‰å“å’ŒiOSå¯¹NFCçš„å¤„ç†æ–¹å¼æœ‰å¾ˆå¤§åŒºåˆ«ï¼<br>å®‰å“ç”¨æˆ·å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å…³é—­è®¾å¤‡çš„NFCï¼Œè€ŒiOSä¸å…è®¸ç”¨æˆ·å…³é—­NFCã€‚å®‰å“ç”¨æˆ·å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®ä¸­å…³é—­è®¾å¤‡çš„NFCï¼Œå¦‚æœä»–ä»¬æ„¿æ„ï¼ŒiOSä¸å…è®¸ç”¨æˆ·å…³é—­NFCã€‚å¦‚æœæœ‰åº”ç”¨ç¨‹åºè¦æ±‚ï¼Œå®ƒå°†å§‹ç»ˆå¤„äºå¼€å¯çŠ¶æ€ã€‚</p><p>æ›´é‡è¦çš„æ˜¯ï¼Œå®‰å“å…è®¸åœ¨åå°æ‰«æå¤šä¸ªæ ‡ç­¾ï¼Œè€Œä¸å‘ç”¨æˆ·æä¾›ä»»ä½•è§†è§‰æŒ‡ç¤ºã€‚<br>iOSæ€»æ˜¯ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ‰«ææ ‡ç­¾ï¼Œå¹¶æ€»æ˜¯å°†ä½ çš„åº”ç”¨ç¨‹åºè¦†ç›–åœ¨ä¸‹é¢æ‰€ç¤ºçš„è§†å›¾ä¸Šã€‚è¿™æ„å‘³ç€ä½ å¿…é¡»æ·»åŠ æŸç§UIå…ƒç´ æ¥è§¦å‘é˜…è¯»ï¼Œå¹¶ä¸”ä¸€æ—¦æ‰«æäº†ä¸€ä¸ªæ ‡ç­¾ï¼Œå°±æ€»æ˜¯å¯åŠ¨/åœæ­¢ç›‘å¬å™¨ã€‚<br>è¿™å¯èƒ½æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œä¹Ÿå¯èƒ½ä¸æ˜¯ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå–å†³äºä½ çš„åº”ç”¨ç¨‹åºå’Œæ‰€éœ€çš„å·¥ä½œæµç¨‹ã€‚</p><img src="/NFC-with-Flutter/6.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ç¤ºä¾‹ä»£ç "><a href="#ç¤ºä¾‹ä»£ç " class="headerlink" title="ç¤ºä¾‹ä»£ç "></a>ç¤ºä¾‹ä»£ç </h4><p>è¿™ä¸ªä¾‹å­çš„æ‰€æœ‰ä»£ç éƒ½åœ¨main.dartæ–‡ä»¶ä¸­ï¼Œä¸‹é¢çš„ç‰‡æ®µé€ä¸€å±•ç¤ºäº†æ›´ç›¸å…³çš„éƒ¨åˆ†ã€‚ä¸ºäº†ä»¥é˜²ä¸‡ä¸€ï¼Œä¸‹é¢æ˜¯è¯¥åº”ç”¨ç¨‹åºåœ¨Androidä¸Šè¿è¡Œçš„æˆªå›¾ã€‚</p><img src="/NFC-with-Flutter/7.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="å¦‚ä½•æ£€æŸ¥NFCæ˜¯å¦å¯ç”¨æ"><a href="#å¦‚ä½•æ£€æŸ¥NFCæ˜¯å¦å¯ç”¨æ" class="headerlink" title="å¦‚ä½•æ£€æŸ¥NFCæ˜¯å¦å¯ç”¨æ"></a>å¦‚ä½•æ£€æŸ¥NFCæ˜¯å¦å¯ç”¨æ</h4><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:nfc_manager/nfc_manager.dart'</span></span><span class="token punctuation">;</span><span class="token comment">//...</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">WidgetsFlutterBinding</span><span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Required for the line below</span>  isNfcAvalible <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">NfcManager</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">isAvailable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">//...</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯¥åŒ…æä¾›äº†ä¸€ä¸ªæ–¹æ³•æ¥æ£€æŸ¥NFCæ˜¯å¦å¯ç”¨ï¼Œä½ å¯ä»¥åœ¨Flutterç¯å¢ƒå‡†å¤‡å¥½åï¼ˆåœ¨ç¬¬4è¡Œå®Œæˆï¼‰æˆ–åœ¨runAppè¢«è°ƒç”¨åéšæ—¶è°ƒç”¨ã€‚<br>å¦‚æœä½ æ˜¯åœ¨å®‰å“ç³»ç»Ÿä¸Šï¼Œå¹¶ä¸”è¿™ä¸ªæ–¹æ³•è¿”å›é”™è¯¯ï¼Œè¿™å¯èƒ½æ„å‘³ç€:</p><ul><li>è¯¥æ‰‹æœºæ²¡æœ‰NFCç¡¬ä»¶</li><li>NFCè®¾ç½®æ˜¯å…³é—­çš„</li><li>ä½ æ²¡æœ‰ä½¿ç”¨NFCçš„æƒé™</li></ul><p>å¦‚æœä½ åœ¨iOSè®¾å¤‡ä¸Šå¾—åˆ°é”™è¯¯ä¿¡æ¯ï¼Œè¿™æ„å‘³ç€è¯¥è®¾å¤‡æ ¹æœ¬æ²¡æœ‰NFCç¡¬ä»¶ã€‚</p><h4 id="ä»¥NDEFçš„å½¢å¼å†™å’Œè¯»ä¸€ä¸ªæ ‡ç­¾"><a href="#ä»¥NDEFçš„å½¢å¼å†™å’Œè¯»ä¸€ä¸ªæ ‡ç­¾" class="headerlink" title="ä»¥NDEFçš„å½¢å¼å†™å’Œè¯»ä¸€ä¸ªæ ‡ç­¾"></a>ä»¥NDEFçš„å½¢å¼å†™å’Œè¯»ä¸€ä¸ªæ ‡ç­¾</h4><p>NDEFæ˜¯æ‰€æœ‰å¹³å°ä¸Šæœ€å¸¸ç”¨çš„æ ¼å¼ï¼Œä¹Ÿæ˜¯ä»¥ä¸‹ä»£ç ä¸­å”¯ä¸€ä½¿ç”¨çš„æ ¼å¼ã€‚å¦‚æœä½ éœ€è¦å…¶ä»–æ ¼å¼ï¼Œè¯·ç¡®ä¿ä½ æ‰€æœ‰çš„ç›®æ ‡å¹³å°éƒ½æ”¯æŒè¯¥æ ¼å¼ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">//...</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_listenForNFCEvents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token comment">//Always run this for ios but only once for android</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isAndroid <span class="token operator">&amp;&amp;</span> listenerRunning <span class="token operator">==</span> <span class="token boolean">false</span> <span class="token operator">||</span> <span class="token class-name">Platform</span><span class="token punctuation">.</span>isIOS<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token comment">//Android supports reading nfc in the background, starting it one time is all we need</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">_alert</span><span class="token punctuation">(</span>          <span class="token string-literal"><span class="token string">'NFC listener running in background now, approach tag(s)'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//Update button states</span>        <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          listenerRunning <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token class-name">NfcManager</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">startSession</span><span class="token punctuation">(</span>        onDiscovered<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">NfcTag</span> tag<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>          bool succses <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>          <span class="token comment">//Try to convert the raw tag data to NDEF</span>          <span class="token keyword">final</span> ndefTag <span class="token operator">=</span> <span class="token class-name">Ndef</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">//If the data could be converted we will get an object</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>ndefTag <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">// If we want to write the current counter vlaue we will replace the current content on the tag</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>writeCounterOnNextContact<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">//Ensure the write flag is off again</span>              <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                writeCounterOnNextContact <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//Create a 1Well known tag with en as language code and 0x02 encoding for UTF8</span>              <span class="token keyword">final</span> ndefRecord <span class="token operator">=</span> <span class="token class-name">NdefRecord</span><span class="token punctuation">.</span><span class="token function">createText</span><span class="token punctuation">(</span>_counter<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//Create a new ndef message with a single record</span>              <span class="token keyword">final</span> ndefMessage <span class="token operator">=</span> <span class="token class-name">NdefMessage</span><span class="token punctuation">(</span><span class="token punctuation">[</span>ndefRecord<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token comment">//Write it to the tag, tag must still be "connected" to the device</span>              <span class="token keyword">try</span> <span class="token punctuation">{</span>                <span class="token comment">//Any existing content will be overrwirten</span>                <span class="token keyword">await</span> ndefTag<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>ndefMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">_alert</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Counter written to tag'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>                succses <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">_alert</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Writting failed, press 'Write to tag' again"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token comment">//The NDEF Message was already parsed, if any</span>            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>ndefTag<span class="token punctuation">.</span>cachedMessage <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">var</span> ndefMessage <span class="token operator">=</span> ndefTag<span class="token punctuation">.</span>cachedMessage<span class="token operator">!</span><span class="token punctuation">;</span>              <span class="token comment">//Each NDEF message can have multiple records, we will use the first one in our example</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>ndefMessage<span class="token punctuation">.</span>records<span class="token punctuation">.</span>isNotEmpty <span class="token operator">&amp;&amp;</span>                  ndefMessage<span class="token punctuation">.</span>records<span class="token punctuation">.</span>first<span class="token punctuation">.</span>typeNameFormat <span class="token operator">==</span>                      <span class="token class-name">NdefTypeNameFormat</span><span class="token punctuation">.</span>nfcWellknown<span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token comment">//If the first record exists as 1:Well-Known we consider this tag as having a value for us</span>                <span class="token keyword">final</span> wellKnownRecord <span class="token operator">=</span> ndefMessage<span class="token punctuation">.</span>records<span class="token punctuation">.</span>first<span class="token punctuation">;</span>                <span class="token comment">///Payload for a 1:Well Known text has the following format:</span>                <span class="token comment">///[Encoding flag 0x02 is UTF8][ISO language code like en][content]</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>wellKnownRecord<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>first <span class="token operator">==</span> <span class="token number">0x02</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token comment">//Now we know the encoding is UTF8 and we can skip the first byte</span>                  <span class="token keyword">final</span> languageCodeAndContentBytes <span class="token operator">=</span>                      wellKnownRecord<span class="token punctuation">.</span>payload<span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//Note that the language code can be encoded in ASCI, if you need it be carfully with the endoding</span>                  <span class="token keyword">final</span> languageCodeAndContentText <span class="token operator">=</span>                      utf8<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>languageCodeAndContentBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//Cutting of the language code</span>                  <span class="token keyword">final</span> payload <span class="token operator">=</span> languageCodeAndContentText<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token comment">//Parsing the content to int</span>                  <span class="token keyword">final</span> storedCounters <span class="token operator">=</span> int<span class="token punctuation">.</span><span class="token function">tryParse</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token keyword">if</span> <span class="token punctuation">(</span>storedCounters <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    succses <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    <span class="token function">_alert</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Counter restored from tag'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                      _counter <span class="token operator">=</span> storedCounters<span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">}</span>                <span class="token punctuation">}</span>              <span class="token punctuation">}</span>            <span class="token punctuation">}</span>          <span class="token punctuation">}</span>          <span class="token comment">//Due to the way ios handles nfc we need to stop after each tag</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isIOS<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token class-name">NfcManager</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">stopSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>succses <span class="token operator">==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token function">_alert</span><span class="token punctuation">(</span>              <span class="token string-literal"><span class="token string">'Tag was not valid'</span></span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token comment">// Required for iOS to define what type of tags should be noticed</span>        pollingOptions<span class="token punctuation">:</span> <span class="token punctuation">{</span>          <span class="token class-name">NfcPollingOption</span><span class="token punctuation">.</span>iso14443<span class="token punctuation">,</span>          <span class="token class-name">NfcPollingOption</span><span class="token punctuation">.</span>iso15693<span class="token punctuation">,</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token comment">//...example code</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®©æˆ‘ä»¬ä»æœ€åˆçš„å¹³å°æ£€æŸ¥ï¼ˆç¬¬4è¡Œè‡³ç¬¬14è¡Œï¼‰å¼€å§‹é€èŠ‚å›é¡¾ä»£ç ã€‚<br>ä½¿ç”¨å¹³å°ç±»ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦åœ¨Androidä¸Šè¿è¡Œï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªæœ¬åœ°æ ‡å¿—é˜²æ­¢å¯åŠ¨è¯»å–å™¨ä¸¤æ¬¡ã€‚<br>å¦‚æœè¯»å–å™¨æ²¡æœ‰è¿è¡Œï¼Œæˆ–è€…æˆ‘ä»¬åœ¨iOSä¸Šè¿è¡Œï¼Œæˆ‘ä»¬ä½¿ç”¨</p><pre class="line-numbers language-NfcManager.instance.startSession```æ–¹æ³•ï¼Œé€šè¿‡æä¾›```onDiscovered```å›è°ƒï¼ˆç¬¬16è¡Œï¼‰å¯åŠ¨ä¸€ä¸ªæ–°çš„é˜…è¯»å™¨ä¼šè¯ã€‚" data-language="NfcManager.instance.startSession```æ–¹æ³•ï¼Œé€šè¿‡æä¾›```onDiscovered```å›è°ƒï¼ˆç¬¬16è¡Œï¼‰å¯åŠ¨ä¸€ä¸ªæ–°çš„é˜…è¯»å™¨ä¼šè¯ã€‚"><code class="language-NfcManager.instance.startSession```æ–¹æ³•ï¼Œé€šè¿‡æä¾›```onDiscovered```å›è°ƒï¼ˆç¬¬16è¡Œï¼‰å¯åŠ¨ä¸€ä¸ªæ–°çš„é˜…è¯»å™¨ä¼šè¯ã€‚">æ‰€æœ‰çš„è¯»å’Œå†™éƒ½å‘ç”Ÿåœ¨```onDiscovered```å›è°ƒä¸­ï¼Œé¦–å…ˆæ£€æŸ¥æä¾›çš„NfcTagå¯¹è±¡ã€‚æˆ‘ä»¬åªæƒ³å¤„ç†NDEFæ ‡ç­¾ï¼Œè¯·çœ‹ç¬¬20è¡Œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨```Ndef.from(tag)```æ¥æ£€æŸ¥æä¾›çš„æ ‡ç­¾æ˜¯å¦å¯ä»¥è¢«è§£æä¸ºNDEFæ ¼å¼ã€‚&gt; å½“ä½ è°ƒç”¨æ­¤æ–¹æ³•æ—¶ï¼Œnfc_managerå°†è‡ªåŠ¨è§£ææ ‡ç­¾ä¸Šçš„NDEFä¿¡æ¯åŠå…¶è®°å½•ã€‚#### å†™å…¥å‘æ ‡ç­¾å†™å…¥æ•°æ®æ˜¯é€šè¿‡åˆ›å»ºNdefMessageå¯¹è±¡å¹¶å°†NdefRecordå¯¹è±¡çš„åˆ—è¡¨ä½œä¸ºå†…å®¹æ¥å®Œæˆçš„ï¼ˆè§ç¬¬30è‡³32è¡Œï¼‰ã€‚æˆ‘ä»¬å°†ä½¿ç”¨Well-Knownç±»å‹çš„æ–‡æœ¬ï¼Œé»˜è®¤è¯­è¨€ç¼–ç è®¾ç½®ä¸º "en"ã€‚nfc_manageråŒ…æä¾›äº†ä¸€äº›å¸®åŠ©å¯¹è±¡æ¥åˆ›å»ºæ‰€éœ€çš„æ•°æ®ã€‚å†™å…¥æ•°æ®çš„æœ€åä¸€æ­¥æ˜¯åœ¨æˆ‘ä»¬çš„NDEFæ ‡ç­¾å¯¹è±¡ä¸Šè°ƒç”¨å†™å…¥æ–¹æ³•ï¼Œå¹¶ä¼ é€’NdefMessageå¯¹è±¡ï¼ˆç¬¬36è¡Œï¼‰ã€‚&gt; è¯·æ³¨æ„ï¼šè¦å†™ä¸€ä¸ªæ ‡ç­¾ï¼Œä½ é¦–å…ˆéœ€è¦è¯»å–å®ƒï¼Œæˆ–è€…æ›´å‡†ç¡®åœ°è¯´ï¼Œå®ƒä»ç„¶å¿…é¡»åœ¨æ‰‹æœºçš„èŒƒå›´å†…ã€‚#### è¯»å–è¯»å–NDEFæ ¼å¼çš„æ•°æ®å‘ç”Ÿåœ¨ç¬¬44è‡³63è¡Œã€‚è¯¥ä»£ç é¦–å…ˆæ£€æŸ¥æ ‡ç­¾ä¸Šæ˜¯å¦æœ‰ä»»ä½•NDEFä¿¡æ¯ã€‚å¦‚æœæ‰¾åˆ°äº†ï¼Œæˆ‘ä»¬è¦ç¡®ä¿å®ƒæœ‰è®°å½•ï¼Œå¹¶ä¸”ç¬¬ä¸€æ¡è®°å½•æ˜¯åŸºäºWell-Knownæ ¼å¼çš„ã€‚ç°åœ¨ï¼Œä»£ç ç¡®ä¿æœ‰æ•ˆæ•°æ®ï¼ˆä¸€ä¸²å­—èŠ‚ï¼‰ä»¥0x2å¼€å§‹ï¼Œè¿™æ˜¯UTF-8ç¼–ç æ–‡æœ¬çš„æ ‡å¿—ã€‚æœ‰æ•ˆæ•°æ®åº”è¯¥å§‹ç»ˆæ˜¯è¿™æ ·çš„æ ¼å¼ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>[ENCODING_FLAG][ISO_LANGUAGE_CODE][TEXT]</p><pre><code>å‰©ä¸‹è¦åšçš„å°±æ˜¯å°†è¿™äº›å­—èŠ‚ï¼ˆæˆ‘ä»¬å¯ä»¥è·³è¿‡ç¬¬ä¸€ä¸ªå­—èŠ‚ï¼‰è§£ç ä¸ºæ–‡æœ¬ï¼Œå¹¶ä½¿ç”¨```substring(2)```åˆ‡æ–­è¯­è¨€ä»£ç ã€‚æœ€åä¸€éƒ¨åˆ†ä¸ç¤ºä¾‹åº”ç”¨ç¨‹åºæœ‰å…³ï¼ˆç¬¬65è‡³70è¡Œï¼‰ï¼Œç¡®ä¿æ–‡æœ¬æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„æ•´æ•°ï¼Œå¹¶å°†è®¡æ•°å™¨è®¾ç½®ä¸ºå®ƒã€‚#### æ‘˜è¦&amp;é“¾æ¥&amp;å°çŸ¥è¯†NFCå¯ä»¥è¢«æ•´åˆåˆ°Flutteråº”ç”¨ç¨‹åºä¸­ï¼Œè€Œä¸éœ€è¦åšå¾ˆå¤§çš„æ”¹å˜ï¼Œè€Œä¸”ç°åœ¨çš„å¤§éƒ¨åˆ†æ‰‹æœºéƒ½æ”¯æŒNFCã€‚NFCæ ‡ç­¾çš„å­˜å‚¨ç©ºé—´ä¸å¤§ï¼Œä½†ä»å¯ç”¨äºè§¦å‘åŠŸèƒ½ã€åˆ†äº«ä¿¡æ¯æˆ–å°†ç”¨æˆ·æŒ‡å‘ç‰¹å®šçš„èµ„æºã€‚æœ€é‡è¦çš„æ˜¯ï¼Œé€šè¿‡NDEFï¼Œæ‰€æœ‰çš„å…¼å®¹è®¾å¤‡éƒ½å¯ä»¥è¯»å–ä¿¡æ¯ï¼Œè€Œä¸å±€é™äºä¸€ä¸ªè®¾å¤‡/å“ç‰Œæˆ–åº”ç”¨ç¨‹åºã€‚ä¾‹å¦‚ï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨NFCæ¥è§¦å‘æˆ‘ä»¬åº”ç”¨ä¸­çš„å„ç§åŠŸèƒ½ï¼Œä»¥æ›¿ä»£æ‰«æäºŒç»´ç æˆ–æ‰‹åŠ¨æœç´¢ã€‚å¯¹ç”¨æˆ·æ¥è¯´ï¼Œæœ€å¤§çš„å¥½å¤„æ˜¯NFCä¸éœ€è¦æ‘„åƒå¤´ï¼Œè€Œä¸”å¦‚æœéœ€è¦æ”¹å˜ä¸Šä¸‹æ–‡ï¼Œæ ‡ç­¾å¯ä»¥è¢«é‡å†™ã€‚ä¸¾ä¸ªç®€å•çš„ä¾‹å­:ä½ æƒ³çœ‹çœ‹ä¸€ä¸ªå­˜å‚¨åŒºçš„å†…å®¹ï¼ŸæŠŠä½ çš„æ‰‹æœºé è¿‘NFCæ ‡ç­¾ï¼Œæ‰‹æœºå°±ä¼šå‘ä½ æ˜¾ç¤ºå¤‡ä»¶çš„æ¸…å•ï¼Œä¸ç®¡ä½ ä¹‹å‰åšäº†ä»€ä¹ˆï¼Œéƒ½ä¸éœ€è¦ä½ æŒ‰ä¸‹æŒ‰é’®ï¼ˆè‡³å°‘åœ¨å®‰å“ç³»ç»Ÿä¸Šæ˜¯è¿™æ ·çš„......ï¼‰ã€‚Have FUNï¼&lt;!-- https://medium.com/flutter-community/nfc-with-flutter-f8c3515cb0e0 --&gt;</code></pre>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> NFC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>7ä¸ªæœ€ä½³Pythonå·¥å…·è®©ä½ çš„ç”Ÿæ´»æ›´è½»æ¾</title>
      <link href="/7-Best-Python-Tools-To-Make-Your-Life-Easier.html"/>
      <url>/7-Best-Python-Tools-To-Make-Your-Life-Easier.html</url>
      
        <content type="html"><![CDATA[<img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ‰ä¸€å¥è°šè¯­ â€œä½ ä¸å¿…é‡æ–°å‘æ˜è½¦è½®â€ã€‚<br>å·¥å…·å°±æ˜¯æœ€å¥½çš„ä¾‹å­ã€‚å®ƒå¯ä»¥å¸®åŠ©ä½ ä»¥ä¸€ç§ç®€å•çš„æ–¹å¼å®ç°å¤æ‚å’Œè€—æ—¶çš„åŠŸèƒ½ã€‚<br>æ®æˆ‘æ‰€çŸ¥ï¼Œä¸ºäº†æé«˜ç”Ÿäº§åŠ›å’Œæ•ˆç‡ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€äº›æœ€å¥½çš„å·¥å…·ã€‚<br>åœ¨è¿™é‡Œï¼Œæœ‰7ä¸ªå·¥å…·ï¼Œå®ƒä»¬å°†å¸®åŠ©ä½ å®Œæˆä½ çš„å¼€å‘ä¹‹æ—…ã€‚</p><span id="more"></span><h4 id="1-thefuck"><a href="#1-thefuck" class="headerlink" title="1. thefuck"></a>1. <a href="https://github.com/nvbn/thefuck">thefuck</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/2.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯æˆ‘ç›®å‰æ­£åœ¨ä½¿ç”¨çš„ä¸€ä¸ªã€‚<br>æˆ‘è®¤ä¸ºç”¨å‘½ä»¤è¡Œå·¥ä½œä¼šä½¿ä½ çš„å·¥ä½œæ•ˆç‡æ›´é«˜ã€‚è¿™æ˜¯ä¸€ä¸ªå®ä¼Ÿçš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥çº æ­£ä½ ä¹‹å‰çš„æ§åˆ¶å°å‘½ä»¤ã€‚<br>å®ƒè¯•å›¾ç”¨ä¸€æ¡è§„åˆ™æ¥åŒ¹é…ä¹‹å‰çš„å‘½ä»¤ã€‚<br>å¦‚æœå‘ç°åŒ¹é…ï¼Œå°±ä¼šä½¿ç”¨åŒ¹é…çš„è§„åˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„å‘½ä»¤å¹¶æ‰§è¡Œã€‚<br>å®ƒä¹Ÿæ˜¯åœ¨GitHubä¸Šæ‹¥æœ‰è¶…è¿‡73000é¢—æ˜Ÿçš„æœ€å¤šæ˜Ÿçº§å­˜å‚¨åº“ä¹‹ä¸€ã€‚</p><h4 id="2-py-spy"><a href="#2-py-spy" class="headerlink" title="2. py-spy"></a>2. <a href="https://github.com/benfred/py-spy">py-spy</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/3.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>äº†è§£æˆ‘ä»¬çš„ç¨‹åºåœ¨å“ªé‡ŒèŠ±è´¹æ—¶é—´æ˜¯å¼€å‘è€…çš„é‡è¦ä»»åŠ¡ä¹‹ä¸€ã€‚<br>è¿™ä¸ªåº“å¯ä»¥è®©ä½ ç›´è§‚åœ°çœ‹åˆ°ä½ çš„Pythonç¨‹åºåœ¨ä»€ä¹ˆåœ°æ–¹èŠ±è´¹æ—¶é—´ï¼Œè€Œä¸éœ€è¦é‡æ–°å¯åŠ¨ç¨‹åºæˆ–ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹ä»£ç ã€‚<br>ä¸ºäº†æé«˜é€Ÿåº¦ï¼Œå®ƒæ˜¯ç”¨Rustç¼–å†™çš„ï¼Œå¹¶ä¸”ä¸ä¼šä¸è¢«å‰–æçš„Pythonç¨‹åºåœ¨åŒä¸€è¿›ç¨‹ä¸­è¿è¡Œã€‚è¿™æ„å‘³ç€è¿™ä¸ªåº“å¯ä»¥å®‰å…¨åœ°é’ˆå¯¹ç”Ÿäº§çš„Pythonä»£ç ä½¿ç”¨ã€‚<br>è¿™ä¸ªåº“åœ¨GitHubä¸Šæœ‰è¶…è¿‡9ké¢—æ˜Ÿã€‚</p><h4 id="3-httpie"><a href="#3-httpie" class="headerlink" title="3. httpie"></a>3. <a href="https://github.com/httpie/httpie">httpie</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/4.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤è¡ŒHTTPå®¢æˆ·ç«¯ã€‚<br>å®ƒçš„ç›®æ ‡æ˜¯ä½¿CLIä¸WebæœåŠ¡çš„äº¤äº’å°½å¯èƒ½çš„äººæ€§åŒ–ã€‚<br>å®ƒè¢«è®¾è®¡ç”¨äºæµ‹è¯•ã€è°ƒè¯•ä»¥åŠä¸APIå’ŒHTTPæœåŠ¡å™¨è¿›è¡Œä¸€èˆ¬çš„äº¤äº’ã€‚http &amp; httpså‘½ä»¤å…è®¸åˆ›å»ºå’Œå‘é€ä»»æ„çš„HTTPè¯·æ±‚ã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡24ké¢—æ˜Ÿã€‚</p><h4 id="4-poetry"><a href="#4-poetry" class="headerlink" title="4. poetry"></a>4. <a href="https://github.com/python-poetry/poetry">poetry</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/5.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ï¼Œæˆ‘æƒ³ä½ å·²ç»çŸ¥é“ç®¡ç†ä¾èµ–æ€§æœ‰æ—¶ä¼šå¾ˆè´¹æ—¶æˆ–å¤æ‚ã€‚<br>è¿™å¯ä»¥å¸®åŠ©ä½ å£°æ˜ã€ç®¡ç†å’Œå®‰è£…é¡¹ç›®çš„ä¾èµ–æ€§ï¼Œç¡®ä¿ä½ åœ¨ä»»ä½•åœ°æ–¹éƒ½æœ‰æ­£ç¡®çš„å †æ ˆã€‚<br>å®ƒç”¨ä¸€ä¸ªç®€å•çš„åŸºäºpyproject.tomlçš„é¡¹ç›®æ ¼å¼å–ä»£äº†setup.pyã€requirements.txtã€setup.cfgã€MANIFEST.inå’ŒPipfileã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡22000é¢—æ˜Ÿã€‚</p><h4 id="5-you-get"><a href="#5-you-get" class="headerlink" title="5. you-get"></a>5. <a href="https://github.com/soimort/you-get">you-get</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœä½ å–œæ¬¢äº’è”ç½‘ä¸Šçš„ä¸œè¥¿ï¼Œåªæ˜¯æƒ³ä¸‹è½½å®ƒä»¬ä¾›è‡ªå·±äº«ç”¨ï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ä½ éœ€è¦çš„å·¥å…·ã€‚<br>è¿™æ˜¯ä¸€ä¸ªå¾ˆå°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä»ç½‘ç»œä¸Šä¸‹è½½åª’ä½“å†…å®¹ï¼ˆè§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡ï¼‰ï¼Œä»¥é˜²æ²¡æœ‰å…¶ä»–æ–¹ä¾¿çš„æ–¹æ³•æ¥åšã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡45.5ä¸‡é¢—æ˜Ÿã€‚<br>ä½ å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤å®‰è£…å®ƒ <code>$ pip3 install you-get</code></p><h4 id="6-pyarmor"><a href="#6-pyarmor" class="headerlink" title="6. pyarmor"></a>6. <a href="https://github.com/dashingsoft/pyarmor">pyarmor</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ··æ·†æ˜¯ä¿æŠ¤ä½ çš„ä»£ç çš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€ã€‚<br>è¿™ä¸ªåº“æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥æ··æ·†Pythonè„šæœ¬ï¼Œå°†è¢«æ··æ·†çš„è„šæœ¬ç»‘å®šåˆ°å›ºå®šçš„æœºå™¨ä¸Šï¼Œæˆ–è€…ä½¿è¢«æ··æ·†çš„è„šæœ¬å¤±æ•ˆã€‚<br>è¢«æ··æ·†çš„è„šæœ¬æ˜¯ä¸€ä¸ªæ™®é€šçš„pythonè„šæœ¬ã€‚<br>é€šè¿‡ä¸€ä¸ªé¢å¤–çš„æ‰©å±•æ¨¡å—pytransformï¼Œæ™®é€šçš„Pythonè„šæœ¬å¯ä»¥è¢«æ··æ·†çš„è„šæœ¬æ— ç¼æ›¿æ¢ã€‚<br>è¿™ä¸ªåº“åœ¨Githubä¸Šæœ‰è¶…è¿‡1.8ké¢—æ˜Ÿã€‚</p><h4 id="7-black"><a href="#7-black" class="headerlink" title="7. black"></a>7. <a href="https://github.com/psf/black">black</a></h4><img src="/7-Best-Python-Tools-To-Make-Your-Life-Easier/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ç›¸ä¿¡ä»£ç æ ¼å¼åŒ–æ˜¯æ¯ä¸ªå¼€å‘äººå‘˜æœ€å¸¸ç”¨çš„å·¥å…·ä¹‹ä¸€ã€‚<br>å› ä¸ºä»£ç æ ¼å¼åŒ–å™¨æ€»æ˜¯ä¸ºæ›´é‡è¦çš„äº‹æƒ…èŠ‚çœæ—¶é—´å’Œç²¾ç¥èƒ½é‡ã€‚<br>æ­£å¦‚ä½ æ‰€çŒœæµ‹çš„ï¼Œè¿™ä¸ªåº“å°†å¸®åŠ©ä½ è¿›è¡ŒPythonä»£ç æ ¼å¼åŒ–ã€‚å®ƒä¸ºä½ æä¾›äº†é€Ÿåº¦ã€ç¡®å®šæ€§å’Œæ‘†è„± pycodestyle å¯¹æ ¼å¼åŒ–çš„å” å¨çš„è‡ªç”±ã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡29ké¢—æ˜Ÿã€‚</p><p>ä»Šå¤©å°±è®²åˆ°è¿™é‡Œã€‚æˆ‘ç›¸ä¿¡è¿™äº›åº“ä¼šåœ¨ä½ çš„å¼€å‘æ—…ç¨‹ä¸­å¸®åŠ©ä½ å¾ˆå¤šã€‚</p><!-- https://medium.com/geekculture/7-best-python-tools-to-make-your-life-easier-6fc79c1a65e7 -->]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Flutterä¸­ä½¿ç”¨GitHub Actions</title>
      <link href="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course.html"/>
      <url>/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course.html</url>
      
        <content type="html"><![CDATA[<img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>è‡ªåŠ¨åŒ–æ˜¯æˆ‘ä»¬ä½œä¸ºå¼€å‘è€…å¯ä»¥æ‹¥æœ‰çš„æœ€å¥½çš„ä¸œè¥¿ä¹‹ä¸€ã€‚<br>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“ä¸€ä¸ªæ–°çš„æ‹‰åŠ¨è¯·æ±‚è¢«åˆ›å»ºæ—¶ï¼Œè‡ªåŠ¨æµ‹è¯•æˆ–æ„å»ºæ˜¯éå¸¸é‡è¦çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦æ‰‹åŠ¨æ“ä½œäº†ã€‚<br>ä»Šå¤©æˆ‘å°†å‘ä½ å±•ç¤ºå¦‚ä½•ä½¿ç”¨GitHub Actionså’ŒFlutteræ¥åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„æŒç»­é›†æˆæµç¨‹ã€‚<br>è®©æˆ‘ä»¬å¼€å§‹å§!</p><span id="more"></span><p>é˜…è¯»æ„‰å¿«!</p><h4 id="åˆ›å»ºæˆ‘ä»¬çš„åŸºæœ¬ç»“æ„"><a href="#åˆ›å»ºæˆ‘ä»¬çš„åŸºæœ¬ç»“æ„" class="headerlink" title="åˆ›å»ºæˆ‘ä»¬çš„åŸºæœ¬ç»“æ„"></a>åˆ›å»ºæˆ‘ä»¬çš„åŸºæœ¬ç»“æ„</h4><p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿›å…¥æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçš„æ ¹ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º.githubçš„æ–‡ä»¶å¤¹ã€‚<br>åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹workflowsã€‚<br>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨workflowsé‡Œé¢åˆ›å»ºä¸€ä¸ªå«ci.ymlçš„æ–‡ä»¶ã€‚ci.ymlç°åœ¨æ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå·¥ä½œæµç¨‹ã€‚<br>æˆ‘ä»¬å°†ç»™æˆ‘ä»¬çš„å·¥ä½œæµä¸€ä¸ªåå­—ï¼ˆæœ¬ä¾‹ä¸­ä¸ºæŒç»­é›†æˆï¼‰ï¼Œå¹¶æŒ‡å®šå®ƒåº”è¯¥åœ¨ä»€ä¹ˆæƒ…å†µä¸‹è¿è¡Œã€‚<br>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒå°†æ˜¯åœ¨ä¸€ä¸ªæ‹‰åŠ¨è¯·æ±‚ä¸Šã€‚</p><img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="åˆ›å»ºä¸€ä¸ªæµ‹è¯•å·¥ä½œ"><a href="#åˆ›å»ºä¸€ä¸ªæµ‹è¯•å·¥ä½œ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæµ‹è¯•å·¥ä½œ"></a>åˆ›å»ºä¸€ä¸ªæµ‹è¯•å·¥ä½œ</h4><p>ç°åœ¨æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªä½œä¸šï¼Œæ¥è¿è¡Œæˆ‘ä»¬çš„Flutteråº”ç”¨ç¨‹åºçš„æµ‹è¯•ã€‚<br>åœ¨ä¸€ä¸ªå·¥ä½œæµç¨‹ä¸­ï¼Œå¯ä»¥æœ‰å¤šä¸ªä½œä¸šè¢«æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªä½œä¸šï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºflutter_testï¼Œåç§°ä¸ºè¿è¡ŒFlutteråº”ç”¨æµ‹è¯•ã€‚<br>æˆ‘ä»¬è¿˜å¿…é¡»å®šä¹‰å®ƒåº”è¯¥è¿è¡Œå“ªä¸ªæ“ä½œç³»ç»Ÿã€‚ä½ å¯ä»¥é€‰æ‹©windowsã€macOSå’Œä¸åŒçš„Linuxç‰ˆæœ¬ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†åªä½¿ç”¨windows-latestã€‚</p><img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨æˆ‘ä»¬æ¥åˆ°äº†æœ‰è¶£çš„éƒ¨åˆ†ã€‚<br>æˆ‘ä»¬å°†æŒ‡å®šå·¥ä½œæ‰€è¦åšçš„æ­¥éª¤ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬å¿…é¡»æŒ‡å®šï¼Œå·¥ä½œå¿…é¡»ä½¿ç”¨ actions/checkout@v2ï¼Œç”¨ actions/setup-java@v1 è¿›è¡Œ java è®¾ç½®ã€‚<br>æˆ‘ä»¬è¿˜å¿…é¡»æŒ‡å®šç”¨äº flutter çš„æ“ä½œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ subosito çš„é¡¹ç›®ï¼šsubosito/flutter-actions åœ¨ä¸»åˆ†æ”¯ä¸Šã€‚<br>æœ‰äº†è¿™ä¸ªåŠ¨ä½œï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æˆ‘ä»¬éœ€è¦çš„æ‰€æœ‰flutterå‘½ä»¤ã€‚</p><img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/4.png" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å› æ­¤ï¼Œé¦–å…ˆï¼Œæˆ‘ä»¬åªæ˜¯è¿è¡Œ flutter pub getï¼Œç„¶åæ˜¯ flutter analyze å’Œ flutter testã€‚å¦‚æœåˆ†ææˆ–æµ‹è¯•å¤±è´¥ï¼Œæ•´ä¸ªè¡ŒåŠ¨å°±ä¼šå¤±è´¥ã€‚</p><img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœä½ ç°åœ¨æŠŠå®ƒæ¨é€åˆ° GitHub ä¸Šçš„ä¸»åˆ†æ”¯ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ‹‰å–è¯·æ±‚ï¼Œä½ åº”è¯¥çœ‹åˆ°å®ƒè‡ªåŠ¨è¿è¡Œäº†è¿™ä¸ªæµ‹è¯•ã€‚<br>ä¹‹åï¼Œä½ ä¹Ÿå¯ä»¥breakä½ çš„æµ‹è¯•ï¼Œæäº¤åˆ°è¯¥åˆ†æ”¯ï¼Œçœ‹çœ‹æµ‹è¯•ä¼šå¦‚ä½•å¤±è´¥ã€‚</p><img src="/Use-GitHub-Actions-with-Flutter-%E2%80%94-Crash-Course/7.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="æ¥ç‚¹é«˜çº§çš„"><a href="#æ¥ç‚¹é«˜çº§çš„" class="headerlink" title="æ¥ç‚¹é«˜çº§çš„"></a>æ¥ç‚¹é«˜çº§çš„</h4><p>æ‚¨ä¹Ÿå¯ä»¥åšä¸åŒçš„äº‹æƒ…ã€‚<br>ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³ä¸ºiOSæ„å»ºï¼Œæ‚¨åªéœ€åˆ›å»ºä¸€ä¸ªæ–°çš„ä½œä¸šï¼ˆåœ¨flutter_testä¸‹é¢ï¼‰ï¼Œå°†å…¶ç§°ä¸º â€œåˆ›å»ºiOSæ„å»ºâ€ï¼Œå¹¶å–ä»£<code>flutter analyze</code>å’Œ<code>flutter test</code>ï¼Œæˆ‘ä»¬å°†è¿è¡Œ<code>flutter clean</code>ï¼Œç„¶å<code>flutter build ios --no-codeign</code>ã€‚<br>é™¤æ­¤ä»¥å¤–ï¼Œåœ¨ â€œåç§° â€œä¸‹ï¼Œä½ è¿˜å¿…é¡»æ·»åŠ  needs: [flutter_test]ï¼Œæ‰€ä»¥åªæœ‰å½“æˆ‘ä»¬çš„æµ‹è¯•æˆåŠŸæ—¶ï¼Œæˆ‘ä»¬æ‰ä¼šæ„å»ºä¸€ä¸ªiosåº”ç”¨ç¨‹åºã€‚ä½ ä¹Ÿå¯ä»¥å¯¹å®‰å“å’Œå…¶ä»–å¹³å°åšåŒæ ·çš„äº‹æƒ…ã€‚</p><h4 id="è¿›ä¸€æ­¥é˜…è¯»å’Œç»“è®º"><a href="#è¿›ä¸€æ­¥é˜…è¯»å’Œç»“è®º" class="headerlink" title="è¿›ä¸€æ­¥é˜…è¯»å’Œç»“è®º"></a>è¿›ä¸€æ­¥é˜…è¯»å’Œç»“è®º</h4><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œä½ å·²ç»äº†è§£äº†Flutterä¸­GitHub Actionsçš„åŸºç¡€çŸ¥è¯†ã€‚<br>æ‚¨å·²ç»çœ‹åˆ°å®ƒæ˜¯å¤šä¹ˆå®¹æ˜“ä½¿ç”¨ï¼Œä»¥åŠå®ƒèƒ½ä¸ºæ‚¨èŠ‚çœå¤šå°‘æ—¶é—´ã€‚</p><p>æœ‰ä¸€äº›å¾ˆå¥½çš„Flutterè½¯ä»¶åŒ…ï¼Œå¦‚Freezedã€Isaræˆ–Riverpodï¼Œå®ƒä»¬å°†è¿›ä¸€æ­¥æé«˜ä½ çš„å·¥ä½œæ•ˆç‡ã€‚</p><p>è°¢è°¢ä½ çš„é˜…è¯»ï¼Œç¥ä½ æœ‰ä¸ªæ„‰å¿«çš„ä¸€å¤©!</p><!-- https://tomicriedel.medium.com/857faad16671 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> GitHub </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ åº”è¯¥åœ¨ä½ çš„ä¸‹ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨7ä¸ªæœ‰ç”¨çš„Pythonåº“</title>
      <link href="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project.html"/>
      <url>/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project.html</url>
      
        <content type="html"><![CDATA[<img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ‰ä¸€å¥è°šè¯­ï¼šâ€ä½ ä¸å¿…é‡æ–°å‘æ˜è½¦è½®â€ã€‚<br>åº“å°±æ˜¯æœ€å¥½çš„ä¾‹å­ï¼Œå®ƒå¯ä»¥å¸®åŠ©ä½ ä»¥ä¸€ç§ç®€å•çš„æ–¹å¼ç¼–å†™å¤æ‚è€Œè€—æ—¶çš„åŠŸèƒ½ã€‚ã€æ®æˆ‘æ‰€çŸ¥ï¼Œä¸€ä¸ªå¥½çš„é¡¹ç›®ä¼šä½¿ç”¨ä¸€äº›æœ€å¥½çš„åº“ã€‚</p><span id="more"></span><p>è¿™ç¯‡æ–‡ç« æ˜¯å…³äºPythonå¼ºå¤§åº“ç³»åˆ—çš„ä¸€éƒ¨åˆ†ï¼Œåœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘å‡†å¤‡äº†7ä¸ªPythonåº“çš„åˆ—è¡¨ï¼Œè¿™äº›åº“å°†å¸®åŠ©ä½ çš„å¼€å‘ä¹‹æ—…ã€‚</p><h4 id="1-locust"><a href="#1-locust" class="headerlink" title="1. locust"></a>1. <a href="https://github.com/locustio/locust">locust</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯ä¸€ä¸ªæ˜Ÿçº§æœ€é«˜çš„Pythonåº“ï¼Œåœ¨GitHubä¸Šæœ‰è¶…è¿‡19000é¢—æ˜Ÿã€‚<br>æµ‹è¯•æ˜¯è½¯ä»¶å¼€å‘ä¸­æœ€é‡è¦çš„é˜¶æ®µä¹‹ä¸€ã€‚è¿™æ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨ã€å¯ç¼–å†™è„šæœ¬å’Œå¯æ‰©å±•çš„æ€§èƒ½æµ‹è¯•å·¥å…·ã€‚<br>ä½ åœ¨å¸¸è§„çš„Pythonä»£ç ä¸­å®šä¹‰ç”¨æˆ·çš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯å—åˆ¶äºUIæˆ–ç‰¹å®šé¢†åŸŸçš„è¯­è¨€ï¼Œåªæ˜¯å‡è£…æ˜¯çœŸæ­£çš„ä»£ç ã€‚<br>è¿™ä½¿å¾—è¿™ä¸ªåº“å¯ä»¥æ— é™æ‰©å±•ï¼Œå¯¹å¼€å‘è€…éå¸¸å‹å¥½ã€‚</p><h4 id="2-loguru"><a href="#2-loguru" class="headerlink" title="2. loguru"></a>2. <a href="https://github.com/Delgan/loguru">loguru</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/3.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘è®¤ä¸ºæ—¥å¿—æ˜¯æœ€å¸¸ç”¨çš„è°ƒè¯•æ–¹æ³•ä¹‹ä¸€ã€‚<br>è¿™ä¸ªåº“çš„ç›®çš„æ˜¯é€šè¿‡å¢åŠ ä¸€äº›æœ‰ç”¨çš„åŠŸèƒ½æ¥è§£å†³æ ‡å‡†æ—¥å¿—çš„ç¼ºé™·ï¼Œä»è€Œä½¿Pythonæ—¥å¿—è®°å½•ä¸é‚£ä¹ˆç—›è‹¦ã€‚<br>åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ—¥å¿—åº”è¯¥æ˜¯ä¸€ç§è‡ªåŠ¨è¡Œä¸ºï¼Œè¿™ä¸ªåº“è¯•å›¾è®©å®ƒå˜å¾—æ—¢æ„‰å¿«åˆå¼ºå¤§ã€‚<br>è¿™ä¸ªåº“åœ¨GitHubä¸Šæœ‰è¶…è¿‡13000é¢—æ˜Ÿã€‚</p><h4 id="3-pyqtgraph"><a href="#3-pyqtgraph" class="headerlink" title="3. pyqtgraph"></a>3. <a href="https://github.com/pyqtgraph/pyqtgraph">pyqtgraph</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ•°æ®çš„å¯è§†åŒ–å°†å¸®åŠ©å¼€å‘è€…äº†è§£è¿™äº›æ•°æ®æƒ³è¦è¡¨è¾¾ä»€ä¹ˆã€‚<br>è¿™ä¸ªåº“æ—¨åœ¨ç”¨äºæ•°å­¦/ç§‘å­¦/å·¥ç¨‹åº”ç”¨ã€‚<br>å°½ç®¡è¯¥åº“å®Œå…¨ç”±pythonç¼–å†™ï¼Œä½†ç”±äºå®ƒå¤§é‡åˆ©ç”¨äº†NumPyè¿›è¡Œæ•°å­—è¿ç®—ï¼ŒQtçš„GraphicsViewæ¡†æ¶è¿›è¡Œ2Dæ˜¾ç¤ºï¼Œä»¥åŠOpenGLè¿›è¡Œ3Dæ˜¾ç¤ºï¼Œæ‰€ä»¥é€Ÿåº¦å¾ˆå¿«ã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡3åƒé¢—æ˜Ÿã€‚</p><h4 id="4-faust"><a href="#4-faust" class="headerlink" title="4. faust"></a>4. <a href="https://github.com/robinhood/faust">faust</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å®ƒæ¥è‡ªRobinhoodã€‚<br>è¿™æ˜¯ä¸€ä¸ªæµå¤„ç†åº“ï¼Œå°†Kafka Streamsçš„æƒ³æ³•ç§»æ¤åˆ°Pythonä¸­ã€‚<br>å®ƒè¢«ç”¨æ¥å»ºç«‹é«˜æ€§èƒ½çš„åˆ†å¸ƒå¼ç³»ç»Ÿå’Œå®æ—¶æ•°æ®ç®¡é“ï¼Œæ¯å¤©å¤„ç†æ•°åäº¿çš„äº‹ä»¶ã€‚<br>å®ƒä¸ä½¿ç”¨DSLï¼Œå®ƒåªæ˜¯Pythonã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨æµå¤„ç†æ—¶ä½¿ç”¨æ‰€æœ‰ä½ å–œæ¬¢çš„Pythonåº“ï¼Œå¦‚NumPy, PyTorch, Pandas, NLTK, Django, Flask, SQLAlchemy, ++ã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡6åƒé¢—æ˜Ÿã€‚</p><h4 id="5-requests-HTML"><a href="#5-requests-HTML" class="headerlink" title="5. requests-HTML"></a>5. <a href="https://github.com/psf/requests-html">requests-HTML</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœä½ å¿…é¡»è§£æHTMLï¼Œé‚£ä¹ˆè¿™å¯¹ä½ æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºã€‚<br>è¿™ä¸ªåº“çš„ç›®çš„æ˜¯ä½¿è§£æHTMLï¼ˆå¦‚çˆ¬å–ç½‘ç»œï¼‰å°½å¯èƒ½ç®€å•å’Œç›´è§‚ã€‚<br>å®ƒåŒ…æ‹¬å¾ˆå¤šåŠŸèƒ½ï¼Œå¦‚å®Œæ•´çš„JavaScriptæ”¯æŒï¼ŒCSSé€‰æ‹©å™¨ï¼ˆåˆç§°jQueryé£æ ¼ï¼Œæ„Ÿè°¢PyQueryï¼‰ï¼ŒXPathé€‰æ‹©å™¨ï¼Œæ¨¡æ‹Ÿçš„ç”¨æˆ·ä»£ç†ï¼ˆåƒä¸€ä¸ªçœŸæ­£çš„ç½‘ç»œæµè§ˆå™¨ï¼‰ï¼Œç”šè‡³æ›´å¤šã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡12.5ä¸‡é¢—æ˜Ÿã€‚</p><h4 id="6-pyinfra"><a href="#6-pyinfra" class="headerlink" title="6. pyinfra"></a>6. <a href="https://github.com/Fizzadar/pyinfra">pyinfra</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/8.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™ä¸ªåº“å¯ä»¥åœ¨å¤§è§„æ¨¡çš„æƒ…å†µä¸‹è¶…å¿«åœ°è‡ªåŠ¨åŒ–åŸºç¡€è®¾æ–½ã€‚<br>å®ƒå¯ç”¨äºä¸´æ—¶å‘½ä»¤çš„æ‰§è¡Œã€æœåŠ¡éƒ¨ç½²ã€é…ç½®ç®¡ç†ç­‰ã€‚å®ƒåŒ…æ‹¬åœ¨æˆåƒä¸Šä¸‡çš„ä¸»æœºä¸Šä»¥å¯é¢„æµ‹çš„æ€§èƒ½è¿›è¡Œè¶…å¿«é€Ÿæ‰§è¡Œï¼Œå¯¹SSH/Docker/subprocess/winrmä¸»æœºè¿›è¡Œæ— ä»£ç†æ‰§è¡Œï¼Œä¸Dockerã€Vagrant/Mechå’ŒAnsibleå¼€ç®±å³ç”¨ï¼Œç­‰ç­‰ã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡3åƒé¢—æ˜Ÿã€‚</p><h4 id="7-more-itertools"><a href="#7-more-itertools" class="headerlink" title="7. more-itertools"></a>7. <a href="https://github.com/more-itertools/more-itertools">more-itertools</a></h4><img src="/7-Useful-Python-Libraries-You-Should-Use-in-Your-Next-Project/9.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœä½ æƒ³å¢å¼ºä½ çš„å¤„ç†åŠŸèƒ½ï¼Œé‚£ä¹ˆè¿™å¯¹ä½ æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ„æºã€‚<br>è¿™ä¸ªåº“æ˜¯ä¸€ä¸ªå®çŸ³ï¼Œä½ å¯ä»¥ç”¨å®ƒæä¾›çš„åŠŸèƒ½ä¸ºå„ç§é—®é¢˜ç»„æˆä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚<br>å®ƒæ”¶é›†äº†ç”¨äºå¤„ç†Pythonå¯è¿­ä»£æ•°æ®çš„é¢å¤–æ„å»ºblocks, recipeså’Œ routinesã€‚<br>å®ƒåœ¨GitHubä¸Šæœ‰è¶…è¿‡2.7åƒé¢—æ˜Ÿã€‚</p><p>ä»Šå¤©å°±è®²åˆ°è¿™é‡Œã€‚æˆ‘ç›¸ä¿¡è¿™äº›åº“ä¼šåœ¨ä½ çš„å¼€å‘æ—…ç¨‹ä¸­å¸®åŠ©ä½ å¾ˆå¤šã€‚</p><!-- https://medium.com/codex/7-useful-python-libraries-you-should-use-in-your-next-project-6b5159523ebc -->]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨Flutterè¿›è¡Œç”µå­é‚®ä»¶è®¤è¯ - Firebase</title>
      <link href="/Email-Authentication-with-Flutter-Firebase.html"/>
      <url>/Email-Authentication-with-Flutter-Firebase.html</url>
      
        <content type="html"><![CDATA[<p>è®¤è¯æ˜¯æ¯ä¸ªåº”ç”¨ç¨‹åºåº”è¯¥å…·å¤‡çš„åŸºæœ¬åŠŸèƒ½ä¹‹ä¸€ã€‚ä¸‹é¢æ˜¯å¦‚ä½•ä½¿ç”¨Firebase Authä¸ºæ‚¨çš„Flutteråº”ç”¨æ·»åŠ è®¤è¯çš„æ–¹æ³•ã€‚</p><img src="/Email-Authentication-with-Flutter-Firebase/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Firebaseæ˜¯Flutteråº”ç”¨ç¨‹åºçš„é¦–é€‰åç«¯ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒæä¾›äº†è®¸å¤šå…è´¹çš„åŠŸèƒ½ï¼Œä»¥åŠä¸Flutterçš„è‰¯å¥½æ•´åˆã€‚<br>Firebaseæä¾›çš„åŠŸèƒ½ä¹‹ä¸€æ˜¯è®¤è¯ã€‚<br>å› æ­¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­æ•´åˆç”µå­é‚®ä»¶ã€ç”µè¯ã€è°·æ­Œã€è‹¹æœå’Œæ›´å¤šçš„è®¤è¯ã€‚</p><span id="more"></span><img src="/Email-Authentication-with-Flutter-Firebase/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸ºäº†è®©ä½ å¿«é€Ÿäº†è§£æ–‡ç« çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Firebase authåŒ…è¿›è¡ŒFirebaseè®¤è¯ã€‚è¿™ç¯‡æ–‡ç« æ˜¯åœ¨Flutter 2.10ç‰ˆæœ¬ä¸Šè¿è¡Œçš„ä¸€ä¸ªä¾‹å­ä¸­åˆ›å»ºçš„!</p><p>é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬å¼€å§‹è¿›è¡ŒåŸºæœ¬çš„ç”µå­é‚®ä»¶/å¯†ç è®¤è¯å§!</p><img src="/Email-Authentication-with-Flutter-Firebase/3.gif" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ç¬¬0æ­¥ï¼šä¸ºauthåˆ›å»ºä¸€ä¸ªç§æœ‰åŒ…ã€‚"><a href="#ç¬¬0æ­¥ï¼šä¸ºauthåˆ›å»ºä¸€ä¸ªç§æœ‰åŒ…ã€‚" class="headerlink" title="ç¬¬0æ­¥ï¼šä¸ºauthåˆ›å»ºä¸€ä¸ªç§æœ‰åŒ…ã€‚"></a>ç¬¬0æ­¥ï¼šä¸ºauthåˆ›å»ºä¸€ä¸ªç§æœ‰åŒ…ã€‚</h4><p><a href="https://docs.flutter.dev/development/packages-and-plugins/developing-packages">Flutterä¸­çš„åŒ…</a>æ˜¯å¯ä»¥åœ¨é¡¹ç›®é—´å…±äº«çš„ä»£ç åº“ï¼Œå®ƒç‹¬ç«‹äºé¡¹ç›®ï¼Œå¼€å‘è€…å°†å…¶çº³å…¥å¹¶é‡ç”¨ï¼Œä½¿å·¥ä½œå˜å¾—ç®€å•è€Œä¸è´¹æ—¶ã€‚</p><p>ä¸ºFirebase Authåˆ›å»ºä¸€ä¸ªåŒ…æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é€‰æ‹©ï¼Œä»è€Œå‡å°‘åŒ…å¯¹æˆ‘ä»¬ä¸»é¡¹ç›®çš„ä¾èµ–ã€‚</p><p>å› æ­¤ï¼Œä¸ºäº†åˆ›å»ºä¸€ä¸ªåŒ…ï¼Œæˆ‘ä»¬å¿…é¡»é¦–å…ˆåœ¨æˆ‘ä»¬çš„é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªåä¸ºpackagesçš„æ–‡ä»¶å¤¹ã€‚ç„¶åï¼Œåœ¨è¿™ä¸ªä½ç½®ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">flutter create <span class="token parameter variable">--template</span><span class="token operator">=</span>package auth_service<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šè¿°å‘½ä»¤å°†åœ¨packagesä¸­åˆ›å»ºä¸€ä¸ªåä¸ºauth_serviceçš„æ–‡ä»¶å¤¹ã€‚<br>å½“ä½ åœ¨ç»ˆç«¯è¿è¡Œè¿™ä¸ªå‘½ä»¤æ—¶ï¼Œä½ ä¼šå‘ç°æŸäº›æ–‡ä»¶è¢«åˆ›å»ºã€‚</p><img src="/Email-Authentication-with-Flutter-Firebase/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸€æ—¦è¿™äº›æ–‡ä»¶è¢«åˆ›å»ºï¼Œä½ ä¼šåœ¨è½¯ä»¶åŒ…ä¸­å‘ç°ä¸€ä¸ªåä¸ºauth_serviceçš„æ–‡ä»¶å¤¹ã€‚</p><img src="/Email-Authentication-with-Flutter-Firebase/5.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ç¬¬ä¸€æ­¥ï¼šä»Firebaseæ§åˆ¶å°å¯ç”¨è®¤è¯åŠŸèƒ½å¹¶é€‰æ‹©ç”µå­é‚®ä»¶-å¯†ç ã€‚"><a href="#ç¬¬ä¸€æ­¥ï¼šä»Firebaseæ§åˆ¶å°å¯ç”¨è®¤è¯åŠŸèƒ½å¹¶é€‰æ‹©ç”µå­é‚®ä»¶-å¯†ç ã€‚" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼šä»Firebaseæ§åˆ¶å°å¯ç”¨è®¤è¯åŠŸèƒ½å¹¶é€‰æ‹©ç”µå­é‚®ä»¶/å¯†ç ã€‚"></a>ç¬¬ä¸€æ­¥ï¼šä»<a href="https://console.firebase.google.com/">Firebaseæ§åˆ¶å°</a>å¯ç”¨è®¤è¯åŠŸèƒ½å¹¶é€‰æ‹©ç”µå­é‚®ä»¶/å¯†ç ã€‚</h4><p>ä¸€æ—¦ä½ æŠŠä½ çš„é¡¹ç›®å’Œåº”ç”¨ç¨‹åºæ·»åŠ åˆ°Firebaseæ§åˆ¶å°ï¼Œå‰ææ­¥éª¤æ˜¯åœ¨æ§åˆ¶å°çš„å³ä¾§é¢æ¿ä¸Šå¯ç”¨è®¤è¯åŠŸèƒ½ï¼Œå¹¶ä»ä¸­å¯ç”¨ç”µå­é‚®ä»¶/å¯†ç ã€‚</p><p>å½“ä½ ç‚¹å‡»è®¤è¯æ—¶ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªæ¬¢è¿å±å¹•ï¼Œåœ¨é‚£é‡Œä½ å¯ä»¥ç‚¹å‡»å¼€å§‹ã€‚</p><img src="/Email-Authentication-with-Flutter-Firebase/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“ä½ ç‚¹å‡»è¯¥æŒ‰é’®æ—¶ï¼Œä½ å°†è¢«è½¬åˆ°ç™»å½•æ–¹å¼åˆ—è¡¨ã€‚ä»é‚£é‡Œä½ å¯ä»¥å¯ç”¨ç”µå­é‚®ä»¶/å¯†ç ã€‚</p><img src="/Email-Authentication-with-Flutter-Firebase/7.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="ç¬¬2æ­¥ï¼šä¸ºæ³¨å†Œå’Œç™»å½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ã€‚"><a href="#ç¬¬2æ­¥ï¼šä¸ºæ³¨å†Œå’Œç™»å½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ã€‚" class="headerlink" title="ç¬¬2æ­¥ï¼šä¸ºæ³¨å†Œå’Œç™»å½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ã€‚"></a>ç¬¬2æ­¥ï¼šä¸ºæ³¨å†Œå’Œç™»å½•åˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ã€‚</h4><p>ä½ å¯ä»¥ç”¨2ä¸ªTextFieldsåˆ›å»ºä¸€ä¸ªç®€å•çš„ç”¨æˆ·ç•Œé¢ï¼Œä¸€ä¸ªæ˜¯ç”µå­é‚®ä»¶åœ°å€ï¼Œä¸€ä¸ªæ˜¯å¯†ç ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‰é’®ç”¨æ¥æäº¤ã€‚<br>æ³¨æ„ï¼šä½¿ç”¨StatelessWidgetè€Œä¸æ˜¯StatefulWidgetæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œå› ä¸ºå®ƒçš„é‡å»ºæˆæœ¬æ¯”StatefulWidgetä½ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><p>login_view.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_example/signup/view/signup_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_example/home/view/home_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">LoginView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _emailController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _passwordController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Login'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token function">_LoginEmail</span><span class="token punctuation">(</span>emailController<span class="token punctuation">:</span> _emailController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_LoginPassword</span><span class="token punctuation">(</span>passwordController<span class="token punctuation">:</span> _passwordController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_SubmitButton</span><span class="token punctuation">(</span>              email<span class="token punctuation">:</span> _emailController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>              password<span class="token punctuation">:</span> _passwordController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_CreateAccountButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _LoginEmail <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_LoginEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>emailController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> emailController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> emailController<span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Email'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _LoginPassword <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_LoginPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>passwordController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> passwordController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> passwordController<span class="token punctuation">,</span>        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Password'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _SubmitButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_SubmitButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> password<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'hello'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Login'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _CreateAccountButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token function">_CreateAccountButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>            builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">SignUpView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>signup_view.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_example/home/view/home_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">SignUpView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _emailController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _passwordController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token function">_CreateAccountEmail</span><span class="token punctuation">(</span>emailController<span class="token punctuation">:</span> _emailController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_CreateAccountPassword</span><span class="token punctuation">(</span>passwordController<span class="token punctuation">:</span> _passwordController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_SubmitButton</span><span class="token punctuation">(</span>              email<span class="token punctuation">:</span> _emailController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>              password<span class="token punctuation">:</span> _passwordController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _CreateAccountEmail <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_CreateAccountEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>emailController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> emailController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> emailController<span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Email'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _CreateAccountPassword <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_CreateAccountPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>passwordController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> passwordController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> passwordController<span class="token punctuation">,</span>        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Password'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _SubmitButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_SubmitButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> password<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'hello'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œè¿™ä¸ªç”¨æˆ·ç•Œé¢æ˜¯éå¸¸ç®€å•çš„ã€‚ä¸¤ä¸ªå±å¹•éƒ½æœ‰ä¸¤ä¸ªæ–‡æœ¬å­—æ®µå’Œä¸€ä¸ªæŒ‰é’®ã€‚å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬åªæ˜¯æ·»åŠ äº†æ‰“å°è¯­å¥æ¥æ‰“å°ç”¨æˆ·æä¾›çš„ç”µå­é‚®ä»¶å’Œå¯†ç ã€‚</p><h4 id="ç¬¬3æ­¥ï¼šåˆ›å»ºåç«¯ä»£ç ï¼Œå°†å‡­è¯ä¼ é€’ç»™ä½ çš„Firebaseã€‚"><a href="#ç¬¬3æ­¥ï¼šåˆ›å»ºåç«¯ä»£ç ï¼Œå°†å‡­è¯ä¼ é€’ç»™ä½ çš„Firebaseã€‚" class="headerlink" title="ç¬¬3æ­¥ï¼šåˆ›å»ºåç«¯ä»£ç ï¼Œå°†å‡­è¯ä¼ é€’ç»™ä½ çš„Firebaseã€‚"></a>ç¬¬3æ­¥ï¼šåˆ›å»ºåç«¯ä»£ç ï¼Œå°†å‡­è¯ä¼ é€’ç»™ä½ çš„Firebaseã€‚</h4><p>ä½ éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯åœ¨ä½ çš„pubspec.yamlæ–‡ä»¶ï¼ˆä½ åˆ›å»ºçš„authåŒ…ï¼‰ä¸­æ·»åŠ 2ä¸ªåŒ…ï¼›<a href="https://pub.flutter-io.cn/packages/firebase_core">firebase_core</a>å’Œ<a href="https://pub.flutter-io.cn/packages/firebase_auth">firebase_auth</a>ã€‚ä¸€æ—¦å®Œæˆï¼Œè¿è¡Œflutter pub getï¼Œè¿™æ ·Flutteræ¡†æ¶å°±ä¼šå°†åŒ…çš„å†…å®¹ä¸‹è½½åˆ°ä½ çš„æœ¬åœ°ç³»ç»Ÿã€‚</p><p>ç°åœ¨ï¼Œä½ éœ€è¦åœ¨main.dartæ–‡ä»¶ä¸­çš„main()å‡½æ•°ä¸­åˆå§‹åŒ–Firebaseåº”ç”¨ç¨‹åºã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">WidgetsFlutterBinding</span><span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">await</span> <span class="token class-name">Firebase</span><span class="token punctuation">.</span><span class="token function">initializeApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¬¬1è¡Œï¼ŒWidgetsFlutterBinding.sureInitialized();ç¡®ä¿åœ¨æˆ‘ä»¬çš„åˆå§‹åŒ–æ²¡æœ‰å®Œæˆä¹‹å‰ï¼Œç”¨æˆ·ç•Œé¢ä¸ä¼šè¢«æ¸²æŸ“ã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥åŒ…å«æˆ‘ä»¬çš„è®¤è¯ç›¸å…³å‡½æ•°å’ŒFirebaseè°ƒç”¨ã€‚è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„authåŒ…ä¸­æŠŠå®ƒå‘½åä¸ºfirebase_auth_service.dartã€‚<br>ä¸‹ä¸€æ­¥æ˜¯åˆ›å»ºä¸¤ä¸ªå‡½æ•°ï¼šç™»å½•å’Œæ³¨å†Œã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserEntity</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token class-name">String</span> email<span class="token punctuation">,</span>    required <span class="token class-name">String</span> password<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">final</span> userCredential <span class="token operator">=</span> <span class="token keyword">await</span> _firebaseAuth<span class="token punctuation">.</span><span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span>        email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>        password<span class="token punctuation">:</span> password<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token function">_mapFirebaseUser</span><span class="token punctuation">(</span>userCredential<span class="token punctuation">.</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name"><span class="token namespace">auth<span class="token punctuation">.</span></span>FirebaseAuthException</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token function">_determineError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserEntity</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">createUserWithEmailAndPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token class-name">String</span> email<span class="token punctuation">,</span>    required <span class="token class-name">String</span> password<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">final</span> userCredential <span class="token operator">=</span> <span class="token keyword">await</span> _firebaseAuth<span class="token punctuation">.</span><span class="token function">createUserWithEmailAndPassword</span><span class="token punctuation">(</span>        email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>        password<span class="token punctuation">:</span> password<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span> <span class="token function">_mapFirebaseUser</span><span class="token punctuation">(</span>_firebaseAuth<span class="token punctuation">.</span>currentUser<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name"><span class="token namespace">auth<span class="token punctuation">.</span></span>FirebaseAuthException</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token function">_determineError</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥ï¼Œç”±äºæˆ‘ä»¬ä½¿ç”¨Firebaseè¿›è¡Œè®¤è¯ï¼Œæˆ‘ä»¬æœ‰é¢„å…ˆå»ºç«‹çš„æ–¹æ³•æ¥ç™»å½•å’Œæ³¨å†Œã€‚<br>å¯¹äºæ³¨å†Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨createUserWithEmailAndPasswordï¼Œå®ƒéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå³ç”µå­é‚®ä»¶å’Œå¯†ç ã€‚<br>åŒæ ·åœ°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨signInWithEmailAndPasswordï¼Œå®ƒä¹Ÿéœ€è¦ä¸¤ä¸ªå‚æ•°ï¼Œå³ç”µå­é‚®ä»¶å’Œå¯†ç ã€‚<br>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªç”¨æˆ·å®šä¹‰çš„æ–¹æ³•æ¥å¤„ç†æˆ‘ä»¬çš„Firebaseè°ƒç”¨ã€‚è¿™äº›æ–¹æ³•å°†ç”µå­é‚®ä»¶å’Œå¯†ç ä½œä¸ºå‚æ•°ï¼Œå¹¶å°†å®ƒä»¬ä¼ é€’ç»™Firebaseå‡½æ•°ã€‚</p><p>åœ¨è¿™é‡Œï¼Œå¦‚æœä½ æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬æ­£åœ¨è¿”å›UserEntityã€‚æˆ‘ä»¬åˆšåˆšåˆ›å»ºäº†ä¸€ä¸ªç®€å•çš„æ¨¡å‹ç±»ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">UserEntity</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">UserEntity</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>firstName<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>lastName<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>imageUrl<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> firstName<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> imageUrl<span class="token punctuation">;</span>  <span class="token keyword">factory</span> <span class="token class-name">UserEntity</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">UserEntity</span><span class="token punctuation">(</span>        id<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        firstName<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'firstName'</span></span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        lastName<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'lastName'</span></span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        email<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'email'</span></span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        imageUrl<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'imageUrl'</span></span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>        <span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">:</span> id<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">'firstName'</span></span><span class="token punctuation">:</span> firstName<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">'lastName'</span></span><span class="token punctuation">:</span> lastName<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">'email'</span></span><span class="token punctuation">:</span> email<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">'imageUrl'</span></span><span class="token punctuation">:</span> imageUrl<span class="token punctuation">,</span>      <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token keyword">factory</span> <span class="token class-name">UserEntity</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">const</span> <span class="token class-name">UserEntity</span><span class="token punctuation">(</span>        id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        firstName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        lastName<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        email<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>        imageUrl<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>id<span class="token punctuation">,</span> firstName<span class="token punctuation">,</span> lastName<span class="token punctuation">,</span> email<span class="token punctuation">,</span> imageUrl<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªåä¸º_determineErrorçš„æ–¹æ³•ï¼Œå®ƒå¯ä»¥ç¡®å®šå“ªä¸ªé”™è¯¯è¢«æŠ›å‡ºã€‚<br>å¤„ç†å¼‚å¸¸æ€»æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åšæ³•ï¼Œè¿™æ ·æˆ‘ä»¬çš„ä»£ç æ‰ä¸ä¼šè¢«ç ´å ä¸‹é¢æ˜¯å®ƒçš„ä»£ç ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">AuthError</span> <span class="token function">_determineError</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">auth<span class="token punctuation">.</span></span>FirebaseAuthException</span> exception<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>exception<span class="token punctuation">.</span>code<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'invalid-email'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>invalidEmail<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'user-disabled'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>userDisabled<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'user-not-found'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>userNotFound<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'wrong-password'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>wrongPassword<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'email-already-in-use'</span></span><span class="token punctuation">:</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'account-exists-with-different-credential'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>emailAlreadyInUse<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'invalid-credential'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>invalidCredential<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'operation-not-allowed'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>operationNotAllowed<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'weak-password'</span></span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>weakPassword<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token string-literal"><span class="token string">'ERROR_MISSING_GOOGLE_AUTH_TOKEN'</span></span><span class="token punctuation">:</span>      <span class="token keyword">default</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token class-name">AuthError</span><span class="token punctuation">.</span>error<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œï¼ŒAuthErroråªæ˜¯ä¸€ä¸ªæšä¸¾ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">enum</span> <span class="token class-name">AuthError</span> <span class="token punctuation">{</span>  invalidEmail<span class="token punctuation">,</span>  userDisabled<span class="token punctuation">,</span>  userNotFound<span class="token punctuation">,</span>  wrongPassword<span class="token punctuation">,</span>  emailAlreadyInUse<span class="token punctuation">,</span>  invalidCredential<span class="token punctuation">,</span>  operationNotAllowed<span class="token punctuation">,</span>  weakPassword<span class="token punctuation">,</span>  error<span class="token punctuation">,</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬ä»æˆ‘ä»¬çš„ç”¨æˆ·ç•Œé¢ä¸­è°ƒç”¨è¿™äº›æ–¹æ³•å§!</p><h4 id="ç¬¬4æ­¥ï¼šä»ç”¨æˆ·ç•Œé¢è°ƒç”¨å‡½æ•°"><a href="#ç¬¬4æ­¥ï¼šä»ç”¨æˆ·ç•Œé¢è°ƒç”¨å‡½æ•°" class="headerlink" title="ç¬¬4æ­¥ï¼šä»ç”¨æˆ·ç•Œé¢è°ƒç”¨å‡½æ•°!"></a>ç¬¬4æ­¥ï¼šä»ç”¨æˆ·ç•Œé¢è°ƒç”¨å‡½æ•°!</h4><p>ä¸‹ä¸€æ­¥æ˜¯åœ¨æˆ‘ä»¬çš„ç”¨æˆ·ç•Œé¢ä¸­è°ƒç”¨è¿™äº›å‡½æ•°ã€‚<br>ç°åœ¨ï¼Œè¦åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æˆ‘ä»¬åˆ›å»ºçš„authåŒ…ï¼Œä½ å¯ä»¥æŠŠå®ƒæ·»åŠ åˆ°ä½ çš„åº”ç”¨ç¨‹åºçš„pubspec.yamlä¸­ï¼Œç„¶ååœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥å®ƒã€‚</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">auth</span><span class="token punctuation">:</span>    <span class="token key atrule">path</span><span class="token punctuation">:</span> packages/auth<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œå¯¹äºæˆ‘ä»¬çš„ç”¨æˆ·ç•Œé¢ï¼Œç›®å‰æˆ‘ä»¬åªæ˜¯åœ¨ç”¨æˆ·ç‚¹å‡»ç™»å½•å’Œæ³¨å†Œçš„æŒ‰é’®æ—¶æ·»åŠ äº†æ‰“å°è¯­å¥ã€‚ç°åœ¨ï¼Œæ˜¯æ—¶å€™é‡‡å–ä¸€äº›è¡ŒåŠ¨äº†!</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>                <span class="token keyword">try</span> <span class="token punctuation">{</span>                  <span class="token keyword">await</span> _authService<span class="token punctuation">.</span><span class="token function">createUserWithEmailAndPassword</span><span class="token punctuation">(</span>                    email<span class="token punctuation">:</span> _emailController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>                    password<span class="token punctuation">:</span> _passwordController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushReplacement</span><span class="token punctuation">(</span>                      <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>                  <span class="token class-name">ScaffoldMessenger</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>                    <span class="token class-name">SnackBar</span><span class="token punctuation">(</span>                      content<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œä¸Šé¢çš„ä»£ç æ˜¯ç”¨äºåˆ›å»ºè´¦æˆ·é¡µé¢ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è°ƒç”¨äº†åœ¨auth_service.dartä¸­åˆ›å»ºçš„createUserWithEmailAndPasswordï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰å¾—åˆ°ä»»ä½•å¼‚å¸¸ï¼Œæˆ‘ä»¬å°±ä¼šå¯¼èˆªåˆ°ä¸»å±å¹•ï¼Œå¦‚æœæœ‰ä»»ä½•é”™è¯¯å°±ä¼šæ˜¾ç¤ºSnackBarã€‚<br>åŒæ ·çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å¯¹ç™»å½•è¿›è¡Œæ“ä½œã€‚<br>å› æ­¤ï¼Œä½ çš„æœ€ç»ˆä»£ç å°†å¦‚ä¸‹æ‰€ç¤ºã€‚</p><p>signup_view.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_example/home/view/home_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_service/auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:firebase_auth/firebase_auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">SignUpView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _emailController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _passwordController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token function">_CreateAccountEmail</span><span class="token punctuation">(</span>emailController<span class="token punctuation">:</span> _emailController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_CreateAccountPassword</span><span class="token punctuation">(</span>passwordController<span class="token punctuation">:</span> _passwordController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_SubmitButton</span><span class="token punctuation">(</span>              email<span class="token punctuation">:</span> _emailController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>              password<span class="token punctuation">:</span> _passwordController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _CreateAccountEmail <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_CreateAccountEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>emailController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> emailController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> emailController<span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Email'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _CreateAccountPassword <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_CreateAccountPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>passwordController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> passwordController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> passwordController<span class="token punctuation">,</span>        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Password'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _SubmitButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_SubmitButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> password<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">AuthService</span> _authService <span class="token operator">=</span> <span class="token class-name">FirebaseAuthService</span><span class="token punctuation">(</span>    authService<span class="token punctuation">:</span> <span class="token class-name">FirebaseAuth</span><span class="token punctuation">.</span>instance<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>          <span class="token keyword">await</span> _authService<span class="token punctuation">.</span><span class="token function">createUserWithEmailAndPassword</span><span class="token punctuation">(</span>            email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>            password<span class="token punctuation">:</span> password<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushReplacement</span><span class="token punctuation">(</span>            <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>              builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">ScaffoldMessenger</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>            <span class="token class-name">SnackBar</span><span class="token punctuation">(</span>              content<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Email-Authentication-with-Flutter-Firebase/8.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>login_view.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_example/signup/view/signup_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_example/home/view/home_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_service/auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:firebase_auth/firebase_auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">LoginView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _emailController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> _passwordController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Login'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token function">_LoginEmail</span><span class="token punctuation">(</span>emailController<span class="token punctuation">:</span> _emailController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_LoginPassword</span><span class="token punctuation">(</span>passwordController<span class="token punctuation">:</span> _passwordController<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_SubmitButton</span><span class="token punctuation">(</span>              email<span class="token punctuation">:</span> _emailController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>              password<span class="token punctuation">:</span> _passwordController<span class="token punctuation">.</span>text<span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token function">_CreateAccountButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _LoginEmail <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_LoginEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>emailController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> emailController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> emailController<span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Email'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _LoginPassword <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_LoginPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>passwordController<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> passwordController<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        controller<span class="token punctuation">:</span> passwordController<span class="token punctuation">,</span>        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Password'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _SubmitButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_SubmitButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> password<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">AuthService</span> _authService <span class="token operator">=</span> <span class="token class-name">FirebaseAuthService</span><span class="token punctuation">(</span>    authService<span class="token punctuation">:</span> <span class="token class-name">FirebaseAuth</span><span class="token punctuation">.</span>instance<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>          <span class="token keyword">await</span> _authService<span class="token punctuation">.</span><span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span>            email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>            password<span class="token punctuation">:</span> password<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>              <span class="token punctuation">.</span><span class="token function">pushReplacement</span><span class="token punctuation">(</span><span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Home</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">ScaffoldMessenger</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>            <span class="token class-name">SnackBar</span><span class="token punctuation">(</span>              content<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Login'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> _CreateAccountButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token function">_CreateAccountButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>            builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">SignUpView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Email-Authentication-with-Flutter-Firebase/9.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‰€ä»¥ï¼Œç°åœ¨è¿™æ ·ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•æˆ‘ä»¬æƒ³ä½¿ç”¨çš„é¡¹ç›®ä¸­ä½¿ç”¨auth_serviceåŒ…ã€‚<br>å¦‚æœåœ¨æœªæ¥çš„ä»»ä½•æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³æŠŠåç«¯ä»Firebaseæ”¹ä¸ºå…¶ä»–æœåŠ¡ï¼Œæˆ‘ä»¬åªéœ€è¦æ›´æ–°è¿™ä¸ªåŒ…ï¼Œæˆ‘ä»¬çš„ä»»åŠ¡å°±å®Œæˆäº† è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ›´å…·å¯æ‰©å±•æ€§!</p><p>æ‰€ä»¥ï¼Œæ€»ç»“ä¸€ä¸‹æ­¥éª¤:</p><ul><li>åœ¨ä½ çš„Firebaseæ§åˆ¶å°ä¸­æ·»åŠ é¡¹ç›®å’Œåº”ç”¨ç¨‹åºã€‚</li><li>ä»æ§åˆ¶å°å¯ç”¨è®¤è¯å’Œç”µå­é‚®ä»¶/å¯†ç è®¤è¯ã€‚</li><li>ä¸ºè®¤è¯æœåŠ¡åˆ›å»ºä¸€ä¸ªåŒ…ã€‚</li><li>åˆ›å»ºç®€å•çš„ç”¨æˆ·ç•Œé¢æ¥è·å–ç”¨æˆ·çš„ç”µå­é‚®ä»¶å’Œå¯†ç ã€‚</li><li>ä»ç”¨æˆ·ç•Œé¢ä¸­è°ƒç”¨è¿™äº›å‡½æ•°<br>ç­‰ç­‰ï¼Œä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« å—ï¼Ÿ</li></ul><p>è¿™æ˜¯ä¸€ä¸ªé€‚åˆåˆå­¦è€…çš„è§£å†³æ–¹æ¡ˆï¼Œæ‚¨å¯ä»¥è½»æ¾åœ°å°†Flutter - Firebaseçº³å…¥å¹¶å®ç°æœ‰æ•ˆçš„ç”µå­é‚®ä»¶è®¤è¯ã€‚<br>ç„¶è€Œï¼Œä¸ºäº†åˆ›å»ºä¸€ä¸ªæ›´å…·å¯æ‰©å±•æ€§å’Œå¼ºå¤§çš„äº§å“ï¼Œæœ‰å¿…è¦ä½¿ç”¨ä¸€ä¸ªçŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆã€‚</p><p>å¦‚æœä½ æœ‰å…´è¶£ï¼Œæˆ‘ä»¬å°†åˆ†äº«å…³äºå¦‚ä½•å»ºç«‹ä¸€ä¸ªé«˜è´¨é‡äº§å“çš„è§è§£ã€‚<br>æ‰€ä»¥ï¼Œè¯·ç»§ç»­å…³æ³¨æˆ‘ä»¬çš„ä¸‹ä¸€ç¯‡æ–‡ç« ğŸ˜‰!</p><!-- https://somniosoftware.com/post/email-authentication-with-firebase-flutter -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è®¤è¯ </tag>
            
            <tag> Firebase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨Blocè¿›è¡Œç”µå­é‚®ä»¶è®¤è¯ - Flutter | Firebase</title>
      <link href="/Email-Authentication-with-Bloc-%E2%80%94-Flutter-Firebase.html"/>
      <url>/Email-Authentication-with-Bloc-%E2%80%94-Flutter-Firebase.html</url>
      
        <content type="html"><![CDATA[<p>å°†flutter_blocæ•´åˆåˆ°ç°æœ‰çš„ç”µå­é‚®ä»¶è®¤è¯ä¸­ï¼Œè¯¥è®¤è¯ä»¥å‰æ˜¯ç”¨Firebaseè®¤è¯åšçš„ã€‚</p><img src="/Email-Authentication-with-Bloc-%E2%80%94-Flutter-Firebase/1.png" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>åœ¨<a href="https://pangz.fun/Email-Authentication-with-Flutter-Firebase.html">ä¸Šä¸€ç¯‡æ–‡ç« </a>ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨Firebase Authå°†ç”µå­é‚®ä»¶è®¤è¯æ•´åˆåˆ°æˆ‘ä»¬çš„Flutteråº”ç”¨ä¸­ã€‚<br>ä½†æ˜¯ï¼Œè¿™è¿˜æ²¡æœ‰ç»“æŸ!<br>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°æˆ‘ä»¬å¦‚ä½•å°†flutter_blocæ•´åˆåˆ°æˆ‘ä»¬ç°æœ‰çš„ç”µå­é‚®ä»¶è®¤è¯ä¸­ã€‚</p><p>Bloc æ˜¯å¹¿æ³›ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆä¹‹ä¸€ï¼Œå› ä¸ºå®ƒä½¿æˆ‘ä»¬èƒ½å¤Ÿæ§åˆ¶å¤§é‡çš„æ•°æ®ä»¥åŠæ•°æ®çš„ä¼ é€’æ–¹å¼ã€‚å¦‚æœä½ å¯¹Blocå®Œå…¨é™Œç”Ÿï¼Œä¹Ÿå¯ä»¥éšæ—¶æŸ¥çœ‹æˆ‘ä»¬å…³äºflutter_blocçš„æ–‡ç« ã€‚</p><p>æ‰€ä»¥åœ¨æˆ‘ä»¬ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬é›†æˆäº†ç”µå­é‚®ä»¶è®¤è¯ï¼Œå¹¶ä½¿ç”¨äº†åŠŸèƒ½é©±åŠ¨æ¶æ„ï¼Œçœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·ã€‚</p><img src="/Email-Authentication-with-Bloc-%E2%80%94-Flutter-Firebase/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨loginæ–‡ä»¶å¤¹å†…åˆ›å»ºä¸€ä¸ªblocæ–‡ä»¶å¤¹ï¼Œå¹¶åˆ›å»º3ä¸ªæ–‡ä»¶ï¼šlogin_bloc.dartã€login_event.dartå’Œlogin_state.dartã€‚</p><img src="/Email-Authentication-with-Bloc-%E2%80%94-Flutter-Firebase/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨æ˜¯æ—¶å€™æŠŠæˆ‘ä»¬çš„ä¸šåŠ¡é€»è¾‘ä¸UIå±‚åˆ†å¼€äº†ï¼è®©æˆ‘ä»¬æ ¹æ®æˆ‘ä»¬çš„éœ€è¦åˆ›å»ºå‡ ä¸ªäº‹ä»¶ç±»ã€‚</p><p>è®©æˆ‘ä»¬æ ¹æ®æˆ‘ä»¬çš„éœ€è¦åˆ›å»ºä¸€äº›äº‹ä»¶ç±»ã€‚æˆ‘ä»¬å°†åˆ›å»º3ä¸ªç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">LoginButtonPressedEvent</span> <span class="token keyword">extends</span> <span class="token class-name">LoginEvent</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">LoginButtonPressedEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ol start="2"><li>LoginEmailChangedEventã€‚è¿™å°†è¢«ç”¨äºæ–‡æœ¬å­—æ®µçš„onChangedæ–¹æ³•ã€‚æ‰€ä»¥è¿™ä¸ªäº‹ä»¶å°†ä¿æŒç”µå­é‚®ä»¶çš„æœ€æ–°å€¼ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">LoginEmailChangedEvent</span> <span class="token keyword">extends</span> <span class="token class-name">LoginEvent</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">LoginEmailChangedEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>email<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>LoginPasswordChangedEventã€‚è¿™å°†ä»¥åŒæ ·çš„æ–¹å¼ç”¨äºå¯†ç ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">LoginPasswordChangedEvent</span> <span class="token keyword">extends</span> <span class="token class-name">LoginEvent</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">LoginPasswordChangedEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>password<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥åˆ›å»ºçŠ¶æ€ç±»!</p><p>login_state.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'login_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">enum</span> <span class="token class-name">LoginStatus</span> <span class="token punctuation">{</span>  success<span class="token punctuation">,</span>  failure<span class="token punctuation">,</span>  loading<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">LoginState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">LoginState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token class-name">LoginStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">LoginStatus</span> status<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  <span class="token class-name">LoginState</span> <span class="token function">copyWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">String</span><span class="token operator">?</span> email<span class="token punctuation">,</span>    <span class="token class-name">String</span><span class="token operator">?</span> password<span class="token punctuation">,</span>    <span class="token class-name">LoginStatus</span><span class="token operator">?</span> status<span class="token punctuation">,</span>    <span class="token class-name">String</span><span class="token operator">?</span> message<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">LoginState</span><span class="token punctuation">(</span>      email<span class="token punctuation">:</span> email <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>      password<span class="token punctuation">:</span> password <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>      status<span class="token punctuation">:</span> status <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">,</span>      message<span class="token punctuation">:</span> message <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>        message<span class="token punctuation">,</span>        status<span class="token punctuation">,</span>        email<span class="token punctuation">,</span>        password<span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªç±»ï¼ŒLoginStateå’Œenum LoginStatusã€‚<br>åŒæ—¶ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªcopyWithæ–¹æ³•ï¼Œè¿™åŸºæœ¬ä¸Šæ„å‘³ç€æˆ‘ä»¬å°†ä¸ºæ‰€æœ‰çš„çŠ¶æ€å˜å¼‚åŒä¸€ä¸ªçŠ¶æ€å˜é‡ã€‚<br>è¿™é‡Œçš„ä¸»è¦å˜åŒ–æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰å‘copyWithæ–¹æ³•æä¾›ä»»ä½•å€¼ï¼Œå®ƒå°†ä½¿ç”¨æˆ‘ä»¬åœ¨åˆ›å»ºçŠ¶æ€å¯¹è±¡æ—¶æä¾›çš„å€¼ã€‚å› æ­¤ï¼ŒçŠ¶æ€å¯¹è±¡å°†æ€»æ˜¯æœ‰ä¸€äº›å€¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æœ‰æœ€æ–°å€¼çš„æ—¶å€™æ›´æ–°è¿™äº›å€¼ã€‚</p><p>ç°åœ¨ï¼Œæ˜¯æ—¶å€™åˆ›å»ºä¸»å—éƒ¨åˆ†äº†!</p><p>login_bloc.dart</p><p>åœ¨blocéƒ¨åˆ†ï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†æˆ‘ä»¬åˆ›å»ºçš„3ä¸ªäº‹ä»¶ç±»ã€‚</p><p>1. </p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginButtonPressedEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_handleLoginWithEmailAndPasswordEvent<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handleLoginWithEmailAndPasswordEvent</span><span class="token punctuation">(</span>    <span class="token class-name">LoginButtonPressedEvent</span> event<span class="token punctuation">,</span>    <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> _authService<span class="token punctuation">.</span><span class="token function">signInWithEmailAndPassword</span><span class="token punctuation">(</span>        email<span class="token punctuation">:</span> state<span class="token punctuation">.</span>email<span class="token punctuation">,</span>        password<span class="token punctuation">:</span> state<span class="token punctuation">.</span>password<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>message<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Success'</span></span><span class="token punctuation">,</span> status<span class="token punctuation">:</span> <span class="token class-name">LoginStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>message<span class="token punctuation">:</span> e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token punctuation">:</span> <span class="token class-name">LoginStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªæ˜¯ä»æˆ‘ä»¬åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ä¸­åˆ›å»ºçš„authåŒ…ä¸­è°ƒç”¨ç™»å½•æ–¹æ³•ã€‚<br>å¦‚æœæˆ‘ä»¬è·å¾—äº†æˆåŠŸï¼Œæˆ‘ä»¬å°±å‘å‡ºå¸¦æœ‰æ–°çš„æˆåŠŸçŠ¶æ€å’Œæ¶ˆæ¯çš„çŠ¶æ€ã€‚<br>å¦ä¸€æ–¹é¢ï¼Œå¦‚æœæˆ‘ä»¬å¾—åˆ°ä»»ä½•å¼‚å¸¸æˆ–å¤±è´¥ï¼Œæˆ‘ä»¬å°†ä»¥å¤±è´¥çš„çŠ¶æ€å’Œå¼‚å¸¸çš„ä¿¡æ¯å‘å‡ºçŠ¶æ€ã€‚</p><p>2. </p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginEmailChangedEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_handleLoginEmailChangedEvent<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handleLoginEmailChangedEvent</span><span class="token punctuation">(</span>    <span class="token class-name">LoginEmailChangedEvent</span> event<span class="token punctuation">,</span>    <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> event<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªäº‹ä»¶ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯ç”¨æˆ‘ä»¬ä»ç”¨æˆ·é‚£é‡Œå¾—åˆ°çš„æ–°é‚®ä»¶æ¥æ›´æ–°çŠ¶æ€ã€‚è¿™æ ·ï¼Œæ¯å½“æˆ‘ä»¬è®¿é—®æ—¶ï¼Œæˆ‘ä»¬å°†å¾—åˆ°æœ€æ–°ç‰ˆæœ¬çš„ç”µå­é‚®ä»¶ã€‚</p><ol start="3"><li><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginPasswordChangedEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_handleLoginPasswordChangedEvent<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handleLoginPasswordChangedEvent</span><span class="token punctuation">(</span>    <span class="token class-name">LoginPasswordChangedEvent</span> event<span class="token punctuation">,</span>    <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>password<span class="token punctuation">:</span> event<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±åƒæˆ‘ä»¬ä¸ºç”µå­é‚®ä»¶æ‰€åšçš„é‚£æ ·ï¼Œæˆ‘ä»¬ä¹Ÿè¦ä¸ºå¯†ç å‘é€çŠ¶æ€ã€‚</p><p>æ˜¯æ—¶å€™ä¸ºæ³¨å†ŒåŠŸèƒ½åˆ›å»ºBlocæ–‡ä»¶äº†!</p><p>åœ¨signupæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªblocæ–‡ä»¶å¤¹ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºäº‹ä»¶ã€çŠ¶æ€å’Œblocæ–‡ä»¶ã€‚</p><img src="/Email-Authentication-with-Bloc-%E2%80%94-Flutter-Firebase/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ä»¬å°†é‡‡ç”¨ä¸ç™»å½•éƒ¨åˆ†ç›¸åŒçš„æ–¹æ³•ã€‚</p><p>æ‰€ä»¥ï¼Œè®©æˆ‘å‘ä½ å¿«é€Ÿå±•ç¤ºä¸€ä¸‹æ³¨å†ŒåŒºçš„3ä¸ªæ–‡ä»¶åº”è¯¥æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'signup_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token metadata function">@immutable</span><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">SignupEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">SignupEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">SignupButtonPressedEvent</span> <span class="token keyword">extends</span> <span class="token class-name">SignupEvent</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">SignupButtonPressedEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">SignupEmailChangedEvent</span> <span class="token keyword">extends</span> <span class="token class-name">SignupEvent</span> <span class="token punctuation">{</span>  <span class="token class-name">SignupEmailChangedEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>email<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">SignupPasswordChangedEvent</span> <span class="token keyword">extends</span> <span class="token class-name">SignupEvent</span> <span class="token punctuation">{</span>  <span class="token class-name">SignupPasswordChangedEvent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>password<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>signup_state.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'signup_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">enum</span> <span class="token class-name">SignupStatus</span> <span class="token punctuation">{</span>  success<span class="token punctuation">,</span>  failure<span class="token punctuation">,</span>  loading<span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">SignupState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token class-name">SignupState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>password <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>message <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token class-name">SignupStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">SignupStatus</span> status<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>  <span class="token class-name">SignupState</span> <span class="token function">copyWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">String</span><span class="token operator">?</span> email<span class="token punctuation">,</span>    <span class="token class-name">String</span><span class="token operator">?</span> password<span class="token punctuation">,</span>    <span class="token class-name">SignupStatus</span><span class="token operator">?</span> status<span class="token punctuation">,</span>    <span class="token class-name">String</span><span class="token operator">?</span> message<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SignupState</span><span class="token punctuation">(</span>      email<span class="token punctuation">:</span> email <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>email<span class="token punctuation">,</span>      password<span class="token punctuation">:</span> password <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>password<span class="token punctuation">,</span>      status<span class="token punctuation">:</span> status <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">,</span>      message<span class="token punctuation">:</span> message <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>        message<span class="token punctuation">,</span>        status<span class="token punctuation">,</span>        email<span class="token punctuation">,</span>        password<span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>signup_bloc.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_service/auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:bloc/bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:meta/meta.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'signup_event.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'signup_state.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">SignupBloc</span> <span class="token keyword">extends</span> <span class="token class-name">Bloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupEvent</span><span class="token punctuation">,</span> <span class="token class-name">SignupState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">SignupBloc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token class-name">AuthService</span> authService<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">:</span> _authService <span class="token operator">=</span> authService<span class="token punctuation">,</span>        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">SignupState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupButtonPressedEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_handleCreateAccountEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupEmailChangedEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_handleSignupEmailChangedEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupPasswordChangedEvent</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_handleSignupPasswordChangedEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">final</span> <span class="token class-name">AuthService</span> _authService<span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handleSignupEmailChangedEvent</span><span class="token punctuation">(</span>    <span class="token class-name">SignupEmailChangedEvent</span> event<span class="token punctuation">,</span>    <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> event<span class="token punctuation">.</span>email<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handleSignupPasswordChangedEvent</span><span class="token punctuation">(</span>    <span class="token class-name">SignupPasswordChangedEvent</span> event<span class="token punctuation">,</span>    <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>password<span class="token punctuation">:</span> event<span class="token punctuation">.</span>password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handleCreateAccountEvent</span><span class="token punctuation">(</span>    <span class="token class-name">SignupButtonPressedEvent</span> event<span class="token punctuation">,</span>    <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> _authService<span class="token punctuation">.</span><span class="token function">createUserWithEmailAndPassword</span><span class="token punctuation">(</span>        email<span class="token punctuation">:</span> state<span class="token punctuation">.</span>email<span class="token punctuation">,</span>        password<span class="token punctuation">:</span> state<span class="token punctuation">.</span>password<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">SignupStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>message<span class="token punctuation">:</span> e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> status<span class="token punctuation">:</span> <span class="token class-name">SignupStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åªæ˜¯è¿™é‡Œçš„å˜åŒ–æ˜¯ï¼Œæˆ‘ä»¬æ­£åœ¨è°ƒç”¨æˆ‘ä»¬åœ¨AuthåŒ…ä¸­åˆ›å»ºçš„æ³¨å†Œæ–¹æ³•!</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ç”¨æˆ·ç•Œé¢ä¸­ä½¿ç”¨è¿™ä¸ªæ¨¡å—å§</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‘æˆ‘ä»¬çš„widgetæ ‘æä¾›è¿™ä¸ªblocã€‚</p><p>å¦‚æœä½ æ³¨æ„åˆ°ï¼Œæˆ‘ä»¬çš„æ¨¡å—æ„é€ å™¨å°†AuthServiceä½œä¸ºå‚æ•°ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»å…ˆæŠŠæˆ‘ä»¬çš„FirebaseAuthServiceæä¾›ç»™widgetæ ‘ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨main.dartä¸­æä¾›å®ƒ</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span><span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>    title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Material App'</span></span><span class="token punctuation">,</span>    home<span class="token punctuation">:</span> <span class="token class-name">RepositoryProvider</span><span class="token punctuation">(</span>      create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">FirebaseAuthService</span><span class="token punctuation">(</span>        authService<span class="token punctuation">:</span> <span class="token class-name">FirebaseAuth</span><span class="token punctuation">.</span>instance<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">LoginPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†RepositoryProviderï¼Œå› ä¸ºæˆ‘ä»¬è¦æŠŠå®ƒä½œä¸ºä¸€ä¸ªå‚æ•°æ³¨å…¥åˆ°æˆ‘ä»¬çš„Blocç±»ä¸­</p><p>å¯¹äºç™»å½•ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåä¸ºlogin_page.dartçš„æ–°æ–‡ä»¶ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªskeletonç±»ï¼Œå°†ä¸ºlogin_view.dartæä¾›æˆ‘ä»¬çš„LoginBloc</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_service/auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:firebase_auth_bloc_example/login/bloc/login_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:firebase_auth_bloc_example/login/view/login_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">LoginPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">LoginPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocProvider</span><span class="token punctuation">(</span>      create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">LoginBloc</span><span class="token punctuation">(</span>        authService<span class="token punctuation">:</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FirebaseAuthService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">LoginView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äºæ³¨å†Œï¼Œç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸ºsignup_page.dartçš„æ–‡ä»¶</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:firebase_auth_bloc_example/signup/bloc/signup_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:firebase_auth_bloc_example/signup/view/signup_view.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:auth_service/auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">SignupPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">SignupPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocProvider</span><span class="token punctuation">(</span>      create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">SignupBloc</span><span class="token punctuation">(</span>        authService<span class="token punctuation">:</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FirebaseAuthService</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">SignUpView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨blocåº“ä¸­ä½œä¸ºä¸Šä¸‹æ–‡æ‰©å±•çš„readæ–¹æ³•è®¿é—®FirebaseAuthServiceã€‚<br>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åšä¸€äº›çœŸæ­£çš„äº‹æƒ…å§ è®©æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„ç”¨æˆ·ç•Œé¢éƒ¨åˆ†ä½¿ç”¨è¿™ä¸ªbloc!</p><h4 id="ç™»å½•"><a href="#ç™»å½•" class="headerlink" title="ç™»å½•"></a>ç™»å½•</h4><p>å› æ­¤ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶ï¼Œå®ƒå°†ä¿å­˜æˆ‘ä»¬æœ€æ–°ç‰ˆæœ¬çš„ç™»å½•ç”¨ç”µå­é‚®ä»¶ï¼ˆLoginEmailChangedEventï¼‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„TextFieldçš„onChangedæ–¹æ³•ä¸­æ·»åŠ è¿™ä¸ªäº‹ä»¶</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _LoginEmail <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_LoginEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>          context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">LoginEmailChangedEvent</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Email'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä»widgetæ ‘ä¸Šè¯»å–LoginBlocçš„å®ä¾‹ï¼Œå¹¶æ·»åŠ LoginEmailChangedEventä¸æ–‡æœ¬å­—æ®µçš„æœ€æ–°å€¼ã€‚</p><p>ç±»ä¼¼åœ°ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹å¯†ç è¿™æ ·åšã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _LoginPassword <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_LoginPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>          context              <span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>              <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">LoginPasswordChangedEvent</span><span class="token punctuation">(</span>password<span class="token punctuation">:</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Password'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æŒ‰é’®çš„onPressedæ–¹æ³•ä¸­æ·»åŠ LoginButtonPressedEventã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _SubmitButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_SubmitButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>              <span class="token class-name">LoginButtonPressedEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Login'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦ç”¨BlocListeneræ¥åŒ…è£…æˆ‘ä»¬çš„è¡¨å•ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ç›‘å¬æˆ‘ä»¬çš„æˆåŠŸå’Œå¤±è´¥çŠ¶æ€ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">LoginView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LoginBloc</span><span class="token punctuation">,</span> <span class="token class-name">LoginState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      listener<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token class-name">LoginStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushReplacement</span><span class="token punctuation">(</span><span class="token class-name">Home</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token class-name">LoginStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">ScaffoldMessenger</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>            <span class="token class-name">SnackBar</span><span class="token punctuation">(</span>              content<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">_LoginForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ›å»ºè´¦æˆ·"><a href="#åˆ›å»ºè´¦æˆ·" class="headerlink" title="åˆ›å»ºè´¦æˆ·"></a>åˆ›å»ºè´¦æˆ·</h4><p>ç°åœ¨ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åšå®Œå…¨ç›¸åŒçš„äº‹æƒ…æ¥åˆ›å»ºä¸€ä¸ªè´¦æˆ·!</p><p>ç”µå­é‚®ä»¶ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _CreateAccountEmail <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_CreateAccountEmail</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> context            <span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SignupEmailChangedEvent</span><span class="token punctuation">(</span>email<span class="token punctuation">:</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Email'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯†ç ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _CreateAccountPassword <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_CreateAccountPassword</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>        obscureText<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Password'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> context            <span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SignupPasswordChangedEvent</span><span class="token punctuation">(</span>password<span class="token punctuation">:</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æäº¤æŒ‰é’®ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> _SubmitButton <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token function">_SubmitButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>            <span class="token class-name">SignupButtonPressedEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Create Account'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Bloc Listener:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">SignUpView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SignupBloc</span><span class="token punctuation">,</span> <span class="token class-name">SignupState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      listener<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token class-name">SignupStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pushReplacement</span><span class="token punctuation">(</span><span class="token class-name">Home</span><span class="token punctuation">.</span><span class="token function">route</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token class-name">SignupStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">ScaffoldMessenger</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>            <span class="token class-name">SnackBar</span><span class="token punctuation">(</span>              content<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token function">_SignupForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹Ÿå°±æ˜¯è¿™æ ·å•¦ï¼</p><p>æˆ‘ä»¬å·²ç»æˆåŠŸåœ°å°†blocé›†æˆåˆ°æˆ‘ä»¬çš„ç”µå­é‚®ä»¶è®¤è¯ä¸­ã€‚</p><p>æˆ‘å¸Œæœ›ä½ ä»Šå¤©èƒ½å­¦åˆ°ä¸€äº›æ–°çš„ä¸œè¥¿!</p><!-- https://medium.com/somnio-software-flutter-agency/email-authentication-with-bloc-flutter-firebase-ea99fd03bea6 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Bloc </tag>
            
            <tag> è®¤è¯ </tag>
            
            <tag> Firebase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨äºFlutterçš„ä»¤äººæƒŠå¹çš„ç¥¨åŠ¡å°å·¥å…·</title>
      <link href="/Stunning-Ticket-Widget-For-Flutter.html"/>
      <url>/Stunning-Ticket-Widget-For-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/Stunning-Ticket-Widget-For-Flutter/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨æ‚¨çš„flutteråº”ç”¨ç¨‹åºä¸­æ·»åŠ æ¼‚äº®çš„Ticket UIã€‚</p><span id="more"></span><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªçœ‹èµ·æ¥åƒç¥¨æ®çš„å°éƒ¨ä»¶ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨è¯¥éƒ¨ä»¶ï¼Œä½¿æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºçœ‹èµ·æ¥å¾ˆæ—¶å°šã€‚æˆ‘ä»¬å°†ä½¿ç”¨CustomPainteræ¥ç»˜åˆ¶ç¥¨åŠ¡UIå°éƒ¨ä»¶ã€‚</p><p>âš™ï¸è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŸºç¡€å°éƒ¨ä»¶<br>æˆ‘ä»¬å°†é¦–å…ˆåˆ›å»ºä¸€ä¸ªTicketUiå°éƒ¨ä»¶ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå˜æˆä¸€ä¸ªåƒç¥¨æ®ä¸€æ ·çš„å°éƒ¨ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TicketUi</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">TicketUi</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>          child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>            height<span class="token punctuation">:</span> <span class="token number">220</span><span class="token punctuation">,</span>            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¨åï¼Œæˆ‘ä»¬å°†ä¸ºä¸Šè¿°å°ç»„ä»¶æ·»åŠ ä¸€ä¸ªCustomPainterã€‚CustomPainterå°†æŠŠè¿™ä¸ªå°éƒ¨ä»¶å˜æˆä¸€ä¸ªæ¼‚äº®çš„ç¥¨æ®ç”¨æˆ·ç•Œé¢ã€‚</p><p>ğŸ¨ å®ç°è‡ªå®šä¹‰ç»˜ç”»å™¨<br>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªCustomPainteræ ¹ç±»ï¼Œå¹¶å°†å…¶å‘½åä¸ºTicketPainterã€‚æˆ‘ä»¬å°†åœ¨TicketPainterç±»çš„æ„é€ å‡½æ•°ä¸­ä¼ é€’èƒŒæ™¯é¢œè‰²å’Œè¾¹ç•Œé¢œè‰²ã€‚</p><p>æˆ‘ä»¬è¿˜ä¸ºç±»å®šä¹‰äº†ä¸€äº›å˜é‡ã€‚è¿™å°†è¢«ç”¨æ¥ç»˜åˆ¶é—¨ç¥¨çš„ç”¨æˆ·ç•Œé¢ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TicketPainter</span> <span class="token keyword">extends</span> <span class="token class-name">CustomPainter</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> borderColor<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">;</span>    <span class="token class-name">TicketPainter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>borderColor<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span> <span class="token class-name">Size</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> maxWidth <span class="token operator">=</span> size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>    <span class="token keyword">final</span> maxHeight <span class="token operator">=</span> size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintBg <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>fill      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeCap <span class="token operator">=</span> <span class="token class-name">StrokeCap</span><span class="token punctuation">.</span>round      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> bgColor<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintBorder <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">1</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeCap <span class="token operator">=</span> <span class="token class-name">StrokeCap</span><span class="token punctuation">.</span>round      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> borderColor<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintDottedLine <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> borderColor<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>  <span class="token comment">// Since this Sky painter has no fields, it always paints</span>  <span class="token comment">// the same thing and semantics information is the same.</span>  <span class="token comment">// Therefore we return false here. If we had fields (set</span>  <span class="token comment">// from the constructor) then we would return true if any</span>  <span class="token comment">// of them differed from the same fields on the oldDelegate.</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRepaint</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRebuildSemantics</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç»˜åˆ¶é—¨ç¥¨å°éƒ¨ä»¶-âœï¸"><a href="#ç»˜åˆ¶é—¨ç¥¨å°éƒ¨ä»¶-âœï¸" class="headerlink" title="ç»˜åˆ¶é—¨ç¥¨å°éƒ¨ä»¶ âœï¸"></a>ç»˜åˆ¶é—¨ç¥¨å°éƒ¨ä»¶ âœï¸</h4><p>ç°åœ¨æˆ‘ä»¬å°†å®šä¹‰é—¨ç¥¨åˆ‡å£å’ŒåŠå¾„çš„å¤§å°ã€‚ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦æ¥æ”¹å˜è¿™ä¸ªã€‚æˆ‘ä»¬è¿˜å°†å®šä¹‰è™šçº¿çš„å¤§å°ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">TicketPainter</span> <span class="token keyword">extends</span> <span class="token class-name">CustomPainter</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> borderColor<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">const</span> _cornerGap <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cutoutRadius <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cutoutDiameter <span class="token operator">=</span> _cutoutRadius <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token class-name">TicketPainter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>borderColor<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span> <span class="token class-name">Size</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> maxWidth <span class="token operator">=</span> size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>    <span class="token keyword">final</span> maxHeight <span class="token operator">=</span> size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>        <span class="token keyword">final</span> cutoutStartPos <span class="token operator">=</span> maxHeight <span class="token operator">-</span> maxHeight <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> leftCutoutStartY <span class="token operator">=</span> cutoutStartPos<span class="token punctuation">;</span>    <span class="token keyword">final</span> rightCutoutStartY <span class="token operator">=</span> cutoutStartPos <span class="token operator">-</span> _cutoutDiameter<span class="token punctuation">;</span>    <span class="token keyword">final</span> dottedLineY <span class="token operator">=</span> cutoutStartPos <span class="token operator">-</span> _cutoutRadius<span class="token punctuation">;</span>    double dottedLineStartX <span class="token operator">=</span> _cutoutRadius<span class="token punctuation">;</span>    <span class="token keyword">final</span> double dottedLineEndX <span class="token operator">=</span> maxWidth <span class="token operator">-</span> _cutoutRadius<span class="token punctuation">;</span>    <span class="token keyword">const</span> double dashWidth <span class="token operator">=</span> <span class="token number">8.5</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> double dashSpace <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> paintBg <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>fill      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeCap <span class="token operator">=</span> <span class="token class-name">StrokeCap</span><span class="token punctuation">.</span>round      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> bgColor<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintBorder <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">1</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeCap <span class="token operator">=</span> <span class="token class-name">StrokeCap</span><span class="token punctuation">.</span>round      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> borderColor<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintDottedLine <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> borderColor<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRepaint</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRebuildSemantics</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢æˆ‘ä»¬å·²ç»å®šä¹‰äº†ä¸åŒUIç»„ä»¶çš„Xã€Yåæ ‡ã€‚è¿™ä¸ªXã€Yåæ ‡å°†è¢«ç”¨æ¥åœ¨ä½ çš„å°éƒ¨ä»¶ä¸­ç»˜åˆ¶åˆ‡å£å’Œè™šçº¿çš„è·¯å¾„ã€‚</p><p>ç°åœ¨æˆ‘ä»¬å°†å®ç°ç»˜åˆ¶åˆ‡å£å’Œè§’å¼§çš„æ–¹æ³•ã€‚ğŸ–Œ</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">TicketPainter</span> <span class="token keyword">extends</span> <span class="token class-name">CustomPainter</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> borderColor<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">const</span> _cornerGap <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cutoutRadius <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cutoutDiameter <span class="token operator">=</span> _cutoutRadius <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token class-name">TicketPainter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>borderColor<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span> <span class="token class-name">Size</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">///Removed code for redability</span>  <span class="token punctuation">}</span>  <span class="token function">_drawCutout</span><span class="token punctuation">(</span><span class="token class-name">Path</span> path<span class="token punctuation">,</span> double startX<span class="token punctuation">,</span> double endY<span class="token punctuation">)</span> <span class="token punctuation">{</span>    path<span class="token punctuation">.</span><span class="token function">arcToPoint</span><span class="token punctuation">(</span>      <span class="token class-name">Offset</span><span class="token punctuation">(</span>startX<span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">,</span>      radius<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>_cutoutRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>      clockwise<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">_drawCornerArc</span><span class="token punctuation">(</span><span class="token class-name">Path</span> path<span class="token punctuation">,</span> double endPointX<span class="token punctuation">,</span> double endPointY<span class="token punctuation">)</span> <span class="token punctuation">{</span>    path<span class="token punctuation">.</span><span class="token function">arcToPoint</span><span class="token punctuation">(</span>      <span class="token class-name">Offset</span><span class="token punctuation">(</span>endPointX<span class="token punctuation">,</span> endPointY<span class="token punctuation">)</span><span class="token punctuation">,</span>      radius<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>_cornerGap<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>    <span class="token metadata function">@override</span>  bool <span class="token function">shouldRepaint</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRebuildSemantics</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œæœ€åä¸€æ­¥æ˜¯æ·»åŠ è·¯å¾„ï¼Œç»˜åˆ¶å‡ºç¥¨æ®ç”¨æˆ·ç•Œé¢ã€‚ğŸ›£</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TicketPainter</span> <span class="token keyword">extends</span> <span class="token class-name">CustomPainter</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> borderColor<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Color</span> bgColor<span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cornerGap <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cutoutRadius <span class="token operator">=</span> <span class="token number">20.0</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">const</span> _cutoutDiameter <span class="token operator">=</span> _cutoutRadius <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token class-name">TicketPainter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">,</span> required <span class="token keyword">this</span><span class="token punctuation">.</span>borderColor<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">paint</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">,</span> <span class="token class-name">Size</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> maxWidth <span class="token operator">=</span> size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>    <span class="token keyword">final</span> maxHeight <span class="token operator">=</span> size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>    <span class="token keyword">final</span> cutoutStartPos <span class="token operator">=</span> maxHeight <span class="token operator">-</span> maxHeight <span class="token operator">*</span> <span class="token number">0.2</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> leftCutoutStartY <span class="token operator">=</span> cutoutStartPos<span class="token punctuation">;</span>    <span class="token keyword">final</span> rightCutoutStartY <span class="token operator">=</span> cutoutStartPos <span class="token operator">-</span> _cutoutDiameter<span class="token punctuation">;</span>    <span class="token keyword">final</span> dottedLineY <span class="token operator">=</span> cutoutStartPos <span class="token operator">-</span> _cutoutRadius<span class="token punctuation">;</span>    double dottedLineStartX <span class="token operator">=</span> _cutoutRadius<span class="token punctuation">;</span>    <span class="token keyword">final</span> double dottedLineEndX <span class="token operator">=</span> maxWidth <span class="token operator">-</span> _cutoutRadius<span class="token punctuation">;</span>    <span class="token keyword">const</span> double dashWidth <span class="token operator">=</span> <span class="token number">8.5</span><span class="token punctuation">;</span>    <span class="token keyword">const</span> double dashSpace <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> paintBg <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>fill      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeCap <span class="token operator">=</span> <span class="token class-name">StrokeCap</span><span class="token punctuation">.</span>round      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> bgColor<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintBorder <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">1</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token class-name">PaintingStyle</span><span class="token punctuation">.</span>stroke      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeCap <span class="token operator">=</span> <span class="token class-name">StrokeCap</span><span class="token punctuation">.</span>round      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> borderColor<span class="token punctuation">;</span>    <span class="token keyword">final</span> paintDottedLine <span class="token operator">=</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> borderColor<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span>      <span class="token punctuation">.</span><span class="token punctuation">.</span>strokeWidth <span class="token operator">=</span> <span class="token number">1.2</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> path <span class="token operator">=</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">moveTo</span><span class="token punctuation">(</span>_cornerGap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>maxWidth <span class="token operator">-</span> _cornerGap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_drawCornerArc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> maxWidth<span class="token punctuation">,</span> _cornerGap<span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">,</span> rightCutoutStartY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_drawCutout</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> maxWidth<span class="token punctuation">,</span> rightCutoutStartY <span class="token operator">+</span> _cutoutDiameter<span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>maxWidth<span class="token punctuation">,</span> maxHeight <span class="token operator">-</span> _cornerGap<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_drawCornerArc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> maxWidth <span class="token operator">-</span> _cornerGap<span class="token punctuation">,</span> maxHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span>_cornerGap<span class="token punctuation">,</span> maxHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_drawCornerArc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> maxHeight <span class="token operator">-</span> _cornerGap<span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> leftCutoutStartY<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_drawCutout</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> <span class="token number">0.0</span><span class="token punctuation">,</span> leftCutoutStartY <span class="token operator">-</span> _cutoutDiameter<span class="token punctuation">)</span><span class="token punctuation">;</span>    path<span class="token punctuation">.</span><span class="token function">lineTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> _cornerGap<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_drawCornerArc</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> _cornerGap<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    canvas<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> paintBg<span class="token punctuation">)</span><span class="token punctuation">;</span>    canvas<span class="token punctuation">.</span><span class="token function">drawPath</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> paintBorder<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span>dottedLineStartX <span class="token operator">&lt;</span> dottedLineEndX<span class="token punctuation">)</span> <span class="token punctuation">{</span>      canvas<span class="token punctuation">.</span><span class="token function">drawLine</span><span class="token punctuation">(</span>        <span class="token class-name">Offset</span><span class="token punctuation">(</span>dottedLineStartX<span class="token punctuation">,</span> dottedLineY<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Offset</span><span class="token punctuation">(</span>dottedLineStartX <span class="token operator">+</span> dashWidth<span class="token punctuation">,</span> dottedLineY<span class="token punctuation">)</span><span class="token punctuation">,</span>        paintDottedLine<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      dottedLineStartX <span class="token operator">+=</span> dashWidth <span class="token operator">+</span> dashSpace<span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token function">_drawCutout</span><span class="token punctuation">(</span><span class="token class-name">Path</span> path<span class="token punctuation">,</span> double startX<span class="token punctuation">,</span> double endY<span class="token punctuation">)</span> <span class="token punctuation">{</span>    path<span class="token punctuation">.</span><span class="token function">arcToPoint</span><span class="token punctuation">(</span>      <span class="token class-name">Offset</span><span class="token punctuation">(</span>startX<span class="token punctuation">,</span> endY<span class="token punctuation">)</span><span class="token punctuation">,</span>      radius<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>_cutoutRadius<span class="token punctuation">)</span><span class="token punctuation">,</span>      clockwise<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token function">_drawCornerArc</span><span class="token punctuation">(</span><span class="token class-name">Path</span> path<span class="token punctuation">,</span> double endPointX<span class="token punctuation">,</span> double endPointY<span class="token punctuation">)</span> <span class="token punctuation">{</span>    path<span class="token punctuation">.</span><span class="token function">arcToPoint</span><span class="token punctuation">(</span>      <span class="token class-name">Offset</span><span class="token punctuation">(</span>endPointX<span class="token punctuation">,</span> endPointY<span class="token punctuation">)</span><span class="token punctuation">,</span>      radius<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span>_cornerGap<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRepaint</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  bool <span class="token function">shouldRebuildSemantics</span><span class="token punctuation">(</span><span class="token class-name">TicketPainter</span> oldDelegate<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€åï¼Œåœ¨å°å·¥å…·ä¸Šæ·»åŠ è‡ªå®šä¹‰ç»˜ç”»å™¨<br>æœ€åä¸€æ­¥æ˜¯æŠŠCustomPainteræ·»åŠ åˆ°æˆ‘ä»¬çš„initialTicketUiå°éƒ¨ä»¶ä¸­ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:blogs/ticket_ui/ticket_painter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TicketUi</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">TicketUi</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>          child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>            height<span class="token punctuation">:</span> <span class="token number">220</span><span class="token punctuation">,</span>            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">CustomPaint</span><span class="token punctuation">(</span>              painter<span class="token punctuation">:</span> <span class="token class-name">TicketPainter</span><span class="token punctuation">(</span>                borderColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>                bgColor<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFFfed966</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>              child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ğŸ¤© æˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå¾ˆæ£’çš„ç¥¨æ®ç”¨æˆ·ç•Œé¢ã€‚</p><img src="/Stunning-Ticket-Widget-For-Flutter/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ€åçš„ç¥¨æ®ç”¨æˆ·ç•Œé¢ä¸ä¸€äº›è‡ªå®šä¹‰çš„ç”¨æˆ·ç•Œé¢ã€‚ä½ å¯ä»¥æ ¹æ®ä½ çš„éœ€è¦åˆ›å»ºä½ è‡ªå·±çš„ç”¨æˆ·ç•Œé¢ğŸ¥³ã€‚</p><img src="/Stunning-Ticket-Widget-For-Flutter/4.png" class="" title="ç¤ºæ„å›¾ width=400"><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:blogs/ticket_ui/horizontal_dotted_line.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:blogs/ticket_ui/ticket_painter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:google_fonts/google_fonts.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">TicketUiScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">TicketUiScreen</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>          itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> __<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>              height<span class="token punctuation">:</span> <span class="token number">220</span><span class="token punctuation">,</span>              margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>              child<span class="token punctuation">:</span> <span class="token class-name">CustomPaint</span><span class="token punctuation">(</span>                painter<span class="token punctuation">:</span> <span class="token class-name">TicketPainter</span><span class="token punctuation">(</span>                  borderColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>                  bgColor<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Color</span><span class="token punctuation">(</span><span class="token number">0xFFfed966</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>                child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>                  padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>                    children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                      <span class="token class-name">Row</span><span class="token punctuation">(</span>                        mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceBetween<span class="token punctuation">,</span>                        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'DEA-HYD'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w700<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'BH07'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w400<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'\$140'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w800<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token punctuation">]</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token class-name">Row</span><span class="token punctuation">(</span>                        crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                        mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceBetween<span class="token punctuation">,</span>                        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'May 30, 2022'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w400<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token keyword">const</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>                            padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">fromLTRB</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>                              <span class="token class-name">Icons</span><span class="token punctuation">.</span>circle_outlined<span class="token punctuation">,</span>                              size<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Expanded</span><span class="token punctuation">(</span>                            child<span class="token punctuation">:</span> <span class="token class-name">Stack</span><span class="token punctuation">(</span>                              children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                                <span class="token class-name">Positioned</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>                                  child<span class="token punctuation">:</span> <span class="token class-name">Align</span><span class="token punctuation">(</span>                                    alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                                    child<span class="token punctuation">:</span> <span class="token class-name">CustomPaint</span><span class="token punctuation">(</span>                                      painter<span class="token punctuation">:</span> <span class="token class-name">HorizontalDottedLinePainter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                      size<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Size</span><span class="token punctuation">(</span>double<span class="token punctuation">.</span>infinity<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>                                  child<span class="token punctuation">:</span> <span class="token class-name">RotatedBox</span><span class="token punctuation">(</span>                                    quarterTurns<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>                                    child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>                                      <span class="token class-name">Icons</span><span class="token punctuation">.</span>airplanemode_on_rounded<span class="token punctuation">,</span>                                      color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">,</span>                                      size<span class="token punctuation">:</span> <span class="token number">28</span><span class="token punctuation">,</span>                                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token punctuation">)</span><span class="token punctuation">,</span>                              <span class="token punctuation">]</span><span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token keyword">const</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>                            padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">fromLTRB</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>                              <span class="token class-name">Icons</span><span class="token punctuation">.</span>circle_outlined<span class="token punctuation">,</span>                              size<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'May 30, 2022'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w400<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token punctuation">]</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token class-name">Row</span><span class="token punctuation">(</span>                        mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceBetween<span class="token punctuation">,</span>                        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'10:40AM'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'1h 30m'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w400<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'12:50AM'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token punctuation">]</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token keyword">const</span> <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token class-name">Row</span><span class="token punctuation">(</span>                        mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceBetween<span class="token punctuation">,</span>                        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                          <span class="token class-name">Text</span><span class="token punctuation">(</span>                            <span class="token string-literal"><span class="token string">'Indigo'</span></span><span class="token punctuation">,</span>                            style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                              fontSize<span class="token punctuation">:</span> <span class="token number">16</span><span class="token punctuation">,</span>                              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">Container</span><span class="token punctuation">(</span>                            decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>                              borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                              border<span class="token punctuation">:</span> <span class="token class-name">Border</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>                                color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black<span class="token punctuation">.</span><span class="token function">withOpacity</span><span class="token punctuation">(</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                              <span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                            child<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>                              padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>                                horizontal<span class="token punctuation">:</span> <span class="token number">8</span><span class="token punctuation">,</span>                                vertical<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                              <span class="token punctuation">)</span><span class="token punctuation">,</span>                              child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>                                <span class="token string-literal"><span class="token string">'Cheapest'</span></span><span class="token punctuation">,</span>                                style<span class="token punctuation">:</span> <span class="token class-name">GoogleFonts</span><span class="token punctuation">.</span><span class="token function">poppins</span><span class="token punctuation">(</span>                                  fontSize<span class="token punctuation">:</span> <span class="token number">14</span><span class="token punctuation">,</span>                                  fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w400<span class="token punctuation">,</span>                                <span class="token punctuation">)</span><span class="token punctuation">,</span>                              <span class="token punctuation">)</span><span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token punctuation">]</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">]</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>          itemCount<span class="token punctuation">:</span> <span class="token number">6</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Stunning-Ticket-Widget-For-Flutter/5.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>è°¢è°¢ä½ ï¼Œæˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« åœ¨æŸç§ç¨‹åº¦ä¸Šå¸®åŠ©äº†ä½ ï¼Œç¥ä½ æ„‰å¿«ï¼ğŸ‘‹</p><!-- https://arkapp.medium.com/stunning-ticket-widget-for-flutter-f9851e135eb9 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
          <category> Widget </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Widget </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutteré«˜çº§BLoCå’ŒæœåŠ¡æ“ä½œ</title>
      <link href="/Flutter-Advanced-BLoC-and-Service-Operations.html"/>
      <url>/Flutter-Advanced-BLoC-and-Service-Operations.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å°†è§£é‡ŠBlocå’ŒVexanaåº“çš„ä½¿ç”¨ï¼Œå®ƒæ˜¯ä¸€ä¸ªçŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼Œå¤„äºé«˜çº§æ°´å¹³ã€‚æˆ‘åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ä¹Ÿä½¿ç”¨äº†Providerã€‚æˆ‘å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­å¯¹æ­¤è¿›è¡Œè§£é‡Šã€‚</p></blockquote><img src="/Flutter-Advanced-BLoC-and-Service-Operations/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Vexanaæ˜¯ä¸€ä¸ªç”± Veli BacÄ±k åŸºäºDioåº“ä¹‹ä¸Šç¼–å†™çš„ã€‚å®ƒå¯¹æœåŠ¡æ“ä½œéå¸¸æœ‰ç”¨ã€‚<br>ä¸å…¶ä»–åº“ä¸åŒã€‚</p><span id="more"></span><p>æˆ‘ä»¬åˆ›å»ºæ¨¡å‹ç±»çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:vexana/vexana.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">QuoteModel</span> <span class="token keyword">extends</span> <span class="token class-name">INetworkModel</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">QuoteModel</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">String</span><span class="token operator">?</span> id<span class="token punctuation">;</span>  <span class="token class-name">String</span><span class="token operator">?</span> author<span class="token punctuation">;</span>  <span class="token class-name">String</span><span class="token operator">?</span> content<span class="token punctuation">;</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> tags<span class="token punctuation">;</span>  <span class="token class-name">String</span><span class="token operator">?</span> authorSlug<span class="token punctuation">;</span>  int<span class="token operator">?</span> length<span class="token punctuation">;</span>  <span class="token class-name">String</span><span class="token operator">?</span> dateAdded<span class="token punctuation">;</span>  <span class="token class-name">String</span><span class="token operator">?</span> dateModified<span class="token punctuation">;</span>  <span class="token class-name">QuoteModel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>author<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>tags<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>authorSlug<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>dateAdded<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>dateModified<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">QuoteModel</span> <span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> json<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">QuoteModel</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">factory</span> <span class="token class-name">QuoteModel</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> json<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">QuoteModel</span><span class="token punctuation">(</span>      id<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'_id'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>      author<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'author'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>      content<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'content'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>      tags<span class="token punctuation">:</span> <span class="token punctuation">(</span>json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'tags'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> e <span class="token operator">as</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      authorSlug<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'authorSlug'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>      length<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'length'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> int<span class="token operator">?</span><span class="token punctuation">,</span>      dateAdded<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'dateAdded'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>      dateModified<span class="token punctuation">:</span> json<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'dateModified'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> <span class="token function">toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">_toJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token punctuation">{</span>      <span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">:</span> id<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'author'</span></span><span class="token punctuation">:</span> author<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'content'</span></span><span class="token punctuation">:</span> content<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'tags'</span></span><span class="token punctuation">:</span> tags<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'authorSlug'</span></span><span class="token punctuation">:</span> authorSlug<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'length'</span></span><span class="token punctuation">:</span> length<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'dateAdded'</span></span><span class="token punctuation">:</span> dateAdded<span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">'dateModified'</span></span><span class="token punctuation">:</span> dateModified<span class="token punctuation">,</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ä¸€ä¸ªä»INetworkModelå»¶ä¼¸å‡ºæ¥çš„æ¨¡å‹ç±»ã€‚</p><p>ä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªé“¾æ¥ï¼Œå®ƒä¹Ÿæ”¯æŒVexanaçš„Jsonåˆ°Dartæ“ä½œï¼š<a href="https://dartj.web.app/#/">https://dartj.web.app/#/</a></p><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹ç¼–å†™æœåŠ¡æ“ä½œäº†ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">VexanaManager</span> <span class="token keyword">extends</span> <span class="token class-name">NetworkManager</span> <span class="token punctuation">{</span>  <span class="token class-name">VexanaManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>            options<span class="token punctuation">:</span> <span class="token class-name">BaseOptions</span><span class="token punctuation">(</span>              baseUrl<span class="token punctuation">:</span> <span class="token class-name">AppConstants</span><span class="token punctuation">.</span>baseUrl<span class="token punctuation">,</span>              followRedirects<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            isEnableLogger<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            isEnableTest<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±åƒåœ¨Dioåº“ä¸­ä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå®šä¹‰NetworkManagerç±»ã€‚å®ƒç»™äº†æˆ‘ä»¬ä¸€äº›é€‰æ‹©ã€‚æˆ‘ä»¬ä»¥åå°†ä½¿ç”¨è¿™ä¸ªVexanaManagerç±»ã€‚è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„å®šä¹‰ã€‚</p><p>è®©æˆ‘ä»¬ç»§ç»­!</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">IQuoteService</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">INetworkManager</span> networkManager<span class="token punctuation">;</span>  <span class="token class-name">IQuoteService</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>networkManager<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">QuoteModel</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllQuotes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">QuoteService</span> <span class="token keyword">extends</span> <span class="token class-name">IQuoteService</span> <span class="token punctuation">{</span>  <span class="token class-name">QuoteService</span><span class="token punctuation">(</span><span class="token class-name">INetworkManager</span> networkManager<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>networkManager<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">QuoteModel</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllQuotes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> networkManager<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>      <span class="token class-name">AppConstants</span><span class="token punctuation">.</span>baseUrl<span class="token punctuation">,</span>      parseModel<span class="token punctuation">:</span> <span class="token class-name">QuoteModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      method<span class="token punctuation">:</span> <span class="token class-name">RequestType</span><span class="token punctuation">.</span>GET<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨è®©æˆ‘ä»¬ä»”ç»†ç ”ç©¶ä¸€ä¸‹ã€‚<br>æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸ºIQuoteServiceçš„æŠ½è±¡ç±»ã€‚<br>åœ¨å‘½åæ—¶ï¼ŒæŠ½è±¡ç±»é€šå¸¸ä»¥Iå¼€å¤´ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å°†å®šä¹‰æˆ‘ä»¬çš„æ–¹æ³•ã€‚æˆ‘ä»¬å¯ä»¥ä¸åˆ›å»ºè¿™ä¸ªæŠ½è±¡ç±»è€Œç›´æ¥åœ¨ä¸€ä¸ªå…·ä½“çš„ç±»ä¸Šå®šä¹‰å®ƒï¼Œä½†è¿™ä¸æ˜¯æœ€ä½³åšæ³•ã€‚</p><p>æ— è®ºå¦‚ä½•ï¼Œé¦–å…ˆæˆ‘ä»¬ä»INetworkManagerä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼ˆå°±åƒä»Dioåº“ä¸­åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼‰ã€‚INetworkManagerç±»æ˜¯Vexanaåº“å¸¦ç»™æˆ‘ä»¬çš„ä¸€ä¸ªç±»ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œå®šä¹‰å”¯ä¸€çš„æ–¹æ³•ï¼Œè¿™ä¸ªåº”ç”¨ç¨‹åºçš„å”¯ä¸€æœåŠ¡æ˜¯è¦ä»APIä¸­è·å–æ•°æ®ã€‚</p><p>ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå…·ä½“çš„ç±»ï¼Œåœ¨è¿™ä¸ªç±»ä¸­æˆ‘ä»¬å°†å®šä¹‰è¿™ä¸ªæ–¹æ³•ï¼Œä»åˆšæ‰åˆ›å»ºçš„IQuoteServiceæŠ½è±¡ç±»ä¸­æ‰©å±•è¿™ä¸ªç±»ï¼ˆè¯·è¿åŒè¿™äº›æ–‡å­—ä¸€èµ·æŸ¥çœ‹ä»£ç ï¼‰ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨sendæ–¹æ³•å‘APIå‘é€è¯·æ±‚ï¼šnetworkManager.send()ã€‚<br>send()æœŸæœ›æˆ‘ä»¬æä¾›å„ç§å‚æ•°ã€‚<br>å…¶ä¸­ä¸€ä¸ªæ˜¯å‘é€è¯·æ±‚çš„è·¯å¾„ï¼ˆAppConstants.baseUrlï¼‰ã€‚<br>å¦ä¸€ä¸ªæ˜¯æˆ‘ä»¬å°†ä½¿ç”¨çš„æ¨¡å‹ï¼ˆQuoteModelï¼‰ï¼Œä»¥åŠè¯·æ±‚ç±»å‹ã€‚<br>æˆ‘ä»¬ä½¿ç”¨GETæ–¹æ³•æ˜¯å› ä¸ºæˆ‘ä»¬å°†ä¸ºè¿™ä¸ªåº”ç”¨ç¨‹åºæ¥æ”¶æ•°æ®ã€‚å¦‚æœå¯ä»¥å‘é€ä¸€ä¸ªæ•°æ®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨POSTç­‰ã€‚</p><p>å¥½äº†ï¼ŒæœåŠ¡è¿‡ç¨‹çš„æœ€åä¸€æ­¥æ˜¯å­˜å‚¨è¿‡ç¨‹ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">QuotesRepository</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> quoteService <span class="token operator">=</span> <span class="token class-name">QuoteService</span><span class="token punctuation">(</span><span class="token class-name">VexanaManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">QuoteModel</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAllQuotes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> quoteService<span class="token punctuation">.</span><span class="token function">getAllQuotes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™é‡Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç±»ã€‚è¿™ä¸ªç±»å°†åœ¨åé¢çš„BLoCç»“æ„ä¸­ä½¿ç”¨ã€‚<br>ä¸€ä¸ªæç¤ºï¼šä½ å¯ä»¥æŠŠRepositoryç±»æƒ³è±¡æˆBlocå’ŒæœåŠ¡ä¹‹é—´çš„ä¸€ä¸ªå±‚ã€‚<br>æˆ‘ä»¬åœ¨æœ€å¼€å§‹åˆ›å»ºçš„VexanaManageræ˜¯ä¸€ä¸ªå®šä¹‰Vexanaçš„ç±»ã€‚</p><p>ä¸å¤šè¯´äº†ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬çš„Blocç»“æ„ã€‚</p><blockquote><p>æˆ‘åœ¨è¿™é‡Œçš„ç›®çš„ä¸æ˜¯è¦æ·±å…¥ç ”ç©¶Blocçš„ç»“æ„ã€‚æˆ‘çš„ç›®çš„æ˜¯å¸®åŠ©é‚£äº›å·²ç»æœ‰ä¸€äº›BlocçŸ¥è¯†çš„äººåœ¨é«˜çº§æ°´å¹³ä¸Šåšåˆ°è¿™ä¸€ç‚¹ã€‚</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">QuoteEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">QuoteEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FetchQuotes</span> <span class="token keyword">extends</span> <span class="token class-name">QuoteEvent</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®©æˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹æˆ‘ä»¬çš„äº‹ä»¶æ–‡ä»¶ã€‚åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­åªæœ‰ä¸€ä¸ªäº‹ä»¶ï¼Œé‚£å°±æ˜¯ä»APIä¸­è·å–æ•°æ®ã€‚æé†’ä¸€ä¸‹ï¼šäº‹ä»¶æ˜¯æŒ‡ç”¨æˆ·çš„è¡Œä¸ºï¼ŒçŠ¶æ€æ˜¯æŒ‡ä»–å› è¿™äº›è¡Œä¸ºè€Œå¾—åˆ°çš„çŠ¶æ€ã€‚å…³é”®å¥å­æ˜¯ï¼šäº‹ä»¶è¿›å…¥å—ç»“æ„ï¼Œç„¶åçŠ¶æ€é€€å‡ºã€‚</p><p>ç°åœ¨æ¥æ£€æŸ¥ä¸€ä¸‹çŠ¶æ€æ–‡ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">QuoteState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">QuoteState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">QuoteInitial</span> <span class="token keyword">extends</span> <span class="token class-name">QuoteState</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">QuoteLoading</span> <span class="token keyword">extends</span> <span class="token class-name">QuoteState</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">QuoteLoaded</span> <span class="token keyword">extends</span> <span class="token class-name">QuoteState</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">QuoteModel</span> quoteModel<span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token class-name">QuoteLoaded</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>quoteModel<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>quoteModel<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">QuoteError</span> <span class="token keyword">extends</span> <span class="token class-name">QuoteState</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token class-name">QuoteError</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®©æˆ‘ä»¬æƒ³ä¸€æƒ³ã€‚æˆ‘ä»¬çš„äº‹ä»¶å¯èƒ½æ˜¯ä»€ä¹ˆï¼Ÿ<br>é¦–å…ˆï¼Œå®ƒå¯èƒ½å¤„äºåˆå§‹çŠ¶æ€ã€‚æ‰€ä»¥è¿˜æ²¡æœ‰ä»€ä¹ˆã€‚<br>ç„¶åç”¨æˆ·æŒ‰ä¸‹æŒ‰é’®ï¼Œæƒ³æ˜¾ç¤ºä¸€ä¸ªæ–°çš„æŠ¥ä»·ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»APIè·å–æ•°æ®çš„è¿‡ç¨‹å¼€å§‹å‘æŒ¥ä½œç”¨ï¼ŒQuoteLoading()å°±ä»è¿™é‡Œå¼€å§‹ã€‚æˆ‘ä»¬ä»APIä¸­è·å–æ•°æ®ã€‚<br>æ­£å¦‚ä½ æ‰€çŒœæµ‹çš„ï¼Œè¿™å°±æ˜¯QuoteLoaded()å‘æŒ¥ä½œç”¨çš„åœ°æ–¹ã€‚å¦‚æœå‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿è¡ŒQuoteErrorçŠ¶æ€ã€‚</p><p>æé†’ä¸€ä¸‹ã€‚åœ¨QuoteLoadedç±»ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†å°†ä»æœåŠ¡ä¸­è·å–çš„æ•°æ®ç±»å‹ã€‚æˆ‘ä»¬å°†æ¥æ”¶ç±»å‹ä¸ºQuoteModelçš„æ•°æ®ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">QuoteBloc</span> <span class="token keyword">extends</span> <span class="token class-name">Bloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">QuoteEvent</span><span class="token punctuation">,</span> <span class="token class-name">QuoteState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">QuoteBloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">QuoteInitial</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> <span class="token class-name">QuotesRepository</span> quotesRepository <span class="token operator">=</span> <span class="token class-name">QuotesRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FetchQuotes</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> emit<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token class-name">QuoteLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> quotesRepository<span class="token punctuation">.</span><span class="token function">getAllQuotes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token class-name">QuoteLoaded</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">emit</span><span class="token punctuation">(</span><span class="token class-name">QuoteError</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜¯çš„ï¼Œç”±äºä¸Šé¢æ‰€æœ‰çš„å®šä¹‰ï¼Œä½ ç°åœ¨å¯ä»¥çŒœåˆ°è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆã€‚<br>æé†’ä¸€ä¸‹ï¼šæˆ‘ä»¬ä¸è¦å¿˜è®°åœ¨è¿™é‡Œå®šä¹‰æˆ‘ä»¬åœ¨æœåŠ¡æ“ä½œä¸­ä½¿ç”¨çš„èµ„æºåº“ç±» :)</p><p>ç„¶åæˆ‘ä»¬æŠŠè¿™ä¸ªBlocç»“æ„æ•´åˆåˆ°æ¥å£ç¼–ç ä¸­ã€‚</p><p>è°¢è°¢ä½ çš„é˜…è¯»ã€‚æˆ‘å¸Œæœ›å®ƒèƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚ä¿æŒå¥åº·!</p><!-- https://medium.com/@bedirhanssaglam/flutter-advanced-bloc-and-service-operations-c3cd4a1b400f -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> BLoC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è®¾è®¡ä¸€ä¸ªæœ‰å¸å¼•åŠ›çš„GitHubç®€ä»‹</title>
      <link href="/How-to-Design-an-Attractive-GitHub-Profile-Readme.html"/>
      <url>/How-to-Design-an-Attractive-GitHub-Profile-Readme.html</url>
      
        <content type="html"><![CDATA[<img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚ä½•åˆ›å»ºä¸€ä¸ªå…·æœ‰è§†è§‰å¸å¼•åŠ›çš„GitHubé…ç½®æ–‡ä»¶è‡ªè¿°ã€‚ä½ ä»¬éƒ½çŸ¥é“ä¼šæœ‰è¿™æ ·çš„æ•ˆæœå§ï¼Ÿ<br>ä½ ä»¬ä¸­çš„ä¸€äº›äººå¯èƒ½ä¼šæƒ³ï¼šâ€å”‰ï¼Œå¤ªå¥½äº†ï¼Œåˆæ˜¯ä¸€ç¯‡å…³äºå¦‚ä½•åˆ¶ä½œä¸€ä¸ªä»¤äººå°è±¡æ·±åˆ»çš„GitHubç®€ä»‹çš„åšå®¢ğŸ˜‘â€ã€‚<br>å—¯â€¦â€¦æ˜¯çš„ã€‚</p><span id="more"></span><p>ä½†ä»…ä»…å› ä¸ºæŸäº›ä¸œè¥¿å·²ç»å­˜åœ¨ï¼Œå¹¶ä¸æ„å‘³ç€ä½ ä¸èƒ½åˆ›é€ è‡ªå·±ç‹¬ç‰¹çš„ç‰ˆæœ¬ã€‚<br>å¤§å¤šæ•°äººéƒ½ä¼šæŠŠä»–ä»¬çš„ç®€ä»‹çš„è‡ªè¿°å†™å¾—å¾ˆæœ‰è¶£ï¼Œ<br>ä½†çœ‹èµ·æ¥ä¸é”™çš„ç®€ä»‹å’Œæœ‰ç¾æ„Ÿçš„ç®€ä»‹ä¹‹é—´æ˜¯æœ‰å·®åˆ«çš„ï¼</p><p>æ‰€ä»¥åœ¨è¿™é‡Œï¼Œæˆ‘å°†å‘ä½ ä»¬å±•ç¤ºå¦‚ä½•è®¾è®¡ä¸€ä¸ªæ˜æ˜Ÿçº§çš„GitHubç®€ä»‹è‡ªè¿°ï¼Œæˆ‘å°†ä»¥æˆ‘çš„ç®€ä»‹ä¸ºä¾‹ã€‚<br>æˆ‘ä¼šæåˆ°æˆ‘çš„ç®€ä»‹æ‰€ä½¿ç”¨çš„æ‰€æœ‰èµ„æºï¼Œä»¥åŠä½ å¦‚ä½•æ ¹æ®ä½ çš„é£æ ¼æ¥å®šåˆ¶å®ƒã€‚</p><p>ä½†åœ¨æˆ‘ä»¬è¿›å…¥ç®€ä»‹çš„è®¾è®¡å’Œé£æ ¼ä¹‹å‰ï¼Œä½ ä»¬ä¸­çš„è®¸å¤šäººå¯èƒ½ä¼šé—® â€œè¿™æ ·åšçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿâ€å’Œ â€œæœ‰å¿…è¦å—ï¼Ÿâ€ã€‚<br>å¯¹æ­¤ï¼Œæˆ‘æƒ³è¯´ï¼Œæ²¡æœ‰å¿…è¦ä¸ºä½ çš„ç®€ä»‹è®¾è®¡é£æ ¼å¹¶ä½¿å…¶ç‹¬ç‰¹ã€‚<br>ä¸åˆ›å»ºreadmeç®€ä»‹æ²¡æœ‰ä»€ä¹ˆå¤§çš„åå¤„ï¼Œä½†è‚¯å®šæœ‰å¾ˆå¤šå¥½å¤„ã€‚</p><p>æ¯ä¸ªäººéƒ½æŠŠGitHubå½“ä½œä»–ä»¬é¡¹ç›®çš„å‚¨è—å®¤ï¼Œåªæ˜¯ç®€å•åœ°ä½¿ç”¨å®ƒçš„è®¾è®¡ï¼Œä¹Ÿå°±æ˜¯æºä»£ç æ§åˆ¶ï¼Œä»¥åŠä¸ä»–äººåˆä½œå¼€å±•é¡¹ç›®æˆ–ä¸ºå¼€æºåšè´¡çŒ®ã€‚<br>ä½†åœ¨2020å¹´ï¼Œå½“GitHubå‘å¸ƒäº†åˆ›å»ºæˆ‘ä»¬è‡ªå·±ç‹¬ç‰¹çš„readme profileçš„æ–°åŠŸèƒ½æ—¶ï¼Œå®ƒä¸ºå¼€å‘è€…å’Œè‰ºæœ¯å®¶æä¾›äº†ä¸€ç§æ–¹å¼ï¼Œåœ¨GitHubä¸Šä»¥ â€œä¸ªäººç®€å† â€œçš„å½¢å¼ä¸“ä¸šåœ°å±•ç¤ºä»–ä»¬çš„å·¥ä½œã€‚<br>è¿™å°±æ˜¯å®ƒçš„å…¨éƒ¨ï¼šä¸€ä¸ªç‰¹æ®Šçš„ repoï¼Œä½œä¸ºä¸€ä¸ªè§†è§‰ä¸Šä»¤äººå°è±¡æ·±åˆ»çš„ç»„åˆï¼Œä¾›å…¶ä»–å¼€å‘è€…å’Œé›‡ä¸»æŸ¥çœ‹ã€‚<br>å› æ­¤ï¼Œè¯·ç»§ç»­é˜…è¯»ä¸€äº›å…³äºGitHubç®€ä»‹é£æ ¼çš„éš¾ä»¥ç½®ä¿¡çš„æç¤ºå§</p><ol><li>æœ€å¼€å§‹çš„æ­¥éª¤ ğŸ¤<br>è¦å¼€å§‹è®¾è®¡ä½ çš„ GitHub é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬é¦–å…ˆè¦åˆ›å»ºä¸€ä¸ªæ–°çš„å…¬å…±ä»“åº“ã€‚<br>ç‚¹å‡»å³ä¸Šæ–¹çš„ â€œ+â€å›¾æ ‡ï¼Œé€‰æ‹© â€œæ–°ä»“åº“â€ã€‚<br>ä¹‹åå°±æ˜¯å…³é”®çš„ä¸€æ­¥ï¼Œç¡®ä¿ä»“åº“çš„åç§°ä¸ä½ çš„ç”¨æˆ·åç›¸åŒã€‚<br>è¯·å‚è€ƒä¸‹é¢çš„ä¾‹å­ï¼š</li></ol><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/2.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>GitHub ä¼šè®©ä½ çŸ¥é“ä½ æ‰¾åˆ°äº†ä¸€ä¸ªç‰¹æ®Šçš„ repoï¼Œå…¶ README.md æ–‡ä»¶å¯ä»¥è¢«å®šåˆ¶ã€‚<br>æˆ‘ä»¬å¸Œæœ›ä¿æŒè¿™ä¸ª repo çš„ â€œå…¬å¼€æ€§â€ï¼Œä»¥ä¾¿å®ƒèƒ½æ˜¾ç¤ºåœ¨ä½ çš„ GitHub é…ç½®æ–‡ä»¶ä¸Šã€‚ä½ å¯ä»¥æä¾›è¯¥ä»“åº“çš„ç®€è¦æè¿°ï¼ˆä¾‹å¦‚ â€œæˆ‘çš„ GitHub é…ç½®æ–‡ä»¶â€ï¼‰ï¼Œä¸è¿‡è¿™ä¸€æ­¥æ˜¯å¯é€‰çš„ã€‚<br>ä¹‹åï¼Œå‹¾é€‰ â€œæ·»åŠ  README æ–‡ä»¶â€ï¼Œå¹¶ç‚¹å‡» â€œåˆ›å»ºä»“åº“â€ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä¿®æ”¹è¿™ä¸ª README æ–‡ä»¶å¹¶ä½¿å…¶ä¸ªæ€§åŒ–ã€‚</p><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/3.jpg" class="" title="ç¤ºæ„å›¾ width=400"><ol start="2"><li>ä¸€ä¸ªç‹¬ç‰¹çš„æ ‡é¢˜ â„ï¸<br>ä½ çš„èµ„æ–™æ ‡é¢˜æ˜¯äººä»¬è§‚å¯Ÿçš„ç¬¬ä¸€ä»¶äº‹ï¼Œæ‰€ä»¥å®ƒå¿…é¡»ä»å…¶ä»–èµ„æ–™ä¸­è„±é¢–è€Œå‡ºã€‚<br>æˆ‘ä»¬å¸Œæœ›æœ€åˆçš„ â€œé’©å­ â€œèƒ½å¤Ÿå¸å¼•æµè§ˆè€…ã€‚<br>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘çš„å»ºè®®æ˜¯é¿å…éµå¾ªå¸¸è§çš„è®¾è®¡è§„èŒƒã€‚<br>ä¾‹å¦‚ï¼Œè®¸å¤šå¼€å‘è€…åœ¨ä»–ä»¬çš„ â€œå…³äº â€œéƒ¨åˆ†ä½¿ç”¨è¿™ç§å¸ƒå±€ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">### Hi there ğŸ‘‹* ğŸ‘‚ My name is ...* ğŸ‘© Pronouns: ...* ğŸ”­ Iâ€™m currently working on ...* ğŸŒ± Iâ€™m currently learning ...* ğŸ¤ Iâ€™m looking to collaborate on ...* ğŸ¤” Iâ€™m looking for help with ...* ğŸ’¬ Ask me about ...* ğŸ“« How to reach me: ...* â¤ï¸ I love ...* âš¡ Fun fact: ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨è¿™ä¸ªæ¨¡æ¿æ˜¯å®Œå…¨å¯ä»¥çš„ï¼Œåªè¦ä½ æ”¹å˜ä½ çš„ä¸ªäººèµ„æ–™çš„å…¶ä»–æ–¹é¢ã€‚<br>æˆ‘ä»å¦ä¸€ä¸ªæ–¹å‘æ¥åˆ›å»ºæ ‡é¢˜ï¼Œç„¶ååœ¨è¿™ä¹‹åæ·»åŠ  â€œå…³äºæˆ‘ â€œéƒ¨åˆ†ã€‚<br>æˆ‘å°†ç”¨æˆ‘æ‰€ç”¨çš„èµ„æºæ¥æŒ‡å¯¼ä½ ã€‚</p><p>ä½ å¯ä»¥çœ‹åˆ°çš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯é‚£ä¸ªå¸¦æœ‰ â€œå˜¿ï¼Œå¤§å®¶å¥½ï¼â€æ–‡å­—çš„åŠ¨ç”»æ ‡é¢˜ã€‚<br>æˆ‘ä½¿ç”¨äº†<a href="https://github.com/kyechan99/capsule-render">capsule-render GitHub repo</a>æ¥åšè¿™ä¸ªã€‚æˆ‘åœ¨å¯»æ‰¾è£…é¥°GitHub repoçš„æ–¹æ³•æ—¶å‘ç°äº†è¿™ä¸ªä¼Ÿå¤§çš„èµ„æºã€‚ä½ å¯ä»¥åœ¨ä¸Šé¢æ·»åŠ èƒŒæ™¯å›¾ç‰‡å’Œæ–‡å­—ï¼Œè¿˜æœ‰ï¼Œè°ä¸å–œæ¬¢åŠ¨ç”»å‘¢ï¼å®ƒçš„ä½¿ç”¨éå¸¸ç®€å•ï¼Œè€Œä¸”è¿˜èƒ½è®©ä½ çš„ç½‘ç«™å˜å¾—æ›´æ¼‚äº®ã€‚å®ƒä½¿ç”¨èµ·æ¥è¶…çº§ç®€å•ï¼Œè€Œä¸”åœ¨Repoä¸Šæœ‰å¾ˆå¥½çš„è®°å½•ã€‚ä¸‹é¢æ˜¯æˆ‘å¯¹æ¸²æŸ“å™¨çš„é…ç½®ã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;p align="center"&gt;  &lt;img src="https://capsule-render.vercel.app/api?text=Hey Everyone!ğŸ•¹ï¸&amp;animation=fadeIn&amp;type=waving&amp;color=gradient&amp;height=100"/&gt;&lt;/p&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åœ¨æ’å…¥ä¸€ä¸ªç®€å•çš„æ ‡é¢˜åï¼Œæä¾›æˆ‘çš„å„ç§è´¦æˆ·çš„é“¾æ¥ï¼Œå¦‚LinkedInã€Mediumã€Dev.toï¼Œæˆ‘æƒ³ç”¨ä¸€ç§ç®€çº¦çš„ã€æ— æ–‡å­—çš„æ–¹å¼æ¥åšã€‚<br>å› æ­¤ï¼Œæˆ‘å†³å®šä½¿ç”¨å›¾æ ‡ã€‚<br>æœ‰è®¸å¤šåœ¨çº¿å·¥å…·å¯ä»¥æä¾›æˆåƒä¸Šä¸‡çš„å…è´¹å›¾æ ‡ä¾›ä½¿ç”¨:æˆ‘ä½¿ç”¨äº†IconFinderï¼Œä¸ªäººå¾ˆå–œæ¬¢å®ƒã€‚<br>è¿˜æœ‰è®¸å¤šå…¶ä»–æµè¡Œçš„é€‰æ‹©ï¼Œä½ å¯ä»¥ä½¿ç”¨ï¼Œå¦‚Shields.ioã€markdown-badgesã€vector-logo-zoneã€simple-iconsç­‰ç­‰ã€‚</p><p>å›¾æ ‡çš„pngæ¥æºåªéœ€è¦å¯¼å…¥åˆ°<img>æ ‡ç­¾ä¸­ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;a href="https://www.instagram.com/thepiyushmalhotra/"&gt;  &lt;img height="50" src="https://user-images.githubusercontent.com/46517096/166974368-9798f39f-1f46-499c-b14e-81f0a3f83a06.png"/&gt;&lt;/a&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨åˆ°äº†æœ‰è¶£çš„éƒ¨åˆ†ï¼Œæ·»åŠ äº†é‚£ä¸ªNIU B çš„ GIFï¼<br>GIFS ä½¿æˆ‘ä»¬çš„ä¸ªäººèµ„æ–™æ›´åŠ åŠ¨æ€å’Œå¼•äººæ³¨ç›®ã€‚<br>è€å®è¯´ï¼Œä½ å¯ä»¥æ”¾ä»»ä½•ä½ æƒ³è¦çš„ GIFã€‚å®ƒå¯ä»¥æ˜¯æµè¡Œçš„è¡¨æƒ…åŒ…ã€ç¼–ç¨‹ gifã€ç”µå½±æˆ–ç”µè§†èŠ‚ç›®ä¸­çš„æ ‡å¿—æ€§åœºæ™¯ï¼Œæˆ–è€…å‘Šè¯‰äººä»¬ä¸€äº›å…³äºä½ çš„çˆ±å¥½çš„ä¸œè¥¿ã€‚<br>å°±æˆ‘è€Œè¨€ï¼Œè¿™æ˜¯åŠ¨æ¼«ï¼Œæ‰€ä»¥æˆ‘å°±æ˜¯è¿™ä¹ˆåšçš„ã€‚ Giphy å’Œ Tenor ç­‰æµè¡Œçš„ gif å…±äº«ç½‘ç«™å¯ç”¨äºæå–æ‚¨å–œæ¬¢çš„ä»»ä½• gifï¼Œå…¶å·¥ä½œæ–¹å¼ä¸æ·»åŠ å›¾æ ‡ç›¸åŒï¼Œåªéœ€å¤åˆ¶å›¾åƒåœ°å€å¹¶å°†å…¶ç²˜è´´åˆ° <img> æ ‡ç­¾çš„â€œsrcâ€å±æ€§ä¸­ã€‚</p><ol start="3"><li>å…³äºæˆ‘ â€œéƒ¨åˆ† ğŸ‘¨ğŸ’»<br>è¿™æ˜¯æˆ‘å‰é¢è°ˆåˆ°çš„éƒ¨åˆ†ï¼Œå¤§å¤šæ•°å¼€å‘è€…ä½¿ç”¨ä¸Šé¢çš„æ¨¡æ¿ã€‚<br>å¦‚æœä½ æƒ³è®©ä½ çš„ç®€ä»‹è„±é¢–è€Œå‡ºï¼Œé‚£ä¹ˆæˆ‘å»ºè®®ä¹Ÿæ”¹å˜è¿™ä¸€éƒ¨åˆ†çš„è®¾è®¡ã€‚æˆ‘åœ¨ç¼–è¾‘readmeæ—¶ï¼Œç»§ç»­ä½¿ç”¨YAMLæ ¼å¼ï¼Œè¿™æ ·å½“ä½ é¢„è§ˆç®€ä»‹æ—¶ï¼Œä¿¡æ¯è¯»èµ·æ¥å°±åƒä»£ç ã€‚</li></ol><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/5.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>å®ƒå¢åŠ äº†ä¸€ä¸ä¸“ä¸šæ€§ï¼Œè€Œä¸”ä½œä¸ºå¥–åŠ±ï¼Œçœ‹èµ·æ¥ä¹Ÿå¾ˆæ•´æ´! è¦æ˜¾ç¤ºè¿™ç§æ ¼å¼ï¼Œåªéœ€å°†ä½ çš„æ–‡æœ¬åŒ…èµ·æ¥ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½ å°±å¯ä»¥äº†ã€‚</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">* YOUR TEXT GOES HERE *<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol start="4"><li>å·¥å…·å’ŒæŠ€æœ¯çš„ä¸œè¥¿ ğŸ§°<br>åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œä½ å¯ä»¥å±•ç¤ºä½ çš„æŠ€èƒ½ï¼Œå¹¶åˆ—å‡ºä½ æ‰€ç†Ÿæ‚‰çš„å·¥å…·å’ŒæŠ€æœ¯ã€‚<br>æˆ‘æ€»æ˜¯å–œæ¬¢ç®€çº¦æ˜å¿«çš„è®¾è®¡é€‰æ‹©ï¼Œè€Œä¸æ˜¯æ‚ä¹±æ— ç« çš„æ•°æ®ï¼Œæ‰€ä»¥è¿™æ¬¡æˆ‘ä¹Ÿé‡‡ç”¨äº†å›¾æ ‡ã€‚<br>æˆ‘ä»¬äººç±»æ›´å–œæ¬¢é€šè¿‡è§†è§‰åª’ä»‹è·å–ä¿¡æ¯ï¼Œè€Œä¸æ˜¯å…¶ä»–ä¸œè¥¿ï¼Œå¯¹å—ï¼Ÿ</li></ol><p>ä½ å¯ä»¥ä½¿ç”¨æˆ‘åœ¨ç¬¬äºŒæ­¥ä¸­æåˆ°çš„æ‰€æœ‰ä¸œè¥¿ï¼Œå¦‚IconFinderã€Shields.ioã€markdown-badgesã€vector-logo-zoneã€simple-iconsç­‰ã€‚ä½†æ˜¯å¯¹äºè¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä¸ªäººæ¨èDevIconã€‚<br>ä¸å…¶ä»–èµ„æºä¸åŒï¼ŒDevIconæ˜¯ä¸“ä¸ºæä¾›ä¸ç¼–ç¨‹è¯­è¨€å’Œå¼€å‘å·¥å…·æœ‰å…³çš„å›¾æ ‡è€Œå»ºç«‹çš„ï¼Œè¿™ä½¿å®ƒæˆä¸ºä¸€ä¸ªå®Œç¾çš„é€‰æ‹©ã€‚</p><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åªè¦ä»DevIconçš„ç½‘ç«™ä¸Šå¤åˆ¶SVGå›¾åƒæºï¼Œå¹¶å°†å…¶ç²˜è´´åœ¨</p><p>æ ‡ç­¾å†…ï¼Œå°±å¯ä»¥æ˜¾ç¤ºå¤šä¸ªå›¾æ ‡äº†!</p><pre class="line-numbers language-none"><code class="language-none">&lt;h2&gt; ğŸš€ &amp;nbsp;Some Tools I Have Used and Learned&lt;/h2&gt;&lt;p align="left"&gt;&lt;img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/vscode/vscode-original.svg" alt="vscode" width="45" height="45"/&gt;&lt;img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/bash/bash-original.svg" alt="bash" width="45" height="45"/&gt;&lt;img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/php/php-original.svg" alt="php" width="45" height="45"/&gt;&lt;/p&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>ä½ çš„ GitHub å†å² ğŸ“ˆ<br>æœ€åï¼Œåœ¨ä½ çš„ç®€ä»‹READMEçš„ç»“å°¾ï¼Œä½ å‡ ä¹å¯ä»¥åŒ…æ‹¬ä»»ä½•ä¸œè¥¿ã€‚<br>æœ‰äº›å¼€å‘è€…ä¼šåœ¨è‡ªå·±çš„Spotifyç®€ä»‹ä¸­å†™ä¸Šå½“å‰æ­£åœ¨æ’­æ”¾çš„éŸ³ä¹ï¼Œæœ‰äº›ä¼šæ·»åŠ ä»–ä»¬çš„GitHubç»Ÿè®¡æ•°æ®ï¼Œæœ‰äº›åˆ™ä¼šåœ¨ä½ çš„GitHubè´¡çŒ®å›¾ä¸Šæ·»åŠ ä¸€ä¸ªæœ‰è¶£çš„å°è›‡æ¸¸æˆ.<br>å°±åƒæˆ‘ä¸€æ ·ï¼Œæˆ‘å°†å‘ä½ ä»¬å±•ç¤ºå¦‚ä½•æ·»åŠ è¿™äº›å†…å®¹:</li></ol><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/6.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘å…ˆç”¨ä¸¤å¼ GitHub ReadMeç»Ÿè®¡å¡ã€‚ä¸€å¼ æ˜¾ç¤ºæˆ‘çš„æ˜Ÿæ˜Ÿæ€»æ•°ã€æäº¤å’Œæ‹‰åŠ¨è¯·æ±‚ç­‰ã€‚<br>å¦ä¸€å¼ åˆ™æ˜¾ç¤ºæˆ‘æœ€å¸¸ç”¨çš„ç¼–ç¨‹è¯­è¨€çš„ç™¾åˆ†æ¯”ã€‚ä½ ä»¬å¯ä»¥ä»æµè¡Œçš„GitHub ReadMe Stats Repoä¸­è·å¾—è¿™äº›å¡ç‰‡ï¼Œè¿™äº›å¡ç‰‡æœ€å¥½çš„éƒ¨åˆ†æ˜¯å®ƒä»¬å¯ä»¥é€šè¿‡ä¸åŒçš„è®¾ç½®å’Œä¸»é¢˜è¿›è¡Œå®Œå…¨å®šåˆ¶ã€‚</p><p>æ¥ä¸‹æ¥å¯èƒ½æ˜¯æˆ‘æ‰€æœ‰èµ„æ–™ä¸­æœ€å–œæ¬¢çš„ä¸œè¥¿äº†ã€‚æŠŠä½ çš„GitHubè´¡çŒ®å›¾è°±åšæˆä¸€ä¸ªè›‡å½¢æ¸¸æˆã€‚å®ƒçš„è®¾ç½®ç›¸å½“ç®€å•ï¼Œå½“è›‡åå™¬ä½ çš„æäº¤å›¾æ—¶ï¼Œçœ‹èµ·æ¥éå¸¸ä»¤äººæ»¡æ„ã€‚</p><p>ä¸ºäº†ç»™ä½ çš„æ¡£æ¡ˆè®¾ç½®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªå«åšGitHub Actionsçš„ä¸œè¥¿ã€‚GitHub Actionsæ˜¯GitHubä¸­çš„CI/CDå·¥å…·ï¼Œä½ å¯ä»¥å¯åŠ¨å·¥ä½œæµç¨‹ï¼Œè‡ªåŠ¨è¿è¡Œã€éƒ¨ç½²å’Œæ„å»ºä½ çš„ä¸œè¥¿ã€‚</p><pre class="line-numbers language-none"><code class="language-none">![Snake animation](https://github.com/reasonpun/reasonpun/blob/output/github-contribution-grid-snake.svg)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç¬¬ä¸€æ­¥æ˜¯å¤åˆ¶ä¸Šé¢è¿™ä¸€è¡Œï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°ä½ çš„ä¸ªäººèµ„æ–™çš„READMEä¸­ã€‚ç¡®ä¿æŠŠç”¨æˆ·åæ”¹æˆä½ çš„ï¼Œè€Œä¸æ˜¯æˆ‘çš„ã€‚</li><li>ç°åœ¨æˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªGitHubå·¥ä½œæµï¼Œè¿™æ ·è›‡å½¢åŠ¨ç”»ä¸­çš„è´¡çŒ®å›¾å°±ä¼šæ ¹æ®æˆ‘ä»¬å°†è¦è®¾ç½®çš„cronjobè¿›è¡Œæ›´æ–°ã€‚</li><li>è¿›å…¥READMEä»“åº“çš„ â€œè¡ŒåŠ¨ â€œæ ‡ç­¾ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å·¥ä½œæµã€‚è¿™å°†åœ¨ä½ çš„ç‰ˆæœ¬åº“ä¸­ç”Ÿæˆä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ï¼Œåä¸ºâ€.github/workflowsâ€ï¼Œä¹‹åï¼Œå®ƒå°†åœ¨å…¶ä¸­ç”Ÿæˆä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œåä¸º â€œmain.ymlâ€ã€‚</li></ul><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/8.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/9.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>åˆ é™¤æ–°åˆ›å»ºçš„main.ymlæ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œå¹¶åœ¨ä¸‹é¢æ·»åŠ è¿™æ®µä»£ç ã€‚</p><pre class="line-numbers language-none"><code class="language-none">name: Generate Datason:  schedule: # execute every 12 hours    - cron: "* */12 * * *"  workflow_dispatch:jobs:  build:    name: Jobs to update datas    runs-on: ubuntu-latest    steps:      # Snake Animation      - uses: Platane/snk@master        id: snake-gif        with:          github_user_name: thepiyushmalhotra          svg_out_path: dist/github-contribution-grid-snake.svg      - uses: crazy-max/ghaction-github-pages@v2.1.3        with:          target_branch: output          build_dir: dist        env:          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·ç¡®ä¿å°†æˆ‘çš„ç”¨æˆ·åæ›¿æ¢æˆä½ çš„ã€‚<br>æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ä¸€ä¸ªcronjobï¼Œæ¯12å°æ—¶æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥åªè¦ä½ æœ‰ä¸€ä¸ªæ–°çš„æäº¤ï¼Œå®ƒå°±ä¼šè¢«æ·»åŠ åˆ°ä½ çš„è›‡å½¢åŠ¨ç”»ä¸­ã€‚<br>æœ€åä¸€æ­¥æ˜¯å›åˆ°ä½ çš„READMEæ–‡ä»¶çš„ â€œè¡ŒåŠ¨ â€œé¡µé¢ï¼Œç‚¹å‡»æ–°åˆ›å»ºçš„å·¥ä½œæµ â€œç”Ÿæˆæ•°æ® â€œæˆ–ä½ ç»™å®ƒèµ·çš„ä»»ä½•åå­—ï¼Œå¹¶ç‚¹å‡» â€œè¿è¡Œå·¥ä½œæµ â€œæŒ‰é’®ã€‚</p><img src="/How-to-Design-an-Attractive-GitHub-Profile-Readme/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å“‡ï¼ä½ çš„ â€œè›‡ â€œGitHubè´¡çŒ®å›¾è°±ç°åœ¨å·²ç»æ¿€æ´»äº†ã€‚<br>å°½æƒ…æ¬£èµé‚£æ¡è›‡åƒæ‰ä½ çš„è¾›å‹¤å·¥ä½œå§! </p><!-- https://bootcamp.uxdesign.cc/how-to-design-an-attractive-github-profile-readme-3618d6c53783 -->]]></content>
      
      
      <categories>
          
          <category> GitHub </category>
          
      </categories>
      
      
        <tags>
            
            <tag> GitHub </tag>
            
            <tag> Profile </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­æœ‰æ•ˆåœ°ä½¿ç”¨æ•æ·æŠ€æœ¯</title>
      <link href="/Using-Agile-Effectively-In-Mobile-App-Development.html"/>
      <url>/Using-Agile-Effectively-In-Mobile-App-Development.html</url>
      
        <content type="html"><![CDATA[<img src="/Using-Agile-Effectively-In-Mobile-App-Development/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç§»åŠ¨åº”ç”¨å¼€å‘æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œæ¶‰åŠæ¥è‡ªä¸åŒé¢†åŸŸçš„å¤šä¸ªä¸“å®¶ï¼Œæˆ‘ä»¬è¯•å›¾ä»¥æœ€ä½³æ–¹å¼æ•´åˆæ‰€æœ‰è¿™äº›è¿‡ç¨‹ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„äº§å“ç¬¦åˆæ ‡å‡†ã€‚<br>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¿…é¡»é€‰æ‹©æ­£ç¡®çš„æ¨¡å¼ï¼Œæ®è§‚å¯Ÿï¼Œæ•æ·æ¨¡å¼å·²ç»æ˜¾ç¤ºå‡ºç§»åŠ¨åº”ç”¨å¼€å‘çš„å¤šç§å¥½å¤„ã€‚<br>æˆ‘ä»¬å·²ç»äº†è§£åˆ°ï¼Œåˆ›å»ºåº”ç”¨ç¨‹åºçš„è¿‡ç¨‹æ¶‰åŠåˆ°å›¢é˜Ÿå†…éƒ¨å’Œå®¢æˆ·ä¹‹é—´çš„ä¸æ–­æ²Ÿé€šï¼Œä»¥ä¾¿ä»–ä»¬èƒ½å¤Ÿæ¦‚è¿°ä»–ä»¬æƒ³è¦ä»åº”ç”¨ç¨‹åºä¸­è·å¾—ä»€ä¹ˆã€‚åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­åº”å§‹ç»ˆå’¨è¯¢å®¢æˆ·ï¼Œå› ä¸ºè¿™æœ‰åŠ©äºå¼€å‘é«˜æ•ˆçš„è½¯ä»¶åº”ç”¨ç¨‹åºã€‚</p><span id="more"></span><h4 id="æ•æ·æ–¹æ³•è®ºå¦‚ä½•å¸®åŠ©ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Ÿ"><a href="#æ•æ·æ–¹æ³•è®ºå¦‚ä½•å¸®åŠ©ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Ÿ" class="headerlink" title="æ•æ·æ–¹æ³•è®ºå¦‚ä½•å¸®åŠ©ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Ÿ"></a>æ•æ·æ–¹æ³•è®ºå¦‚ä½•å¸®åŠ©ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å¼€å‘ï¼Ÿ</h4><p>æ•æ·æ–¹æ³•è®ºåœ¨ç§»åŠ¨åº”ç”¨å¼€å‘ä¸­çš„ä½œç”¨å¾ˆå¤§ï¼Œå› ä¸ºå®ƒè®©æˆ‘ä»¬æ‰€æœ‰çš„åˆ©ç›Šç›¸å…³è€…å‚ä¸åˆ°æ•´ä¸ªè½¯ä»¶åº”ç”¨å¼€å‘å‘¨æœŸçš„å„ä¸ªè¿‡ç¨‹ä¸­ã€‚</p><p>ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å¼€å‘æ˜¯ä¸€ä¸ªéå¸¸ç¹ççš„è¿‡ç¨‹ï¼Œæ¶‰åŠå¤§é‡çš„å·¥ä½œã€‚<br>æ•æ·ç§»åŠ¨åº”ç”¨å¼€å‘å°±æ˜¯è¿™æ ·ä¸€ç§æ–¹æ³•ï¼Œå®ƒå¸®åŠ©æˆ‘ä»¬åœ¨ç»™å®šçš„æœŸé™å†…è§£å†³æ‰€æœ‰çš„è¦æ±‚ã€‚å®ƒä¸ä»…ä¿ƒè¿›äº†æˆ‘ä»¬çš„å®¢æˆ·ã€ä»–ä»¬çš„å•†ä¸šä¼™ä¼´å’Œæˆ‘ä»¬ä¹‹é—´çš„å¥åº·å…³ç³»ï¼Œè€Œä¸”è¿˜ç¡®ä¿äº†åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­å®æ–½æ¸è¿›å¼æ”¹è¿›ã€‚</p><h4 id="ä»€ä¹ˆæ˜¯æ•æ·ç§»åŠ¨åº”ç”¨å¼€å‘ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ•æ·ç§»åŠ¨åº”ç”¨å¼€å‘ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ•æ·ç§»åŠ¨åº”ç”¨å¼€å‘ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ•æ·ç§»åŠ¨åº”ç”¨å¼€å‘ï¼Ÿ</h4><p>æ•æ·ç§»åŠ¨åº”ç”¨å¼€å‘æ˜¯ä¸€ç§è½¯ä»¶åº”ç”¨ç¨‹åºå¼€å‘æ–¹æ³•ï¼Œå®ƒå¼ºè°ƒé€‚åº”æ€§è§„åˆ’ï¼Œè¿›åŒ–çš„å¼€å‘å’Œäº¤ä»˜ï¼Œæœ‰æ—¶é—´é™åˆ¶çš„è¿­ä»£æ–¹æ³•ï¼Œå¹¶é¼“åŠ±å¯¹å˜åŒ–ä½œå‡ºå¿«é€Ÿå’Œçµæ´»çš„ååº”ã€‚<br>ä½¿ç”¨æ•æ·ï¼Œæˆ‘ä»¬ä¾é å¿«é€Ÿå“åº”å˜åŒ–çš„èƒ½åŠ›ï¼ŒåŒæ—¶ä¹Ÿé¼“åŠ±å›¢é˜Ÿæˆå‘˜å’Œåˆ©ç›Šç›¸å…³è€…ä¹‹é—´ä¸æ–­æ²Ÿé€šã€‚<br>è¿™å°±æä¾›äº†çµæ´»æ€§ï¼Œè€Œä¸æ˜¯ä¾èµ–å¤§é‡çš„æ–‡ä»¶ï¼Œå› ä¸ºæ–‡ä»¶å¯èƒ½å¾ˆå¿«å°±ä¼šè¿‡æ—¶ï¼Œæˆ–è€…åƒç€‘å¸ƒè¿™æ ·ä¸çµæ´»çš„æ–¹æ³•ï¼Œå¯èƒ½ä¸å…è®¸åœ¨å¼€å‘å¼€å§‹åè¿›è¡Œæ›´æ”¹ã€‚</p><h3 id="æ•æ·å¼ç§»åŠ¨åº”ç”¨å¼€å‘çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#æ•æ·å¼ç§»åŠ¨åº”ç”¨å¼€å‘çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="æ•æ·å¼ç§»åŠ¨åº”ç”¨å¼€å‘çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ"></a>æ•æ·å¼ç§»åŠ¨åº”ç”¨å¼€å‘çš„ä¼˜åŠ¿æ˜¯ä»€ä¹ˆï¼Ÿ</h3><ol><li><p>é™ä½äº†ç§»åŠ¨åº”ç”¨å¼€å‘çš„é£é™©<br>æ•æ·APPå¼€å‘çš„ç›®çš„æ˜¯å‡å°‘é£é™©ï¼Œä¸ºæ•´ä¸ªå¼€å‘è¿‡ç¨‹æä¾›æ— ç¼çš„é¡¹ç›®ç®¡ç†ã€‚è¿™ç§æ–¹æ³•å¸®åŠ©æˆ‘ä»¬æœ‰æ•ˆåœ°ç®¡ç†é¡¹ç›®ï¼Œå°†å…¶è½¬åŒ–ä¸ºå¤šä¸ªå•ç‹¬çš„æ¨¡å—ã€‚</p></li><li><p>æ›´å¥½åœ°ç†è§£ç§»åŠ¨åº”ç”¨ç¨‹åºçš„å¼€å‘è§„åˆ’<br>äº†è§£å®¢æˆ·è®¾å®šçš„å¤šæ–¹é¢è¦æ±‚å¹¶è·Ÿä¸Šä»–ä»¬çš„æ—¶é—´è¡¨æ˜¯ä¸€é¡¹ç¹ççš„ä»»åŠ¡ã€‚ä½†è¯è¯´å›æ¥ï¼Œæ•æ·æ–¹æ³•è®ºä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ›´å¥½çš„ç®¡ç†é¡¹ç›®çš„æ–¹æ³•ï¼Œå®ƒå°†é¡¹ç›®åˆ†å‰²æˆå¤šä¸ªç»„æˆéƒ¨åˆ†ï¼Œä»è€Œå‡å°‘äº†ä¸è‰¯è§„åˆ’çš„é£é™©ã€‚</p></li><li><p>æ•æ·æ–¹æ³•è®ºä¸ºå¼€å‘ç§»åŠ¨åº”ç”¨æä¾›äº†çµæ´»æ€§<br>ç§»åŠ¨åº”ç”¨å¼€å‘çš„æ•æ·æ–¹æ³•æ˜¯çµæ´»çš„ï¼Œå®ƒå…è®¸å¼€å‘äººå‘˜æ ¹æ®ç»™å®šçš„è¦æ±‚å’Œä»–ä»¬çš„é€‰æ‹©æ¥å®šåˆ¶ä»–ä»¬çš„å¼€å‘æ—¶é—´è¡¨ã€‚å®ƒæ˜¯ä¸€ç§ç»„ç»‡è½¯ä»¶å’Œç§»åŠ¨åº”ç”¨å¼€å‘å·¥ä½œçš„é€‚åº”æ€§æ–¹æ³•ï¼Œé‡ç‚¹åœ¨äºæ¸è¿›å¼æ”¹è¿›ã€‚</p></li><li><p>æ›´å¿«åœ°éƒ¨ç½²ç§»åŠ¨åº”ç”¨ç¨‹åº<br>è¿™ç§APPå¼€å‘æ–¹æ³•ä½¿ç”¨å­æ¨¡å—ï¼Œé¼“åŠ±å›¢é˜Ÿåœ¨è§„å®šçš„æœŸé™å†…äº¤ä»˜æ¯ä¸ªæ¨¡å—ï¼Œè¿™æ„å‘³ç€æ›´æ—©åœ°è¿›å…¥å¸‚åœºã€‚<br>è¿™æ˜¯ä¸€ç§å®Œç¾çš„ç§»åŠ¨åº”ç”¨å¼€å‘æ–¹æ³•ï¼Œé”™è¯¯å’Œç¼ºé™·çš„æœºä¼šæ›´å°‘ï¼Œè´¨é‡ä¿è¯çš„æˆæœæ›´å¥½ï¼Œå¹¶åœ¨æ›´é«˜çš„ç”Ÿäº§åŠ›æ°´å¹³ä¸‹ç²¾ç®€æ€§èƒ½ã€‚</p></li></ol><h4 id="æ•æ·æ–¹æ³•è®ºæ˜¯å¦çœŸçš„èƒ½è®©ç§»åŠ¨åº”ç”¨å˜å¾—æ›´å¥½ï¼Ÿ"><a href="#æ•æ·æ–¹æ³•è®ºæ˜¯å¦çœŸçš„èƒ½è®©ç§»åŠ¨åº”ç”¨å˜å¾—æ›´å¥½ï¼Ÿ" class="headerlink" title="æ•æ·æ–¹æ³•è®ºæ˜¯å¦çœŸçš„èƒ½è®©ç§»åŠ¨åº”ç”¨å˜å¾—æ›´å¥½ï¼Ÿ"></a>æ•æ·æ–¹æ³•è®ºæ˜¯å¦çœŸçš„èƒ½è®©ç§»åŠ¨åº”ç”¨å˜å¾—æ›´å¥½ï¼Ÿ</h4><p>ä½ å·²ç»å‡†å¤‡å¥½å»ºç«‹ä¸€ä¸ªç§»åŠ¨åº”ç”¨ã€‚<br>ä¹Ÿè®¸ä½ å·²ç»æœ‰äº†ä¸€ä¸ªå¥½çš„æƒ³æ³•ï¼Œæˆ–è€…ä½ æ­£åœ¨å¯»æ‰¾ä½ çš„å®¢æˆ·æƒ³è¦çš„ä¸œè¥¿ã€‚<br>ä½†åœ¨ä½ å¼€å§‹å»ºè®¾ä¹‹å‰ï¼Œé‡è¦çš„æ˜¯å†³å®šä½¿ç”¨å“ªç§å‚ä¸æ¨¡å¼ï¼Œä»¥ä¾¿åœ¨ä¸ç§‘æŠ€å…¬å¸äº’åŠ¨æ—¶æœ€å¥½åœ°åˆ©ç”¨ã€‚</p><p>æ•æ·æ–¹æ³•å¸®åŠ©å¼€å‘äººå‘˜å¼€å‘ä¸€ä¸ªå¯ç®¡ç†ã€çµæ´»å’Œå¯æ‰©å±•çš„è½¯ä»¶åº”ç”¨ç¨‹åºã€‚æ•æ·æ–¹æ³•çš„ä¸»è¦ç›®çš„æ˜¯ç¡®ä¿ç”¨æˆ·å¯¹å…¶åº”ç”¨ç¨‹åºçš„æ€§èƒ½æ„Ÿåˆ°æ»¡æ„ã€‚<br>æ•æ·ä½¿ç”¨è‡ªæˆ‘ç»„ç»‡çš„å›¢é˜Ÿã€è·¨åŠŸèƒ½çš„é¡¹ç›®å’Œæ—¶é—´æ¡†ï¼Œä»¥ä¿æŒå¯¹å®¢æˆ·é—®é¢˜å’Œå˜åŒ–çš„æŒç»­å…³æ³¨ã€‚</p><p>æ•æ·æ–¹æ³•æ˜¯å¼€å‘é«˜è´¨é‡å’Œç”¨æˆ·å‹å¥½çš„ç§»åŠ¨åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªå¥½æ–¹æ³•ã€‚ä»è§„åˆ’åˆ°äº¤ä»˜ä½ çš„ç§»åŠ¨åº”ç”¨ï¼Œå®ƒä¸€ç›´æ˜¯å¼€å‘é«˜è´¨é‡å’Œç”¨æˆ·å‹å¥½çš„ç§»åŠ¨åº”ç”¨çš„å¥½æ–¹æ³•ã€‚</p><h4 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h4><p>ä¸ä¼ ç»Ÿçš„è½¯ä»¶åº”ç”¨ç¨‹åºå¼€å‘æ–¹æ³•ç›¸æ¯”ï¼Œæ•æ·æ–¹æ³•æä¾›äº†å…³é”®çš„å¥½å¤„ã€‚</p><!-- https://blog.geekyants.com/using-agile-effectively-in-mobile-app-development-fc6c80f59642 -->]]></content>
      
      
      <categories>
          
          <category> æ•æ·å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> develop </tag>
            
            <tag> software </tag>
            
            <tag> æ•æ·å¼€å‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring Bootåº”ç”¨ç¨‹åºä½¿ç”¨@validæ¥éªŒè¯APIè¯·æ±‚</title>
      <link href="/Spring-Boot-Application-Use-valid-to-Validate-API-Request.html"/>
      <url>/Spring-Boot-Application-Use-valid-to-Validate-API-Request.html</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨@validå¯ä»¥ä½¿ä½ çš„RequestéªŒè¯æ›´å®¹æ˜“ã€‚</p><img src="/Spring-Boot-Application-Use-valid-to-Validate-API-Request/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“æˆ‘ä»¬å¼€å‘rest APIæ—¶ï¼Œæˆ‘ä»¬è®¤ä¸ºæ¯ä¸ªäººéƒ½éœ€è¦éªŒè¯æ¥å£è¾“å…¥å‚æ•°çš„åˆæ³•æ€§ã€‚<br>ä¸€äº›åˆå­¦è€…å¯èƒ½ä¼šä½¿ç”¨è®¸å¤šif-elseæ¡ä»¶è¡¨è¾¾å¼è¿›è¡ŒéªŒè¯ã€‚ä»¥ä¸€ä¸ªæ–°çš„ç”¨æˆ·æ³¨å†Œä¸ºä¾‹ã€‚</p><span id="more"></span><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/user/register"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserRegisterRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"username is required"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getpassword</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"password is required"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isBlank</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getEmail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token string">"email is required"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™æ ·çš„ä»£ç å¯ä»¥è¾¾åˆ°å‚æ•°éªŒè¯çš„ç›®çš„ï¼Œä½†æ˜¯ç»†å¿ƒçš„è¯»è€…å¯èƒ½å·²ç»å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬æƒ³å†™å¾ˆå¤šè¿™æ ·çš„æ¥å£ï¼Œå°±éœ€è¦é‡å¤å†™å¾ˆå¤šéªŒè¯ä»£ç ï¼Œè¿™æ˜¾ç„¶ä¸ä¼˜é›…ã€‚<br>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨@validæ³¨è§£æ¥å¸®åŠ©æˆ‘ä»¬ç®€åŒ–éªŒè¯é€»è¾‘ã€‚</p><h4 id="ä½¿ç”¨-Valid"><a href="#ä½¿ç”¨-Valid" class="headerlink" title="ä½¿ç”¨@Valid"></a>ä½¿ç”¨@Valid</h4><p>hibernate-validatorå®ç°äº†@Validã€‚spring-boot-start-webå·²ç»åŒ…å«è¿™ä¸ªåº“ï¼Œæ‰€ä»¥ä¸éœ€è¦å¼•å…¥ä¾èµ–å…³ç³»ã€‚å¦‚æœæ˜¯éspringé¡¹ç›®ï¼Œéœ€è¦ä½¿ç”¨ä¸¤ä¸ªMavenä¾èµ–é¡¹ã€‚</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>validation-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.1.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-validator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>6.0.14.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸‹æ˜¯ä¸@validç›¸å…³çš„æ³¨è§£ã€‚åœ¨å®ä½“ç±»çš„å±æ€§ä¸­æ·»åŠ ä¸åŒçš„æ³¨è§£å¯ä»¥å®ç°éªŒè¯åŠŸèƒ½ã€‚</p><ul><li>@Nullé™åˆ¶å±æ€§åªèƒ½ä¸ºç©ºã€‚</li><li>@NotNullé™åˆ¶å±æ€§ä¸èƒ½ä¸ºç©ºã€‚</li><li>@Max(value) é™åˆ¶å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªä¸å¤§äºæŒ‡å®šå€¼çš„æ•°å­—ã€‚</li><li>@Min(value)é™åˆ¶å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªä¸å°äºæŒ‡å®šå€¼çš„æ•°å­—ã€‚</li><li>@Digits(integer, fraction) é™åˆ¶å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªå°æ•°ï¼Œè€Œä¸”æ•´æ•°éƒ¨åˆ†çš„æ•°å­—ä¸èƒ½è¶…è¿‡æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†çš„æ•°å­—ä¸èƒ½è¶…è¿‡åˆ†æ•°ã€‚</li><li>@è¿‡å»é™åˆ¶å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªè¿‡å»çš„æ—¥æœŸã€‚</li><li>@Future é™åˆ¶å±æ€§å¿…é¡»æ˜¯ä¸€ä¸ªæœªæ¥çš„æ—¥æœŸã€‚</li><li>@Pattern(value) é™åˆ¶å±æ€§å¿…é¡»ç¬¦åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</li><li>@Size(max, min) é™åˆ¶å­—ç¬¦é•¿åº¦å¿…é¡»åœ¨minå’ŒMaxä¹‹é—´ã€‚</li><li>@NotEmptyæœ‰æ•ˆå±æ€§å€¼ä¸èƒ½ä¸ºç©ºï¼Œå­—ç¬¦ä¸²é•¿åº¦ä¸èƒ½ä¸º0ï¼Œé›†åˆå¤§å°ä¸èƒ½ä¸º0ã€‚</li><li>@NotBlank æœ‰æ•ˆçš„å±æ€§å€¼ä¸æ˜¯ç©ºçš„ï¼Œå¹¶ä¸”åœ¨trim()ä¹‹åï¼Œé•¿åº¦ä¸æ˜¯0ã€‚</li><li>@Email éªŒè¯å±æ€§å€¼æ˜¯ä¸€ä¸ªç”µå­é‚®ä»¶æ ¼å¼çš„å­—ç¬¦ä¸²ã€‚</li></ul><p>ä½¿ç”¨@validæ³¨è§£æ¥å®Œæˆå‚æ•°éªŒè¯æ˜¯éå¸¸ç®€å•çš„ã€‚ä½ åªéœ€è¦åœ¨å®ä½“ç±»çš„å±æ€§ä¸­æ·»åŠ é€‚å½“çš„æ³¨è§£ã€‚<br>ä¸Šé¢æ˜¯åŒä¸€ä¸ªæ–°ç”¨æˆ·æ³¨å†Œçš„ä¾‹å­ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserRegisterRequest</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">"1[3-9]{1}[0-9]{9}"</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"the user phone is illegal."</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> phone<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Email</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"username is required."</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Size</span><span class="token punctuation">(</span>min <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> max <span class="token operator">=</span> <span class="token number">225</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"username is too long."</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>    <span class="token annotation punctuation">@NotBlank</span><span class="token punctuation">(</span>message <span class="token operator">=</span> <span class="token string">"password is required."</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">"The new password is too short."</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> password<span class="token punctuation">;</span>    <span class="token comment">//If entity nesting exists, @valid annotation must be added</span>    <span class="token annotation punctuation">@Valid</span>    <span class="token annotation punctuation">@NotNull</span>    <span class="token keyword">private</span> <span class="token class-name">Address</span> address<span class="token punctuation">;</span>        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">}</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Address</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@NotBlank</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> provice<span class="token punctuation">;</span>    <span class="token annotation punctuation">@NotBlank</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> city<span class="token punctuation">;</span>    <span class="token annotation punctuation">@NotBlank</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> detailAddress<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DemoController</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/user/register"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">registerUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Valid</span> <span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">UserRegisterRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ã€‚ä¸€äº›æ³¨é‡Šå®Œæˆäº†å¤æ‚çš„éªŒè¯é€»è¾‘ã€‚å½“å¯¹ç›®æ ‡å‚æ•°çš„éªŒè¯å¤±è´¥æ—¶ï¼Œç³»ç»Ÿä¼šæŠ›å‡ºä¸€ä¸ªMethodArgumentNotValidExceptionå¼‚å¸¸ã€‚<br>ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨@ExceptionHandleræ¥å¤„ç†éªŒè¯ç»“æœã€‚</p><h4 id="ä½¿ç”¨-Exceptionhandleræ¥ç»Ÿä¸€å¤„ç†éªŒè¯ç»“æœ"><a href="#ä½¿ç”¨-Exceptionhandleræ¥ç»Ÿä¸€å¤„ç†éªŒè¯ç»“æœ" class="headerlink" title="ä½¿ç”¨@Exceptionhandleræ¥ç»Ÿä¸€å¤„ç†éªŒè¯ç»“æœ"></a>ä½¿ç”¨@Exceptionhandleræ¥ç»Ÿä¸€å¤„ç†éªŒè¯ç»“æœ</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ErrorResult</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">long</span> code<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> msg<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> code<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setCode</span><span class="token punctuation">(</span><span class="token keyword">long</span> code<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>code <span class="token operator">=</span> code<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> msg<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> msg<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Component</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{</span>            <span class="token annotation punctuation">@ResponseStatus</span><span class="token punctuation">(</span><span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">BAD_REQUEST</span><span class="token punctuation">)</span>      <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>      <span class="token keyword">public</span> <span class="token class-name">ErrorResult</span> <span class="token function">parameterExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">MethodArgumentNotValidException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token class-name">BindingResult</span> exceptions <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">getBindingResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">if</span> <span class="token punctuation">(</span>exceptions<span class="token punctuation">.</span><span class="token function">hasErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ObjectError</span><span class="token punctuation">&gt;</span></span> errors <span class="token operator">=</span> exceptions<span class="token punctuation">.</span><span class="token function">getAllErrors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>errors<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                                  <span class="token class-name">FieldError</span> fieldError <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">FieldError</span><span class="token punctuation">)</span> errors<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ErrorResult</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>fieldError<span class="token punctuation">.</span><span class="token function">getDefaultMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token punctuation">}</span>          <span class="token punctuation">}</span>                  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ErrorResult</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"argument valid failure"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå…¨å±€å¼‚å¸¸å¤„ç†ç±»ã€‚æˆ‘ä»¬ä½¿ç”¨parameterExceptionHandleræ–¹æ³•æ¥æ•æ‰MethodArgumentNotValidExceptionå¼‚å¸¸ï¼Œæœ€åï¼Œç»Ÿä¸€å¤„ç†éªŒè¯å¤±è´¥çš„ç»“æœã€‚<br>è¿™ä¸ªæ–¹æ³•å°†åœ¨æ¯ä¸ªå­—æ®µçš„éªŒè¯å¤±è´¥åå¾—åˆ°é”™è¯¯ä¿¡æ¯ã€‚<br>è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨ErrorResultç±»æ¥è¿”å›é”™è¯¯ä¿¡æ¯ã€‚å½“æˆ‘ä»¬å¯åŠ¨æœåŠ¡æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨postmanæ¥å‘èµ·ä¸€ä¸ªpostè¯·æ±‚ï¼ˆ<a href="http://localhost:8080/user/register">http://localhost:8080/user/register</a> ï¼‰ï¼Œæˆ‘ä»¬ä¸è¾“å…¥ä»»ä½•å‚æ•°å¹¶è¿”å›ç»“æœã€‚</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>      <span class="token property">"code"</span><span class="token operator">:</span> <span class="token number">-1</span><span class="token punctuation">,</span>      <span class="token property">"msg"</span><span class="token operator">:</span> <span class="token string">"the user phone is illegal."</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æœ¬æ–‡ç®€è¦ä»‹ç»äº†åœ¨spring bootä¸­ä½¿ç”¨@validæ¥éªŒè¯APIè¯·æ±‚ã€‚æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½å¤Ÿå¸®åŠ©ä½ ã€‚è°¢è°¢ä½ çš„é˜…è¯»ã€‚</p><!-- https://medium.com/javarevisited/spring-boot-application-use-valid-to-validate-api-request-f9a328c1ee2c -->]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> API </tag>
            
            <tag> Spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>5ä¸ªFlutterå·¥å…· åŠ©åŠ›åˆ›ä¸šå…¬å¸èµ·é£</title>
      <link href="/5-flutter-tools-to-built-startup-fast.html"/>
      <url>/5-flutter-tools-to-built-startup-fast.html</url>
      
        <content type="html"><![CDATA[<img src="/5-flutter-tools-to-built-startup-fast/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Flutteræ˜¯æœ€æœ‰æ•ˆçš„åº”ç”¨å¼€å‘å¹³å°ä¹‹ä¸€ã€‚Flutteræ˜¯ä¸€ä¸ªå·¥å…·åŒ…ï¼Œèƒ½å¤Ÿå®ç°è‡ªåŠ¨ä»£ç å®Œæˆã€è°ƒè¯•å’Œè§†è§‰æ”¯æŒã€‚å‡­å€Ÿå¿«é€Ÿçš„å¼€å‘æ—¶é—´ï¼ŒFlutterè®©äººä»¬çš„å·¥ä½œå˜å¾—æ›´åŠ è½»æ¾ã€‚</p><span id="more"></span><blockquote><p>90%çš„åˆ›ä¸šå…¬å¸éƒ½æ˜¯ç”±äºæ— æ³•åŠæ—¶æ»¡è¶³å®¢æˆ·éœ€æ±‚è€Œå¯¼è‡´å¤±è´¥çš„ã€‚<br>æ˜¾ç„¶ï¼Œä»–ä»¬ä¸çŸ¥é“å¿«é€Ÿåˆ›å»ºäº§å“çš„åˆ›ä¸šå·¥å…·ã€‚</p></blockquote><h3 id="å¯¹flutterçš„ä»‹ç»ã€‚"><a href="#å¯¹flutterçš„ä»‹ç»ã€‚" class="headerlink" title="å¯¹flutterçš„ä»‹ç»ã€‚"></a>å¯¹flutterçš„ä»‹ç»ã€‚</h3><p>Flutteræ˜¯ä¸€ä¸ªå‹å¥½çš„å¼€å‘è€…æ›¿ä»£æ–¹æ¡ˆï¼Œç”¨äºæ‰€æœ‰è·¨å¹³å°å¼€å‘çš„åº”ç”¨ç¨‹åºï¼Œæ˜¯ç”±è°·æ­Œæ¨å‡ºçš„ã€‚Flutterå…è®¸ç”¨æˆ·åœ¨flutterä¸Šåˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œç„¶åä¸ºå¤šä¸ªå¹³å°è¿›è¡Œè·¨åŠŸèƒ½å¼€å‘ã€‚</p><p>é‚£äº›æ²¡æœ‰ä½¿ç”¨è¿‡flutterçš„åˆåˆ›ä¼ä¸šå¼€å‘è€…åœ¨äº†è§£åˆ°flutterçš„èƒ½åŠ›åéƒ½æ„Ÿåˆ°éœ‡æƒŠã€‚å®ƒæ˜¯ä»¥æ›´ç®€åŒ–çš„æ–¹å¼ä¸ºæ¯ä¸ªäººæä¾›ç§»åŠ¨åº”ç”¨å¼€å‘ã€‚</p><p>æœ‰ä¸€äº›åˆ›ä¸šå…¬å¸çš„å·¥å…·å¯ä»¥åœ¨flutterä¸­å¿«é€Ÿåˆ›å»ºäº§å“ã€‚ä½†å¤§å¤šæ•°åˆåˆ›ä¼ä¸šä¸»å¹¶ä¸äº†è§£å®ƒã€‚<br>äº†è§£å®ƒä»¬å°†åœ¨åˆ›ä¸šè¿‡ç¨‹ä¸­å¯¹ä½ æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p><p>ä¸‹é¢åˆ—å‡ºäº†äº”ç§å¿«é€Ÿåˆ›å»ºäº§å“çš„åˆ›ä¸šå·¥å…·ã€‚</p><ul><li>Appetize</li><li>TestMagic</li><li>Earth One</li><li>Revenue</li><li>Count.ly</li></ul><h3 id="Appetize"><a href="#Appetize" class="headerlink" title="Appetize"></a>Appetize</h3><p>å…³é”®å±æ€§ï¼š</p><ul><li>æµè§ˆå™¨ä¸­æ›´å¥½çš„é¢„è§ˆ</li><li>å®¢æˆ·æ”¯æŒ</li><li>ä¼˜ç§€çš„åŸ¹è®­æ¨¡å—</li></ul><img src="/5-flutter-tools-to-built-startup-fast/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Appetizeæ˜¯Appetizeä¸­æœ€å¥½çš„åˆ›ä¸šå·¥å…·ä¹‹ä¸€ã€‚<br>å®ƒä¿ƒè¿›äº†æœ‰æ•ˆçš„å®¢æˆ·æ”¯æŒï¼Œå¹¶æœ‰åŠ©äºæ¯ä¸€æ¬¡æµ‹è¯•ã€åŸ¹è®­è®¡åˆ’å’Œæ•´ä¸ªå¼€å‘è¿‡ç¨‹ã€‚æ­¤å¤–ï¼ŒAppetizeå…è®¸æœ¬åœ°åº”ç”¨ç¨‹åºåœ¨æµè§ˆå™¨ä¸­è¿è¡Œã€‚å¤§å¤šæ•°ç”¨æˆ·ä½¿ç”¨Appetizeçš„time frameï¼Œè¿™ä½¿åº”ç”¨ç¨‹åºçš„å¯åŠ¨é€Ÿåº¦æ›´å¿«ã€‚</p><h3 id="TestMagic"><a href="#TestMagic" class="headerlink" title="TestMagic"></a>TestMagic</h3><p>å…³é”®å±æ€§ï¼š</p><ul><li>å®ƒå®ç°äº†CI/CD</li><li>ä¸Codemagicé›†æˆã€‚</li><li>å¼€å‘äººå‘˜æ¥å¤„ç†é…ç½®é…ç½®æ–‡ä»¶ã€‚</li></ul><img src="/5-flutter-tools-to-built-startup-fast/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Test Magicæ˜¯å¦ä¸€ä¸ªåˆåˆ›çš„å¼€å‘è€…å·¥å…·ã€‚Test Magicä¸ºå¼€å‘è€…å’Œç”¨æˆ·æä¾›ä¾¿åˆ©å¹¶ç®€åŒ–æµ‹è¯•ï¼ŒåŒ…æ‹¬CI/CDéƒ¨ç½²å’Œè¿æ¥è®¾å¤‡ä¸Šçš„ä¸‹è½½ã€‚<br>Test MagicååŠ©æ”¶é›†ä¸Šä¼ å±å¹•æˆªå›¾å’Œåé¦ˆï¼Œä»¥å¼€å‘ä»–ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p><h3 id="Eartho-One"><a href="#Eartho-One" class="headerlink" title="Eartho One"></a>Eartho One</h3><p>ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li>å¯é€‚åº”ä»»ä½•é€šç”¨çš„å¼€å‘å¹³å°</li><li>ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°ä¿æŒä½ çš„åç«¯è§£å†³æ–¹æ¡ˆ</li><li>è‡ªå·±çš„æœåŠ¡å™¨/Firebase/Amplifyï¼Œæˆ–è€…ä»æˆ‘ä»¬è¿™é‡Œè·å¾—æ— ä»£ç è§£å†³æ–¹æ¡ˆã€‚</li><li>å“è¶Šçš„å®¢æˆ·æœåŠ¡ï¼Œå…å—è·Ÿè¸ªä¿æŠ¤</li><li>å¯ä»¥ä½¿ç”¨Flutterå’Œå…¶ä»–ä»»ä½•å¹³å°ã€‚</li></ul><img src="/5-flutter-tools-to-built-startup-fast/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸€è¡Œä»£ç å°±å¯ä»¥é€šè¿‡ä»»ä½•ç¤¾äº¤ç½‘ç»œè®¤è¯ç”¨æˆ·ã€‚</p><p>Eartho oneæ˜¯å¦ä¸€ä¸ªæœ€å¥½çš„åˆ›ä¸šå…¬å¸å¼€å‘å·¥å…·ä¹‹ä¸€ã€‚å°±ä¸ªäººè€Œè¨€ï¼Œå®ƒæ˜¯æˆ‘æœ€å–œæ¬¢çš„ä¸€ä¸ªã€‚å®ƒä¸ºä¼šå‘˜å’Œåˆ›ä½œè€…æä¾›äº†æœ€å¤§çš„ä¾¿åˆ©ã€‚</p><p>ä½ ä¸éœ€è¦é˜…è¯»æ‰€æœ‰å…¬å¸çš„æ–‡ä»¶ï¼Œä¹Ÿä¸éœ€è¦åœ¨é‚£é‡Œå¼€è®¾è´¦æˆ·ã€‚</p><p>Eartho oneæ˜¯ç¬¬ä¸‰å±‚ï¼Œä¸ºä½ æŠ½è±¡å‡ºå¤æ‚çš„ä¸œè¥¿ï¼Œä¿æŠ¤ä½ çš„ç”¨æˆ·ä¸è¢«è¿½è¸ªã€‚</p><h3 id="RevenueCat"><a href="#RevenueCat" class="headerlink" title="RevenueCat"></a>RevenueCat</h3><p>ä¸»è¦å±æ€§ï¼š</p><ul><li>Ideal for fluttering</li><li>æ‚¨çš„ Flutter å¼€å‘ç¯å¢ƒç°åœ¨åŒ…æ‹¬ Flutter SDKã€‚</li><li>è€ƒå¯Ÿ LTVã€MRR å’Œæµå¤±ç‡ç­‰æŒ‡æ ‡</li></ul><img src="/5-flutter-tools-to-built-startup-fast/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Revenue Catæ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„åˆåˆ›ä¼ä¸šå¼€å‘å·¥å…·ã€‚<br>å®ƒæ˜¯Flutterä¸­çš„æœ€ä½³å·¥å…·ã€‚<br>Revenue Catæä¾›äº†ä¸€ä¸ªåº”ç”¨å†…è®¢é˜…è®¡è´¹å·¥å…·å’Œè´­ä¹°ç®¡ç†ã€‚æ­¤å¤–ï¼Œå®ƒè´­ä¹°çš„SDKè¢«å®‰è£…åœ¨åˆ›ä½œè€…çš„flutterè´¦æˆ·ä¸­ã€‚æ”¶å…¥å¯ç”¨äºiOSã€Stipeå’ŒAndroidè®¾å¤‡ã€‚</p><h3 id="Count-ly"><a href="#Count-ly" class="headerlink" title="Count.ly"></a>Count.ly</h3><p>å…³é”®å±æ€§ï¼š</p><ul><li>å¤æ‚çš„ä»ªè¡¨æ¿æ˜¯ä¸€ä¸ªå…³é”®ç‰¹å¾ã€‚</li><li>çµæ´»çš„æ’ä»¶</li><li>ä¸€ä½“åŒ–/äº‘ç«¯éƒ¨ç½²</li><li>ä½¿ç”¨åˆ†æ</li></ul><img src="/5-flutter-tools-to-built-startup-fast/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Count.lyæ˜¯ä»»ä½•äº§å“åˆ†æè§£å†³æ–¹æ¡ˆçš„æœ€ä½³åº”ç”¨ï¼Œé€‚ç”¨äºä½ çš„åº”ç”¨ç¨‹åºã€‚<br>é€šè¿‡è®¡æ•°ï¼Œä»»ä½•åˆ›ä½œè€…éƒ½å¯ä»¥è·Ÿè¸ªå…³é”®ç»©æ•ˆæŒ‡æ ‡ï¼Œä¿è¯æ•°æ®å¢é•¿ï¼Œå¹¶æé«˜æ€§èƒ½ã€‚æ‰€æœ‰è¿™äº›æŒ‡æ ‡çš„æ‰§è¡Œéƒ½æ˜¯ä¸ºäº†ååŠ©å»ºç«‹å•†ä¸šæˆ˜ç•¥ã€‚<br>æ­¤å¤–ï¼Œä½ ä¹Ÿå¯ä»¥è´­ä¹°ä»˜è´¹ç‰ˆæœ¬ï¼Œè¿™å°†æ‰“å¼€è®¸å¤šåŠŸèƒ½ï¼Œå¦‚æ¨é€é€šçŸ¥å’Œå…¶ä»–é‡ç‚¹åŠŸèƒ½ã€‚</p><h3 id="æœ€åçš„è§‚ç‚¹"><a href="#æœ€åçš„è§‚ç‚¹" class="headerlink" title="æœ€åçš„è§‚ç‚¹"></a>æœ€åçš„è§‚ç‚¹</h3><p>å› æ­¤ï¼Œå¦‚æœä½ æ˜¯å¼€å‘åº”ç”¨ç¨‹åºå’Œå…¶ä»–è½¯ä»¶çš„æ–°æ‰‹ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨è¿™äº›æœ€ä½³çš„åˆ›ä¸šå·¥å…·æ¥å¿«é€Ÿå’Œè½»æ¾åœ°åˆ›å»ºäº§å“ã€‚<br>ä½ å¯ä»¥é€‰æ‹©å…¶ä¸­ä»»ä½•ä¸€ä¸ªã€‚</p><!-- https://medium.com/@emiliosmith100/5-flutter-tools-to-built-startup-fast-97ff7d9fc35b -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> startup </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaç¨‹åºå‘˜çš„æµ‹è¯•é©±åŠ¨å¼€å‘(TDD)</title>
      <link href="/Test-Driven-Development-TDD-for-Java-Programmers.html"/>
      <url>/Test-Driven-Development-TDD-for-Java-Programmers.html</url>
      
        <content type="html"><![CDATA[<p>æœ€å¸¸è§ä½†åˆè¢«ä½ä¼°çš„åšæ³•ä¹‹ä¸€æ˜¯å†™ä»£ç è€Œä¸å®æ–½æµ‹è¯•ï¼Œç”šè‡³å¤§å¤šæ•°ä¸“ä¸šäººå£«ä¹Ÿæ˜¯å¦‚æ­¤ã€‚<br>å°½ç®¡ä¸€ä¸ªæ˜æ˜¾çš„äº‹å®æ˜¯ï¼Œå¦‚æœä½ ç†è§£äº†ä¸šåŠ¡é€»è¾‘ï¼Œä½ å°±å¯ä»¥ç›´æ¥æ·±å…¥åˆ°æ‰§è¡Œä¸­å»ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€ä½ éµå¾ªäº†è¢«ç¼–ç¨‹ä¸“å®¶é•¿æœŸè¯æ˜çš„æœ€ä½³å®è·µã€‚<br>å®ç°ä½ çš„ç¨‹åºçš„æœ€å¥½æ–¹æ³•ä¹‹ä¸€æ˜¯éµå¾ªTDDæˆ–æµ‹è¯•é©±åŠ¨çš„å¼€å‘ã€‚<br>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹ä»€ä¹ˆæ˜¯TDDï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨TDDè¿›è¡Œæ›´å¥½çš„ç¼–ç¨‹ã€‚</p><p>ä»€ä¹ˆæ˜¯TDDï¼Ÿ<br>TDDä»…ä»…æ„å‘³ç€æˆ‘ä»¬ä½¿ç”¨æµ‹è¯•æ¥é©±åŠ¨ä»£ç çš„å®ç°ã€‚ä½†å®é™…ä¸Šï¼Œå®ƒæ˜¯ä¸€ä¸ªä»çº¢è‰²åˆ°ç»¿è‰²åˆ°é‡æ„çš„å·¥ä½œæµç¨‹ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/1.png" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p>æœ€åˆï¼Œä¸€ä¸ªæ–°çš„æµ‹è¯•å°†ä»çº¢è‰²çŠ¶æ€å¼€å§‹ï¼Œæ„å‘³ç€å®ƒæ˜¯ä¸€ä¸ªå¤±è´¥çš„çŠ¶æ€ã€‚<br>åœ¨åˆå§‹çŠ¶æ€ä¸‹å¤±è´¥åï¼Œæˆ‘ä»¬å°†çº æ­£æµ‹è¯•å’Œé€»è¾‘ï¼Œä½¿å…¶é€šè¿‡æˆ–è¾¾åˆ°ç»¿è‰²çŠ¶æ€ã€‚ä¸€æ—¦æˆ‘ä»¬çš„æµ‹è¯•é€šè¿‡äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥é‡æ„æµ‹è¯•å’Œä¸šåŠ¡é€»è¾‘çš„å®ç°ï¼Œä½¿å®ƒä»¬æ›´æœ‰æ•ˆç‡ã€‚å¦‚æœé‡æ„å¯¼è‡´æµ‹è¯•å›åˆ°çº¢è‰²çŠ¶æ€ï¼Œæˆ‘ä»¬å°†ä¿®æ­£æµ‹è¯•ä»¥è¿›å…¥ç»¿è‰²çŠ¶æ€ï¼Œç„¶åå†æ¬¡é‡æ„ï¼Œä»è€Œå½¢æˆä¸€ä¸ªå¾ªç¯ã€‚</p><h4 id="ISBNéªŒè¯"><a href="#ISBNéªŒè¯" class="headerlink" title="ISBNéªŒè¯"></a>ISBNéªŒè¯</h4><p>ä¸ºäº†æ›´è¯¦ç»†åœ°äº†è§£TDDï¼Œæˆ‘ä»¬å°†çœ‹çœ‹æˆ‘ä»¬å¦‚ä½•åœ¨ä¸€ä¸ªé¡¹ç›®ä¸­ä½¿ç”¨TDDã€‚åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†ç ”ç©¶å¦‚ä½•éªŒè¯ä¸€æœ¬ä¹¦çš„ISBNå·ç ã€‚ISBNæ˜¯å›½é™…æ ‡å‡†ä¹¦å·çš„ç¼©å†™ï¼Œè¿™äº›æ•°å­—æ˜¯ä½ åœ¨ä»»ä½•ä¹¦çš„æ¡å½¢ç ä¸Šé¢æ‰¾åˆ°çš„ã€‚ä¸€ä¸ªISBNå·ç çš„æœ‰æ•ˆæ€§æ˜¯åŸºäºä»¥ä¸‹ç®€å•çš„é€»è¾‘ã€‚</p><p>å¦‚æœISBNå·ç åŒ…å«10ä¸ªæ•°å­—ï¼Œå¹¶ä¸”å®ƒä»¬éƒ½æ˜¯æ•°å­—ï¼Œé‚£ä¹ˆISBNæ•°å­—ä¸æ•°å€¼10åˆ°1çš„ä¹˜ç§¯ä¹‹å’Œé™¤ä»¥11åº”è¯¥æ˜¯ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ€»å’Œæ˜¯132ï¼Œå½“å®ƒè¢«11é™¤ä»¥æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°12ï¼Œä¸€ä¸ªæ•´æ•°å€¼ã€‚å› æ­¤ï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰æ•ˆçš„ISBNå·ç ã€‚</p><p>å¦‚æœISBNå·ç åŒ…å«9ä¸ªæ•°å­—ï¼Œæœ€åä¸€ä¸ªæ•°å­—æ˜¯å­—æ¯â€™Xâ€™ï¼Œé‚£ä¹ˆISBNæ•°å­—çš„ä¹˜ç§¯çš„æ€»å’Œæ˜¯10åˆ°1ï¼Œè€ƒè™‘åˆ°â€™Xâ€™æ˜¯10ï¼Œé™¤ä»¥11åº”è¯¥å¾—åˆ°ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™é‡Œï¼Œäº§å“çš„æ€»å’Œæ˜¯209ï¼Œå½“å®ƒè¢«11é™¤ä»¥æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°19ï¼Œè¿™æ˜¯ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p><p>æœ€åï¼Œå¦‚æœISBNå·ç åŒ…å«13ä½æ•°å­—ï¼Œé‚£ä¹ˆè¿™äº›æ•°å­—åº”è¯¥äº¤æ›¿åœ°ä¹˜ä»¥1å’Œ3ã€‚<br>ä¹‹åï¼Œæ€»å’Œé™¤ä»¥10åº”è¯¥å¾—åˆ°ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™é‡Œï¼Œäº§å“çš„æ€»å’Œæ˜¯100ï¼Œå½“å®ƒè¢«10é™¤ä»¥æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°10ï¼Œè¿™æ˜¯ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p><h4 id="åœ¨IntelliJè®¾ç½®é¡¹ç›®"><a href="#åœ¨IntelliJè®¾ç½®é¡¹ç›®" class="headerlink" title="åœ¨IntelliJè®¾ç½®é¡¹ç›®"></a>åœ¨IntelliJè®¾ç½®é¡¹ç›®</h4><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªæ–°çš„mavené¡¹ç›®ã€‚<br>æˆ‘ä»¬å°†ä½¿ç”¨IntelliJ IDEAåˆ›å»ºä¸€ä¸ªæ–°çš„mavené¡¹ç›®ï¼Œè¯·è¿›å…¥æ–‡ä»¶â†’æ–°å»ºâ†’é¡¹ç›®ï¼Œé€‰æ‹©mavenã€‚ç„¶åå°†com.bookä½œä¸ºç»„IDï¼Œå°†tddä½œä¸ºå·¥ä»¶IDã€‚ç”Ÿæˆé¡¹ç›®åï¼Œè¿›å…¥pom.xmlæ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼Œå°†JUnitä½œä¸ºä¸€ä¸ªä¾èµ–é¡¹ã€‚</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.13.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ï¼Œåˆ° src â†’ main â†’ javaï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åŒ… com.book.tddï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ªåä¸º ValidateISBN.java çš„æ–°ç±»ã€‚ç„¶åï¼Œè½¬åˆ° src â†’ test â†’ javaï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åŒ… com.book.tddï¼Œå¹¶åœ¨å…¶ä¸­æ·»åŠ ä¸€ä¸ªåä¸º ValidateISBNTests.class çš„æ–°ç±»ã€‚åŠ å…¥ä¸Šè¿°é…ç½®åï¼Œä½ çš„é¡¹ç›®åº”è¯¥æ˜¯è¿™æ ·çš„ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯TDDï¼Œé¦–å…ˆæˆ‘ä»¬å°†è¿›å…¥ValidateISBNTest.javaæ–‡ä»¶å¹¶åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªæµ‹è¯•ã€‚è¿™æ˜¯å› ä¸ºï¼Œåœ¨TDDä¸­ï¼Œä»£ç çš„å®ç°æ˜¯ç”±æµ‹è¯•é©±åŠ¨çš„ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string">"Not implemented"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ­£å¦‚æˆ‘ä»¬å‰é¢æåˆ°çš„ï¼Œæˆ‘ä»¬è¦ä»çº¢è‰²åˆ°ç»¿è‰²ã€‚<br>å› æ­¤ï¼Œæœ€åˆæˆ‘ä»¬çš„æµ‹è¯•æ˜¯å¤±è´¥çš„ï¼Œå¾—åˆ°äº†çº¢è‰²çŠ¶æ€ã€‚<br>ä¸ºäº†è¿è¡Œè¿™ä¸ªæµ‹è¯•ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨import org.junit.Testå¯¼å…¥æµ‹è¯•ï¼›é€šè¿‡import org.junit.Assert.*å¯¼å…¥æ–­è¨€ï¼›è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨äº†é™æ€æ–¹æ³•å¯¼å…¥ï¼Œå› ä¸ºæˆ‘ä»¬ä¸æƒ³åœ¨ä»£ç ä¸­ä½¿ç”¨æ–­è¨€ï¼Œå¦‚Assert.assertTrue()ã€‚è€Œå½“ä½ ä½¿ç”¨æ²Ÿæ¸ è¿è¡Œå›¾æ ‡è¿è¡Œè¿™ä¸ªæµ‹è¯•æ—¶ï¼Œä½ ä¼šå¾—åˆ°ä»¥ä¸‹è¾“å‡ºï¼š</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨æˆ‘ä»¬éœ€è¦è¿›å…¥ç»¿è‰²çŠ¶æ€ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤ç¬¬10è¡Œï¼Œfail(â€œNot Implementedâ€)ï¼›å¹¶æ·»åŠ æˆ‘ä»¬æœŸæœ›çš„æ–¹æ³•æ¥æ£€æŸ¥æœ‰æ•ˆæ€§ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥åƒè¿™æ ·è°ƒæ•´æˆ‘ä»¬çš„æµ‹è¯•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token number">0140441926</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥æ³¨æ„åˆ°ï¼ŒcheckISBN(int isbn)æ–¹æ³•è¿˜æ²¡æœ‰å®ç°ï¼Œæˆ‘ä»¬ä¸ä¸€å®šè¯´å‚æ•°ç±»å‹åº”è¯¥æ˜¯å­—ç¬¦ä¸²æˆ–å…¶ä»–ä»€ä¹ˆã€‚æˆ‘ä»¬å‡è®¾å®ƒæ˜¯intï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ•°å­—ã€‚å¦‚æœè¿™ä¸ªæ•°å­—ä¸æ˜¯è¿™ä¸ªç±»å‹ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥åé€šè¿‡æµ‹è¯•ç»“æœæ¥éªŒè¯å®ƒã€‚</p><p>å½“æˆ‘ä»¬è¿è¡Œè¿™ä¸ªç¨‹åºæ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹é”™è¯¯ï¼Œè¯´æ•´æ•°å¤ªå¤§ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç”±äºè¿™ä¸ªåŸå› ï¼Œæˆ‘æŠŠå˜é‡æ”¹æˆäº†å­—ç¬¦ä¸²ï¼Œå¹¶å†æ¬¡æ£€æŸ¥ã€‚ç°åœ¨æˆ‘å¾—åˆ°äº†ä»¥ä¸‹é”™è¯¯:</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘çŸ¥é“è¿™æ˜¯å› ä¸ºæˆ‘æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ã€‚<br>å› æ­¤ï¼Œæˆ‘ç‚¹å‡»å‘çº¢çš„æ–¹æ³•ï¼Œåœ¨Windowsä¸­æŒ‰alt+enteræˆ–è€…åœ¨Macä¸­æŒ‰option+enteræ¥é€‰æ‹©æˆ‘æ‰€æ‹¥æœ‰çš„è§£å†³è¿™ä¸ªé—®é¢˜çš„é€‰é¡¹ï¼Œä»ä¸‹æ‹‰åˆ—è¡¨ä¸­æˆ‘é€‰æ‹©ï¼Œåœ¨â€™ValidateISBNâ€™ä¸­åˆ›å»ºæ–¹æ³•â€™checkISBNâ€™ï¼Œåœ¨æˆ‘ä»¬çš„ValidateISBN.javaæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªæ–°æ–¹æ³•ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/9.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ValidateISBN.javaæ–‡ä»¶ä¸­åˆ›å»ºcheckISBN()æ–¹æ³•ï¼Œå¹¶è¿”å›falseä½œä¸ºé»˜è®¤å€¼åï¼Œæˆ‘ä»¬å¯ä»¥å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªAssertonErrorï¼Œå› ä¸ºæˆ‘ä»¬å¯¹ä¸€ä¸ªå‡å€¼æ–­è¨€ä¸ºçœŸã€‚å¦‚æœæˆ‘ä»¬æŠŠç¬¬12è¡Œæ”¹ä¸ºassertFalse(result)ï¼›æµ‹è¯•å°†é€šè¿‡ï¼Œå› ä¸ºæˆ‘ä»¬æ–­è¨€çš„æ˜¯å‡å€¼ã€‚</p><p>ç°åœ¨è®©æˆ‘ä»¬è¿›å…¥ValidateISBN.javaæ–‡ä»¶ï¼Œç¼–å†™æˆ‘ä»¬çš„å®ç°ã€‚åœ¨è¿™é‡Œï¼Œè¦è®°ä½çš„æœ€é‡è¦çš„äº‹æƒ…ä¹‹ä¸€æ˜¯ç¼–å†™åªéœ€è¦é€šè¿‡æµ‹è¯•çš„ä»£ç ã€‚<br>åœ¨è¿™é‡Œï¼Œä¸ºäº†é€šè¿‡æˆ‘ä»¬çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠreturn false;æ”¹ä¸ºreturn true;ç°åœ¨æˆ‘ä»¬çš„ä»£ç å¤„äºç»¿è‰²çŠ¶æ€ã€‚</p><p>ç°åœ¨è®©æˆ‘ä»¬è¯´ï¼Œæˆ‘æƒ³éªŒè¯ä¸€ä¸ªæ— æ•ˆçš„ISBNå·ç ã€‚é‚£ä¹ˆæˆ‘å¯ä»¥åœ¨ValidateISBNTests.javaæ–‡ä»¶ä¸­å†™ä¸‹ä»¥ä¸‹æµ‹è¯•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkInvalidISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"0140441927"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">assertFalse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œå½“æˆ‘ä»¬è¿è¡Œè¿™ä¸ªæ–¹æ³•æ—¶ï¼Œå®ƒå¤±è´¥äº†ï¼Œå› ä¸ºæˆ‘ä»¬æ€»æ˜¯ä»checkISBN()æ–¹æ³•è¿”å›trueã€‚<br>ç°åœ¨ï¼Œç”±äºæˆ‘ä»¬å¤„äºçº¢è‰²çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦å†™ä¸€äº›ä»£ç æ¥è¿›å…¥ç»¿è‰²çŠ¶æ€ã€‚æˆ‘ä»¬å°†é¦–å…ˆå†™å‡ºæˆ‘ä»¬éœ€è¦ä¸ºISBNå·ç éªŒè¯æ‰€åšçš„ç¬¬ä¸€ä¸ªæ£€æŸ¥ï¼Œæˆ‘ä»¬åœ¨å‰é¢è®¨è®ºè¿‡ï¼›å¦‚æœæ•°å­—çš„æ•°é‡ç­‰äº10ï¼Œå¹¶ä¸”éƒ½æ˜¯æ•°å­—ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        total <span class="token operator">+=</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œæˆ‘ä»¬æ‰€å†™çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°checkInvalidISBN()æ²¡æœ‰é”™è¯¯ï¼Œä½†checkValidateISBN()å´æœ‰é”™è¯¯ï¼Œè¿™æ˜¯ç”±äºæˆ‘ä»¬æ‰€æ£€æŸ¥çš„ISBNå·ç æ˜¯æ— æ•ˆçš„ã€‚æˆ‘ä»¬å¯ä»¥ç”¨æˆ‘ä»¬ç”¨æ¥è®¨è®ºISBNå·ç èƒŒåçš„é€»è¾‘çš„é‚£ä¸ªå·ç æ¥ä»£æ›¿å®ƒï¼Œ0140449116ã€‚</p><p>ä¸ºäº†ç»™checkValidateISBN()èµ·ä¸€ä¸ªæ›´æœ‰æ„ä¹‰çš„åå­—ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçš„åå­—é‡æ„ä¸ºcheckValidISBN() ç°åœ¨æˆ‘ä»¬å¯ä»¥å†æ¬¡è¿è¡Œæµ‹è¯•ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/11.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è€Œç°åœ¨æˆ‘ä»¬éœ€è¦æ·»åŠ å¦ä¸€ä¸ªæµ‹è¯•æ¥éªŒè¯ISBNå·ç çš„é•¿åº¦ã€‚æˆ‘ä»¬çŸ¥é“ISBNå·ç åªèƒ½æ˜¯é•¿åº¦ä¸º10æˆ–13çš„ã€‚æ‰€ä»¥æˆ‘ä»¬å°†è¿è¡Œä¸€ä¸ªæµ‹è¯•ï¼Œè¯æ˜ISBNçš„é•¿åº¦ä¸èƒ½è¶…è¿‡10æˆ–13ã€‚<br>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬é¦–å…ˆè¦å†™ä¸€ä¸ªå¤±è´¥çŠ¶æ€çš„æµ‹è¯•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNLengthTenOrThirteen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è€Œå¦‚æœæˆ‘ä»¬å°†å…¶è°ƒæ•´ä¸ºä»¥ä¸‹å†…å®¹å¹¶è¿è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªStringIndexOutOfBoundsExceptionsï¼Œå› ä¸ºè¿™åªåŒ…å«9ä½æ•°å­—ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNLengthTenOrThirteen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"012345678"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è™½ç„¶æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¼‚å¸¸æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œä½†æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Javaçš„NumberFormatExceptionæ¥å¤„ç†è¿™ä¸ªé—®é¢˜ã€‚ç”±äºæˆ‘ä»¬çŸ¥é“è¿™æ˜¯ä¸å¯¹çš„ï¼Œè€Œä¸”æˆ‘ä»¬åœ¨æœŸå¾…ä¸€ä¸ªé”™è¯¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†æµ‹è¯•æ³¨è§£æ”¹ä¸ºæˆ‘ä»¬æ‰€æœŸå¾…çš„é”™è¯¯ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNLengthTenOrThirteen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"012345678"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Test-Driven-Development-TDD-for-Java-Programmers/12.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½†æ˜¯æµ‹è¯•è¯´å®ƒå¾—åˆ°äº†ä¸€ä¸ªæ„å¤–çš„å¼‚å¸¸ï¼Œå› ä¸ºå®ƒä¹‹å‰å¾—åˆ°çš„æ˜¯StringOutOfBoundsExceptionã€‚é‚£ä¹ˆæˆ‘ä»¬æ€æ ·æ‰èƒ½è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ï¼Ÿä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ–°æˆ‘ä»¬çš„checkISBN()æ–¹æ³•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            total <span class="token operator">+=</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› æ­¤ï¼Œç°åœ¨å½“æˆ‘ä»¬è¿è¡Œæµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°äº†é¢„æœŸçš„ç»“æœã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/13.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç”±äºå˜é‡resultæ˜¯ç°è‰²çš„ï¼Œè¿™æ„å‘³ç€ï¼Œresultvariableæ˜¯ä¸å¿…è¦çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªæ–¹æ³•é‡æ„ä¸ºä»¥ä¸‹å†…å®¹ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNLengthTenOrThirteen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN  <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"012345678"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æˆ‘ä»¬éœ€è¦æµ‹è¯•æˆ‘ä»¬ä¼ é€’ç»™checkISBN()çš„ISBNæ˜¯å¦æ˜¯æ•°å­—å€¼ï¼ˆè™½ç„¶æˆ‘ä»¬è®¨è®ºè¿‡ISBNæ•°å­—ä¸­çš„å­—æ¯Xï¼‰ã€‚ä¸ºäº†æ£€æŸ¥å®ƒï¼Œæˆ‘ä»¬å°†å®ç°ä»¥ä¸‹æµ‹è¯•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNNumeric</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è°ƒæ•´ä¸ºä»¥ä¸‹ä»£ç ã€‚ç”±äºæˆ‘ä»¬ä¼ é€’çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬å¯ä»¥æœŸå¾…ä¸€ä¸ªNumberFormatException</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNNumeric</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"helloworld"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæˆ‘ä»¬è¿è¡Œè¿™ä¸ªï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬åº”è¯¥çœ‹çš„æ˜¯æ•°å­—è€Œä¸æ˜¯å­—æ¯ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯¹checkISBN()çš„ä»£ç åšäº†ä¸€äº›è°ƒæ•´ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            total <span class="token operator">+=</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è€Œç°åœ¨ï¼Œå½“æˆ‘ä»¬è¿è¡Œæµ‹è¯•æ—¶ï¼Œå®ƒé€šè¿‡äº†ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/14.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ£€æŸ¥é‚£äº›åŒ…å«9ä½æ•°å­—å’Œå­—æ¯â€™Xâ€™çš„ISBNå·ç ã€‚ä¸ºäº†æ£€æŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ–¹æ³•ï¼Œä»¥fail();ä½œä¸ºåˆå§‹çŠ¶æ€ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkContainsX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼Œå½“æˆ‘ä»¬è¿è¡Œå®ƒæ—¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªNumberFormatExceptionï¼Œè¿™è¦æ„Ÿè°¢æˆ‘ä»¬ä¹‹å‰åšçš„æµ‹è¯•å’Œä»£ç ä¿®æ­£ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkContainsX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"080442957X"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Test-Driven-Development-TDD-for-Java-Programmers/15.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜æˆ‘ä»¬çš„checkISBN()æ–¹æ³•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'X'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token comment">//do nothing</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            total <span class="token operator">+=</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœ(i==9 &amp;&amp; isbn.charAt(i)==â€™Xâ€™)æˆ‘ä»¬ä»€ä¹ˆéƒ½ä¸åšï¼Œå¦åˆ™æˆ‘ä»¬å°±æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚è€Œå¦‚æœæˆ‘ä»¬è¿è¡Œè¿™ä¸ªï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œè¯´æˆ‘ä»¬çš„æ–­è¨€æ˜¯é”™è¯¯çš„ã€‚<br>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦å°†10ä¹˜ä»¥1åŠ åˆ°æ€»æ•°ä¸­ã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æ·»åŠ æ³¨é‡Šçš„åœ°æ–¹æ·»åŠ total+=10;æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆæˆ–è€…ä»€ä¹ˆéƒ½ä¸åšï¼‰ï¼Œå¹¶åœ¨total += isbn.charAt(i) * (10 - i); å¤„æ·»åŠ ä¸€ä¸ªelseå—æ¥è§£å†³æˆ‘ä»¬çš„æ­£å¸¸æµç¨‹ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'X'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    total <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                total <span class="token operator">+=</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è€Œç°åœ¨ï¼Œå½“æˆ‘ä»¬è¿è¡Œè¿™ä¸ªæµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„ä»ç„¶æ˜¯ä¸€ä¸ªé”™è¯¯ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/16.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸ºäº†ç†è§£è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†åœ¨checkISBN()æ–¹æ³•çš„ç¬¬21è¡Œå’Œç¬¬23è¡Œæ·»åŠ è°ƒè¯•æŒ‡é’ˆï¼Œå¹¶å¯¹æµ‹è¯•è¿›è¡Œè°ƒè¯•ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/17.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è€Œå½“æˆ‘ä»¬è°ƒè¯•æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ€»æ•°æ˜¯2801ï¼Œè¿™æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“æ€»æ•°æ˜¯209ï¼ˆæˆ‘ä»¬ä¹‹å‰è®¨è®ºçš„ä¾‹å­ï¼‰ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/18.png" class="" title="ç¤ºæ„å›¾ width=400"><p>é‚£ä¹ˆï¼Œä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æƒ…å†µå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºç¬¬11è¡Œçš„isbn.charAt()æ–¹æ³•è¿”å›äº†ASCIIå€¼ï¼Œè€Œè¿™ä¸ªå€¼è¢«ä¹˜ä»¥äº†ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Characters.getNumericValue() æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br>åœ¨è¿™ä¹‹åï¼ŒcheckISBN()æ–¹æ³•çœ‹èµ·æ¥åƒè¿™æ ·:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'X'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    total <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è€Œç°åœ¨ï¼Œå½“æˆ‘ä»¬è¿è¡ŒcheckContainsX()æµ‹è¯•æ—¶ï¼Œå®ƒè¢«é€šè¿‡äº†ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/19.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†æˆ‘ä»¬å¯¹10ä½æ•°çš„ISBNå·ç å’Œ9ä½æ•°çš„ISBNå·ç ä»¥åŠâ€™Xâ€™çš„ä»£ç ã€‚æ‰€ä»¥ç°åœ¨æˆ‘ä»¬å”¯ä¸€éœ€è¦å®Œæˆçš„éƒ¨åˆ†æ˜¯13ä½æ•°çš„ISBNæ•°å­—ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å°†é¦–å…ˆåˆ›å»ºä¸€ä¸ªæµ‹è¯•ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkValidThirteenDigitISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥è°ƒæ•´æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹ï¼Œå¯¹13ä½æ•°çš„æ•°å­—è¿›è¡Œæ£€æŸ¥ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkValidThirteenDigitISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"9780306406157"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬çŸ¥é“è¿™æ˜¯ä¸€ä¸ªISBNå·ç ï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬ç”¨æ¥è®¨è®ºä¸šåŠ¡é€»è¾‘çš„å·ç ã€‚ä½†æ˜¯å½“æˆ‘ä»¬è¿è¡Œè¿™ä¸ªæ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/20.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å®ç°è¿™æ–¹é¢çš„ä¸šåŠ¡é€»è¾‘ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥å°†checkISBN()æ–¹æ³•æ”¹ä¸ºä»¥ä¸‹ä»£ç ç‰‡æ–­ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">10</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">13</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                        total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">10</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'X'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                        total <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token number">11</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨æ”¹å˜checkISBN()æ–¹æ³•å¹¶è¿è¡Œæµ‹è¯•åï¼Œå®ƒå¾—åˆ°äº†é€šè¿‡ã€‚</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/21.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è™½ç„¶æˆ‘ä»¬çš„ä»£ç checkISBN()å·¥ä½œæ­£å¸¸ï¼Œä½†çœ‹èµ·æ¥å¾ˆä¹±ã€‚ä¸ºäº†æ¸…ç†å®ƒï¼Œæˆ‘ä»¬è¿›è¡Œäº†é‡æ„ã€‚è¿™æ˜¯é€šè¿‡åˆ›å»ºå¸¸é‡å’Œæ–¹æ³•æ¥å®Œæˆçš„ã€‚é‡æ„ä»£ç åï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>book<span class="token punctuation">.</span>tdd</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidateISBN</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">ISBN_SHORT</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">ISBN_LONG</span> <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">ISBN_SHORT_VALIDATOR</span> <span class="token operator">=</span> <span class="token number">11</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">ISBN_LONG_VALIDATOR</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">ISBN_SHORT</span> <span class="token operator">||</span> isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">ISBN_LONG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token constant">ISBN_LONG</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token function">checkISBNThirteenDigits</span><span class="token punctuation">(</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token function">checkISBNTenDigits</span><span class="token punctuation">(</span>isbn<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN number should have length of 10 or 13"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">checkISBNTenDigits</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">ISBN_SHORT</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token char">'X'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    total <span class="token operator">+=</span> <span class="token number">10</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token constant">ISBN_SHORT</span> <span class="token operator">-</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token constant">ISBN_SHORT_VALIDATOR</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> <span class="token function">checkISBNThirteenDigits</span><span class="token punctuation">(</span><span class="token class-name">String</span> isbn<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">int</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token constant">ISBN_LONG</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">isDigit</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                    total <span class="token operator">+=</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">getNumericValue</span><span class="token punctuation">(</span>isbn<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">3</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span>            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"ISBN numbers can only have digits."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>total <span class="token operator">%</span> <span class="token constant">ISBN_LONG_VALIDATOR</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬è¿è¡Œæµ‹è¯•å¥—ä»¶ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹ç»“æœ:</p><img src="/Test-Driven-Development-TDD-for-Java-Programmers/22.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½†æ˜¯çœ‹ä¸€ä¸‹æˆ‘ä»¬çš„æµ‹è¯•æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ­£åœ¨åå¤ä½¿ç”¨å˜é‡validateISBNã€‚ä¸ºäº†é¿å…è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ @Before æ³¨è§£ã€‚<br>åœ¨ä½¿ç”¨æ–¹æ³•çš„æ³¨è§£åï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹çš„æœ€ç»ˆæµ‹è¯•å¥—ä»¶:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>book<span class="token punctuation">.</span>tdd</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Before</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span></span><span class="token class-name">Assert</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ValidateISBNTests</span> <span class="token punctuation">{</span>    <span class="token class-name">ValidateISBN</span> validateISBN<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Before</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        validateISBN <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ValidateISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkValidISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"0140449116"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkInvalidISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"0140441927"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">assertFalse</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNLengthTenOrThirteen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"012345678"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span><span class="token punctuation">(</span>expected <span class="token operator">=</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkISBNNumeric</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"helloworld"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkContainsX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"080442957X"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">checkValidThirteenDigitISBN</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">boolean</span> result <span class="token operator">=</span> validateISBN<span class="token punctuation">.</span><span class="token function">checkISBN</span><span class="token punctuation">(</span><span class="token string">"9780306406157"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">assertTrue</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æœ€åè¯´æ˜"><a href="#æœ€åè¯´æ˜" class="headerlink" title="æœ€åè¯´æ˜"></a>æœ€åè¯´æ˜</h4><p>ä½ å¯ä»¥çœ‹åˆ°ï¼Œé€šè¿‡ä½¿ç”¨TDDï¼Œæˆ‘ä»¬å¯ä»¥æ„å»ºæ— é”™è¯¯çš„ã€é«˜æ•ˆçš„ä»£ç ã€‚è¿™ä¹Ÿæ˜¯å¤§å¤šæ•°å…¬å¸å°†TDDä½œä¸ºæœ€ä½³å®è·µçš„ä¸»è¦åŸå› ã€‚</p><p>è™½ç„¶æˆ‘ä»¬åœ¨è¿™é‡Œåªä½¿ç”¨äº†JUnitï¼Œä½†åœ¨åšTDDæ—¶ï¼Œå‡ ä¹ä¸å¯èƒ½åªä¾èµ–JUnitã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨å¤šä¸ªæµ‹è¯•åº“æ¥æµ‹è¯•æˆ‘ä»¬çš„ä»£ç ï¼Œè¿™å–å†³äºæˆ‘ä»¬çš„å®ç°ã€‚ä½†æ‰€æœ‰è¿™äº›éƒ½æ˜¯ä¸ºäº†åœ¨æˆ‘ä»¬çš„å®ç°è¿‡ç¨‹ä¸­ä½¿ç”¨TDDã€‚æˆ‘å¸Œæœ›ä½ ä»¬å·²ç»å­¦ä¼šäº†å¦‚ä½•ä½¿ç”¨TDDè¿›è¡Œé«˜æ•ˆçš„å®ç°ã€‚</p><!-- https://medium.com/javarevisited/test-driven-development-tdd-for-java-programmers-cb73878afdde -->]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Spring </tag>
            
            <tag> TDD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Hibernateæœç´¢æ„å»ºå¸¦æœ‰å…¨æ–‡æœç´¢çš„Spring Boot REST API</title>
      <link href="/Build-a-Spring-Boot-REST-API-with-Full-Text-Search-using-Hibernate-Search.html"/>
      <url>/Build-a-Spring-Boot-REST-API-with-Full-Text-Search-using-Hibernate-Search.html</url>
      
        <content type="html"><![CDATA[<img src="/Build-a-Spring-Boot-REST-API-with-Full-Text-Search-using-Hibernate-Search/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æœç´¢æ˜¯ç½‘ç»œçš„æ”¯æŸ±ä¹‹ä¸€ï¼Œè€Œå…¨æ–‡æœç´¢æ˜¯æ¯ä¸ªç½‘ç«™éƒ½éœ€è¦çš„å¼ºåˆ¶æ€§åŠŸèƒ½ä¹‹ä¸€ã€‚ä½†æ˜¯å®ç°è¿™æ ·çš„åŠŸèƒ½æ˜¯å¾ˆå¤æ‚çš„ï¼Œå¾ˆå¤šç†Ÿç»ƒçš„å·¥ç¨‹å¸ˆå·²ç»å¯¹è¿™ä¸ªé—®é¢˜è¿›è¡Œäº†è®¤çœŸçš„æ€è€ƒã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸è¦é‡æ–°å‘æ˜è½®å­ï¼Œè€Œè¦ä½¿ç”¨ä¹…ç»è€ƒéªŒçš„Hibernateæœç´¢åº“ã€‚</p><span id="more"></span><p>åœ¨è¿™ç¯‡åšæ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•åœ¨Spring bootä¸­å»ºç«‹ä¸€ä¸ªç®€å•çš„REST APIï¼Œå¹¶ä½¿ç”¨Hibernate Searchè¿›è¡Œå…¨æ–‡æœç´¢ã€‚æˆ‘ä»¬å°†åªä»‹ç»åŸºç¡€çŸ¥è¯†ï¼Œä½†Hibernate Searchæ˜¯ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„åº“ï¼Œå®ƒçš„è®¸å¤šåŠŸèƒ½è¿œè¿œè¶…è¿‡æˆ‘ä»¬åœ¨è¿™ç¯‡æ–‡ç« ä¸­æ‰€çœ‹åˆ°çš„ã€‚ä½ å¯ä»¥åœ¨å®˜æ–¹æ–‡æ¡£ä¸­æŸ¥çœ‹å®ƒæ‰€æä¾›çš„ä¸€åˆ‡ï¼Œ<a href="https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#gettingstarted-framework%E3%80%82">https://docs.jboss.org/hibernate/stable/search/reference/en-US/html_single/#gettingstarted-frameworkã€‚</a></p><h3 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h3><p>ç¬¬ä¸€æ­¥æ˜¯ç”Ÿæˆspring booté¡¹ç›®ã€‚<br>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡SDKmanä½¿ç”¨spring CLIï¼Œä½†ä¹Ÿå¯ä»¥é€šè¿‡Web UI <a href="https://start.spring.io/">https://start.spring.io/</a> æˆ–ç›´æ¥é€šè¿‡IDEA <a href="https://www.jetbrains.com/help/idea/spring-boot.html">https://www.jetbrains.com/help/idea/spring-boot.html</a> è½»æ¾å®Œæˆã€‚</p><p>è¦æƒ³äº†è§£å¦‚ä½•åœ¨è‡ªå·±çš„æœºå™¨ä¸Šè®¾ç½®CLIï¼Œè¯·æŒ‰ç…§è¿™ä¸ªæŒ‡å—<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.installing.cli.sdkman">https://docs.spring.io/spring-boot/docs/current/reference/html/getting-started.html#getting-started.installing.cli.sdkman</a>ã€‚ä¸€æ—¦ä½ å®‰è£…äº†CLIï¼Œæ‰§è¡Œè¿™ä¸ªå‘½ä»¤å°±å¯ä»¥ç”Ÿæˆå…·æœ‰å¿…è¦ä¾èµ–æ€§çš„é¡¹ç›®ã€‚</p><pre class="line-numbers language-none"><code class="language-none">spring init --dependencies=web,data-jpa,h2,lombok,validation spring-boot-hibernate-search<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ‘ä»¬æ‰“åŒ…äº†ä»¥ä¸‹ä¾èµ–é¡¹:</p><ul><li>ç”¨äºREST APIçš„webä¾èµ–ã€‚</li><li>ç”¨äºæ•°æ®è®¿é—®å±‚çš„spring data JPAï¼Œå®ƒä½¿ç”¨hibernateä½œä¸ºé»˜è®¤çš„å¯¹è±¡å…³ç³»æ˜ å°„å·¥å…·ã€‚</li><li>h2åº“ï¼Œæä¾›ä¸€ä¸ªæ˜“äºä½¿ç”¨çš„å†…å­˜åµŒå…¥å¼æ•°æ®åº“ã€‚è¿™ç§ç±»å‹çš„æ•°æ®åº“é€‚åˆäºåƒæœ¬é¡¹ç›®è¿™æ ·çš„å°å‹ç©å…·é¡¹ç›®ï¼Œä½†å®ƒä¸åº”è¯¥è¢«ç”¨äºä»»ä½•å°†åœ¨æŸä¸ªæ—¶å€™è¿å¾€ç”Ÿäº§çš„æ­£å¼é¡¹ç›®ã€‚</li><li>Lomboké€šè¿‡æ³¨é‡Šç”Ÿæˆä»£ç ç‰‡æ®µï¼Œé¿å…ä»»ä½•æ¨¡æ¿ä»£ç </li><li>validationæ˜¯Hibernateå¯¹éµå¾ªJSR380è§„èŒƒçš„éªŒè¯APIçš„å®ç°ã€‚å®ƒå…è®¸ï¼Œé™¤å…¶ä»–å¤–ï¼Œä½¿ç”¨æ³¨é‡Šæ¥éªŒè¯Beanã€‚</li></ul><h3 id="Hibernateæœç´¢è®¾ç½®"><a href="#Hibernateæœç´¢è®¾ç½®" class="headerlink" title="Hibernateæœç´¢è®¾ç½®"></a>Hibernateæœç´¢è®¾ç½®</h3><p>ä¸è®¸å¤šåº“ä¸€æ ·ï¼ŒSpring Bootæä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•æ¥é›†æˆHibernate Searchã€‚æˆ‘ä»¬åªéœ€è¦åœ¨pom.xmlæ–‡ä»¶ä¸­æ·»åŠ æ‰€éœ€çš„ä¾èµ–é¡¹ã€‚</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hibernate.search.version</span><span class="token punctuation">&gt;</span></span>6.1.1.Final<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>hibernate.search.version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-search-mapper-orm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${hibernate.search.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.hibernate.search<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>hibernate-search-backend-lucene<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${hibernate.search.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯hibernate search 6ï¼Œè¿™æ˜¯è¿„ä»Šä¸ºæ­¢çš„æœ€æ–°ç‰ˆæœ¬ï¼Œä½¿ç”¨Luceneä½œä¸ºåå°ã€‚Luceneæ˜¯ä¸€ä¸ªå¼€æºçš„ç´¢å¼•å’Œæœç´¢å¼•æ“åº“ï¼Œä¹Ÿæ˜¯Hibernate Searchä½¿ç”¨çš„é»˜è®¤å®ç°ã€‚<br>æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸åŒçš„å®ç°ï¼Œå¦‚ElasticSearchæˆ–OpenSearchã€‚</p><h3 id="å®šä¹‰æ•°æ®æ¨¡å‹"><a href="#å®šä¹‰æ•°æ®æ¨¡å‹" class="headerlink" title="å®šä¹‰æ•°æ®æ¨¡å‹"></a>å®šä¹‰æ•°æ®æ¨¡å‹</h3><p>ç¬¬ä¸€æ­¥æ˜¯å®šä¹‰è¦è¿›è¡Œæœç´¢çš„å®ä½“çš„æ¨¡å‹ã€‚</p><p>ä½œä¸ºä¸€ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªæ¤ç‰©å®ä½“ï¼ŒåŒ…å«æ¤ç‰©çš„ä¿—åã€å­¦åã€ç§‘å’Œåˆ›å»ºæ—¥æœŸã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">EqualsAndHashCode</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Getter</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Setter</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">ToString</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">NaturalId</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span>mapping<span class="token punctuation">.</span>definition<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">FullTextField</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span>mapping<span class="token punctuation">.</span>definition<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Indexed</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">Instant</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Indexed</span><span class="token annotation punctuation">@Entity</span><span class="token annotation punctuation">@Table</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"plant"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Getter</span><span class="token annotation punctuation">@Setter</span><span class="token annotation punctuation">@ToString</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Plant</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>createdAt <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> scientificName<span class="token punctuation">,</span> <span class="token class-name">String</span> family<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>scientificName <span class="token operator">=</span> scientificName<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>family <span class="token operator">=</span> family<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>createdAt <span class="token operator">=</span> <span class="token class-name">Instant</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Id</span>    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span><span class="token constant">IDENTITY</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>    <span class="token annotation punctuation">@FullTextField</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@NaturalId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@FullTextField</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@NaturalId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> scientificName<span class="token punctuation">;</span>    <span class="token annotation punctuation">@FullTextField</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> family<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">Instant</span> createdAt <span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®©æˆ‘ä»¬å¿½ç•¥JPAå’ŒLombokæ³¨è§£ï¼Œä¸“æ³¨äºHibernate Searchç›¸å…³çš„æ³¨è§£ã€‚</p><p>é¦–å…ˆï¼Œ@Indexæ³¨è§£å‘Hibernate Searchè¡¨æ˜ï¼Œæˆ‘ä»¬è¦å¯¹è¿™ä¸ªå®ä½“è¿›è¡Œç´¢å¼•ï¼Œä»¥ä¾¿å¯¹å®ƒè¿›è¡Œæœç´¢æ“ä½œã€‚</p><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬ç”¨@FullTextFieldæ³¨è§£æ¥æ³¨é‡Šæˆ‘ä»¬æƒ³è¦æœç´¢çš„å­—æ®µã€‚è¿™ä¸ªæ³¨è§£åªé€‚ç”¨äºå­—ç¬¦ä¸²å­—æ®µï¼Œä½†å…¶ä»–å­—æ®µä¹Ÿå­˜åœ¨äºä¸åŒç±»å‹çš„å­—æ®µã€‚</p><p>ç„¶åâ€¦â€¦è¿™å°±æ˜¯äº†! å¯¹äºæˆ‘ä»¬è¿™æ ·ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹æ¥è¯´ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•</p><p>ä½†æ˜¯ä½ å¯ä»¥ç”¨åº“æä¾›çš„ä¸œè¥¿åšå¾—æ›´å¤šï¼Œæ¯”å¦‚ä½¿ç”¨æ¡ä»¶æ€§ç´¢å¼•æˆ–è°ƒæ•´ç´¢å¼•åè°ƒã€‚SOï¼Œå¦‚æœä½ æƒ³äº†è§£æ›´å¤šï¼Œè¯·æŸ¥çœ‹å®˜æ–¹æ–‡æ¡£ã€‚</p><h3 id="å®šä¹‰æ•°æ®å±‚"><a href="#å®šä¹‰æ•°æ®å±‚" class="headerlink" title="å®šä¹‰æ•°æ®å±‚"></a>å®šä¹‰æ•°æ®å±‚</h3><p>æˆ‘ä»¬ç°åœ¨éœ€è¦å®šä¹‰æˆ‘ä»¬çš„æ•°æ®å±‚ï¼Œå¤„ç†ä¸æ•°æ®åº“çš„äº¤äº’ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨Spring Dataèµ„æºåº“ï¼Œå®ƒå›´ç»•Hibernateçš„JPAå®ç°å»ºç«‹äº†ä¸€ä¸ªæŠ½è±¡ã€‚å®ƒåœ¨ä¹‹å‰æ·»åŠ çš„spring-boot-starter-data-jpaä¾èµ–é¡¹ä¸­æä¾›ã€‚</p><p>å¯¹äºåªéœ€è¦CRUDæ“ä½œçš„åŸºæœ¬ç”¨ä¾‹ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ¤ç‰©å®ä½“å®šä¹‰ä¸€ä¸ªç®€å•çš„èµ„æºåº“ï¼Œå¹¶ç›´æ¥æ‰©å±•JpaRepositoryæ¥å£ã€‚</p><p>ä½†è¿™å¯¹äºå…¨æ–‡æœç´¢æ¥è¯´æ˜¯ä¸å¤Ÿçš„ã€‚åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å°†æœç´¢åŠŸèƒ½æ·»åŠ åˆ°æˆ‘ä»¬å®šä¹‰çš„æ‰€æœ‰èµ„æºåº“ä¸­ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦å‘JpaRepositoryæ¥å£ï¼Œæˆ–ä»»ä½•æ‰©å±•åŸºç¡€Repositoryæ¥å£çš„æ¥å£æ·»åŠ è‡ªå®šä¹‰æ–¹æ³•ã€‚</p><p>è¿™æ ·ï¼Œæˆ‘ä»¬åªéœ€å£°æ˜ä¸€æ¬¡è¿™äº›æ–¹æ³•ï¼Œå¹¶ä½¿å®ƒä»¬å¯¹æˆ‘ä»¬é¡¹ç›®çš„æ¯ä¸ªå®ä½“çš„æ¯ä¸ªä»“åº“éƒ½å¯ç”¨ã€‚</p><p>è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•åšè¿™æ ·çš„äº‹æƒ…ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„é€šç”¨æ¥å£æ¥æ‰©å±•JpaRepositoryæ¥å£ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@NoRepositoryBean</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID <span class="token keyword">extends</span> <span class="token class-name">Serializable</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchBy</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å£°æ˜å°†ç”¨äºå…¨æ–‡æœç´¢æ“ä½œçš„ searchBy å‡½æ•°ã€‚</p><p>@NoRepositoryBean æ³¨è§£å‘Šè¯‰springï¼Œè¿™ä¸ªèµ„æºåº“æ¥å£ä¸åº”è¯¥åƒå…¶ä»–å¸¦æœ‰@Repository æ³¨è§£çš„beanä¸€æ ·è¢«å®ä¾‹åŒ–ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªæ³¨è§£æ˜¯å› ä¸ºè¿™ä¸ªæ¥å£çš„ç›®çš„ä¸æ˜¯ç›´æ¥ä½¿ç”¨ï¼Œè€Œæ˜¯ç”±å…¶ä»–èµ„æºåº“æ¥å®ç°ã€‚</p><p>æˆ‘ä»¬è¿˜éœ€è¦ä¸ºè¿™ä¸ªæ¥å£åˆ›å»ºå®ç°ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Transactional</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID <span class="token keyword">extends</span> <span class="token class-name">Serializable</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">SimpleJpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span>        <span class="token keyword">implements</span> <span class="token class-name">SearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> domainClass<span class="token punctuation">,</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>domainClass<span class="token punctuation">,</span> entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>entityManager <span class="token operator">=</span> entityManager<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token punctuation">(</span>            <span class="token class-name">JpaEntityInformation</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span> entityInformation<span class="token punctuation">,</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>entityInformation<span class="token punctuation">,</span> entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>entityManager <span class="token operator">=</span> entityManager<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchBy</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token function">getSearchResult</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">hits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSearchResult</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">SearchSession</span> searchSession <span class="token operator">=</span> <span class="token class-name">Search</span><span class="token punctuation">.</span><span class="token function">session</span><span class="token punctuation">(</span>entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span>                searchSession                        <span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token function">getDomainClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>f <span class="token operator">-&gt;</span> f<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fields</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matching</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fuzzy</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>searchByæ–¹æ³•çš„å®ç°æ˜¯ä½¿ç”¨Hibernateæœç´¢çš„åœ°æ–¹ã€‚</p><p>ä»¥ä¸‹å‚æ•°è¢«ä¼ é€’ã€‚</p><ul><li>text: è¦æœç´¢çš„æ–‡æœ¬</li><li>limitï¼šè¦æœç´¢çš„å…ƒç´ çš„æœ€å¤§æ•°é‡</li><li>fieldsï¼šè¦æœç´¢çš„æ‰€æœ‰å­—æ®µçš„åç§°ã€‚</li></ul><p>æˆ‘ä»¬åˆ©ç”¨javaçš„varargsæ¥ä¼ é€’æˆ‘ä»¬è¦æœç´¢çš„æ‰€æœ‰å­—æ®µã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ¨¡ç³Šç®—æ³•ä½œä¸ºå…¨æ–‡åŒ¹é…ç®—æ³•ï¼Œä½†æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨è‡ªå®šä¹‰åˆ†æå™¨è¿›è¡Œæ›´å¤æ‚çš„æœç´¢ã€‚</p><p>ä»ç°åœ¨å¼€å§‹ï¼Œéœ€è¦å…¨æ–‡æœç´¢çš„èµ„æºåº“åªéœ€è¦å®ç°SearchRepositoryæ¥å£ï¼Œè€Œä¸æ˜¯Springæä¾›çš„æ ‡å‡†JpaRepositoryæ¥å£ã€‚</p><p>è€Œè¿™æ­£æ˜¯æˆ‘ä»¬ä¸ºæ¤ç‰©å®ä½“æ‰€åšçš„äº‹æƒ…ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>repository</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Plant</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Repository</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Repository</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PlantRepository</span> <span class="token keyword">extends</span> <span class="token class-name">SearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæ‰€æœ‰çš„å®ç°éƒ½å·²ç»å®Œæˆäº†ï¼Œæˆ‘ä»¬åªéœ€è¦å®ç°ä¹‹å‰åˆ›å»ºçš„SearchRepositoryæ¥å£å°±å¯ä»¥è®¿é—®SearchRepositoryImplç±»ä¸­å®šä¹‰çš„å®ç°ã€‚</p><p>æœ€åä¸€æ­¥æ˜¯å‘SpringæŒ‡æ˜ä½¿ç”¨SearchRepositoryImplä½œä¸ºåŸºç±»æ¥æ£€æµ‹Jpaä»“åº“ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">SearchRepositoryImpl</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>config<span class="token punctuation">.</span></span><span class="token class-name">EnableJpaRepositories</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@EnableJpaRepositories</span><span class="token punctuation">(</span>repositoryBaseClass <span class="token operator">=</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationConfiguration</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œç”±äºæˆ‘ä»¬æ²¡æœ‰æŒ‡å®šä»»ä½•åŸºç¡€åŒ…æ¥æœç´¢ï¼ŒSpringå°†ä½¿ç”¨å®šä¹‰äº†è¯¥é…ç½®çš„åŒ…ä½œä¸ºåŸºç¡€åŒ…ã€‚</p><h3 id="å®šä¹‰ä¸šåŠ¡å±‚"><a href="#å®šä¹‰ä¸šåŠ¡å±‚" class="headerlink" title="å®šä¹‰ä¸šåŠ¡å±‚"></a>å®šä¹‰ä¸šåŠ¡å±‚</h3><p>ç°åœ¨è®©æˆ‘ä»¬ä½¿ç”¨æˆ‘ä»¬åˆšåˆšå®šä¹‰çš„æ•°æ®å±‚ï¼Œé€šè¿‡å£°æ˜ä¸€ä¸ªæœåŠ¡æ¥åˆ›å»ºä¸šåŠ¡ä»£ç ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Plant</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">PlantRepository</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlantService</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">PlantRepository</span> plantRepository<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">SEARCHABLE_FIELDS</span> <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"scientificName"</span><span class="token punctuation">,</span><span class="token string">"family"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">PlantService</span><span class="token punctuation">(</span><span class="token class-name">PlantRepository</span> plantRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>plantRepository <span class="token operator">=</span> plantRepository<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPlants</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fields<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldsToSearchBy <span class="token operator">=</span> fields<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">SEARCHABLE_FIELDS</span> <span class="token operator">:</span> fields<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> containsInvalidField <span class="token operator">=</span> fieldsToSearchBy<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">anyMatch</span><span class="token punctuation">(</span>f <span class="token operator">-&gt;</span> <span class="token operator">!</span><span class="token constant">SEARCHABLE_FIELDS</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>containsInvalidField<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> plantRepository<span class="token punctuation">.</span><span class="token function">searchBy</span><span class="token punctuation">(</span>                text<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> fieldsToSearchBy<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å‘Šè¯‰Springï¼Œè¿™ä¸ªBeanæ˜¯åº”ç”¨ç¨‹åºä¸šåŠ¡å±‚çš„ä¸€éƒ¨åˆ†ã€‚</p><p>å®ƒåŒ…å«ä¸€ä¸ªsearchPlantå‡½æ•°ï¼Œè½¬å‘å¯¹SearchRepositoryçš„searchByå‡½æ•°çš„è°ƒç”¨ã€‚</p><p>åœ¨è½¬å‘è°ƒç”¨ä¹‹å‰ï¼Œå®ƒéªŒè¯äº†æ‰€æä¾›çš„å­—æ®µã€‚</p><p>è¿™äº›å­—æ®µè¢«åˆ—å…¥ç™½åå•ï¼Œä»¥æ£€æŸ¥æœç´¢å°†åªé’ˆå¯¹æ‰€éœ€çš„å­—æ®µï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä¹‹å‰ç”¨@FullTextFieldæ³¨è§£æ ‡æ³¨çš„å­—æ®µã€‚</p><p>å¦‚æœæä¾›çš„å­—æ®µä¹‹ä¸€ä¸åœ¨ç™½åå•ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠ›å‡ºä¸€ä¸ªIllegalArgumentExceptionã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬æ²¡æœ‰å¤„ç†è¿™ä¸ªå¼‚å¸¸ï¼Œä½†åº”è¯¥ä½¿ç”¨springæä¾›çš„è®¸å¤šå¤„ç†å¼‚å¸¸çš„æ–¹æ³•ä¸­çš„ä¸€ç§æ¥æ­£ç¡®å¤„ç†å®ƒã€‚</p><h3 id="å®šä¹‰ç½‘ç»œå±‚"><a href="#å®šä¹‰ç½‘ç»œå±‚" class="headerlink" title="å®šä¹‰ç½‘ç»œå±‚"></a>å®šä¹‰ç½‘ç»œå±‚</h3><p>ä¸‹ä¸€æ­¥æ˜¯å®šä¹‰REST APIæ¥æ¥æ”¶æ¥è‡ªå®¢æˆ·ç«¯åº”ç”¨ç¨‹åºçš„HTTPè¯·æ±‚ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Plant</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">SearchRequestDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PlantService</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/plant"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlantController</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">PlantService</span> plantService<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">PlantController</span><span class="token punctuation">(</span><span class="token class-name">PlantService</span> plantService<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>plantService <span class="token operator">=</span> plantService<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/search"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPlants</span><span class="token punctuation">(</span><span class="token class-name">SearchRequestDTO</span> searchRequestDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Request for plant search received with data : "</span> <span class="token operator">+</span> searchRequestDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> plantService<span class="token punctuation">.</span><span class="token function">searchPlants</span><span class="token punctuation">(</span>searchRequestDTO<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> searchRequestDTO<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> searchRequestDTO<span class="token punctuation">.</span><span class="token function">getLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªåŸºæœ¬çš„Restæ§åˆ¶å™¨å’Œä¸€ä¸ªå•ä¸€çš„GETæ˜ å°„ã€‚åœ¨å°†è°ƒç”¨è½¬å‘åˆ°ä¸šåŠ¡å±‚ä¹‹å‰ï¼Œæˆ‘ä»¬è®°å½•äº‹ä»¶ä»¥è¿½è¸ªè¯·æ±‚çš„æ¥æ”¶æƒ…å†µï¼Œä»¥æ–¹ä¾¿å¯¹åº”ç”¨ç¨‹åºçš„ç›‘æ§ã€‚<br>å®ƒä½¿ç”¨ä¸€ä¸ªSearchRequestDTOæ¥æ¥æ”¶æœç´¢è¯·æ±‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Min</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">NotBlank</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchRequestDTO</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@NotBlank</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> text<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fields <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> limit<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®ƒæ˜¯ä¸€ä¸ªç®€å•çš„POJOï¼ŒåŒ…å«ç”¨äºæœç´¢çš„å‚æ•°ã€‚æˆ‘ä»¬å†æ¬¡ä½¿ç”¨Javax Bean Validationæ³¨è§£æ¥ç¡®ä¿è¯·æ±‚çš„æœ‰æ•ˆæ€§ï¼Œä»¥åŠLombok @Dataæ³¨è§£æ¥ç”Ÿæˆæ¨¡æ¿ä»£ç ï¼ˆGetters, Setters, toString(), â€¦ï¼‰ã€‚</p><p>è¯·æ³¨æ„ï¼Œé€šè¿‡ä½¿ç”¨POJOä½œä¸ºREST APIç«¯ç‚¹çš„å•ä¸€å‚æ•°ï¼Œæˆ‘ä»¬å¸Œæœ›å®¢æˆ·ç«¯åœ¨HTTPè¯·æ±‚ä¸­æŠŠè¿™äº›å‚æ•°ä½œä¸ºRequest Parameterå‘é€ã€‚</p><h3 id="å¯¹æ•°æ®è¿›è¡Œç´¢å¼•"><a href="#å¯¹æ•°æ®è¿›è¡Œç´¢å¼•" class="headerlink" title="å¯¹æ•°æ®è¿›è¡Œç´¢å¼•"></a>å¯¹æ•°æ®è¿›è¡Œç´¢å¼•</h3><p>æœ€åï¼Œä¸ºäº†è®©Luceneèƒ½å¤Ÿåœ¨æ•°æ®ä¸­è¿›è¡Œæœç´¢ï¼Œå®ƒéœ€è¦è¢«ç¼–åˆ¶ç´¢å¼•ã€‚</p><p>åœ¨è¿è¡Œæ—¶ï¼Œç´¢å¼•ç”±Hibernateè‡ªåŠ¨ç®¡ç†ï¼Œåœ¨æ¯æ¬¡é€šè¿‡Hibernate ORMæ‰§è¡Œæ“ä½œï¼ˆå¦‚åˆ›å»ºæˆ–åˆ é™¤ä¸€ä¸ªå®ä½“ï¼‰æ—¶åº”ç”¨å˜åŒ–ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦ä¸ºå·²ç»å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ•°æ®åˆå§‹åŒ–ç´¢å¼•ï¼Œå¦‚æœæœ‰çš„è¯ã€‚</p><p>ä¸ºäº†è¿™ä¸ªç›®çš„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨application.ymlæ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›é…ç½®ã€‚</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9000</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>    <span class="token key atrule">datasource</span><span class="token punctuation">:</span>        <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>h2<span class="token punctuation">:</span>mem<span class="token punctuation">:</span>mydb        <span class="token key atrule">username</span><span class="token punctuation">:</span> mozen        <span class="token key atrule">password</span><span class="token punctuation">:</span> password    <span class="token key atrule">jpa</span><span class="token punctuation">:</span>        <span class="token key atrule">open-in-view</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>        <span class="token key atrule">properties</span><span class="token punctuation">:</span>            <span class="token key atrule">hibernate</span><span class="token punctuation">:</span>                <span class="token key atrule">search</span><span class="token punctuation">:</span>                    <span class="token key atrule">backend</span><span class="token punctuation">:</span>                        <span class="token key atrule">type</span><span class="token punctuation">:</span> lucene                        <span class="token key atrule">directory.root</span><span class="token punctuation">:</span> ./data/index<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬æŒ‡å‡ºå­˜å‚¨Luceneç´¢å¼•çš„æ ¹ç›®å½•ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€‰æ‹©ç›´æ¥æŠŠå®ƒæ”¾åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œä½†åœ¨ç”Ÿäº§ä¸­è¿è¡Œæ—¶ï¼Œè¿™ä¸ªç›®å½•åº”è¯¥ä»”ç»†é€‰æ‹©ï¼Œè¿™å–å†³äºä½ çš„åº”ç”¨ç¨‹åºè¢«éƒ¨ç½²åœ¨å“ªé‡Œã€‚</p><p>æˆ‘ä»¬è¿˜åˆ›å»ºäº†ä¸€ä¸ªç»„ä»¶æ¥åŒ…è£…æ‰€æœ‰ä¸Luceneç´¢å¼•æœ‰å…³çš„æ“ä½œã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>index</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>orm<span class="token punctuation">.</span></span><span class="token class-name">Search</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>orm<span class="token punctuation">.</span>massindexing<span class="token punctuation">.</span></span><span class="token class-name">MassIndexer</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>orm<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SearchSession</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token class-name">EntityManager</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Transactional</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Indexer</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">THREAD_NUMBER</span> <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Indexer</span><span class="token punctuation">(</span><span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>entityManager <span class="token operator">=</span> entityManager<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">indexPersistedData</span><span class="token punctuation">(</span><span class="token class-name">String</span> indexClassName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IndexException</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token class-name">SearchSession</span> searchSession <span class="token operator">=</span> <span class="token class-name">Search</span><span class="token punctuation">.</span><span class="token function">session</span><span class="token punctuation">(</span>entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> classToIndex <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>indexClassName<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">MassIndexer</span> indexer <span class="token operator">=</span>                    searchSession                            <span class="token punctuation">.</span><span class="token function">massIndexer</span><span class="token punctuation">(</span>classToIndex<span class="token punctuation">)</span>                            <span class="token punctuation">.</span><span class="token function">threadsToLoadObjects</span><span class="token punctuation">(</span><span class="token constant">THREAD_NUMBER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            indexer<span class="token punctuation">.</span><span class="token function">startAndWait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexException</span><span class="token punctuation">(</span><span class="token string">"Invalid class "</span> <span class="token operator">+</span> indexClassName<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IndexException</span><span class="token punctuation">(</span><span class="token string">"Index Interrupted"</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯¹äºæˆ‘ä»¬çš„ç®€å•æ¼”ç¤ºåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬åªå£°æ˜äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°åœ¨è¿‡ç¨‹ä¸­ä½¿ç”¨æŒ‡å®šæ•°é‡çš„çº¿ç¨‹ä¸ºç»™å®šçš„Classå»ºç«‹ç´¢å¼•ã€‚</p><p>æˆ‘ä»¬ç°åœ¨éœ€è¦é€šè¿‡å…ˆå‰å®šä¹‰çš„Plantç±»ä½œä¸ºå‚æ•°è°ƒç”¨è¯¥å‡½æ•°ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„RESTæ§åˆ¶å™¨ï¼ŒåŒ…å«ä¸€ä¸ªç«¯ç‚¹ï¼Œé€šè¿‡HTTPè¯·æ±‚æ¥è§¦å‘ç´¢å¼•ï¼Œä»¥ä¾¿èƒ½å¤Ÿéšæ„é‡å»ºç´¢å¼•ã€‚</p><p>ä½†åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬åªæ˜¯è¦ä½¿ç”¨ä¸€ä¸ªApplicationRunnerï¼Œå®ƒå°†åœ¨æ¯æ¬¡å¯åŠ¨æ—¶è¢«è°ƒç”¨ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">ApplicationRunner</span> <span class="token function">buildIndex</span><span class="token punctuation">(</span><span class="token class-name">Indexer</span> indexer<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>indexer<span class="token punctuation">.</span><span class="token function">indexPersistedData</span><span class="token punctuation">(</span><span class="token string">"com.mozen.springboothibernatesearch.model.Plant"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬åœ¨ä¸»åº”ç”¨ç¨‹åºç±»ä¸­ç›´æ¥å®šä¹‰Beanã€‚</p><p>buildIndexæ–¹æ³•é€šè¿‡ä¾èµ–æ³¨å…¥å°†ç´¢å¼•å™¨ä½œä¸ºä¸€ä¸ªå‚æ•°ã€‚è¯¥æ–¹æ³•åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶æ‰§è¡Œï¼ˆå°±åœ¨ä¸Šä¸‹æ–‡åˆå§‹åŒ–ä¹‹åå’Œspring bootåº”ç”¨ç¨‹åºå¯åŠ¨ä¹‹å‰ï¼‰ã€‚</p><h3 id="æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·"><a href="#æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·" class="headerlink" title="æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·"></a>æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·</h3><p>è®©æˆ‘ä»¬é¦–å…ˆåˆå§‹åŒ–æ ·æœ¬æ•°æ®ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>index<span class="token punctuation">.</span></span><span class="token class-name">Indexer</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Plant</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springboothibernatesearch<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">PlantRepository</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">ApplicationArguments</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">ApplicationRunner</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">ApplicationRunner</span> <span class="token function">initializeData</span><span class="token punctuation">(</span><span class="token class-name">PlantRepository</span> plantRepository<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> plants <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"subalpine fir"</span><span class="token punctuation">,</span> <span class="token string">"abies lasiocarpa"</span><span class="token punctuation">,</span> <span class="token string">"pinaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"sour cherry"</span><span class="token punctuation">,</span> <span class="token string">"prunus cerasus"</span><span class="token punctuation">,</span> <span class="token string">"rosaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"asian pear"</span><span class="token punctuation">,</span> <span class="token string">"pyrus pyrifolia"</span><span class="token punctuation">,</span> <span class="token string">"rosaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"chinese witch hazel"</span><span class="token punctuation">,</span> <span class="token string">"hamamelis mollis"</span><span class="token punctuation">,</span> <span class="token string">"hamamelidaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"silver maple"</span><span class="token punctuation">,</span> <span class="token string">"acer saccharinum"</span><span class="token punctuation">,</span> <span class="token string">"sapindaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"cucumber tree"</span><span class="token punctuation">,</span> <span class="token string">"magnolia acuminata"</span><span class="token punctuation">,</span> <span class="token string">"magnoliaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"korean rhododendron"</span><span class="token punctuation">,</span> <span class="token string">"rhododendron mucronulatum"</span><span class="token punctuation">,</span> <span class="token string">"ericaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"water lettuce"</span><span class="token punctuation">,</span> <span class="token string">"pistia"</span><span class="token punctuation">,</span> <span class="token string">"araceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"sessile oak"</span><span class="token punctuation">,</span> <span class="token string">"quercus petraea"</span><span class="token punctuation">,</span> <span class="token string">"fagaceae"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">Plant</span><span class="token punctuation">(</span><span class="token string">"common fig"</span><span class="token punctuation">,</span> <span class="token string">"ficus carica"</span><span class="token punctuation">,</span> <span class="token string">"moraceae"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>plantRepository<span class="token punctuation">.</span><span class="token function">saveAll</span><span class="token punctuation">(</span>plants<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token annotation punctuation">@Bean</span><span class="token keyword">public</span> <span class="token class-name">ApplicationRunner</span> <span class="token function">buildIndex</span><span class="token punctuation">(</span><span class="token class-name">Indexer</span> indexer<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>indexer<span class="token punctuation">.</span><span class="token function">indexPersistedData</span><span class="token punctuation">(</span><span class="token string">"com.mozen.springboothibernatesearch.model.Plant"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ç”¨ç¬¬äºŒä¸ªBeanå£°æ˜æ¥æ‰©å±•ä¸»åº”ç”¨ç¨‹åºç±»ã€‚å®ƒå°†ä»¥ä¸ç¬¬ä¸€ä¸ªç›¸åŒçš„æ–¹å¼åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è¿è¡Œã€‚</p><p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬æ²¡æœ‰åœ¨ä»»ä½•åœ°æ–¹å£°æ˜æ•°æ®SQLæ¨¡å¼ã€‚å› ä¸ºæˆ‘ä»¬çš„æ•°æ®åº“æ˜¯åµŒå…¥å¼æ•°æ®åº“ï¼Œspring.jpa.hibernate.ddl-autoå±æ€§é»˜è®¤è®¾ç½®ä¸ºcreative-dropï¼Œæˆ‘ä»¬çš„æ•°æ®åº“æ¨¡å¼æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¿™å¯¹äºåƒè¿™æ ·çš„ç®€å•åº”ç”¨æ¥è¯´æ˜¯å¾ˆå¥½çš„ã€‚</p><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æµ‹è¯•ä¸€ä¸‹ï¼Œé¦–å…ˆå¯åŠ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p><pre class="line-numbers language-none"><code class="language-none">mvn spring-boot:run<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ‰å¤šç§æ–¹æ³•æ¥æµ‹è¯•æœç´¢ç«¯ç‚¹ã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨APIå¹³å°çš„Postmanã€‚</p><img src="/Build-a-Spring-Boot-REST-API-with-Full-Text-Search-using-Hibernate-Search/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç®€å•çš„cUrlå‘½ä»¤ï¼ŒåŠ ä¸Šæ‰€éœ€çš„å‚æ•°ã€‚</p><pre class="line-numbers language-none"><code class="language-none">// Search in all fieldscurl -X GET 'http://localhost:9000/plant/search?text=cherry&amp;limit=5'// Search only in specified fieldscurl -X GET 'http://localhost:9000/plant/search?text=sian p&amp;limit=5&amp;fields=name&amp;fields=scientificName'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±è¿™æ ·äº†! æˆ‘ä»¬ç°åœ¨å·²ç»é€šè¿‡HTTPç«¯ç‚¹å®ç°äº†å…¨æ–‡æœç´¢ã€‚</p><p>æ­£å¦‚æˆ‘åœ¨è¿™ç¯‡åšå®¢ä¸­å¤šæ¬¡æåˆ°çš„ï¼ŒHibernateæœç´¢æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ï¼Œè€Œæˆ‘ä»¬åœ¨è¿™é‡Œåªæ˜¯æµ…å°è¾„æ­¢è€Œå·²ã€‚</p><!-- https://gauthier-cassany.com/posts/spring-boot-hibernate-search -->]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> API </tag>
            
            <tag> Spring </tag>
            
            <tag> Hibernate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Hibernateå»ºç«‹ä¸€ä¸ªå¸¦æœ‰åˆ†é¡µçš„å…¨æ–‡æœç´¢çš„Spring Boot REST API</title>
      <link href="/Build-a-Spring-Boot-REST-API-with-Paginated-Full-Text-Search-using-Hibernate-Search.html"/>
      <url>/Build-a-Spring-Boot-REST-API-with-Paginated-Full-Text-Search-using-Hibernate-Search.html</url>
      
        <content type="html"><![CDATA[<img src="/Build-a-Spring-Boot-REST-API-with-Paginated-Full-Text-Search-using-Hibernate-Search/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨<a href="https://pangz.fun/Build-a-Spring-Boot-REST-API-with-Full-Text-Search-using-Hibernate-Search.html">ä¹‹å‰çš„æ–‡ç« </a>ä¸­ï¼Œæˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨Hibernate Searchä¸ºSpring Boot Rest APIæ·»åŠ å…¨æ–‡æœç´¢ã€‚</p><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åœ¨æ­¤åŸºç¡€ä¸Šï¼Œå­¦ä¹ å¦‚ä½•å‘ç°æœ‰çš„REST APIæ·»åŠ åˆ†é¡µæœç´¢ã€‚</p><span id="more"></span><h3 id="é¡¹ç›®è®¾ç½®"><a href="#é¡¹ç›®è®¾ç½®" class="headerlink" title="é¡¹ç›®è®¾ç½®"></a>é¡¹ç›®è®¾ç½®</h3><p>ä½ å¯ä»¥æŸ¥çœ‹ä¹‹å‰çš„åšæ–‡ï¼Œä»¥è·å¾—å…³äºå¦‚ä½•ä½¿ç”¨Spring Initializerè®¾ç½®é¡¹ç›®çš„è¯¦ç»†æ”»ç•¥ã€‚</p><h3 id="æ‰©å±•æ•°æ®æ¨¡å‹"><a href="#æ‰©å±•æ•°æ®æ¨¡å‹" class="headerlink" title="æ‰©å±•æ•°æ®æ¨¡å‹"></a>æ‰©å±•æ•°æ®æ¨¡å‹</h3><p>é¦–å…ˆè¦è§£å†³çš„æ˜¯æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥æ¥æ”¶æ·»åŠ åˆ†é¡µæ‰€éœ€çš„æ–°æ•°æ®ã€‚</p><p>ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ‰©å±•SearchRequestDTOã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">EqualsAndHashCode</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Min</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@EqualsAndHashCode</span><span class="token punctuation">(</span>callSuper <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageableSearchRequestDTO</span> <span class="token keyword">extends</span> <span class="token class-name">SearchRequestDTO</span><span class="token punctuation">{</span>    <span class="token annotation punctuation">@Min</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> pageOffset<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬åªéœ€è¦å®šä¹‰ä¸€ä¸ªæ–°å­—æ®µï¼ŒpageOffsetã€‚è¿™ä¸ªå­—æ®µæ˜¯ç”¨æ¥æ§åˆ¶æˆ‘ä»¬è¦æŸ¥è¯¢çš„é¡µé¢çš„ç´¢å¼•ã€‚</p><p>æˆ‘ä»¬è¿˜å®šä¹‰äº†ä¸€ä¸ªæ–°çš„PageDTOã€‚è¿™ä¸ªæ•°æ®ç»“æ„ç”¨æ¥ä¿å­˜æˆ‘ä»¬åˆ†é¡µæœç´¢çš„ç»“æœã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">AllArgsConstructor</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">NoArgsConstructor</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PageDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> content<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">long</span> total<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ‰©å±•æ•°æ®å±‚"><a href="#æ‰©å±•æ•°æ®å±‚" class="headerlink" title="æ‰©å±•æ•°æ®å±‚"></a>æ‰©å±•æ•°æ®å±‚</h3><p>æˆ‘ä»¬åœ¨SearchRepositoryæ¥å£ä¸­å£°æ˜ä¸€ä¸ªæ–°çš„searchPageByå‡½æ•°ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>repository</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PageDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">JpaRepository</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">NoRepositoryBean</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@NoRepositoryBean</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID <span class="token keyword">extends</span> <span class="token class-name">Serializable</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">JpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchBy</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">PageDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPageBy</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªç­¾åä¸ç°æœ‰çš„ searchBy å‡½æ•°éå¸¸ç›¸ä¼¼ã€‚æˆ‘ä»¬åªæ˜¯æ·»åŠ äº†æ–°çš„åç§»é‡å‚æ•°ï¼Œè¡¨ç¤ºè¦æŸ¥è¯¢çš„é¡µé¢ã€‚</p><p>æˆ‘ä»¬æŠŠè¿™ä¸ªå˜åŒ–å¤åˆ¶åˆ°SearchRepositoryImplç±»ä¸­ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>repository</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PageDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>engine<span class="token punctuation">.</span>search<span class="token punctuation">.</span>query<span class="token punctuation">.</span></span><span class="token class-name">SearchResult</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>orm<span class="token punctuation">.</span></span><span class="token class-name">Search</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>hibernate<span class="token punctuation">.</span>search<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span>orm<span class="token punctuation">.</span>session<span class="token punctuation">.</span></span><span class="token class-name">SearchSession</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">JpaEntityInformation</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>data<span class="token punctuation">.</span>jpa<span class="token punctuation">.</span>repository<span class="token punctuation">.</span>support<span class="token punctuation">.</span></span><span class="token class-name">SimpleJpaRepository</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>transaction<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Transactional</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>persistence<span class="token punctuation">.</span></span><span class="token class-name">EntityManager</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Transactional</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID <span class="token keyword">extends</span> <span class="token class-name">Serializable</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">SimpleJpaRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span>        <span class="token keyword">implements</span> <span class="token class-name">SearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> domainClass<span class="token punctuation">,</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>domainClass<span class="token punctuation">,</span> entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>entityManager <span class="token operator">=</span> entityManager<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">SearchRepositoryImpl</span><span class="token punctuation">(</span>            <span class="token class-name">JpaEntityInformation</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> ID<span class="token punctuation">&gt;</span></span> entityInformation<span class="token punctuation">,</span> <span class="token class-name">EntityManager</span> entityManager<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>entityInformation<span class="token punctuation">,</span> entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>entityManager <span class="token operator">=</span> entityManager<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchBy</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token function">getSearchResult</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">hits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">PageDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPageBy</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token function">getSearchResult</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> offset<span class="token punctuation">,</span> fields<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">PageDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">hits</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">total</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hitCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">getSearchResult</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">int</span> offset<span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">SearchSession</span> searchSession <span class="token operator">=</span> <span class="token class-name">Search</span><span class="token punctuation">.</span><span class="token function">session</span><span class="token punctuation">(</span>entityManager<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SearchResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span>                searchSession                        <span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token function">getDomainClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>f <span class="token operator">-&gt;</span> f<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fields</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matching</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fuzzy</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">fetch</span><span class="token punctuation">(</span>offset<span class="token punctuation">,</span> limit<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡æ·»åŠ ä¸€ä¸ªæ–°çš„ â€œoffset â€œå‚æ•°æ¥é‡æ–°ä½¿ç”¨ç°æœ‰çš„ getSearchResult æ–¹æ³•ã€‚ç„¶åæˆ‘ä»¬åœ¨Hibernate Search fetch()æ–¹æ³•ä¸­ä½¿ç”¨è¿™ä¸ªå‚æ•°ï¼Œè¯¥æ–¹æ³•å·²ç»æä¾›äº†ä¸€ä¸ªç­¾åï¼Œæ¥å—offsetå‚æ•°ç”¨äºåˆ†é¡µçš„ç›®çš„ã€‚</p><p>PageDTOæ˜¯ä½¿ç”¨æœç´¢æŸ¥è¯¢çš„ç»“æœå»ºç«‹çš„ã€‚</p><h3 id="æ‰©å±•ä¸šåŠ¡å±‚"><a href="#æ‰©å±•ä¸šåŠ¡å±‚" class="headerlink" title="æ‰©å±•ä¸šåŠ¡å±‚"></a>æ‰©å±•ä¸šåŠ¡å±‚</h3><p>æˆ‘ä»¬å¯ä»¥åœ¨ç°æœ‰é€»è¾‘çš„åŸºç¡€ä¸Šï¼Œæå–å¤„ç†å­—æ®µçš„éƒ¨åˆ†è¿›è¡Œæœç´¢ï¼Œä»¥é¿å…é‡å¤ï¼Œç„¶åæ ¹æ®æˆ‘ä»¬ä½¿ç”¨searchPlant()æ–¹æ³•æˆ–searchPlantPage()æ–¹æ³•ï¼Œåœ¨æœ‰æˆ–æ²¡æœ‰åˆ†é¡µçš„æƒ…å†µä¸‹è°ƒç”¨èµ„æºåº“å‡½æ•°ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PageDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Plant</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>repository<span class="token punctuation">.</span></span><span class="token class-name">PlantRepository</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlantService</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">PlantRepository</span> plantRepository<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">SEARCHABLE_FIELDS</span> <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span><span class="token string">"scientificName"</span><span class="token punctuation">,</span><span class="token string">"family"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">PlantService</span><span class="token punctuation">(</span><span class="token class-name">PlantRepository</span> plantRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>plantRepository <span class="token operator">=</span> plantRepository<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPlants</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fields<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldsToSearchBy <span class="token operator">=</span> <span class="token function">getFieldsToSearchBy</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> plantRepository<span class="token punctuation">.</span><span class="token function">searchBy</span><span class="token punctuation">(</span>                text<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> fieldsToSearchBy<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">PageDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPlantPage</span><span class="token punctuation">(</span><span class="token class-name">String</span> text<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fields<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">,</span> <span class="token keyword">int</span> pageOffset<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldsToSearchBy <span class="token operator">=</span> <span class="token function">getFieldsToSearchBy</span><span class="token punctuation">(</span>fields<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> plantRepository<span class="token punctuation">.</span><span class="token function">searchPageBy</span><span class="token punctuation">(</span>                text<span class="token punctuation">,</span> limit<span class="token punctuation">,</span> pageOffset<span class="token punctuation">,</span> fieldsToSearchBy<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>        <span class="token comment">// We extract the common logic in a separate function</span>    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getFieldsToSearchBy</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> fieldsToSearchBy <span class="token operator">=</span> fields<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">SEARCHABLE_FIELDS</span> <span class="token operator">:</span> fields<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> containsInvalidField <span class="token operator">=</span> fieldsToSearchBy<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">anyMatch</span><span class="token punctuation">(</span>f <span class="token operator">-&gt;</span> <span class="token operator">!</span><span class="token constant">SEARCHABLE_FIELDS</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>containsInvalidField<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> fieldsToSearchBy<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ‰©å±•ç½‘ç»œå±‚"><a href="#æ‰©å±•ç½‘ç»œå±‚" class="headerlink" title="æ‰©å±•ç½‘ç»œå±‚"></a>æ‰©å±•ç½‘ç»œå±‚</h3><p>åœ¨è¿™é‡Œé¢æ²¡æœ‰ä»€ä¹ˆå¯åšçš„ã€‚</p><p>æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªæ–°çš„ç«¯ç‚¹ï¼Œé€šè¿‡ä½¿ç”¨æˆ‘ä»¬æ–°çš„PageableSearchRequestDTOæ¥æ¥æ”¶åˆ†é¡µçš„æœç´¢è¯·æ±‚ï¼Œå¹¶è¿”å›ä¸€ä¸ªPageDTOã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PageDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PageableSearchRequestDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Plant</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">SearchRequestDTO</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>mozen<span class="token punctuation">.</span>springbootpaginatedsearch<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">PlantService</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span>extern<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Slf4j</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/plant"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PlantController</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">PlantService</span> plantService<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">PlantController</span><span class="token punctuation">(</span><span class="token class-name">PlantService</span> plantService<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>plantService <span class="token operator">=</span> plantService<span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/search"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPlants</span><span class="token punctuation">(</span><span class="token class-name">SearchRequestDTO</span> searchRequestDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Request for plant search received with data : "</span> <span class="token operator">+</span> searchRequestDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> plantService<span class="token punctuation">.</span><span class="token function">searchPlants</span><span class="token punctuation">(</span>searchRequestDTO<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> searchRequestDTO<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> searchRequestDTO<span class="token punctuation">.</span><span class="token function">getLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/search/page"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">PageDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Plant</span><span class="token punctuation">&gt;</span></span> <span class="token function">searchPlantPage</span><span class="token punctuation">(</span><span class="token class-name">PageableSearchRequestDTO</span> pageableSearchRequestDTO<span class="token punctuation">)</span> <span class="token punctuation">{</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Request for plant page search received with data : "</span> <span class="token operator">+</span> pageableSearchRequestDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> plantService<span class="token punctuation">.</span><span class="token function">searchPlantPage</span><span class="token punctuation">(</span>pageableSearchRequestDTO<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pageableSearchRequestDTO<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pageableSearchRequestDTO<span class="token punctuation">.</span><span class="token function">getLimit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> pageableSearchRequestDTO<span class="token punctuation">.</span><span class="token function">getPageOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬è®°å½•æ”¶åˆ°çš„è¯·æ±‚æ•°æ®å¹¶è°ƒç”¨æˆ‘ä»¬åœ¨PlantServiceä¸­å®šä¹‰çš„æ–°å‡½æ•°ã€‚</p><h3 id="æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·"><a href="#æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·" class="headerlink" title="æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·"></a>æŠŠå®ƒä»¬æ”¾åœ¨ä¸€èµ·</h3><p>æ˜¯æ—¶å€™æµ‹è¯•æˆ‘ä»¬çš„ä»£ç äº†!</p><p>æˆ‘ä»¬å¯ä»¥ç”¨å‘½ä»¤è¡Œå¯åŠ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p><pre class="line-numbers language-none"><code class="language-none">mvn spring-boot:run<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸ç¬¬ä¸€ç¯‡æ–‡ç« ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Postman â€¦</p><p>æˆ–è€…æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç®€å•çš„cUrlå‘½ä»¤ã€‚</p><pre class="line-numbers language-none"><code class="language-none">// Request page 1 with 2 items per page on all fields curl -X GET 'http://localhost:9000/plant/search?text=cherry&amp;limit=2&amp;pageOffset=1' // Request page 2 with 3 items per page on scientificName field curl -X GET 'http://localhost:9000/plant/search?text=asian&amp;limit=3&amp;fields=name&amp;fields=scientificName&amp;pageOffset=2'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å·²ç»å®Œæˆäº†! æˆ‘ä»¬çš„å…¨æ–‡æœç´¢å®ç°ç°åœ¨æ”¯æŒåˆ†é¡µäº†ã€‚</p><!-- https://medium.com/javarevisited/build-a-spring-boot-rest-api-with-paginated-full-text-search-using-hibernate-search-1143438b6a1d -->]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> API </tag>
            
            <tag> Spring </tag>
            
            <tag> Hibernate </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•åœ¨Flutterä¸­å®ç°è®¢é˜…çš„åº”ç”¨å†…è´­ä¹°</title>
      <link href="/How-to-Implement-Subscriptions-In-App-Purchase-in-Flutter.html"/>
      <url>/How-to-Implement-Subscriptions-In-App-Purchase-in-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/How-to-Implement-Subscriptions-In-App-Purchase-in-Flutter/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ä»¬ä»¥è¿™ç§æˆ–é‚£ç§æ–¹å¼å»ºç«‹æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼ŒæœŸæœ›ç€ä»ä¸­èµšé’±ã€‚<br>æœ‰æ—¶æˆ‘ä»¬å‡ºå”®å¹¿å‘Šå¹¶è¦æ±‚ç”¨æˆ·å‡çº§ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒï¼Œè€Œæœ‰æ—¶æˆ‘ä»¬æœ‰åªé’ˆå¯¹ä»˜è´¹ç”¨æˆ·çš„ä¼˜è´¨å†…å®¹ã€‚</p><span id="more"></span><p>ä¸ºäº†æ·»åŠ é«˜çº§ç”¨æˆ·åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ ä¸€ä¸ªæ”¯ä»˜ç½‘å…³ã€‚é…ç½®æ”¯ä»˜ç½‘å…³æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ã€‚<br>æ‰€ä»¥ï¼Œé›†æˆæ”¯ä»˜ç½‘å…³çš„æœ€ç®€å•æ–¹æ³•æ˜¯åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­æ·»åŠ åº”ç”¨å†…è´­ä¹°ã€‚</p><p>åœ¨æˆ‘ä»¬å¼€å§‹ä¹‹å‰ï¼Œæˆ‘æƒ³ç»™ä½ æä¸ªé†’ï¼Œè¿™ç¯‡æ–‡ç« ä¼šæœ‰ç‚¹é•¿ã€‚<br>åœ¨å¤„ç†æ”¯ä»˜ç›¸å…³çš„äº‹æƒ…ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥äº†è§£æ¯ä¸€ä¸ªç»†èŠ‚ã€‚æ‰€ä»¥ï¼Œåœ¨ä½ å¼€å§‹æ·±å…¥äº†è§£Flutterä¸­çš„åº”ç”¨å†…è®¢é˜…è´­ä¹°ä¹‹å‰ï¼Œå…ˆç»™è‡ªå·±æ‹¿æ¯å’–å•¡ï¼Œè¾¹å–è¾¹æ…¢æ…¢å¾€ä¸‹çœ‹ã€‚</p><p>åœ¨æˆ‘ä»¬è¿›å…¥ç¼–ç éƒ¨åˆ†ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å¤šè°ˆè°ˆåº”ç”¨å†…è´­ä¹°ä»¥åŠå®ƒåœ¨ä¸¤ä¸ªå¹³å°ä¸Šçš„ä¸åŒä¹‹å¤„ã€‚</p><p>ä¸¤ä¸ªå¹³å°ä¸Šçš„åº”ç”¨å†…è´­ä¹°äº§å“éƒ½æœ‰äº›è®¸çš„åŒºåˆ«ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬æ˜¯ä»€ä¹ˆï¼š</p><h4 id="å®‰å“ç³»ç»Ÿä¸­çš„äº§å“"><a href="#å®‰å“ç³»ç»Ÿä¸­çš„äº§å“" class="headerlink" title="å®‰å“ç³»ç»Ÿä¸­çš„äº§å“"></a>å®‰å“ç³»ç»Ÿä¸­çš„äº§å“</h4><ul><li>æ¶ˆè€—æ€§äº§å“ï¼šåƒæ¸¸æˆä¸­çš„è´§å¸ä¸€æ ·çš„äº§å“æ˜¯å¯æ¶ˆè€—çš„äº§å“ã€‚ä¸€æ—¦ç”¨æˆ·æ¶ˆè€—äº†å®ƒä»¬ï¼Œç”¨æˆ·å°±å¯ä»¥å†æ¬¡è´­ä¹°å®ƒã€‚</li><li>éæ¶ˆè€—æ€§äº§å“ï¼šè¿™äº›äº§å“åªèƒ½è´­ä¹°ä¸€æ¬¡ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªæ°¸ä¹…æ€§çš„å¥½å¤„ã€‚</li><li>è®¢é˜…äº§å“ï¼šè¿™äº›äº§å“åœ¨æœ‰é™çš„æ—¶é—´å†…ç»™ç”¨æˆ·å¸¦æ¥å¥½å¤„ã€‚ä½ å¯ä»¥å°†Netflixã€Mediumã€Spotifyçš„è®¢é˜…ä¸è¿™äº›äº§å“è¿›è¡Œæ¯”è¾ƒã€‚è®¢é˜…ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œç›´åˆ°è¢«å–æ¶ˆã€‚</li></ul><h4 id="iOSä¸­çš„äº§å“"><a href="#iOSä¸­çš„äº§å“" class="headerlink" title="iOSä¸­çš„äº§å“"></a>iOSä¸­çš„äº§å“</h4><ul><li>å¯æ¶ˆè´¹äº§å“ï¼Œå’Œå®‰å“ä¸€æ ·ã€‚</li><li>éæ¶ˆè´¹æ€§äº§å“å’Œå®‰å“ä¸€æ ·ã€‚</li><li>è‡ªåŠ¨æ›´æ–°çš„è®¢é˜…ä¸å®‰å“ç³»ç»Ÿçš„è®¢é˜…ç›¸åŒã€‚</li><li>éç»­è®¢äº§å“ï¼šå®ƒå‡ ä¹ä¸è‡ªåŠ¨ç»­è®¢ç›¸ä¼¼ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒä¸ä¼šè‡ªåŠ¨æ›´æ–°ã€‚</li></ul><blockquote><p>å¯¹äºiOSå’ŒAndroidï¼Œä½ ä¸èƒ½åœ¨è®¢é˜…åˆ°æœŸå‰é‡æ–°è´­ä¹°ã€‚</p></blockquote><p>æ ¹æ®å®é™…æƒ…å†µï¼Œä½ å¿…é¡»åœ¨Google Play Consoleå’ŒApp Store Connectä¸Šåˆ›å»ºå¯¹åº”çš„äº§å“ã€‚<br>è¿™ä¸¤ä¸ªå¹³å°éƒ½æä¾›äº†è¯¸å¦‚å®½é™æœŸã€è¯•ç”¨æœŸã€å‡çº§æˆ–é™çº§è®¢é˜…ç­‰åŠŸèƒ½ã€‚</p><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°å¦‚ä½•åœ¨Flutteråº”ç”¨ç¨‹åºä¸­æ·»åŠ è®¢é˜…ã€‚ä¸ºäº†æµ‹è¯•åº”ç”¨å†…è´­ä¹°ï¼Œä½ çš„åº”ç”¨å¿…é¡»åœ¨å®‰å“ä¸­æœ‰ä¸€ä¸ªalphaç‰ˆæœ¬ã€‚</p><h3 id="ç¬¬1æ­¥ï¼šåˆ›å»ºä¸€ä¸ªäº§å“"><a href="#ç¬¬1æ­¥ï¼šåˆ›å»ºä¸€ä¸ªäº§å“" class="headerlink" title="ç¬¬1æ­¥ï¼šåˆ›å»ºä¸€ä¸ªäº§å“"></a>ç¬¬1æ­¥ï¼šåˆ›å»ºä¸€ä¸ªäº§å“</h3><h4 id="ä¸ºå®‰å“ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªäº§å“"><a href="#ä¸ºå®‰å“ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªäº§å“" class="headerlink" title="ä¸ºå®‰å“ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªäº§å“"></a>ä¸ºå®‰å“ç³»ç»Ÿåˆ›å»ºä¸€ä¸ªäº§å“</h4><ol><li>è¿›å…¥Google Playæ§åˆ¶å°ã€‚</li><li>é€‰æ‹©ä½ æƒ³åˆ›å»ºè®¢é˜…çš„åº”ç”¨ç¨‹åºã€‚</li><li>åœ¨è´§å¸åŒ–&gt;äº§å“ä¸‹çš„èœå•å†…é€‰æ‹©è®¢é˜…ã€‚</li><li>åœ¨è¡¨æ ¼ä¸­å¡«å†™æ‰€éœ€ä¿¡æ¯ï¼Œè¿™é‡Œäº§å“IDæ˜¯æœ€é‡è¦çš„å­—æ®µï¼Œäº§å“IDæ˜¯ç”¨æ¥å”¯ä¸€åœ°è¯†åˆ«æ¯ä¸ªäº§å“ã€‚</li></ol><blockquote><p>ä¸è¦å¿˜è®°æ¿€æ´»æ–°åˆ›å»ºçš„è®¢é˜…ã€‚</p></blockquote><h4 id="ä¸ºiOSåˆ›å»ºä¸€ä¸ªäº§å“"><a href="#ä¸ºiOSåˆ›å»ºä¸€ä¸ªäº§å“" class="headerlink" title="ä¸ºiOSåˆ›å»ºä¸€ä¸ªäº§å“"></a>ä¸ºiOSåˆ›å»ºä¸€ä¸ªäº§å“</h4><ol><li>è¿›å…¥App Store Connectã€‚</li><li>é€‰æ‹©ä½ æƒ³åˆ›å»ºè®¢é˜…çš„åº”ç”¨ç¨‹åºã€‚</li><li>åœ¨åº”ç”¨å†…è´­ä¹°ä¸‹çš„ä¾§é¢èœå•ä¸­ï¼Œéƒ¨åˆ†é€‰æ‹©ç®¡ç†é€‰é¡¹ã€‚</li><li>ç‚¹å‡»åŠ å·æ¥æ·»åŠ æ–°äº§å“ï¼Œå¹¶é€‰æ‹©ä½ æƒ³è¦çš„è®¢é˜…ç±»å‹ã€‚(åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†é€‰æ‹©è‡ªåŠ¨ç»­è®¢ï¼‰ã€‚</li><li>è¾“å…¥äº§å“åç§°å’Œäº§å“IDã€‚è¿™é‡Œçš„äº§å“IDä¸androidç›¸åŒã€‚</li><li>é€‰æ‹©ä¸€ä¸ªè®¢é˜…ç»„æˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„ç»„ã€‚</li><li>å¡«å†™æ¯ä¸€ä¸ªå¼ºåˆ¶æ€§çš„ç»†èŠ‚ã€‚å¦‚æœäº§å“ç¼ºå°‘ä»»ä½•ç»†èŠ‚ï¼Œé‚£ä¹ˆè¯¥äº§å“çš„çŠ¶æ€å°†æ˜¯ç¼ºå°‘å…ƒæ•°æ®ã€‚å¡«å†™æ¯ä¸ªç»†èŠ‚ï¼Œç›´åˆ°çŠ¶æ€å˜ä¸º â€œå‡†å¤‡æäº¤â€ã€‚</li></ol><blockquote><p>ä¸ºäº†ç®€å•èµ·è§ï¼Œä¸¤ä¸ªå¹³å°ä¸Šçš„ç›¸åŒäº§å“ä½¿ç”¨ç›¸åŒçš„äº§å“IDã€‚<br>ç”¨æˆ·å¯ä»¥åœ¨ä¸€ä¸ªè®¢é˜…ç»„ä¸­æ¿€æ´»ä»»ä½•ä¸€ä¸ªäº§å“ï¼Œç”¨æˆ·å¯ä»¥åœ¨è¯¥ç»„ä¸­å‡çº§å’Œé™çº§ä»–ä»¬çš„è®¢é˜…ã€‚</p></blockquote><p>è€¶! ä½ å·²ç»æˆåŠŸåœ°ä¸ºä¸¤ä¸ªå¹³å°åˆ›å»ºäº†ä¸€ä¸ªäº§å“ã€‚</p><p>ç°åœ¨è®©æˆ‘ä»¬è¿›å…¥ç¬¬äºŒæ­¥ã€‚</p><h3 id="ç¬¬2æ­¥ï¼šè®¾ç½®æµ‹è¯•è´¦æˆ·"><a href="#ç¬¬2æ­¥ï¼šè®¾ç½®æµ‹è¯•è´¦æˆ·" class="headerlink" title="ç¬¬2æ­¥ï¼šè®¾ç½®æµ‹è¯•è´¦æˆ·"></a>ç¬¬2æ­¥ï¼šè®¾ç½®æµ‹è¯•è´¦æˆ·</h3><p>åœ¨å‘å¸ƒåˆ°ç¨³å®šç‰ˆä¹‹å‰ï¼Œä½ ä¸€å®šéœ€è¦æµ‹è¯•åº”ç”¨å†…è´­ä¹°æµç¨‹ã€‚</p><p>ä½ ä¸å¸Œæœ›åœ¨æµ‹è¯•åº”ç”¨å†…è´­ä¹°æµç¨‹æ—¶ï¼Œæ¯æ¬¡è´­ä¹°äº§å“éƒ½è¦ä»˜è´¹ã€‚ä¸ºæ­¤ï¼Œä½ å¿…é¡»ä¸ºAndroidå’ŒiOSè®¾ç½®ä¸€ä¸ªæµ‹è¯•è€…è´¦æˆ·ã€‚</p><h4 id="ä¸ºå®‰å“è®¾ç½®æµ‹è¯•è´¦æˆ·"><a href="#ä¸ºå®‰å“è®¾ç½®æµ‹è¯•è´¦æˆ·" class="headerlink" title="ä¸ºå®‰å“è®¾ç½®æµ‹è¯•è´¦æˆ·"></a>ä¸ºå®‰å“è®¾ç½®æµ‹è¯•è´¦æˆ·</h4><p>ä¸ºå®‰å“è®¾ç½®æµ‹è¯•è´¦æˆ·éå¸¸å®¹æ˜“ã€‚åªè¦éµå¾ªä»¥ä¸‹ä¸¤ä¸ªæ­¥éª¤ï¼Œä½ å°±å¯ä»¥è¿›è¡Œæµ‹è¯•äº†ã€‚</p><ol><li>åœ¨åº”ç”¨ç¨‹åºçš„è®¸å¯æµ‹è¯•è€…ä¸­æ·»åŠ æµ‹è¯•è€…çš„ç”µå­é‚®ä»¶åœ°å€ã€‚</li><li>åœ¨åº”ç”¨ç¨‹åºçš„æµ‹è¯•è€…åˆ—è¡¨ä¸­æ·»åŠ ç›¸åŒçš„ç”µå­é‚®ä»¶åœ°å€ã€‚</li></ol><h4 id="ä¸ºiOSè®¾ç½®æµ‹è¯•è´¦æˆ·"><a href="#ä¸ºiOSè®¾ç½®æµ‹è¯•è´¦æˆ·" class="headerlink" title="ä¸ºiOSè®¾ç½®æµ‹è¯•è´¦æˆ·"></a>ä¸ºiOSè®¾ç½®æµ‹è¯•è´¦æˆ·</h4><p>ä¸ºiOSè®¾ç½®æ²™ç›’æµ‹è¯•è´¦æˆ·ä¸åƒAndroidé‚£æ ·ç®€å•ï¼š</p><ol><li>è½¬åˆ°åº”ç”¨ç¨‹åºå•†åº—è¿æ¥</li><li>è½¬åˆ°ç”¨æˆ·å’Œè®¿é—®</li><li>åœ¨å·¦ä¾§ï¼Œä½ ä¼šå‘ç°æ²™ç›’ä¸‹çš„æµ‹è¯•è€…é€‰é¡¹ã€‚ç‚¹å‡»å®ƒã€‚</li><li>ç‚¹å‡»åŠ å·ï¼Œæ·»åŠ ä¸€ä¸ªæ²™ç›’æµ‹è¯•è€…ã€‚</li></ol><p>æ·»åŠ ä¸€ä¸ªæ²™ç›’æµ‹è¯•è€…å°±åƒåˆ›å»ºä¸€ä¸ªæ–°çš„è‹¹æœIDã€‚ä½ ä¸èƒ½ä½¿ç”¨ç°æœ‰çš„è‹¹æœIDä½œä¸ºæ²™ç›’æµ‹è¯•è€…çš„ç”µå­é‚®ä»¶åœ°å€ã€‚ä½ å¿…é¡»åˆ›å»ºä¸€ä¸ªæ–°çš„ç”µå­é‚®ä»¶åœ°å€ç”¨äºæµ‹è¯•ã€‚</p><blockquote><p>æç¤ºï¼šä½ å¯ä»¥ä½¿ç”¨ä¸´æ—¶ç”µå­é‚®ä»¶åœ°å€æœåŠ¡æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„æ²™ç›’æµ‹è¯•å‘˜è´¦æˆ·ã€‚</p></blockquote><p>åœ¨iOSä¸­å¤„ç†åº”ç”¨å†…è´­ä¹°æ—¶ï¼Œç”¨è¿™ä¸ªè´¦æˆ·ç™»å½•ã€‚</p><p>åœ¨æˆ‘ä»¬çœŸæ­£å¼€å§‹ç¼–ç ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦äº†è§£åº”ç”¨å†…è´­ä¹°åœ¨å®‰å“å’ŒiOSä¸Šæ˜¯å¦‚ä½•è¿ä½œçš„ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ã€‚</p><h3 id="ç¬¬3æ­¥ï¼šäº†è§£è´­ä¹°è®¢é˜…çš„å·¥ä½œæ–¹å¼"><a href="#ç¬¬3æ­¥ï¼šäº†è§£è´­ä¹°è®¢é˜…çš„å·¥ä½œæ–¹å¼" class="headerlink" title="ç¬¬3æ­¥ï¼šäº†è§£è´­ä¹°è®¢é˜…çš„å·¥ä½œæ–¹å¼"></a>ç¬¬3æ­¥ï¼šäº†è§£è´­ä¹°è®¢é˜…çš„å·¥ä½œæ–¹å¼</h3><img src="/How-to-Implement-Subscriptions-In-App-Purchase-in-Flutter/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸¤ä¸ªå¹³å°çš„è´­ä¹°æµç¨‹æˆ–å¤šæˆ–å°‘æœ‰äº›ç±»ä¼¼ã€‚</p><p>åœ¨åº”ç”¨ç¨‹åºå¼€å§‹æ—¶ï¼Œä½ å¯åŠ¨ä¸è°·æ­Œ/è‹¹æœè®¡è´¹æœåŠ¡å™¨çš„è¿æ¥ã€‚<br>å¦‚æœè®¡è´¹SDKä¸æ”¯æŒç‰¹å®šçš„æ“ä½œç³»ç»Ÿç‰ˆæœ¬ï¼Œè¿æ¥åˆå§‹åŒ–å¯èƒ½ä¼šå¤±è´¥ã€‚</p><p>è¿æ¥åˆå§‹åŒ–åï¼Œä½ çš„åº”ç”¨ç¨‹åºä¼šè®¢é˜…è®¡è´¹æœåŠ¡å™¨çš„PurchaseUpdateStreamã€‚è®¡è´¹æœåŠ¡å™¨é€šè¿‡PurchaseUpdateStreamé€šçŸ¥ä½ å½“å‰ç”¨æˆ·çš„æ¯æ¬¡è´­ä¹°çŠ¶æ€ï¼ˆé€šè¿‡åº”ç”¨å†…éƒ¨æˆ–å¤–éƒ¨ä»Play Store/App Storeè·å–ï¼‰ã€‚</p><p>åœ¨ä½ çš„åº”ç”¨ç¨‹åºæˆåŠŸè®¢é˜…PurchaseUpdateStreamåï¼Œä½ ä¸ºç”¨æˆ·åŠ è½½ä¸€ä¸ªæ‰€æœ‰å¯ç”¨äº§å“çš„åˆ—è¡¨ã€‚</p><p>ç”¨æˆ·ä»åˆ—è¡¨ä¸­é€‰æ‹©ä»»ä½•äº§å“å¹¶è¿›ä¸€æ­¥è´­ä¹°è¯¥äº§å“ã€‚ç°åœ¨ä¼šå‘ç”Ÿä»¥ä¸‹äº‹ä»¶ï¼š</p><ol><li>åº”ç”¨ç¨‹åºé€šçŸ¥è®¡è´¹æœåŠ¡å™¨ï¼Œå½“å‰ç”¨æˆ·æƒ³è¦è´­ä¹°è¿™ä¸ªäº§å“IDçš„äº§å“ã€‚</li><li>è®¡è´¹æœåŠ¡å™¨è¿›è¡Œè´­ä¹°å¹¶è¿”å›å“åº”ã€‚</li><li>å“åº”é€šè¿‡PurchaseUpdateStreamåˆ°è¾¾åº”ç”¨ç¨‹åºã€‚</li><li>ä½ çš„åº”ç”¨ç¨‹åºæ£€æŸ¥è´­ä¹°çš„çŠ¶æ€å¹¶é‡‡å–ç›¸åº”çš„è¡ŒåŠ¨ã€‚</li><li>å¦‚æœè´­ä¹°æˆåŠŸï¼Œä½ çš„åº”ç”¨ç¨‹åºå°†é€šçŸ¥ä½ çš„åº”ç”¨ç¨‹åºçš„åç«¯ï¼Œè¿™ä¸ªç”¨æˆ·å·²ç»æˆåŠŸè´­ä¹°äº†ä¸€ä¸ªäº§å“ï¼Œè¿™æ˜¯æˆ‘ä»è®¡è´¹æœåŠ¡å™¨å¾—åˆ°çš„è´­ä¹°ä»¤ç‰Œã€‚åœ¨æœ€ç»ˆç¡®è®¤å‰ï¼Œåº”ç”¨ç¨‹åºçš„åç«¯å°†ä¸è®¡è´¹æœåŠ¡å™¨æ ¸å®è´­ä¹°æƒ…å†µã€‚éªŒè¯æˆåŠŸåï¼Œä½ çš„åº”ç”¨ç¨‹åºçš„åç«¯å°†æŠŠå½“å‰ç”¨æˆ·æ ‡è®°ä¸ºé«˜çº§ç”¨æˆ·å¹¶å“åº”ä½ çš„åº”ç”¨ç¨‹åºã€‚</li><li>ç°åœ¨ä½ çš„åº”ç”¨ç¨‹åºå¿…é¡»å®Œæˆä¸è®¡è´¹æœåŠ¡å™¨çš„äº¤æ˜“ã€‚äº¤æ˜“çš„å®Œæˆæ˜¯å‘Šè¯‰è®¡è´¹æœåŠ¡å™¨ä½ å·²ç»æˆåŠŸåœ°å°†äº§å“äº¤ä»˜ç»™ç”¨æˆ·çš„ä¸€ç§æ–¹å¼ã€‚</li></ol><blockquote><p>äº¤æ˜“çš„å®Œæˆå¯¹äºå®‰å“å’ŒiOSæ˜¯ä¸åŒçš„<br>åœ¨å®‰å“ç³»ç»Ÿä¸­ï¼Œä½ åªéœ€è¦å®ŒæˆæˆåŠŸçš„äº¤æ˜“å³å¯ã€‚<br>åœ¨iOSä¸­ï¼Œä½ å¿…é¡»å®Œæˆæ¯ä¸€ç¬”äº¤æ˜“ï¼Œæ— è®ºäº¤æ˜“çš„çŠ¶æ€å¦‚ä½•ã€‚</p></blockquote><p>äº¤æ˜“å®Œæˆæ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºå¦‚æœä½ åœ¨å®‰å“ç³»ç»Ÿä¸­æ²¡æœ‰å®Œæˆäº¤æ˜“ï¼Œè°·æ­Œå°†é€€è¿˜è´­ä¹°çš„é‡‘é¢ï¼Œè®¤ä¸ºè´­ä¹°å¤±è´¥äº†ã€‚<br>åœ¨äº¤æ˜“è¿‡ç¨‹ä¸­ï¼Œå¦‚æœåº”ç”¨ç¨‹åºå´©æºƒæˆ–å‘ç”Ÿç½‘ç»œé—®é¢˜ï¼Œå½“ç”¨æˆ·å†æ¬¡æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ï¼Œä½ çš„åº”ç”¨ç¨‹åºå°†é€šè¿‡PurchaseUpdateStreamæ”¶åˆ°æ‰€æœ‰æœªå®Œæˆäº¤æ˜“çš„é€šçŸ¥ã€‚<br>å› æ­¤ï¼Œä½ å¯ä»¥ç»§ç»­è´­ä¹°äº§å“çš„è¿‡ç¨‹ã€‚<br>æ ¹æ®ä»åº”ç”¨ç¨‹åºçš„åç«¯å¾—åˆ°çš„å“åº”ï¼Œä½ å°†å‘ç”¨æˆ·å±•ç¤ºä¸€ä¸ªç‰¹å®šçš„æç¤ºä¿¡æ¯ã€‚<br>ç°åœ¨è®©æˆ‘ä»¬è¿›å…¥æœ€åä¸€æ­¥ï¼Œä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼Œåœ¨Flutterä¸­å®é™…æ•´åˆåº”ç”¨å†…è´­ä¹°ã€‚</p><h3 id="ç¬¬4æ­¥ï¼šå°†åº”ç”¨å†…è´­ä¹°ä¸Flutterç»“åˆèµ·æ¥"><a href="#ç¬¬4æ­¥ï¼šå°†åº”ç”¨å†…è´­ä¹°ä¸Flutterç»“åˆèµ·æ¥" class="headerlink" title="ç¬¬4æ­¥ï¼šå°†åº”ç”¨å†…è´­ä¹°ä¸Flutterç»“åˆèµ·æ¥"></a>ç¬¬4æ­¥ï¼šå°†åº”ç”¨å†…è´­ä¹°ä¸Flutterç»“åˆèµ·æ¥</h3><p>è¿™æ˜¯æ‰€æœ‰æ­¥éª¤ä¸­æœ€é‡è¦çš„ä¸€æ­¥ã€‚ä½ å¿…é¡»å¤„ç†è´­ä¹°å’Œä»˜æ¬¾çš„ç›¸å…³ç»†èŠ‚ã€‚ä½ å¿…é¡»å¤„ç†åœ¨è´­ä¹°äº§å“æ—¶å¯èƒ½å‘ç”Ÿçš„æ¯ä¸€ä¸ªä¾‹å¤–ã€‚</p><p>å¦‚æœä½ å·²ç»äº†è§£äº†è´­ä¹°è®¢é˜…çš„æµç¨‹ï¼Œé‚£ä¹ˆè¿™ä¸€æ­¥å¯¹ä½ æ¥è¯´å°±ä¼šæ›´æœ‰æ„ä¹‰ã€‚</p><p>å¥½å“’ï¼Œè®©æˆ‘ä»¬æ¥ç¼–å†™ä»£ç ï¼</p><p>æˆ‘åœ¨æˆ‘çš„åº”ç”¨å†…è´­ä¹°é¡¹ç›®ä¸­ä½¿ç”¨äº†flutter_inapp_purchaseæ’ä»¶ã€‚åŸå› æ˜¯æˆ‘å‘ç°è¿™ä¸ªæ’ä»¶æœ‰å¾ˆå¥½çš„æ–‡æ¡£ï¼Œè€Œä¸”å¾ˆå®¹æ˜“ç†è§£ã€‚</p><p>ä¸ºäº†ç®¡ç†æˆ‘ä»¬çš„ä»£ç ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªåä¸ºpayment_service.dartçš„æ–°æ–‡ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">{</span>  <span class="token comment">/// We want singelton object of ``PaymentService`` so create private constructor</span>  <span class="token comment">/// </span>  <span class="token comment">/// Use PaymentService as ``PaymentService.instance``</span>  <span class="token class-name">PaymentService</span><span class="token punctuation">.</span><span class="token function">_internal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">PaymentService</span> instance <span class="token operator">=</span> <span class="token class-name">PaymentService</span><span class="token punctuation">.</span><span class="token function">_internal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€äº›å˜é‡æ¥å­˜å‚¨æ•°æ®å’Œæµæ¥ç›‘å¬æ‰€æœ‰è´­ä¹°çš„æœ€æ–°çŠ¶æ€ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">{</span>  <span class="token comment">/// We want singelton object of ``PaymentService`` so create private constructor</span>  <span class="token comment">/// </span>  <span class="token comment">/// Use PaymentService as ``PaymentService.instance``</span>  <span class="token class-name">PaymentService</span><span class="token punctuation">.</span><span class="token function">_internal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">PaymentService</span> instance <span class="token operator">=</span> <span class="token class-name">PaymentService</span><span class="token punctuation">.</span><span class="token function">_internal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/// To listen the status of connection between app and the billing server </span>  <span class="token class-name">StreamSubscription</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ConnectionResult</span><span class="token punctuation">&gt;</span></span> _connectionSubscription<span class="token punctuation">;</span>  <span class="token comment">/// To listen the status of the purchase made inside or outside of the app (App Store / Play Store)</span>  <span class="token comment">/// </span>  <span class="token comment">/// If status is not error then app will be notied by this stream</span>  <span class="token class-name">StreamSubscription</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PurchasedItem</span><span class="token punctuation">&gt;</span></span> _purchaseUpdatedSubscription<span class="token punctuation">;</span>  <span class="token comment">/// To listen the errors of the purchase</span>  <span class="token class-name">StreamSubscription</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PurchaseResult</span><span class="token punctuation">&gt;</span></span> _purchaseErrorSubscription<span class="token punctuation">;</span>  <span class="token comment">/// List of product ids you want to fetch</span>  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> _productIds <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string-literal"><span class="token string">'monthly_subscription'</span></span>  <span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">/// All available products will be store in this list</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IAPItem</span><span class="token punctuation">&gt;</span></span> _products<span class="token punctuation">;</span>  <span class="token comment">/// All past purchases will be store in this list</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PurchasedItem</span><span class="token punctuation">&gt;</span></span> _pastPurchases<span class="token punctuation">;</span>  <span class="token comment">/// view of the app will subscribe to this to get notified </span>  <span class="token comment">/// when premium status of the user changes</span>  <span class="token class-name">ObserverList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span> _proStatusChangedListeners <span class="token operator">=</span>      <span class="token keyword">new</span> <span class="token class-name">ObserverList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/// view of the app will subscribe to this to get errors of the purchase</span>  <span class="token class-name">ObserverList</span><span class="token operator">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token operator">&gt;</span> _errorListeners <span class="token operator">=</span>      <span class="token keyword">new</span> <span class="token class-name">ObserverList</span><span class="token operator">&lt;</span><span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">/// logged in user's premium status</span>  bool _isProUser <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isProUser <span class="token operator">=</span><span class="token operator">&gt;</span> _isProUser<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœè§†å›¾ï¼ˆUIï¼‰æƒ³è·å¾—æœ€æ–°çš„æ›´æ–°ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•è®¢é˜…ï¼Œä¹Ÿå¯ä»¥å–æ¶ˆè®¢é˜…ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">/// view can subscribe to _proStatusChangedListeners using this method</span>  <span class="token function">addToProStatusChangedListeners</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _proStatusChangedListeners<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// view can cancel to _proStatusChangedListeners using this method</span>  <span class="token function">removeFromProStatusChangedListeners</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _proStatusChangedListeners<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// view can subscribe to _errorListeners using this method</span>  <span class="token function">addToErrorListeners</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _errorListeners<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// view can cancel to _errorListeners using this method</span>  <span class="token function">removeFromErrorListeners</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _errorListeners<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentServiceå°†ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥é€šçŸ¥æ‰€æœ‰ç›‘å¬å™¨ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">/// Call this method to notify all the subsctibers of _proStatusChangedListeners</span>  <span class="token keyword">void</span> <span class="token function">_callProStatusChangedListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _proStatusChangedListeners<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// Call this method to notify all the subsctibers of _errorListeners</span>  <span class="token keyword">void</span> <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span><span class="token class-name">String</span> error<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _errorListeners<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">callback</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨PaymentServiceå†…éƒ¨åˆ›å»ºinitConnectionå’Œdisposeæ–¹æ³•ã€‚ä¸è¦å¿˜è®°åœ¨ä½ çš„åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è°ƒç”¨initConnectionæ–¹æ³•ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">/// Call this method at the startup of you app to initialize connection </span>  <span class="token comment">/// with billing server and get all the necessary data</span>  <span class="token keyword">void</span> <span class="token function">initConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>initConnection<span class="token punctuation">;</span>    _connectionSubscription <span class="token operator">=</span>        <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>connectionUpdated<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>connected<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        _purchaseUpdatedSubscription <span class="token operator">=</span>        <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>purchaseUpdated<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>_handlePurchaseUpdate<span class="token punctuation">)</span><span class="token punctuation">;</span>    _purchaseErrorSubscription <span class="token operator">=</span>        <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>purchaseError<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span>_handlePurchaseError<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">_getPastPurchases</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// call when user close the app</span>  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _connectionSubscription<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _purchaseErrorSubscription<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _purchaseUpdatedSubscription<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>endConnection<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•å¤„ç†è´­ä¹°é”™è¯¯ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">_handlePurchaseError</span><span class="token punctuation">(</span><span class="token class-name">PurchaseResult</span> purchaseError<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span>purchaseError<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å¤„ç†è´­ä¹°æ›´æ–°ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">/// Called when new updates arrives at ``purchaseUpdated`` stream</span>  <span class="token keyword">void</span> <span class="token function">_handlePurchaseUpdate</span><span class="token punctuation">(</span><span class="token class-name">PurchasedItem</span> productItem<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> <span class="token function">_handlePurchaseUpdateAndroid</span><span class="token punctuation">(</span>productItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> <span class="token function">_handlePurchaseUpdateIOS</span><span class="token punctuation">(</span>productItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºAndroidå’ŒiOSåˆ›å»ºä¸¤ä¸ªç‹¬ç«‹çš„æ–¹æ³•æ¥å¤„ç†è´­ä¹°æ›´æ–°ã€‚<br>åœ¨iOSä¸­ï¼Œæ¯ä¸€ç§æƒ…å†µéƒ½è°ƒç”¨finishTransactionã€‚<br>åœ¨Androidä¸­ï¼Œåªæœ‰å½“çŠ¶æ€ä¸ºè´­ä¹°æ—¶æ‰è°ƒç”¨finishTransactionã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handlePurchaseUpdateIOS</span><span class="token punctuation">(</span><span class="token class-name">PurchasedItem</span> purchasedItem<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>purchasedItem<span class="token punctuation">.</span>transactionStateIOS<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">case</span> <span class="token class-name">TransactionState</span><span class="token punctuation">.</span><span class="token keyword">deferred</span><span class="token punctuation">:</span>        <span class="token comment">// Edit: This was a bug that was pointed out here : https://github.com/dooboolab/flutter_inapp_purchase/issues/234</span>        <span class="token comment">// FlutterInappPurchase.instance.finishTransaction(purchasedItem);</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token class-name">TransactionState</span><span class="token punctuation">.</span>failed<span class="token punctuation">:</span>        <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Transaction Failed"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">finishTransaction</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token class-name">TransactionState</span><span class="token punctuation">.</span>purchased<span class="token punctuation">:</span>        <span class="token keyword">await</span> <span class="token function">_verifyAndFinishTransaction</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token class-name">TransactionState</span><span class="token punctuation">.</span>purchasing<span class="token punctuation">:</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token class-name">TransactionState</span><span class="token punctuation">.</span>restored<span class="token punctuation">:</span>        <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">finishTransaction</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">default</span><span class="token punctuation">:</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token comment">/// three purchase state https://developer.android.com/reference/com/android/billingclient/api/Purchase.PurchaseState</span>  <span class="token comment">/// 0 : UNSPECIFIED_STATE</span>  <span class="token comment">/// 1 : PURCHASED</span>  <span class="token comment">/// 2 : PENDING</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_handlePurchaseUpdateAndroid</span><span class="token punctuation">(</span><span class="token class-name">PurchasedItem</span> purchasedItem<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>purchasedItem<span class="token punctuation">.</span>purchaseStateAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">case</span> <span class="token number">1</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>purchasedItem<span class="token punctuation">.</span>isAcknowledgedAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">await</span> <span class="token function">_verifyAndFinishTransaction</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">break</span><span class="token punctuation">;</span>      <span class="token keyword">default</span><span class="token punctuation">:</span>        <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Something went wrong"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨è®©æˆ‘ä»¬æ¥éªŒè¯ä¸€ä¸‹è´­ä¹°çš„çŠ¶æ€æ˜¯å¦æ˜¯æˆåŠŸçš„ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">/// Call this method when status of purchase is success</span>  <span class="token comment">/// Call API of your back end to verify the reciept</span>  <span class="token comment">/// back end has to call billing server's API to verify the purchase token</span>  <span class="token function">_verifyAndFinishTransaction</span><span class="token punctuation">(</span><span class="token class-name">PurchasedItem</span> purchasedItem<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    bool isValid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token comment">// Call API</span>      isValid <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_verifyPurchase</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name">NoInternetException</span> <span class="token punctuation">{</span>      <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"No Internet"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>      <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Something went wrong"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>isValid<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">finishTransaction</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>      _isProUser <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>      <span class="token comment">// save in sharedPreference here</span>      <span class="token function">_callProStatusChangedListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token function">_callErrorListeners</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Varification failed"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨_verifyPurchaseä¸­è°ƒç”¨ä½ åç«¯çš„APIæ¥éªŒè¯è´­ä¹°ï¼Œå¹¶æ ¹æ®å“åº”æ¥å¤„ç†ç”¨æˆ·ç•Œé¢ã€‚</p><p>ä¸ºäº†è·å¾—æ‰€æœ‰å¯ç”¨çš„äº§å“ï¼Œåœ¨initConnection()ä¸­è°ƒç”¨_getItems()ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">IAPItem</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> products <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>_products <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token function">_getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">return</span> _products<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">_getItems</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">IAPItem</span><span class="token punctuation">&gt;</span></span> items <span class="token operator">=</span>      <span class="token keyword">await</span> <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">getSubscriptions</span><span class="token punctuation">(</span>_productIds<span class="token punctuation">)</span><span class="token punctuation">;</span>  _products <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">in</span> items<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>_products<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ å·²ç»æ³¨æ„åˆ°ï¼Œåœ¨initConnectionä¸­æˆ‘ä»¬æ­£åœ¨è°ƒç”¨_getPastPurchases()æ–¹æ³•ã€‚<br>åœ¨iOSä¸­ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¿”å›è¿‡å»æ‰€æœ‰çš„è´­ä¹°è¡Œä¸ºï¼ˆåªé™äºå·²å®Œæˆçš„ï¼‰ã€‚<br>è¿™ä¸ªæ–¹æ³•åœ¨iOSä¸­çš„å¦ä¸€ä¸ªç”¨é€”æ˜¯å½“ç”¨æˆ·æ›´æ¢è®¾å¤‡æ—¶ï¼Œä½ æƒ³è®©ç”¨æˆ·æ¢å¤ä»–/å¥¹çš„è´­ä¹°è¡Œä¸ºï¼Œé‚£ä¹ˆå°±è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åœ¨Androidä¸­ï¼Œè¿™ä¸ªæ–¹æ³•åªè¿”å›æ´»è·ƒçš„è®¢é˜…ï¼ˆå®Œæˆçš„å’Œæœªå®Œæˆçš„éƒ½æœ‰ï¼‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">_getPastPurchases</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token comment">// remove this if you want to restore past purchases in iOS</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isIOS<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PurchasedItem</span><span class="token punctuation">&gt;</span></span> purchasedItems <span class="token operator">=</span>        <span class="token keyword">await</span> <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">getAvailablePurchases</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> purchasedItem <span class="token keyword">in</span> purchasedItems<span class="token punctuation">)</span> <span class="token punctuation">{</span>      bool isValid <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isAndroid<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">Map</span> map <span class="token operator">=</span> json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">.</span>transactionReceipt<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment">// if your app missed finishTransaction due to network or crash issue</span>          <span class="token comment">// finish transactins</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'acknowledged'</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          isValid <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_verifyPurchase</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>isValid<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">finishTransaction</span><span class="token punctuation">(</span>purchasedItem<span class="token punctuation">)</span><span class="token punctuation">;</span>            _isProUser <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token function">_callProStatusChangedListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>          _isProUser <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>          <span class="token function">_callProStatusChangedListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    _pastPurchases <span class="token operator">=</span> <span class="token class-name">List</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _pastPurchases<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>purchasedItems<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¦è´­ä¹°è¯¥äº§å“ï¼Œè¯·è°ƒç”¨ä»¥ä¸‹æ–¹æ³•ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Null</span><span class="token punctuation">&gt;</span></span> <span class="token function">buyProduct</span><span class="token punctuation">(</span><span class="token class-name">IAPItem</span> item<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token class-name">FlutterInappPurchase</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">requestSubscription</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>productId<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœåœ¨iOSçš„äº¤æ˜“è¿‡ç¨‹ä¸­å‘ç”Ÿä»»ä½•é”™è¯¯ï¼Œé‚£ä¹ˆä¸‹ä¸€æ¬¡å½“ç”¨æˆ·æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ï¼Œç›¸åŒçš„è´­ä¹°é¡¹ç›®å°†ä¼ åˆ°PurchaseUpdateStreamã€‚åœ¨Androidä¸­ï¼Œä½ å°†é€šè¿‡_pastPurchasesè·å¾—æœªå®Œæˆçš„äº¤æ˜“ã€‚</p><p>ç°åœ¨ä½ æ‰€è¦åšçš„å°±æ˜¯åœ¨ä½ çš„åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶è°ƒç”¨initConnectionæ–¹æ³•ã€‚ä»PaymentServiceä¸­è·å–æ‰€æœ‰é¡¹ç›®åˆ°ç”¨æˆ·ç•Œé¢å¹¶å±•ç¤ºä½ çš„äº§å“ã€‚<br>å½“ç”¨æˆ·é€‰æ‹©ä¸€ä¸ªäº§å“å¹¶ç‚¹å‡»è´­ä¹°æŒ‰é’®æ—¶ï¼Œè°ƒç”¨æ‰€é€‰äº§å“çš„buyProduct()æ–¹æ³•ã€‚ä½¿ç”¨_proStatusChangedListenerså’Œ_errorListenersæ¥å¤„ç†æ‰€æœ‰çš„æƒ…å†µã€‚</p><p>è¿™æ ·å°±åšå®Œäº†ï¼</p><p>è¦é˜…è¯»æ›´å¤šå…³äºåº”ç”¨å†…è´­ä¹°çš„ä¿¡æ¯ï¼Œè¯·é˜…è¯»è¿™äº›å®˜æ–¹åšå®¢ã€‚</p><p>å®‰å“ï¼š<a href="https://developer.android.com/google/play/billing/integrate">https://developer.android.com/google/play/billing/integrate</a></p><p>iOS: <a href="https://developer.apple.com/documentation/storekit/in-app_purchase">https://developer.apple.com/documentation/storekit/in-app_purchase</a></p><!-- https://medium.com/bosc-tech-labs-private-limited/how-to-implement-subscriptions-in-app-purchase-in-flutter-7ce8906e608a -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> In-App Purchase </tag>
            
            <tag> Subscriptions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Riverpod + Flutter Hooksï¼šçŠ¶æ€ç®¡ç†çš„æœ€ä½³ç»„åˆ</title>
      <link href="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management.html"/>
      <url>/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management.html</url>
      
        <content type="html"><![CDATA[<img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ç¼–å†™flutterçš„ä»£ç å·²ç»æœ‰äº›å¹´å¤´äº†ã€‚<br>å½“æˆ‘å‘ç°riverpodä¸flutteré’©å­çš„ç®€å•æ€§ç›¸ç»“åˆæ—¶çš„å¼ºå¤§ï¼Œæˆ‘çˆ±ä¸Šäº†å®ƒï¼Œçˆ±äº†ï¼Œçˆ±äº†ï¼<br>ç°åœ¨å‡ ä¹æ‰€æœ‰çš„é¡¹ç›®ä¸­ï¼Œæˆ‘éƒ½ä½¿ç”¨å®ƒæ¥è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€‚<br>æˆ‘å°†å‘ä½ è§£é‡Šä¸ºä»€ä¹ˆï¼Œå¹¶å‘Šè¯‰ä½ ä¸ºä»€ä¹ˆä½ å¯ä»¥ç”¨è¿™ä¸¤ä¸ªå¤©ä½¿è½»æ¾åœ°èµ‹äºˆä½ çš„é¡¹ç›®ã€‚</p><span id="more"></span><ol><li>Flutter é’©å­çš„ç®€å•æ€§<br>æ¯ä¸ªFlutterå¼€å‘è€…éƒ½æ˜¯ä»ä½¿ç”¨StatefulWidgetå¼€å§‹çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªåŸºç¡€ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡å®ƒã€‚<br>ä½†æ˜¯æƒ³è±¡ä¸€ä¸‹ï¼Œä½ å¿…é¡»åˆ›å»ºä¸€ä¸ªå¤§çš„é¡¹ç›®ï¼Œé‡å¤ä½¿ç”¨StatefulWidgetä¼šå˜å¾—å¾ˆç—›è‹¦ã€‚<br>è¿™å°±æ˜¯flutteré’©å­å‡ºç°çš„åœ°æ–¹ï¼Œflutteré’©å­å¸®åŠ©flutterå¼€å‘è€…é€šè¿‡åˆ›å»ºé’©å­æ¥é‡ç”¨ä»£ç ï¼Œç„¶åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¿«é€Ÿæ¨è¿›é¡¹ç›®ï¼Œè¿™é‡Œæœ‰ä¸€äº›ä¾‹å­ã€‚</li></ol><ul><li>å‡å°‘ä»£ç é‡</li></ul><img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™ä¸ªç±»ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¸ºStatefulWidgetåˆ›å»ºçš„ï¼Œä½†å¤§å¤šæ•°æ—¶å€™ï¼Œæˆ‘ä»¬ä»æ¥æ²¡æœ‰ä½¿ç”¨è¿‡å®ƒï¼Œæœ‰äº†flutteré’©å­ï¼Œä¸€ä¸ªwidgetçš„æ‰€æœ‰çŠ¶æ€éƒ½åœ¨ä¸€ä¸ªå•ä¸€çš„ç±»ä¸­å¤„ç†ï¼Œæ€§èƒ½å’ŒStatefulWidgetä¸€æ ·ã€‚</p><img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ä¸€ä¸ªStatefulWidgetä¸­ï¼Œå¯¹äºè®¸å¤šæ§åˆ¶å™¨ï¼Œå¦‚AnimationControlleræˆ–TextEditingControllerï¼Œæˆ‘ä»¬éœ€è¦å¤„ç†æ‰€æœ‰çš„ç”Ÿå‘½å‘¨æœŸï¼Œåˆå§‹åŒ–ï¼Œå¤„ç½®ï¼ŒdidUpdateWidgetï¼Œç”šè‡³æ·»åŠ TickerProviderStateMixinåˆ°çŠ¶æ€ç±»ä¸­ï¼Œåœ¨æ¯ä¸ªStatefulWidgetä¸­æˆ‘ä»¬éƒ½è¦ä½¿ç”¨è¿™äº›æ§åˆ¶å™¨ã€‚</p><p>åœ¨flutteré’©å­ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦åˆ›å»ºä¸€ä¸ªé’©å­æ¥å¤„ç†æ§åˆ¶å™¨çš„ç”Ÿå‘½å‘¨æœŸï¼Œç„¶åæˆ‘ä»¬åœ¨æ¯ä¸ªHookWidgetä¸­é‡å¤ä½¿ç”¨åŒä¸€ä¸ªé’©å­ã€‚<br>ç„¶åï¼Œä»£ç å°±å¯ä»¥ä»è¿™ä¸ªæ ·å­ï¼š</p><img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å˜æˆè¿™ä¸ªæ ·å­ï¼š</p><img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‰€ä»¥ï¼Œç°åœ¨ï¼Œæˆ‘ä»¬çŸ¥é“ç”¨flutteré’©å­ç¼–ç æ˜¯å¤šä¹ˆå®¹æ˜“ï¼Œä»¥åŠå®ƒå¯¹ç‰¹åˆ«å¤§çš„é¡¹ç›®æ˜¯å¤šä¹ˆæœ‰ç”¨ã€‚æˆ‘ä¸ä¼šåœ¨ä¸€ä¸ªæˆ‘å°†åˆ›å»ºå°‘äºåä¸ªéƒ¨ä»¶çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œä½†åœ¨ä¸€ä¸ªæˆ‘éœ€è¦åˆ›å»ºæ›´å¤šéƒ¨ä»¶çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä¸ä¼šé”™è¿‡ä½¿ç”¨flutteræŒ‚é’©ã€‚</p><ol start="2"><li>é’©å­ï¼šRiverpod</li></ol><p>çŠ¶æ€ç®¡ç†çš„ç®€å•é‡è¦æ€§åœ¨äºï¼šåœ¨æ‰€æœ‰çš„åº”ç”¨ç¨‹åºæˆ–å¤šä¸ªwidgetä¹‹é—´å…±äº«ä¸€ä¸ªæˆ–å¤šä¸ªå˜é‡ï¼Œæ¯ä¸€ä¸ªå˜é‡çš„å˜åŒ–éƒ½å¿…é¡»è§¦å‘ç›‘å¬è¯¥å˜é‡çš„widgetçš„é‡å»ºã€‚</p><p>å¦‚æœä½ è¯•å›¾åˆ›å»ºä¸€ä¸ªå…¨å±€å˜é‡å¹¶æ”¹å˜å®ƒï¼Œè¿™å°†ä¸ä¼šè§¦å‘å°éƒ¨ä»¶çš„é‡å»ºã€‚<br>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œriverpodæä¾›äº†åˆ›å»ºä¸€ä¸ªå…¨å±€æä¾›è€…çš„å¯èƒ½æ€§ï¼Œå®ƒä¸»è¦æºå¸¦ä¸€ä¸ªå˜é‡ï¼Œä½†æä¾›è€…å¯ä»¥æºå¸¦ä¸€ä¸ªstreamï¼Œä¸€ä¸ªfutureï¼Œä¸€ä¸ªChangeNotifierï¼Œâ€¦ã€‚</p><p>æä¾›è€…å¯ä»¥å¾ˆå®¹æ˜“åœ°åœ¨åº”ç”¨ç¨‹åºçš„æ¯ä¸ªéƒ¨ä»¶ä¸­è¢«è®¿é—®ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠMyApp()éƒ¨ä»¶åŒ…è£…æˆProviderScropeã€‚</p><img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨hooks_riverpodçš„æ–°ç‰ˆæœ¬ä¸­ï¼Œæœ‰ä¸€ä¸ªå«åšHookConsumerWidgetçš„æ–°éƒ¨ä»¶ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨æˆ‘ä»¬çš„é¡¹ç›®éƒ¨ä»¶ä¸­æ‰©å±•å®ƒã€‚<br>HookConsumerWidgetåœ¨æ„å»ºæ—¶å¸¦æœ‰å…¶ä»–å‚æ•°ï¼ŒWidgetRefï¼ˆæ³¨æ„refæ˜¯ç®€ç§°ï¼‰ï¼Œrefè®©æˆ‘ä»¬æœ‰æœºä¼šè¯»å–å’Œè§‚å¯Ÿæä¾›è€…ã€‚</p><ul><li>è¯»å–æä¾›è€…ï¼šä¸€æ¬¡æ€§è¯»å–å€¼ï¼Œåœ¨å€¼æ”¹å˜æ—¶ä¸ä¼šè§¦å‘é‡å»ºã€‚</li><li>è§‚å¯Ÿæä¾›è€…ï¼šæ¯ä¸€ä¸ªå˜åŒ–éƒ½ä¼šè§¦å‘å°éƒ¨ä»¶æˆ–å°éƒ¨ä»¶çš„ä¸€éƒ¨åˆ†çš„é‡å»ºï¼Œè¯¥å°éƒ¨ä»¶æ­£åœ¨æ”¶å¬æä¾›è€…ã€‚</li></ul> <img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p> åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­è§‚çœ‹ç›¸åŒçš„Firebaseæµ</p>  <img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>çºµè§‚æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥è·Ÿè¸ªå¹¶ä¸”ä¿®æ”¹providerã€‚</p>  <img src="/Riverpod-Flutter-Hooks-The-Best-Duo-for-State-Management/9.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»¥ä¸Šå°±æ˜¯è®¾ç½®flutter_hookså’Œhooks_riverpodæ˜¯æ•´ä¸ªè¿‡ç¨‹ã€‚<br>ä¹Ÿè®¸æœ‰å¤æ‚çš„æ¦‚å¿µå’Œè®¸å¤šæ–¹æ³•æ¥åšåŒæ ·çš„äº‹æƒ…ï¼Œä½†åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„å¤§éƒ¨åˆ†çŠ¶æ€ç®¡ç†ï¼Œä½ å¯èƒ½åªä½¿ç”¨è¿™äº›æ¦‚å¿µã€‚</p><p>å…³äºriverpodçš„æ›´å¤šç»†èŠ‚å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°<a href="https://riverpod.dev/docs/getting_started">https://riverpod.dev/docs/getting_started</a>ã€‚</p><p>æˆ‘å¸Œæœ›æˆ‘å¯ä»¥è¯´æœä½ ä½¿ç”¨riverpodå’Œflutter_hooksï¼Œå®ƒæ˜¯å¦‚æ­¤ç®€å•ï¼Œå¦‚æ­¤å®¹æ˜“ä½¿ç”¨å’Œå®ç°!</p><!-- https://omasuaku.medium.com/riverpod-flutter-hooks-the-best-duo-for-state-management-9429728d632b -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Riverpod </tag>
            
            <tag> Hooks </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç”¨Mobxåœ¨Flutterä¸­ç®¡ç†çŠ¶æ€</title>
      <link href="/How-to-manage-state-in-Flutter-with-Mobx.html"/>
      <url>/How-to-manage-state-in-Flutter-with-Mobx.html</url>
      
        <content type="html"><![CDATA[<img src="/How-to-manage-state-in-Flutter-with-Mobx/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™ä¸ªç”±ä¸‰éƒ¨åˆ†ç»„æˆçš„ç³»åˆ—ä¸­ï¼Œæˆ‘å°†å¯¹Flutterä¸­æœ€å¹¿æ³›ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†å™¨è¿›è¡Œå¹¶åˆ—æ¯”è¾ƒã€‚<br>ç°åœ¨æœ‰å¾ˆå¤šå·¥å…·ï¼Œä½†å¾€å¾€ç¼ºä¹å¯¹å®ƒä»¬çš„æ˜ç¡®æ¯”è¾ƒã€‚<br>è¿™æ˜¯ä¸€ä¸ªé—æ†¾ï¼Œå› ä¸ºé€‰æ‹©äº†é”™è¯¯çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œå½“ä½ å¼€å§‹æ„å»ºæ—¶å°±ä¸å®¹æ˜“æ¢å¤äº†ã€‚</p><span id="more"></span><p>æœ¬ç³»åˆ—å…¨éƒ¨æ–‡ç« ï¼š</p><p>Part 1 ï¼š<a href="https://pangz.fun/How-To-Manage-State-in-Flutter-With-Provider.html">How-To-Manage-State-in-Flutter-With-Provider.html</a><br>Part 2 ï¼š<a href="https://pangz.fun/Should-You-Use-BLoC-to-Manage-State-in-Flutter.html">Should-You-Use-BLoC-to-Manage-State-in-Flutter.html</a><br>Part 3 ï¼š<a href="https://pangz.fun/How-to-manage-state-in-Flutter-with-Mobx.html">How-to-manage-state-in-Flutter-with-Mobx.html</a></p><p>å› æ­¤ï¼Œæˆ‘ä¸ºä½ æä¾›ä¸€ä¸ªç®€çŸ­çš„æŒ‡å¯¼æ‰‹å†Œã€‚<br>åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰è¯·ä»”ç»†é˜…è¯»!<br>åœ¨è¿™ä¸ªç³»åˆ—çš„å‰ä¸¤éƒ¨åˆ†â€“ä¸‹é¢çš„é“¾æ¥â€“æˆ‘è®¨è®ºäº†çŠ¶æ€ç®¡ç†çš„å¼ºå¤§åŠŸèƒ½ï¼šProviderå’ŒFlutter Blocã€‚<br>Mobxåœ¨è§„æ¨¡ä¸Šè¦å°å¾—å¤šï¼Œä½†æ‹¥æœ‰å¼ºå¤§çš„å·¥å…·ï¼ŒMobxæ˜¯å…¶æ›´å¤§çš„å…„å¼Ÿçš„ä¸€ä¸ªé‡è¦ç«äº‰è€…ã€‚<br>Mobxåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿä½ åº”è¯¥åœ¨ä½ çš„é¡¹ç›®ä¸­å®æ–½å®ƒå—ï¼Ÿ</p><h4 id="ä»€ä¹ˆæ˜¯Mobxï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Mobxï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Mobxï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Mobxï¼Ÿ</h4><p>Mobxçš„åŸºç¡€æ˜¯ç”±ä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µå½¢æˆçš„ã€‚</p><ul><li>Observablesï¼šçŠ¶æ€åœ¨è§‚å¯Ÿç‰©ä¸­è¢«å­˜å‚¨å’Œå˜å¼‚ã€‚</li><li>Actionsï¼šè¡ŒåŠ¨å¯¼è‡´å¯è§‚å¯Ÿçš„çŠ¶æ€æ”¹å˜ã€‚</li><li>Reactionsï¼šå½“å…¶ç›¸å…³çš„å¯è§‚å¯Ÿå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œååº”ä¼šè¢«è§¦å‘ã€‚è¿™ä¸ªè§¦å‘å™¨æ˜¯ä½ çš„åº”ç”¨ç¨‹åºä¸­æƒ³è¦çš„å‰¯ä½œç”¨çš„å¼€å§‹ï¼Œä¾‹å¦‚ä¸€ä¸ªUIå˜åŒ–ã€‚</li></ul><p>æ•´ä¸ªæµç¨‹è¢«æ•é”åœ°æ˜¾ç¤ºåœ¨ä¸‹é¢çš„ä¸‰è§’å½¢ä¸­ï¼Œå®ƒæ˜¯å¦‚æ­¤ç®€å•ï¼Œä½ ä¸ä¼šè¿·å¤±åœ¨å…¶ä¸­ï¼</p><img src="/How-to-manage-state-in-Flutter-with-Mobx/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h4 id="è‡­åæ˜­è‘—çš„è®¡æ•°å™¨"><a href="#è‡­åæ˜­è‘—çš„è®¡æ•°å™¨" class="headerlink" title="è‡­åæ˜­è‘—çš„è®¡æ•°å™¨"></a>è‡­åæ˜­è‘—çš„è®¡æ•°å™¨</h4><p>é‚£ä¹ˆå®é™…æƒ…å†µæ˜¯æ€æ ·çš„å‘¢ï¼ŸMobxä¸­è‡­åæ˜­è‘—çš„é€’å¢å¼è®¡æ•°å™¨çœ‹èµ·æ¥å¦‚ä¸‹:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mobx/mobx.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'counter.g.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token operator">=</span> <span class="token class-name">CounterBase</span> <span class="token keyword">with</span> _$<span class="token class-name">Counter</span><span class="token punctuation">;</span><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CounterBase</span> <span class="token keyword">with</span> <span class="token class-name">Store</span> <span class="token punctuation">{</span>  <span class="token metadata function">@observable</span>  int value <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token metadata function">@action</span>  <span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    value<span class="token operator">++</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šé¢çš„è¦ç‚¹ä¸­ï¼Œè§‚å¯Ÿè€…å’Œè¡ŒåŠ¨å¯ä»¥é€šè¿‡å®ƒä»¬çš„è£…é¥°å™¨æ¸…æ¥šåœ°è¯†åˆ«å‡ºæ¥â€“å‰ç¼€ä¸ºâ€@â€ã€‚è¿™äº›è£…é¥°å™¨ä¸ä»…ä»…æ˜¯ä¸ºäº†å±•ç¤ºã€‚å®ƒä»¬ä½œä¸ºæŒ‡ä»¤è¢«ä¸€ä¸ªå«åš â€œMobx_codegen â€œçš„åŒ…è¯»å–ï¼Œéšååœ¨ç›¸å…³çš„æ–‡ä»¶ counter.g.dart ä¸­ä¸ºä½ ç”Ÿæˆå®Œæ•´çš„åŠŸèƒ½ä»£ç ã€‚å› æ­¤ï¼Œè£…é¥°å™¨å…è®¸ä½ çš„ä»£ç ä¿æŒç®€å•å’Œå¯è¯»ï¼Œè€Œç¹é‡çš„å·¥ä½œåœ¨åå°ä¸ºä½ å®Œæˆã€‚</p><p>å¯¹çŠ¶æ€å˜åŒ–çš„ååº”å¯ä»¥é€šè¿‡ä¸‰ç§ä¸åŒçš„æ–¹å¼è¿›è¡Œï¼Œåœ¨ä¸‹é¢çš„ä¾‹å­ä¸­æ˜¾ç¤º:</p><ul><li>è‡ªåŠ¨è¿è¡Œï¼šè¿™ä¸ªååº”é‡Œé¢çš„å‡½æ•°åœ¨åˆå§‹åŒ–æ—¶è‡ªåŠ¨è¿è¡Œã€‚ä¹‹åï¼Œåœ¨å®ƒæ‰€è¿½è¸ªçš„å¯è§‚å¯Ÿå¯¹è±¡çš„æ¯ä¸€ä¸ªçŠ¶æ€å˜åŒ–ä¹‹åï¼Œå®ƒéƒ½ä¼šè¿è¡Œã€‚å› æ­¤ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œè®¡æ•°å™¨çš„åˆå§‹å€¼0å°†è¢«æ‰“å°å‡ºæ¥ï¼ŒåŒæ—¶è¿˜å°†æ‰“å°ä»»ä½•åç»­çš„å¢é‡ã€‚</li><li>å¸¸è§„ååº”ï¼šè¿™ç§ç±»å‹çš„ååº”éœ€è¦ä¸¤ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªä»è¦è·Ÿè¸ªçš„è§‚å¯Ÿç‰©ä¸­å¾—åˆ°çš„å€¼ã€‚ç¬¬äºŒä¸ªå‡½æ•°æ˜¯åœ¨ç¬¬ä¸€ä¸ªå€¼çš„è¿”å›å€¼å‘ç”Ÿå˜åŒ–æ—¶éœ€è¦è¿è¡Œçš„æ•ˆæœã€‚æ‰€ä»¥åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåªè¦counter.valueå‘ç”Ÿå˜åŒ–ï¼Œå°±ä¼šæ‰“å°å‡ºcounterValueã€‚</li><li>æœ‰æ¡ä»¶çš„ååº”ï¼šè¿™ä¸ªååº”ï¼Œå°±åƒå®ƒçš„åå­—æ‰€æš—ç¤ºçš„é‚£æ ·ï¼Œåªåœ¨æ»¡è¶³æ¡ä»¶çš„æƒ…å†µä¸‹è¿è¡Œã€‚æ¡ä»¶åœ¨å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸­æä¾›ï¼Œååº”åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¸­ã€‚æ­¤å¤–ï¼Œè¯¥ååº”åªè¿è¡Œä¸€æ¬¡ï¼Œä¹‹åå°±ä¼šè‡ªåŠ¨å¤„ç†æ‰ã€‚å› æ­¤ï¼Œå½“æˆ‘ä»¬çš„è®¡æ•°å™¨å€¼è¾¾åˆ° â€œ6 â€œæ—¶ï¼Œå°†æ‰“å°å‡ºä¸€ä¸ªä¸€æ¬¡æ€§çš„ä¿¡æ¯ã€‚</li></ul><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">// init the counter class</span><span class="token keyword">final</span> _counter <span class="token operator">=</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Auto run</span><span class="token keyword">final</span> dispose <span class="token operator">=</span> <span class="token function">autorun</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token function">print</span><span class="token punctuation">(</span>_counter<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Regular reaction</span><span class="token keyword">final</span> dispose <span class="token operator">=</span> <span class="token function">reaction</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> counter<span class="token punctuation">.</span>value<span class="token punctuation">,</span>  <span class="token punctuation">(</span>counterValue<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span>counterValue<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Conditional reaction</span><span class="token keyword">final</span> dispose <span class="token operator">=</span> <span class="token function">when</span><span class="token punctuation">(</span>  <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> counter<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Bigger than 5!'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šè¿°ä¸‰ç§ååº”çš„åŸºç¡€ä¸Šï¼ŒMobxè¿˜æä¾›äº†ä¸€ä¸ªè§‚å¯Ÿè€…å°ç»„ä»¶ã€‚è¿™ä¸ªå°ç»„ä»¶è·Ÿè¸ªä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œå¹¶åœ¨å…¶å€¼å‘ç”Ÿå˜åŒ–æ—¶é‡å»ºç”¨æˆ·ç•Œé¢ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Observer</span><span class="token punctuation">(</span>builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">_counter<span class="token punctuation">.</span>value</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ‰äº†è§‚å¯Ÿè€…å°ç»„ä»¶ä½œä¸ºè›‹ç³•ä¸Šçš„ç³–è¡£ï¼ŒMobxçƒ¤å‡ºäº†ä¸€ä¸ªä¼˜ç§€çš„ååº”ç³•ç‚¹ã€‚å¯¹çŠ¶æ€å˜åŒ–çš„ååº”æ˜¯é€šè¿‡ç®€å•çš„æŠ€æœ¯å®Œæˆçš„ï¼Œè€Œä¸ä¼šç‰ºç‰²çµæ´»æ€§ã€‚</p><h4 id="ä½ åº”è¯¥ä½¿ç”¨Mobxå—ï¼Ÿ"><a href="#ä½ åº”è¯¥ä½¿ç”¨Mobxå—ï¼Ÿ" class="headerlink" title="ä½ åº”è¯¥ä½¿ç”¨Mobxå—ï¼Ÿ"></a>ä½ åº”è¯¥ä½¿ç”¨Mobxå—ï¼Ÿ</h4><p>ä¸å†å¤šè¯´ï¼Œæ‚¨æ˜¯å¦åº”è¯¥åœ¨æ‚¨çš„flutteré¡¹ç›®ä¸­ä½¿ç”¨Mobxï¼Ÿ</p><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>Mobxåœ¨ç®€å•æ€§æ–¹é¢è¡¨ç°å‡ºè‰²ã€‚è¯¥è½¯ä»¶åŒ…æ˜“äºå­¦ä¹ ï¼Œæ˜“äºæŒæ¡ã€‚é€šè¿‡è£…é¥°å™¨å°†æ¨¡æ¿æœ€å°åŒ–ï¼Œå¯¹çŠ¶æ€çš„ååº”åœ¨ç®€æ´çš„å‡½æ•°å’Œéƒ¨ä»¶ä¸­å®Œæˆã€‚</li><li>è¯¥è½¯ä»¶åŒ…è¢«å¹¿æ³›ä½¿ç”¨ã€‚èµ·æºäºJavascriptçš„çŠ¶æ€ç®¡ç†å™¨ï¼Œåæ¥åŠ å…¥äº†Flutterï¼Œæ–‡æ¡£å’Œæœ€ä½³å®è·µéƒ½å·²ç»åˆ°ä½äº†ã€‚</li></ul><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>Mobxç¼ºä¹åŸºäºäº‹ä»¶çš„çŠ¶æ€ç®¡ç†ã€‚è¿™æ„å‘³ç€ä½ åªçŸ¥é“çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†ä¸çŸ¥é“å¼•èµ·å˜åŒ–çš„ç¡®åˆ‡äº‹ä»¶ã€‚åœ¨æ›´å¤æ‚çš„åº”ç”¨ç¨‹åºä¸­ï¼Œè¿™ç§å¯è¿½æº¯æ€§çš„ç¼ºä¹å¯èƒ½ä¼šé€ æˆé—®é¢˜ï¼Œå› ä¸ºå®ƒä½¿è°ƒè¯•å’Œç®¡ç†çŠ¶æ€å˜åŒ–æ›´åŠ æ¨¡ç³Šã€‚</li><li>Mobxç”Ÿæˆå™¨åœ¨å¢åŠ ç®€å•æ€§æ–¹é¢æ˜¯å¾ˆå¥½çš„ï¼Œä½†åŒæ—¶ä¹Ÿå¢åŠ äº†å¦ä¸€ä¸ªæŠ½è±¡çš„å±‚æ¬¡ã€‚å®ƒä»¬ä½¿äººä»¬æ›´éš¾çœŸæ­£çœ‹åˆ°å’Œç†è§£å¼•æ“ç›–ä¸‹å‘ç”Ÿäº†ä»€ä¹ˆã€‚</li></ul><p>æ€»ä¹‹ï¼Œæˆ‘è®¤ä¸ºMobxæ˜¯æ‰€æœ‰å¯ä»¥ä¸ä½¿ç”¨åŸºäºäº‹ä»¶çš„çŠ¶æ€ç®¡ç†çš„åº”ç”¨ç¨‹åºçš„æ˜æ™ºé€‰æ‹©ã€‚<br>å®ƒçš„ç‹¬ç‰¹å–ç‚¹æ˜¯ç®€å•ï¼ŒMobxåœ¨ä½ çš„å¼€å‘å›¢é˜Ÿä¸­çš„é€‚åº”æ€§å°†æ˜¯éå¸¸é¡ºåˆ©çš„ã€‚<br>å‡ºäºè¿™ä¸ªåŸå› ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼ŒMobxèƒœè¿‡å…¶ç›´æ¥ç«äº‰å¯¹æ‰‹ã€‚<br>ä¸è¿‡ï¼Œå¯¹äºåŸºäºäº‹ä»¶çš„çŠ¶æ€ç®¡ç†ï¼ŒFlutter Blocä»ç„¶æ˜¯æœ€åˆé€‚çš„æ–¹å¼ã€‚</p><!-- https://medium.com/better-programming/how-to-manage-state-in-flutter-with-mobx-cf5be8e8e50e -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Mobx </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ç”¨Providerç®¡ç†Flutterä¸­çš„çŠ¶æ€</title>
      <link href="/How-To-Manage-State-in-Flutter-With-Provider.html"/>
      <url>/How-To-Manage-State-in-Flutter-With-Provider.html</url>
      
        <content type="html"><![CDATA[<img src="/How-To-Manage-State-in-Flutter-With-Provider/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>å¯ä»¥è®¤ä¸ºFlutteræ˜¯ä¸€ä¸ªæ­£åœ¨èŒå£®æˆé•¿çš„å­©å­ã€‚</p><span id="more"></span><p>æœ¬ç³»åˆ—å…¨éƒ¨æ–‡ç« ï¼š</p><p>Part 1 ï¼š<a href="https://pangz.fun/How-To-Manage-State-in-Flutter-With-Provider.html">How-To-Manage-State-in-Flutter-With-Provider.html</a><br>Part 2 ï¼š<a href="https://pangz.fun/Should-You-Use-BLoC-to-Manage-State-in-Flutter.html">Should-You-Use-BLoC-to-Manage-State-in-Flutter.html</a><br>Part 3 ï¼š<a href="https://pangz.fun/How-to-manage-state-in-Flutter-with-Mobx.html">How-to-manage-state-in-Flutter-with-Mobx.html</a></p><p>è°·æ­Œçš„UIå·¥å…·åŒ…ä½¿ä½ èƒ½å¤Ÿä»ä¸€ä¸ªä»£ç åº“ä¸­æ„å»ºåŸç”Ÿå’Œé«˜æ€§èƒ½çš„ç§»åŠ¨å’Œç½‘ç»œåº”ç”¨ã€‚<br>æœ€é‡è¦çš„æ˜¯ï¼Œå¤§é‡å¯ç”¨çš„å°å·¥å…·ä½¿ä½ è·å¾—äº†å¿«é€Ÿå’Œæ„‰å¿«çš„å¼€å‘ä½“éªŒã€‚</p><p>åœ¨æ‘†å¼„æ–°ç©å…·çš„æ—¶å€™ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé˜…è¯»è¯´æ˜ä¹¦æ˜¯ä¸ªå¥½ä¸»æ„ã€‚ç”±äºFlutteræ˜¯åœ¨å‡ å¹´å‰æ‰å¼€å§‹æµè¡Œèµ·æ¥çš„ï¼Œå®ƒçš„è¯´æ˜ä¹¦è¿˜åœ¨ä¸æ–­å®Œå–„ä¸­ã€‚</p><p>æ¸…æ™°è€Œç®€æ˜çš„æŒ‡å—ä¼šè®©æˆ‘çš„Flutteré¡¹ç›®å˜å¾—æ›´å¥½ã€‚å°¤å…¶æ˜¯ä¸ºçŠ¶æ€ç®¡ç†é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼Œè¿™ç»ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚é€‰é¡¹å¾ˆå¤šï¼Œä½†å¾€å¾€ç¼ºä¹å¯¹å®ƒä»¬çš„æ¸…æ™°æ¯”è¾ƒã€‚</p><p>åœ¨æˆ‘çœ‹æ¥ï¼ŒçŠ¶æ€ç®¡ç†å™¨ä¹‹é—´çš„æ¯”è¾ƒæ˜¯éå¸¸éœ€è¦çš„ã€‚ä¸€æ—¦ä½ çš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€ä¸ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨çº ç¼ åœ¨ä¸€èµ·ï¼Œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªå·¥å…·å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ã€‚å› æ­¤ï¼Œä¸ºäº†å¸®åŠ©ä½ ç¬¬ä¸€æ¬¡å°±èƒ½åšå¥½ï¼Œæˆ‘å°†åœ¨ä¸€ä¸ªç”±ä¸‰éƒ¨åˆ†ç»„æˆçš„ç³»åˆ—ä¸­æ¯”è¾ƒFlutteræœ€å—æ¬¢è¿çš„çŠ¶æ€ç®¡ç†å™¨ã€‚</p><p>ç¬¬ä¸€éƒ¨åˆ†ï¼šä½ æ˜¯å¦éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨å’Œç”¨Providerç®¡ç†çŠ¶æ€</p><h4 id="ä½ éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†äººå—ï¼Ÿ"><a href="#ä½ éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†äººå—ï¼Ÿ" class="headerlink" title="ä½ éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†äººå—ï¼Ÿ"></a>ä½ éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†äººå—ï¼Ÿ</h4><p>åœ¨ä½ å¼€å§‹æ¯”è¾ƒæ— æ•°çš„çŠ¶æ€ç®¡ç†å™¨é€‰é¡¹ä¹‹å‰ï¼Œä½ åº”è¯¥é—®è‡ªå·±ã€‚</p><blockquote><p>â€œæˆ‘çœŸçš„éœ€è¦ä¸€ä¸ªçŠ¶æ€ç®¡ç†å™¨å—ï¼Ÿâ€</p></blockquote><p>å¦‚æœä½ çš„åº”ç”¨ç¨‹åºåœ¨è®¾è®¡ä¸Šæ˜¯éå¸¸æ‰å¹³çš„ï¼Œè€Œä¸”çŠ¶æ€å¾ˆå°‘åœ¨widgetæ ‘çš„ä¸Šä¸‹ä¸€å±‚ç§»åŠ¨ï¼Œé‚£ä¹ˆé€šè¿‡å±æ€§å’Œå›è°ƒæ¥ä¼ é€’çŠ¶æ€å¯èƒ½ä¼šç»™ä½ èŠ‚çœå¾ˆå¤šæ¨¡æ¿ã€‚</p><p>åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå­ç¨‹åºä»çˆ¶ç¨‹åºä¸­ä¼ é€’äº†ä¸€ä¸ªå›è°ƒï¼Œä»¥è·Ÿè¸ªTextButtonè¢«ç‚¹å‡»çš„æ¬¡æ•°ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">ParentState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Parent</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  int clicked <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">updateClickCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      clicked <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token class-name">Child</span><span class="token punctuation">(</span>onClickedCallBack<span class="token punctuation">:</span> updateClickCount<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'I was clicked </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">clicked</span></span><span class="token string"> times!'</span></span><span class="token punctuation">)</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">{</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>onClickedCallBack <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token keyword">void</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> onClickedCallBack<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>onPressed<span class="token punctuation">:</span> onClickedCallBack<span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Click me!'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶è€Œï¼Œå¦‚æœä½ å‘ç°è‡ªå·±é€šè¿‡éƒ¨ä»¶æ ‘çš„å¤šä¸ªå±‚æ¬¡ä¼ é€’å›è°ƒï¼Œè¿™ç§æ–¹å¼ç®¡ç†çŠ¶æ€å¾ˆå¿«å°±ä¼šå˜å¾—éº»çƒ¦å’Œæ··ä¹±ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥è‚¯å®šä½ éœ€è¦ä¸€ç§æ›´å¼ºå¤§çš„æ–¹å¼æ¥ç®¡ç†çŠ¶æ€ã€‚<br>ä½†æ˜¯ï¼Œä»€ä¹ˆæ˜¯é€‚åˆè¿™é¡¹å·¥ä½œçš„å·¥å…·å‘¢ï¼Ÿ</p><h4 id="ç”¨Providerç®¡ç†çŠ¶æ€"><a href="#ç”¨Providerç®¡ç†çŠ¶æ€" class="headerlink" title="ç”¨Providerç®¡ç†çŠ¶æ€"></a>ç”¨Providerç®¡ç†çŠ¶æ€</h4><p>åœ¨Flutteråº”ç”¨ç¨‹åºä¸­ï¼Œæœ‰å¾ˆå¤šé€‰æ‹©æ¥ç®¡ç†ä½ çš„çŠ¶æ€ã€‚Provideræ˜¯æœ€å—æ¬¢è¿çš„çŠ¶æ€ç®¡ç†å™¨ä¹‹ä¸€ã€‚è¿™ä¸ªç¤¾åŒºåˆ›å»ºçš„å·¥å…·ä¾èµ–äºä¸‰ä¸ªæ ¸å¿ƒæ¦‚å¿µ:</p><ul><li>ChangeNotifierï¼šæ‚¨çš„çŠ¶æ€çš„å­˜å‚¨ï¼ŒçŠ¶æ€ä»è¿™é‡Œè¢«æ›´æ–°ï¼Œæ¶ˆè€—çŠ¶æ€çš„éƒ¨ä»¶è¢«é€šçŸ¥ã€‚</li><li>ChangeNotifierProviderï¼šè¿™ä¸ªéƒ¨ä»¶ä½¿ChangeNotifierå¯ä»¥è¢«æ ‘ä¸­çš„åº•å±‚éƒ¨ä»¶è®¿é—®ã€‚</li><li>Consumerï¼šä¸€ä¸ªå¬ä»çŠ¶æ€å˜åŒ–å¹¶ç›¸åº”åœ°æ›´æ–°ç”¨æˆ·ç•Œé¢çš„éƒ¨ä»¶ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä½¿ç”¨Provideræ¨¡å¼æ›´æ–°ç‚¹å‡»æ•°çš„ä¾‹å­:</p><ul><li>çŠ¶æ€æ˜¯ç”±DataProviderç±»å­˜å‚¨å’Œå¤„ç†çš„ï¼Œå®ƒå­˜å‚¨äº†_countã€‚</li><li>é€šè¿‡åœ¨ç‚¹å‡»æŒ‰é’®æ—¶è°ƒç”¨IncrementCountï¼Œ_countä»å­éƒ¨ä»¶ä¸­è¢«æ›´æ–°ã€‚</li><li>NotifyListeners()ç¡®ä¿é€šè¿‡æ¶ˆè´¹è€…è®¿é—®çŠ¶æ€çš„çˆ¶å°ç»„ä»¶å¾—åˆ°ç›¸åº”çš„æ›´æ–°ã€‚</li></ul><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">DataProvider</span> <span class="token keyword">extends</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span>  int _count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>  int <span class="token keyword">get</span> count <span class="token operator">=</span><span class="token operator">&gt;</span> _count<span class="token punctuation">;</span>   <span class="token class-name">DataProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>   <span class="token keyword">void</span> <span class="token function">incrementCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    _count<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Parent</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">ChangeNotifierProvider</span><span class="token punctuation">(</span>      create<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">DataProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataProvider</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>        builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> dataProvider<span class="token punctuation">,</span> _<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>          child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>children<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'I was clicked </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">dataProvider<span class="token punctuation">.</span>_count</span><span class="token punctuation">}</span></span><span class="token string">. times!'</span></span><span class="token punctuation">)</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">Child</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">Child</span><span class="token punctuation">(</span><span class="token punctuation">{</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">DataProvider</span> _data <span class="token operator">=</span> <span class="token class-name">Provider</span><span class="token punctuation">.</span>of<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataProvider</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token class-name">TextButton</span><span class="token punctuation">(</span>onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _data<span class="token punctuation">.</span><span class="token function">incrementCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Click me!'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£ä¹ˆï¼Œä½ è®¤ä¸ºProvideræ˜¯çŠ¶æ€ç®¡ç†çš„æœ€ä½³å·¥å…·å—ï¼Ÿ</p><h3 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h3><ul><li>ç»´æŠ¤è‰¯å¥½ï¼Œç»å¾—èµ·è€ƒéªŒçš„è½¯ä»¶åŒ…ã€‚</li><li>å•å‘çŠ¶æ€ç®¡ç†çš„å®Œæ•´å·¥å…·ç®±ã€‚</li></ul><h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul><li>æ€»å…±æœ‰ä¹ä¸ªä¸åŒçš„æä¾›è€…ï¼Œå¯¹æä¾›è€…çš„æ­£ç¡®ç†è§£å¹¶ä¸å®¹æ˜“è·å¾—ã€‚</li><li>ä¸å¿…è¦çš„é‡å»ºä¹Ÿä¸å®¹æ˜“é¿å…ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒConsumerä¼šæ›´æ–°å…¶æ‰€æœ‰çš„å­éƒ¨ä»¶ï¼Œå³ä½¿çŠ¶æ€ä¸­ä¸ç›¸å…³çš„éƒ¨åˆ†å·²ç»è¢«æ›´æ–°ã€‚</li><li>Providerä¾èµ–äºFlutter SDKï¼Œè¿™ä½¿å¾—ä½ çš„ä¸šåŠ¡é€»è¾‘å’Œæ¡†æ¶ä¸å¯åˆ†å‰²ã€‚è¿™åœ¨æ¶æ„è®¾è®¡ä¸­è¢«è®¤ä¸ºæ˜¯ä¸€ç§ä¸å¥½çš„åšæ³•ã€‚</li><li>çŠ¶æ€æ›´æ–°ä¸æ˜¯åŸºäºäº‹ä»¶çš„ã€‚æ‰€ä»¥åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“_countå·²ç»è¢«æ›´æ–°äº†ï¼Œä½†æˆ‘ä»¬åªèƒ½çŒœæµ‹å˜åŒ–çš„æ¥æºã€‚è¿™ä½¿å¾—è·Ÿè¸ªå’Œç†è§£ä½ çš„åº”ç”¨ç¨‹åºä¸­çš„çŠ¶æ€å˜åŒ–å˜å¾—å¤æ‚ã€‚</li></ul><p>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘è®¤ä¸ºProviderå¯¹äºæœ‰ç»éªŒçš„Flutterå¼€å‘è€…æ¥è¯´æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä»–ä»¬æ­£åœ¨æ„å»ºä¸€ä¸ªæœ‰ç®€å•çŠ¶æ€éœ€æ±‚çš„åº”ç”¨ç¨‹åºã€‚Providerå¾ˆå®¹æ˜“å­¦ä¹ ï¼Œä½†å¾ˆéš¾æŒæ¡ã€‚<br>æ­¤å¤–ï¼Œå®ƒç¼ºä¹æ›´å¤æ‚çš„åº”ç”¨ç¨‹åºæ‰€éœ€çš„åŸºäºäº‹ä»¶çš„çŠ¶æ€è·Ÿè¸ªã€‚</p><!-- https://betterprogramming.pub/how-to-manage-state-in-flutter-with-provider-661ff322dd22 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Provider </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½ åº”è¯¥ä½¿ç”¨BLoCæ¥ç®¡ç†Flutterä¸­çš„çŠ¶æ€å—ï¼Ÿ</title>
      <link href="/Should-You-Use-BLoC-to-Manage-State-in-Flutter.html"/>
      <url>/Should-You-Use-BLoC-to-Manage-State-in-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/Should-You-Use-BLoC-to-Manage-State-in-Flutter/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘å°†å¯¹Flutterä¸­æœ€å¹¿æ³›ä½¿ç”¨çš„çŠ¶æ€ç®¡ç†å™¨è¿›è¡Œå¹¶åˆ—æ¯”è¾ƒã€‚</p><p>ç°åœ¨æœ‰å¾ˆå¤šå·¥å…·ï¼Œä½†å¾€å¾€ç¼ºä¹å¯¹å®ƒä»¬çš„æ˜ç¡®æ¯”è¾ƒã€‚è¿™æ˜¯ä¸€ä¸ªé—æ†¾ï¼Œå› ä¸ºé€‰æ‹©äº†é”™è¯¯çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œå½“ä½ å¼€å§‹æ„å»ºæ—¶å°±ä¸å®¹æ˜“æŒ½å›äº†ã€‚</p><span id="more"></span><p>æœ¬ç³»åˆ—å…¨éƒ¨æ–‡ç« ï¼š</p><p>Part 1 ï¼š<a href="https://pangz.fun/How-To-Manage-State-in-Flutter-With-Provider.html">How-To-Manage-State-in-Flutter-With-Provider.html</a><br>Part 2 ï¼š<a href="https://pangz.fun/Should-You-Use-BLoC-to-Manage-State-in-Flutter.html">Should-You-Use-BLoC-to-Manage-State-in-Flutter.html</a><br>Part 3 ï¼š<a href="https://pangz.fun/How-to-manage-state-in-Flutter-with-Mobx.html">How-to-manage-state-in-Flutter-with-Mobx.html</a></p><p>å› æ­¤ï¼Œæˆ‘ä¸ºä½ æä¾›ä¸€ä¸ªç®€çŸ­çš„æŒ‡å¯¼æ‰‹å†Œã€‚åœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨å‰è¯·ä»”ç»†é˜…è¯»!<br>ç¬¬äºŒä¸ªæœ€æµè¡Œçš„çŠ¶æ€ç®¡ç†å™¨ï¼Œç§°ä¸ºFlutter blocï¼Œæ˜¯æœ¬åšå®¢çš„ä¸»é¢˜ã€‚ç¬¬ä¸€éƒ¨åˆ†çš„é“¾æ¥è§ä¸‹æ–‡ã€‚</p><p><a href="">å¦‚ä½•ç”¨Providerç®¡ç†Flutterä¸­çš„çŠ¶æ€</a></p><h4 id="ä»€ä¹ˆæ˜¯Flutter-blocï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯Flutter-blocï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯Flutter blocï¼Ÿ"></a>ä»€ä¹ˆæ˜¯Flutter blocï¼Ÿ</h4><p>Flutter bloc åŒ…çš„åå­—æ¥è‡ªäº BLoC è®¾è®¡æ¨¡å¼ã€‚BLoC æ˜¯ â€œä¸šåŠ¡é€»è¾‘ç»„ä»¶ â€œçš„ç¼©å†™ï¼Œä¸å¤§å¤šæ•°çŠ¶æ€ç®¡ç†å™¨ä¸€æ ·ï¼Œæ—¨åœ¨å°†ä¸šåŠ¡é€»è¾‘ä¸è§†å›¾è§£è€¦ã€‚</p><p>Flutter blocåŒ…ä¸ºæ‚¨æä¾›äº†åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å®ç°BLoCæ¨¡å¼çš„æ‰€æœ‰å·¥å…·ã€‚è¯¥åŒ…çš„æ ¸å¿ƒæ˜¯å›´ç»• â€œCubits â€œå’Œ â€œBlocs â€œè¿™ä¸¤ä¸ªä¸»è¦æ¦‚å¿µï¼Œæˆ‘å°†ç®€è¦åœ°è§£é‡Šã€‚</p><h4 id="ç”¨Cubitç®¡ç†çŠ¶æ€"><a href="#ç”¨Cubitç®¡ç†çŠ¶æ€" class="headerlink" title="ç”¨Cubitç®¡ç†çŠ¶æ€"></a>ç”¨Cubitç®¡ç†çŠ¶æ€</h4><img src="/Should-You-Use-BLoC-to-Manage-State-in-Flutter/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç”¨Cubitç®¡ç†ä¸€ä¸ªçŠ¶æ€ï¼Œå¯¹äºä»¥å‰ä½¿ç”¨è¿‡çŠ¶æ€ç®¡ç†å™¨çš„äººæ¥è¯´ï¼Œå¯èƒ½ä¼šè§‰å¾—å¾ˆç†Ÿæ‚‰ã€‚</p><ul><li>çŠ¶æ€è¢«å­˜å‚¨å’Œå¤„ç†åœ¨ä¸€ä¸ªCubitç±»ä¸­ã€‚æ­¤å¤–ï¼ŒCubitæš´éœ²äº†ä¸€ä¸ªçŠ¶æ€å˜åŒ–çš„æµã€‚</li><li>BlocProviderä½¿Cubitèƒ½å¤Ÿè¢«è§†å›¾è®¿é—®ã€‚</li><li>BlocBuilderç›‘å¬å˜åŒ–çš„çŠ¶æ€å¹¶ç›¸åº”åœ°æ¸²æŸ“ç”¨æˆ·ç•Œé¢ã€‚</li></ul><p>å› æ­¤ï¼Œç®¡ç†ä¸€ä¸ªé€’å¢çš„è®¡æ•°å™¨çš„çŠ¶æ€ï¼Œå°†çœ‹èµ·æ¥å¦‚ä¸‹:</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">CounterCubit</span> <span class="token keyword">extends</span> <span class="token class-name">Cubit</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">CounterCubit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">emit</span><span class="token punctuation">(</span>state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">CounterApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CounterApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>      home<span class="token punctuation">:</span> <span class="token class-name">BlocProvider</span><span class="token punctuation">(</span>        create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">CounterCubit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">CounterPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">CounterPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Counter'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">BlocBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CounterCubit</span><span class="token punctuation">,</span> int<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>        builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> count<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">count</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      floatingActionButton<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>        crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>end<span class="token punctuation">,</span>        mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>end<span class="token punctuation">,</span>        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>          <span class="token class-name">FloatingActionButton</span><span class="token punctuation">(</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">,</span>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CounterCubit</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§æ¨¡å¼ä¸æˆ‘åœ¨æœ¬ç³»åˆ—ç¬¬ä¸€éƒ¨åˆ†æè¿°çš„ç”¨Providerè¿›è¡Œçš„çŠ¶æ€ç®¡ç†éå¸¸ç›¸ä¼¼ã€‚<br>å› æ­¤ï¼ŒFlutter Blocçš„çœŸæ­£ä»·å€¼ä¸åœ¨äºCubitï¼Œè€Œåœ¨äºå®é™…Blocæœ¬èº«ã€‚</p><h4 id="ç”¨Blocç®¡ç†çŠ¶æ€"><a href="#ç”¨Blocç®¡ç†çŠ¶æ€" class="headerlink" title="ç”¨Blocç®¡ç†çŠ¶æ€"></a>ç”¨Blocç®¡ç†çŠ¶æ€</h4><img src="/Should-You-Use-BLoC-to-Manage-State-in-Flutter/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Blocçš„ç‹¬ç‰¹å–ç‚¹æ˜¯äº‹ä»¶ã€‚ä¸€ä¸ªCubitåªæ˜¯å‘é€çŠ¶æ€æ›´æ–°ï¼Œè€Œä¸æä¾›å…³äºå˜åŒ–çš„æ ¹æœ¬åŸå› çš„é¢å¤–ä¿¡æ¯ã€‚</p><p>åªè¦ä½ çš„çŠ¶æ€æ˜¯ç®€å•çš„ï¼Œæ¯”å¦‚åœ¨è®¡æ•°å™¨çš„ä¾‹å­ä¸­ï¼Œè¿™ä¸ä¼šæ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ä½†å‡è®¾ä½ çš„è®¡æ•°å™¨å¯ä»¥ä»¥10ç§ä¸åŒçš„æ–¹å¼é€’å¢ã€‚ä½ å°†å¦‚ä½•è°ƒè¯•æ„å¤–çš„çŠ¶æ€æ›´æ–°æˆ–æ ¹æ®å˜åŒ–çš„åŸå› åŒºåˆ†ä½ çš„åº”ç”¨ç¨‹åºçš„è¡Œä¸ºï¼Ÿä¸€è¨€ä»¥è”½ä¹‹ï¼Œç¼ºä¹å¯è¿½æº¯æ€§å¸¦æ¥äº†ä¸€ä¸ªçœŸæ­£çš„é—®é¢˜ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">// A Bloc transition</span><span class="token class-name">Transition</span> <span class="token punctuation">{</span>  currentState<span class="token punctuation">:</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  event<span class="token punctuation">:</span> <span class="token class-name">Increment</span><span class="token punctuation">,</span>  nextState<span class="token punctuation">:</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token class-name">Transition</span> <span class="token punctuation">{</span>  currentState<span class="token punctuation">:</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  nextState<span class="token punctuation">:</span> <span class="token class-name">Counter</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Blocé€šè¿‡å¼•å…¥äº‹ä»¶è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚äº‹ä»¶æä¾›äº†å…³äºçŠ¶æ€æ”¹å˜çš„åŸå› çš„ä¿¡æ¯ã€‚<br>äº‹ä»¶è®©ä½ å®Œå…¨æ§åˆ¶ä½ çš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€æµã€‚å¯¹äºé‚£äº›ä¸åªåšè®¡æ•°å™¨å¢é‡çš„åº”ç”¨ç¨‹åºæ¥è¯´ï¼Œè¿™æ˜¯å¾ˆç†æƒ³çš„ã€‚</p><p>ä½†æ¯ä¸ªä¼Ÿå¤§çš„ç¤¼ç‰©éƒ½æ˜¯æœ‰ä»£ä»·çš„ã€‚Blocsæ¯”Cubitsæ›´å•°å—¦ã€‚é¢å¤–çš„æ¨¡æ¿â€“åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­æ˜¾ç¤ºâ€“éœ€è¦ç”¨äºçŠ¶æ€å’Œäº‹ä»¶ã€‚ä½†æ˜¯ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªå€¼å¾—ä»˜å‡ºçš„ä»£ä»·ã€‚<br>ä»é•¿è¿œæ¥çœ‹ï¼Œå¯è¿½æº¯æ€§æ˜¯ä½ çš„åº”ç”¨ç¨‹åºå¯ç®¡ç†æ€§çš„å…ˆå†³æ¡ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'Counter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token comment">// Counter state</span><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CounterState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> int duration<span class="token punctuation">;</span>  <span class="token keyword">const</span> <span class="token class-name">CounterState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>duration<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">CounterInitial</span> <span class="token keyword">extends</span> <span class="token class-name">CounterState</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CounterInitial</span><span class="token punctuation">(</span>int count<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string-literal"><span class="token string">'CounterInitial { count: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">count</span></span><span class="token string"> }'</span></span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">CounterIncremented</span> <span class="token keyword">extends</span> <span class="token class-name">CounterState</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CounterIncremented</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">// Counter events</span><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'Counter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">CounterEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CounterEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">CounterIncremented</span> <span class="token keyword">extends</span> <span class="token class-name">CounterEvent</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CounterIncremented</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>increment<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> int increment<span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è°åº”è¯¥ä½¿ç”¨Flutter BLoC<br>é‚£ä¹ˆï¼Œç°åœ¨æ‚¨å·²ç»æŒæ¡äº†Flutter blocè½¯ä»¶åŒ…ï¼Œæ‚¨æ˜¯å¦åº”è¯¥çœŸæ­£ä½¿ç”¨å®ƒï¼Ÿ</p><h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="headerlink" title="ä¼˜ç‚¹"></a>ä¼˜ç‚¹</h4><ul><li>ä½œä¸ºç¬¬äºŒå¤§æœ€å—æ¬¢è¿çš„çŠ¶æ€ç®¡ç†å™¨ï¼Œè¯¥åŒ…å¾—åˆ°äº†å¾ˆå¥½çš„ç»´æŠ¤ï¼Œå¹¶ä¸”å·²ç»è¯æ˜äº†å®ƒçš„ä»·å€¼ã€‚</li><li>æä¾›éäº‹ä»¶åŸºç¡€çš„Cubitså’ŒåŸºäºäº‹ä»¶çš„Blocï¼Œè¯¥åŒ…å¯ä»¥é€‚åº”æ‚¨çš„åº”ç”¨éœ€æ±‚ã€‚</li><li>æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥é˜²æ­¢ç”¨æˆ·ç•Œé¢çš„å†—ä½™æ›´æ–°ã€‚ä¾‹å¦‚ï¼ŒBlocçš„çŠ¶æ€å°±ä½¿ç”¨äº†equatableã€‚Equatableå°†æ—§çš„çŠ¶æ€ä¸æ–°çš„çŠ¶æ€è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶åœ¨çŠ¶æ€æœªå˜æ—¶é˜²æ­¢æ›´æ–°ã€‚æ­¤å¤–ï¼ŒBlocListeneræœ‰ä¸€ä¸ªlistenWhenå±æ€§ï¼Œå®ƒå°±åƒä¸€ä¸ªçœ‹é—¨äººï¼Œåªå…è®¸è®¿é—®ç†æƒ³çš„æ›´æ–°ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œè¯¥åŒ…æä¾›äº†å…³æ³¨ä½ çš„åº”ç”¨ç¨‹åºæ€§èƒ½çš„å·¥å…·ã€‚</li><li>è¯¥æ–‡æ¡£éå¸¸å‡ºè‰²ï¼Œé˜è¿°çš„å†…å®¹è¿œè¿œè¶…è¿‡äº†æ ¸å¿ƒçš„å†…éƒ¨ç»“æ„ã€‚æœ‰å¤§é‡çš„ä¾‹å­ã€æ–¹æ³•çš„ä¼˜ç‚¹å’Œç¼ºç‚¹ã€æœ€ä½³å’Œåçš„åšæ³•ã€ä»¥åŠå…³äºåŒ…çš„æ ¸å¿ƒæ¦‚å¿µçš„èƒŒæ™¯ä¿¡æ¯ã€‚</li></ul><h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h4><ul><li>Flutter BlocåŒ…çš„å·¨å¤§è§„æ¨¡ä½¿å…¶éš¾ä»¥å­¦ä¹ ã€‚å½“é¢å¯¹ä¸€ä¸ªåºå¤§çš„é«˜è´¨é‡å·¥å…·ç®±æ—¶ï¼Œå¯èƒ½å¾ˆéš¾é€‰æ‹©åˆé€‚çš„å·¥å…·æ¥å®Œæˆå·¥ä½œã€‚å¯¹äºä¸ç†Ÿæ‚‰æµå’ŒåŸºäºäº‹ä»¶çš„çŠ¶æ€ç®¡ç†çš„å¼€å‘è€…æ¥è¯´ï¼Œå­¦ä¹ æ›²çº¿å°¤å…¶é™¡å³­ã€‚</li><li>åœ¨æ‰€æœ‰çš„çŠ¶æ€ç®¡ç†ä¸­ï¼Œè¯¥åŒ…æœ‰ä¸€ä¸ªå¯ç–‘çš„è£èª‰ï¼Œå³éœ€è¦æœ€å¤šçš„æ¨¡æ¿ã€‚ç‰¹åˆ«æ˜¯åŸºäºäº‹ä»¶çš„ç»„å—æ˜¯ç›¸å½“å†—é•¿çš„ã€‚è¦è®¾ç½®å‰é¢æåˆ°çš„åŸºæœ¬çš„è®¡æ•°å™¨ç»„ï¼Œä½ éœ€è¦ä¸‰ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼šä¸€ä¸ªç”¨äºè®¡æ•°å™¨çš„çŠ¶æ€ï¼Œä¸€ä¸ªç”¨äºè®¡æ•°å™¨çš„äº‹ä»¶ï¼Œä¸€ä¸ªç”¨äºå®é™…çš„è®¡æ•°å™¨ç»„ã€‚è™½ç„¶æœ‰å¾ˆå¥½çš„æ‰©å±•æ¥è‡ªåŠ¨åˆ›å»ºæ¨¡æ¿ï¼Œä½†ä½ çš„ä»£ç åº“ä»ç„¶ä¼šåƒä¸€ä¸ªåƒé¥±äº†çš„å°å­©ä¸€æ ·æˆé•¿ã€‚</li></ul><p>æœ€åï¼Œåœ¨æˆ‘çœ‹æ¥ï¼ŒFlutter blocæ˜¯å¤§å¤šæ•°Flutteråº”ç”¨ç¨‹åºçš„å‡ºè·¯ã€‚å®ƒå…‹æœäº†Providerç¼ºä¹åŸºäºäº‹ä»¶çš„çŠ¶æ€ç®¡ç†çš„é—®é¢˜ã€‚æ­¤å¤–ï¼Œå®ƒçš„å·¥å…·é›†å¾ˆå¹¿æ³›ï¼Œä½¿å®ƒå¯ä»¥ç”¨äºæ›´ç®€å•å’Œæ›´å¤æ‚çš„åº”ç”¨ã€‚<br>è¿™äº›ä¼˜åŠ¿ä½¿å…¶é™¡å³­çš„å­¦ä¹ æ›²çº¿å€¼å¾—ä¸€è¯•ã€‚</p><!-- https://betterprogramming.pub/should-you-use-bloc-to-manage-state-in-flutter-4f504ebc8711 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> BLoC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç°åœ¨å°±å¼€å§‹æå‡ä½ çš„Flutterç”Ÿäº§åŠ›å§!</title>
      <link href="/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away.html"/>
      <url>/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away.html</url>
      
        <content type="html"><![CDATA[<img src="/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»Šå¤©ï¼Œæˆ‘å°†å‘æ‚¨ä»‹ç»3ä¸ªæŠ€å·§ï¼Œè¿™äº›æŠ€å·§å°†ä½¿æ‚¨çš„Flutterå¼€å‘æ›´ä¸Šä¸€å±‚æ¥¼<br>å¦‚æœæ‚¨å–œæ¬¢è¿™ä¸ªå†…å®¹ï¼Œè¯·ç»™ç‚¹ä¸ªèµå‘—ï¼<br>è®©æˆ‘ä»¬é©¬ä¸Šå¼€å§‹å§!</p><span id="more"></span><h3 id="ä¿®å¤æ‰€æœ‰é”™è¯¯"><a href="#ä¿®å¤æ‰€æœ‰é”™è¯¯" class="headerlink" title="ä¿®å¤æ‰€æœ‰é”™è¯¯"></a>ä¿®å¤æ‰€æœ‰é”™è¯¯</h3><p>åœ¨VSCodeä¸­çœ‹åˆ°è¿™ä¸ªæ¶ˆæ¯æ˜¯ä¸æ˜¯éå¸¸ä»¤äººæ¼æ€’å‘¢ï¼Ÿ</p><p>é€šå¸¸æ˜¯ä¸éœ€è¦çš„å¯¼å…¥ï¼Œç¼ºå°‘constå…³é”®è¯ç­‰ç­‰ã€‚ä½†æ˜¯ï¼Œéš¾é“æ²¡æœ‰ä¸€äº›æ–¹æ³•å¯ä»¥åœ¨å‡ ç§’é’Ÿå†…ä¿®å¤æ•´ä¸ªé¡¹ç›®ä¸­çš„è¿™äº›é”™è¯¯å—ï¼Ÿæ˜¯çš„ï¼Œæœ‰çš„ï¼Œè€Œä¸”æ¯”ä½ æƒ³è±¡çš„è¦å®¹æ˜“å¾—å¤šã€‚åªè¦åœ¨ç»ˆç«¯å¯¼èˆªåˆ°ä½ çš„é¡¹ç›®ï¼Œè¾“å…¥</p><pre class="line-numbers language-none"><code class="language-none">dart fix --apply<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸€åˆ‡å°±éƒ½è§£å†³äº†ï¼›)</p><h3 id="æ›´å¥½çš„é”™è¯¯å±å¹•"><a href="#æ›´å¥½çš„é”™è¯¯å±å¹•" class="headerlink" title="æ›´å¥½çš„é”™è¯¯å±å¹•"></a>æ›´å¥½çš„é”™è¯¯å±å¹•</h3><p>æ¯ä¸ªäººï¼ŒçœŸçš„æ˜¯æ¯ä¸ªäººéƒ½è®¨åŒè¿™ä¸ªé”™è¯¯å±å¹•ã€‚</p><img src="/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘å‘Šè¯‰ä½ ï¼Œä½ å¯ä»¥ç”¨å‡ è¡Œä»£ç è®©è¿™ä¸ªå±å¹•å˜å¾—æ›´å¥½å‘¢ï¼Ÿ<br>æ¥ï¼Œæ¥ï¼Œæ¥ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºå¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ã€‚</p><ol><li>åœ¨ä½ çš„ä¸»å‡½æ•°ä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚<img src="/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away/3.png" class="" title="ç¤ºæ„å›¾ width=400"></li></ol><p>ç°åœ¨ä½ å¯ä»¥åœ¨material widgetä¸­åˆ›å»ºä½ è‡ªå·±çš„å±å¹•ã€‚è¿™å¯ä»¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><img src="/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½†æ˜¯ï¼Œç­‰ç­‰ï¼Œæˆ‘ç°åœ¨æ˜¯æ€ä¹ˆæŠŠé”™è¯¯ä¿¡æ¯æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„å‘¢ï¼Ÿ<br>å—¯ï¼Œå¾ˆç®€å•ï¼Œé€šè¿‡è°ƒç”¨ </p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">details<span class="token punctuation">.</span>exception<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥çœ‹ä½ æ‰€æœ‰çš„ä¾èµ–æ€§"><a href="#æŸ¥çœ‹ä½ æ‰€æœ‰çš„ä¾èµ–æ€§" class="headerlink" title="æŸ¥çœ‹ä½ æ‰€æœ‰çš„ä¾èµ–æ€§"></a>æŸ¥çœ‹ä½ æ‰€æœ‰çš„ä¾èµ–æ€§</h3><p>æ‚¨æƒ³çŸ¥é“æ‚¨çš„ Flutter é¡¹ç›®ä¸­çš„æ‰€æœ‰ä¾èµ–é¡¹å—ï¼Ÿä¸ºæ­¤ï¼Œæœ‰ä¸€ä¸ªå‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">flutter pub deps<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç°åœ¨æ‚¨ä¼šå¾—åˆ°ä¸€ä¸ªçœ‹èµ·æ¥åƒè¿™æ ·çš„æ ‘</p><img src="/3-Tips-to-hack-your-Flutter-productivity-that-you-can-use-right-away/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è°¢è°¢ä½ çš„é˜…è¯»ï¼Œåˆ«å¿˜äº†ç»™æˆ‘ç‚¹èµå“Ÿ!</p><!-- https://tomicriedel.medium.com/3-tips-to-hack-your-flutter-productivity-that-you-can-use-right-away-d809812d7079 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> hack </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutteræ§ä»¶ ï¼š permission_handler v9.2.0</title>
      <link href="/permission-handler-9-2-0.html"/>
      <url>/permission-handler-9-2-0.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>ç”¨äº Flutter çš„æƒé™æ’ä»¶ã€‚è¿™ä¸ªæ’ä»¶æä¾›äº†ä¸€ä¸ªè·¨å¹³å°ï¼ˆiOSï¼ŒAndroidï¼‰çš„APIæ¥è¯·æ±‚å’Œæ£€æŸ¥æƒé™ã€‚</p></blockquote><p>åœ¨å¤§å¤šæ•°æ“ä½œç³»ç»Ÿä¸­ï¼Œæƒé™å¹¶ä¸æ˜¯åœ¨å®‰è£…æ—¶æˆäºˆåº”ç”¨ç¨‹åºçš„ã€‚ç›¸åï¼Œå¼€å‘è€…å¿…é¡»åœ¨åº”ç”¨è¿è¡Œæ—¶å‘ç”¨æˆ·è¯·æ±‚æƒé™ã€‚</p><p>è¿™ä¸ªæ’ä»¶æä¾›äº†ä¸€ä¸ªè·¨å¹³å°ï¼ˆiOSã€Androidï¼‰çš„APIæ¥è¯·æ±‚æƒé™å¹¶æ£€æŸ¥å…¶çŠ¶æ€ã€‚ä½ ä¹Ÿå¯ä»¥æ‰“å¼€è®¾å¤‡çš„åº”ç”¨è®¾ç½®ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥æˆäºˆä¸€ä¸ªæƒé™ã€‚<br>åœ¨Androidä¸Šï¼Œä½ å¯ä»¥æ˜¾ç¤ºè¯·æ±‚æƒé™çš„ç†ç”±ã€‚</p><span id="more"></span><h3 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h3><p>è™½ç„¶æƒé™æ˜¯åœ¨è¿è¡Œæ—¶è¢«è¯·æ±‚çš„ï¼Œä½†ä½ ä»ç„¶éœ€è¦å‘Šè¯‰æ“ä½œç³»ç»Ÿä½ çš„åº”ç”¨ç¨‹åºå¯èƒ½ä¼šä½¿ç”¨å“ªäº›æƒé™ã€‚è¿™éœ€è¦åœ¨Androidå’ŒiOSçš„ç‰¹å®šæ–‡ä»¶ä¸­æ·»åŠ æƒé™é…ç½®ã€‚</p><p>å®‰å“<br> <strong>å‡çº§1.12ä¹‹å‰çš„å®‰å“é¡¹ç›®</strong></p><p>è‡ª4.4.0ç‰ˆæœ¬ä»¥æ¥ï¼Œè¯¥æ’ä»¶ä½¿ç”¨Flutter 1.12 Androidæ’ä»¶APIå®ç°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ„å‘³ç€åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ä¹Ÿéœ€è¦è¿ç§»ä»–ä»¬çš„åº”ç”¨ç¨‹åºï¼Œä»¥æ”¯æŒæ–°çš„AndroidåŸºç¡€è®¾æ–½ã€‚ä½ å¯ä»¥æŒ‰ç…§å‡çº§1.12ç‰ˆä¹‹å‰çš„å®‰å“é¡¹ç›®è¿ç§»æŒ‡å—æ¥åšã€‚å¦‚æœä¸è¿™æ ·åšï¼Œå¯èƒ½ä¼šå¯¼è‡´æ„å¤–çš„è¡Œä¸ºã€‚æœ€å¸¸è§çš„é”™è¯¯æ˜¯permission_handleråœ¨è°ƒç”¨æƒé™çš„.request()æ–¹æ³•åæ²¡æœ‰è¿”å›ã€‚</p><h4 id="AndroidX"><a href="#AndroidX" class="headerlink" title="AndroidX"></a>AndroidX</h4><p>ä»3.1.0ç‰ˆæœ¬å¼€å§‹ï¼Œpermission_handleræ’ä»¶åˆ‡æ¢åˆ°AndroidXç‰ˆæœ¬çš„Androidæ”¯æŒåº“ã€‚è¿™æ„å‘³ç€ä½ éœ€è¦ç¡®ä¿ä½ çš„å®‰å“é¡¹ç›®ä¹Ÿè¢«å‡çº§åˆ°æ”¯æŒAndroidXã€‚</p><ol><li>åœ¨ä½ çš„ â€œgradle.properties â€œæ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹ã€‚</li></ol><pre class="line-numbers language-gradle" data-language="gradle"><code class="language-gradle">android<span class="token punctuation">.</span>useAndroidX<span class="token operator">=</span><span class="token boolean">true</span>android<span class="token punctuation">.</span>enableJetifier<span class="token operator">=</span><span class="token boolean">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="2"><li>ç¡®ä¿ä½ åœ¨ â€œandroid/app/build.gradle â€œæ–‡ä»¶ä¸­æŠŠcompileSdkVersionè®¾ç½®ä¸º31</li></ol><pre class="line-numbers language-none"><code class="language-none">android {  compileSdkVersion 31  ...}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>ç¡®ä¿ä½ å°†æ‰€æœ‰çš„android.ä¾èµ–å…³ç³»æ›¿æ¢ä¸ºAndroidXçš„å¯¹åº”å…³ç³»</li></ol><p>åœ¨ä½ çš„AndroidManifest.xmlæ–‡ä»¶ä¸­æ·»åŠ æƒé™ã€‚æœ‰ä¸€ä¸ªdebug, main and profileï¼Œå®ƒä»¬çš„é€‰æ‹©å–å†³äºä½ å¦‚ä½•å¯åŠ¨ä½ çš„åº”ç”¨ç¨‹åºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåªåœ¨ä¸»ç‰ˆæœ¬ä¸­æ·»åŠ æƒé™å³å¯ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªAndroidManifest.xmlçš„ä¾‹å­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ‰€æœ‰å¯èƒ½çš„æƒé™çš„å®Œæ•´åˆ—è¡¨ã€‚</p><p>iOS<br>åœ¨ä½ çš„Info.plistæ–‡ä»¶ä¸­æ·»åŠ æƒé™ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªInfo.plistçš„ä¾‹å­ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªæ‰€æœ‰å¯èƒ½çš„æƒé™çš„å®Œæ•´åˆ—è¡¨ã€‚</p><blockquote><p>è¿™æ˜¯å› ä¸ºpermission_handleræ’ä»¶æ¶‰åŠåˆ°æ‰€æœ‰ä¸åŒçš„SDKï¼Œè€Œä¸”é™æ€ä»£ç åˆ†æå™¨ï¼ˆAppleåœ¨æäº¤åº”ç”¨ç¨‹åºæ—¶è¿è¡Œï¼‰ä¼šæ£€æµ‹åˆ°è¿™ä¸€ç‚¹ï¼Œå¦‚æœå®ƒåœ¨Info.plistä¸­æ‰¾ä¸åˆ°åŒ¹é…çš„æƒé™é€‰é¡¹ï¼Œå°±ä¼šå‘ç”Ÿæ–­è¨€ã€‚</p></blockquote><p>permission_handleræ’ä»¶ä½¿ç”¨å®æ¥æ§åˆ¶ä¸€ä¸ªæƒé™æ˜¯å¦è¢«å¯ç”¨ã€‚</p><p>ä½ å¿…é¡»åˆ—å‡ºä½ æƒ³åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨çš„æƒé™ã€‚</p><ol><li>åœ¨ä½ çš„Podfileæ–‡ä»¶ä¸­åŠ å…¥ä»¥ä¸‹å†…å®¹ï¼š</li></ol><pre class="line-numbers language-pod" data-language="pod"><code class="language-pod">post_install do |installer|  installer.pods_project.targets.each do |target|    target.build_configurations.each do |config|      ... # Here are some configurations automatically generated by flutter      # You can enable the permissions needed here. For example to enable camera      # permission, just remove the `#` character in front so it looks like this:      #      # ## dart: PermissionGroup.camera      # 'PERMISSION_CAMERA=1'      #      #  Preprocessor definitions can be found in: https://github.com/Baseflow/flutter-permission-handler/blob/master/permission_handler/ios/Classes/PermissionHandlerEnums.h      config.build_settings['GCC_PREPROCESSOR_DEFINITIONS'] ||= [        '$(inherited)',        ## dart: PermissionGroup.calendar        # 'PERMISSION_EVENTS=1',        ## dart: PermissionGroup.reminders        # 'PERMISSION_REMINDERS=1',        ## dart: PermissionGroup.contacts        # 'PERMISSION_CONTACTS=1',        ## dart: PermissionGroup.camera        # 'PERMISSION_CAMERA=1',        ## dart: PermissionGroup.microphone        # 'PERMISSION_MICROPHONE=1',        ## dart: PermissionGroup.speech        # 'PERMISSION_SPEECH_RECOGNIZER=1',        ## dart: PermissionGroup.photos        # 'PERMISSION_PHOTOS=1',        ## dart: [PermissionGroup.location, PermissionGroup.locationAlways, PermissionGroup.locationWhenInUse]        # 'PERMISSION_LOCATION=1',        ## dart: PermissionGroup.notification        # 'PERMISSION_NOTIFICATIONS=1',        ## dart: PermissionGroup.mediaLibrary        # 'PERMISSION_MEDIA_LIBRARY=1',        ## dart: PermissionGroup.sensors        # 'PERMISSION_SENSORS=1',           ## dart: PermissionGroup.bluetooth        # 'PERMISSION_BLUETOOTH=1',        ## dart: PermissionGroup.appTrackingTransparency        # 'PERMISSION_APP_TRACKING_TRANSPARENCY=1',        ## dart: PermissionGroup.criticalAlerts        # 'PERMISSION_CRITICAL_ALERTS=1'      ]    end  endend<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>ç§»é™¤ä½ æƒ³ä½¿ç”¨çš„æƒé™å‰é¢çš„#å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ éœ€è¦è®¿é—®æ—¥å†ï¼Œç¡®ä¿ä»£ç çœ‹èµ·æ¥åƒè¿™æ ·ã€‚</li></ol><pre class="line-numbers language-pod" data-language="pod"><code class="language-pod">## dart: PermissionGroup.calendar        'PERMISSION_EVENTS=1',<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol start="3"><li><p>åˆ é™¤Info.plistä¸­ç›¸åº”çš„æƒé™æè¿°ï¼Œä¾‹å¦‚ï¼Œå½“ä½ ä¸éœ€è¦ç›¸æœºæƒé™æ—¶ï¼Œåªéœ€åˆ é™¤â€™NSCameraUsageDescriptionâ€™ã€‚</p></li><li><p>Clean &amp; Rebuild</p></li></ol><h3 id="å’‹ç”¨æ"><a href="#å’‹ç”¨æ" class="headerlink" title="å’‹ç”¨æ"></a>å’‹ç”¨æ</h3><p>æœ‰è®¸å¤šæƒé™ã€‚ä½ å¯ä»¥å¾—åˆ°ä¸€ä¸ªæƒé™çš„çŠ¶æ€ï¼šå®ƒåˆ†åˆ«æ˜¯æˆäºˆçš„ã€æ‹’ç»çš„ã€é™åˆ¶çš„æˆ–æ°¸ä¹…æ‹’ç»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">var</span> status <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">Permission</span><span class="token punctuation">.</span>camera<span class="token punctuation">.</span>status<span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>status<span class="token punctuation">.</span>isDenied<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// We didn't ask for permission yet or the permission has been denied before but not permanently.</span><span class="token punctuation">}</span><span class="token comment">// You can can also directly ask the permission about its status.</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token class-name">Permission</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>isRestricted<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// The OS restricts access, for example because of parental controls.</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡Œæƒé™è°ƒç”¨ request() æ¥è¯·æ±‚å®ƒã€‚å¦‚æœå®ƒä¹‹å‰å·²ç»è¢«æˆäºˆï¼Œåˆ™ä¸ä¼šå‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚<br>request() è¿”å›è¯¥æƒé™çš„æ–°çŠ¶æ€ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token class-name">Permission</span><span class="token punctuation">.</span>contacts<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>isGranted<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Either the permission was already granted before or the user just granted it.</span><span class="token punctuation">}</span><span class="token comment">// You can request multiple permissions at once.</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Permission</span><span class="token punctuation">,</span> <span class="token class-name">PermissionStatus</span><span class="token punctuation">&gt;</span></span> statuses <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token punctuation">[</span>  <span class="token class-name">Permission</span><span class="token punctuation">.</span>location<span class="token punctuation">,</span>  <span class="token class-name">Permission</span><span class="token punctuation">.</span>storage<span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">print</span><span class="token punctuation">(</span>statuses<span class="token punctuation">[</span><span class="token class-name">Permission</span><span class="token punctuation">.</span>location<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é’ˆå¯¹æœ‰äº›æƒé™ï¼Œä¾‹å¦‚ä½ç½®æˆ–åŠ é€Ÿåº¦ä¼ æ„Ÿå™¨çš„æƒé™ï¼Œæœ‰ä¸€ä¸ªç›¸å…³çš„æœåŠ¡ï¼Œå¯ä»¥å¯ç”¨æˆ–ç¦ç”¨ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token class-name">Permission</span><span class="token punctuation">.</span>locationWhenInUse<span class="token punctuation">.</span>serviceStatus<span class="token punctuation">.</span>isEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Use location.</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½ ä¹Ÿå¯ä»¥æ‰“å¼€åº”ç”¨ç¨‹åºçš„è®¾ç½®ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token class-name">Permission</span><span class="token punctuation">.</span>speech<span class="token punctuation">.</span>isPermanentlyDenied<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// The user opted to never again see the permission request dialog for this</span>  <span class="token comment">// app. The only way to change the permission's status now is to let the</span>  <span class="token comment">// user manually enable it in the system settings.</span>  <span class="token function">openAppSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨å®‰å“ç³»ç»Ÿä¸Šï¼Œä½ å¯ä»¥æ˜¾ç¤ºä½¿ç”¨æƒé™çš„ç†ç”±ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">bool isShown <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">Permission</span><span class="token punctuation">.</span>contacts<span class="token punctuation">.</span>shouldShowRequestRationale<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ‰äº›æƒé™ä¸ä¼šæ˜¾ç¤ºè¦æ±‚ç”¨æˆ·å…è®¸æˆ–æ‹’ç»æ‰€è¯·æ±‚çš„æƒé™çš„å¯¹è¯æ¡†ã€‚<br>è¿™æ˜¯å› ä¸ºåº”ç”¨ç¨‹åºçš„æ“ä½œç³»ç»Ÿè®¾ç½®æ­£åœ¨ä¸ºç›¸åº”çš„æƒé™è¿›è¡Œæ£€ç´¢ã€‚<br>è®¾ç½®çš„çŠ¶æ€å°†å†³å®šè¯¥æƒé™æ˜¯è¢«æˆäºˆè¿˜æ˜¯è¢«æ‹’ç»ã€‚</p><p>ä»¥ä¸‹æƒé™å°†ä¸æ˜¾ç¤ºå¯¹è¯æ¡†:</p><ul><li>é€šçŸ¥</li><li>è“ç‰™</li></ul><p>ä»¥ä¸‹æƒé™å°†ä¸æ˜¾ç¤ºå¯¹è¯æ¡†ï¼Œä½†ä¼šæ‰“å¼€ç›¸åº”çš„è®¾ç½®æ„å›¾è®©ç”¨æˆ·æ”¹å˜æƒé™çŠ¶æ€:</p><ul><li>manageExternalStorage</li><li>systemAlertWindow</li><li>requestInstallPackages</li><li>accessNotificationPolicy</li></ul><p>locationAlwaysæƒé™ä¸èƒ½ç›´æ¥ç”³è¯·ï¼Œç”¨æˆ·å¿…é¡»å…ˆç”³è¯·locationWhenInUseæƒé™ã€‚é€šè¿‡ç‚¹å‡» â€œAllow While Using App â€œæ¥å—è¿™ä¸ªæƒé™ï¼Œç”¨æˆ·å°±æœ‰å¯èƒ½ç”³è¯·locationAlwaysæƒé™ã€‚<br>ç„¶åä¼šå¼¹å‡ºå¦ä¸€ä¸ªæƒé™çª—å£ï¼Œè¦æ±‚ä½ ä¿ç•™ â€œä»…åœ¨ä½¿ç”¨æ—¶ â€œæˆ– â€œæ›´æ”¹ä¸ºå§‹ç»ˆå…è®¸â€ã€‚</p><p>ä»¥ä¸Šæ‰€æœ‰æºä»£ç ï¼Œæ‚¨å¯ä»¥ç§»æ­¥ï¼š<a href="https://github.com/reasonpun/my_100_goals/tree/main/goals_04">https://github.com/reasonpun/my_100_goals/tree/main/goals_04</a></p><!-- https://pub.flutter-io.cn/packages/permission_handler -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Permissions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterä¸­çš„è¯·æ±‚æƒé™æœåŠ¡çš„å®ç°</title>
      <link href="/Request-Permissions-in-Flutter-as-a-Consumable-Service.html"/>
      <url>/Request-Permissions-in-Flutter-as-a-Consumable-Service.html</url>
      
        <content type="html"><![CDATA[<img src="/Request-Permissions-in-Flutter-as-a-Consumable-Service/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“ä½ æƒ³åœ¨ç”¨æˆ·ä½¿ç”¨è¿‡ç¨‹ä¸­è·å–å¾ˆå¤šå¾ˆå¤šæƒé™çš„æ—¶å€™ï¼Œè¯·æ±‚æƒé™é€šå¸¸ä¼šæˆä¸ºä¸€ä¸ªæ··ä¹±çš„ä»»åŠ¡ã€‚<br>ä¸ºäº†å¼€å§‹æ¸…ç†æ‰€æœ‰çš„æƒé™ä»£ç ï¼Œæˆ‘ä»¬å°†æŠŠå®ƒåŒ…è£…åœ¨ä¸€ä¸ªå¸¦æœ‰ä¸“é—¨æƒé™è¯·æ±‚åŠŸèƒ½çš„æœåŠ¡ä¸­ã€‚</p><span id="more"></span><h4 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h4><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨permissions_handleråŒ…æ¥è¯·æ±‚æˆ‘ä»¬çš„æƒé™ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬æŠŠå®ƒæ·»åŠ åˆ°pubspecä¸­ã€‚</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Permission checking</span><span class="token key atrule">permission_handler</span><span class="token punctuation">:</span> ^9.2.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æˆ‘ä»¬å°†åˆ›å»ºå‡½æ•°æ¥è¯·æ±‚ä¸¤ç§ç±»å‹çš„æƒé™ï¼šæˆ‘ä»¬å°†è·å–ä½ç½®ä»¥åŠè”ç³»äººæƒé™ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å‘Šè¯‰æ“ä½œç³»ç»Ÿï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†ä½¿ç”¨è¿™äº›æƒé™ã€‚</p><h4 id="å®‰å“"><a href="#å®‰å“" class="headerlink" title="å®‰å“"></a>å®‰å“</h4><p>åœ¨AndroidManifestä¸­ï¼Œä¸ºè¿™ä¸¤ä¸ªåŠŸèƒ½æ·»åŠ uses-permissionæ ‡ç­¾ã€‚</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.permission.READ_CONTACTS<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.permission.WRITE_CONTACTS<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uses-permission</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.permission.ACCESS_FINE_LOCATION<span class="token punctuation">"</span></span> <span class="token punctuation">/&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="iOS"><a href="#iOS" class="headerlink" title="iOS"></a>iOS</h4><p>åœ¨info.plistæ–‡ä»¶ä¸­æ·»åŠ å¯†é’¥å’Œä½ çš„ä¿¡æ¯</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>NSContactsUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>This app requires contacts access to function.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>NSLocationWhenInUseUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>This app requires access to your location when in use to show relevan information.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>key</span><span class="token punctuation">&gt;</span></span>NSLocationAlwaysUsageDescription<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>key</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span>This app requires always on access to to your location to notifiy you when are near a store.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>string</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®æ–½"><a href="#å®æ–½" class="headerlink" title="å®æ–½"></a>å®æ–½</h4><p>PermissionsServiceä¸Šå°†æœ‰ä¸€ä¸ªä¸“é—¨çš„å‡½æ•°æ¥å¤„ç†ä½ æ‰€éœ€è¦çš„æƒé™ã€‚<br>è¿™æ ·ï¼Œå½“ç”¨æˆ·æƒ³ä½¿ç”¨éœ€è¦çš„åŠŸèƒ½æ—¶ï¼Œå°±å¯ä»¥è°ƒç”¨å®ƒã€‚<br>é€šè¿‡æä¾›å›è°ƒï¼Œå®ƒä¹Ÿå°†å¾ˆå®¹æ˜“ä¸ºæ¯ä¸ªå‡½æ•°ï¼ˆç»„ï¼‰ç¼–å†™è‡ªå®šä¹‰é€»è¾‘ã€‚<br>åˆ›å»ºä¸€ä¸ªåä¸ºpermissions_service.dartçš„æ–°æ–‡ä»¶ï¼Œåœ¨å…¶ä¸­ï¼Œæˆ‘ä»¬è¦åšä¸€ä¸ªç±»ï¼Œå®ƒæœ‰ä¸€ä¸ªæ¥è‡ªåŒ…çš„PermissionHandlerçš„å®ä¾‹ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:permission_handler/permission_handler.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">PermissionsService</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">PermissionHandler</span> _permissionHandler <span class="token operator">=</span> <span class="token class-name">PermissionHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæˆ‘ä»¬å¯ä»¥æ·»åŠ ä¸€ä¸ªé€šç”¨å‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªPermissionGroupæ¥è¯·æ±‚æˆ‘ä»¬æƒ³è¦çš„æƒé™ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">_requestPermission</span><span class="token punctuation">(</span><span class="token class-name">PermissionGroup</span> permission<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">await</span> _permissionHandler<span class="token punctuation">.</span><span class="token function">requestPermissions</span><span class="token punctuation">(</span><span class="token punctuation">[</span>permission<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">[</span>permission<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token class-name">PermissionStatus</span><span class="token punctuation">.</span>granted<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è€Œä½¿ç”¨è¿™ä¸ªå‡½æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ä¸ºæ¯ä¸ªæƒé™åˆ›å»ºç‰¹å®šçš„å‡½æ•°ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token comment">/// Requests the users permission to read their contacts.</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">requestContactsPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">_requestPermission</span><span class="token punctuation">(</span><span class="token class-name">PermissionGroup</span><span class="token punctuation">.</span>contacts<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// Requests the users permission to read their location when the app is in use</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">requestLocationPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">_requestPermission</span><span class="token punctuation">(</span><span class="token class-name">PermissionGroup</span><span class="token punctuation">.</span>locationWhenInUse<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è‡ªå®šä¹‰è®¸å¯é€»è¾‘"><a href="#è‡ªå®šä¹‰è®¸å¯é€»è¾‘" class="headerlink" title="è‡ªå®šä¹‰è®¸å¯é€»è¾‘"></a>è‡ªå®šä¹‰è®¸å¯é€»è¾‘</h4><p>å¾ˆå¤šæ—¶å€™ï¼Œå½“æ¶‰åŠåˆ°æƒé™çš„æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³åšä¸€äº›è‡ªå®šä¹‰çš„äº‹æƒ…ï¼Œæˆ–è€…æƒ³å†æ¬¡æç¤ºç”¨æˆ·å…è®¸æˆ‘ä»¬çš„æƒé™ã€‚å› ä¸ºæˆ‘ä»¬æœ‰ä¸“é—¨çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ç”¨è‡ªå®šä¹‰çš„æ–¹å¼å¤„ç†æ¯ä¸ªæƒé™è¯·æ±‚ã€‚<br>æ¯”æ–¹è¯´ï¼Œåº”ç”¨ç¨‹åºéœ€è¦è®¿é—®è”ç³»äººæ‰èƒ½å·¥ä½œï¼Œç±»ä¼¼äºWhatsAppã€‚æˆ‘ä»¬å¯ä»¥æä¾›ä¸€ä¸ªå‡½æ•°ï¼Œå½“æƒé™è¢«æ‹’ç»æ—¶å°±ä¼šè¢«è°ƒç”¨ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨å¤–é¢æ˜¾ç¤ºä¸€ä¸ªå¯¹è¯æ¡†ã€‚</p><p>æˆ‘ä»¬å°†ä¼ å…¥ä¸€ä¸ªonPermissionDeniedå‡½æ•°ï¼Œå½“ç”¨æˆ·æ‹’ç»è®¸å¯æ—¶ï¼Œè¯¥å‡½æ•°å°†è¢«è°ƒç”¨ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">/// Requests the users permission to read their contacts.</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">requestContactsPermission</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Function</span> onPermissionDenied<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> granted <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">_requestPermission</span><span class="token punctuation">(</span><span class="token class-name">PermissionGroup</span><span class="token punctuation">.</span>contacts<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>granted<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">onPermissionDenied</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> granted<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨åœ¨å¤–é¢ï¼Œä½ å¯ä»¥ä¼ å…¥ä½ çš„å‡½æ•°ï¼Œå½“å®ƒè¢«æ‹’ç»æ—¶æ˜¾ç¤ºä½ çš„å¯¹è¯æ¡†ï¼Œç„¶åå¦‚æœç”¨æˆ·é€‰æ‹©å†æ¬¡è¯·æ±‚å®ƒ :)</p><h4 id="æ‹¥æœ‰æƒé™"><a href="#æ‹¥æœ‰æƒé™" class="headerlink" title="æ‹¥æœ‰æƒé™"></a>æ‹¥æœ‰æƒé™</h4><p>å¦ä¸€ä»¶äº‹æ˜¯æ£€æŸ¥åº”ç”¨ç¨‹åºæ˜¯å¦å·²ç»æ‹¥æœ‰æƒé™ã€‚<br>æˆ‘ä»¬å°†åˆ›å»ºåŒæ ·çš„è®¾ç½®ï¼Œä¸€ä¸ªé€šç”¨çš„å‡½æ•°æ¥æ”¶ä¸€ä¸ªPermissionGroupï¼Œç„¶åä¸ºç‰¹å®šçš„æƒé™ä½¿ç”¨ä¸“ç”¨å‡½æ•°ã€‚<br>ä½ ä¸å¿…è¿™æ ·åšï¼Œæˆ‘åªæ˜¯è§‰å¾—è¿™æ ·åšæ›´å®¹æ˜“ç»´æŠ¤ï¼Œè€Œä¸”å®ƒä½¿å¤–éƒ¨ä»£ç å¯¹PermissionHandleråŒ…çš„ä¾èµ–æ€§é™ä½ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">hasContactsPermission</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token class-name">PermissionGroup</span><span class="token punctuation">.</span>contacts<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token class-name">PermissionGroup</span> permission<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">var</span> permissionStatus <span class="token operator">=</span>        <span class="token keyword">await</span> _permissionHandler<span class="token punctuation">.</span><span class="token function">checkPermissionStatus</span><span class="token punctuation">(</span>permission<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> permissionStatus <span class="token operator">==</span> <span class="token class-name">PermissionStatus</span><span class="token punctuation">.</span>granted<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h4><p>åœ¨ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥åƒè¿™æ ·ä½¿ç”¨æœåŠ¡æ¥è¯·æ±‚æƒé™ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>      title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Flutter Demo'</span></span><span class="token punctuation">,</span>      home<span class="token punctuation">:</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>        body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>          child<span class="token punctuation">:</span> <span class="token class-name">MaterialButton</span><span class="token punctuation">(</span>            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>yellow<span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Request contacts permission'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">PermissionsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestContactsPermission</span><span class="token punctuation">(</span>                  onPermissionDenied<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Permission has been denied'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœåŠ¡åº”è¯¥è¢«æ³¨å…¥æˆ–å®šä½ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œåªä½¿ç”¨æä¾›è€…æˆ–åƒè¿™æ ·çš„æ¶æ„ä¸­çš„æä¾›è€…å’Œget_itã€‚<br>å°†ä½ çš„åŠŸèƒ½åŒ…è£…åœ¨ä¸€ä¸ªæœåŠ¡ä¸­ï¼Œå¯ä»¥æ¶ˆé™¤ä½ çš„ä»£ç å’Œç¬¬ä¸‰æ–¹å®ç°ç»†èŠ‚ä¹‹é—´çš„ä»»ä½•å…³ç³»ï¼Œæ‰€ä»¥å¯¹æˆ‘æ¥è¯´ï¼Œè¿™ä¸€ç›´æ˜¯ä¸€ä¸ªé¦–é€‰è§£å†³æ–¹æ¡ˆã€‚</p><!-- https://medium.com/flutter-community/request-permissions-in-flutter-as-a-consumable-service-e6cd243f882f -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Permissions </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®¢å…çš„æœ¨åˆ¶å¡åº§æ¡Œ</title>
      <link href="/Wooden-Cassette-Table-for-the-Living-Room.html"/>
      <url>/Wooden-Cassette-Table-for-the-Living-Room.html</url>
      
        <content type="html"><![CDATA[<img src="/Wooden-Cassette-Table-for-the-Living-Room/1.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“æˆ‘æ¬è¿›æˆ‘çš„å…¬å¯“æ—¶ï¼Œæˆ‘æˆä¸ºäº†ä¸€ä¸ªä¼Ÿå¤§çš„å®Œå…¨ç£¨æŸçš„å®œå®¶æ¡Œå­çš„ä¸»äººã€‚<br>å¸¦ç€æ²‰é‡çš„å¿ƒæƒ…ï¼Œæˆ‘ä¸å¾—ä¸å»å¯»æ‰¾ä¸€å¼ æ–°æ¡Œå­ã€‚<br>ä¸å¹¸çš„æ˜¯ï¼Œæ²¡æœ‰ä¸€å¼ æ¡Œå­èƒ½æ»¡è¶³æˆ‘å¯¹è®¾è®¡å’Œä»·æ ¼çš„æœŸæœ›ã€‚<br>å› æ­¤ï¼Œæˆ‘åˆ¶å®šäº†ä¸€ä¸ªè®¡åˆ’æ¥åˆ›é€ æˆ‘è‡ªå·±çš„æ–°æ¡Œå­ã€‚<br>æˆ‘ç”»äº†å‡ å¼ å›¾çº¸ï¼Œå¼€å§‹äº†å»ºé€ â€¦</p><span id="more"></span><h4 id="ç”¨å“"><a href="#ç”¨å“" class="headerlink" title="ç”¨å“"></a>ç”¨å“</h4><p>å·¥å…·ï¼š</p><ul><li>é’»å­”æœº</li><li>æ›²çº¿é”¯</li><li>é’»å¤´ç”¨çš„å­”é”¯</li><li>æ‰‹é”¯</li><li>é”‰åˆ€</li><li>ç£¨åˆ€æœº</li><li>å¸¦é”¯</li><li>èºä¸å¤¹å­</li><li>ç ‚çº¸</li></ul><p>ææ–™ï¼š</p><ul><li>60cm x 100cm æœ¨è´¨å¤å¼æ¿ï¼ˆå®½åº¦2x 1cmï¼›1x 3cmï¼‰ã€‚</li><li>400cm x 12cm åœ°é¢æœ¨æ¡ </li><li>10cm x 10cm æœ¨å—</li><li>å„ç§åºŸæ—§æœ¨æ</li><li>é’¢åˆ¶æ¡Œè…¿</li><li>æœ¨åˆ¶èºä¸</li><li>æ£•è‰²æ²¹æ¼†</li><li>æ¸…æ¼†</li></ul><h4 id="ç¬¬1æ­¥ï¼šç»˜åˆ¶å’Œåˆ‡å‰²å•ä¸ªé›¶ä»¶"><a href="#ç¬¬1æ­¥ï¼šç»˜åˆ¶å’Œåˆ‡å‰²å•ä¸ªé›¶ä»¶" class="headerlink" title="ç¬¬1æ­¥ï¼šç»˜åˆ¶å’Œåˆ‡å‰²å•ä¸ªé›¶ä»¶"></a>ç¬¬1æ­¥ï¼šç»˜åˆ¶å’Œåˆ‡å‰²å•ä¸ªé›¶ä»¶</h4><img src="/Wooden-Cassette-Table-for-the-Living-Room/2.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Wooden-Cassette-Table-for-the-Living-Room/3.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘å¼€å§‹æŠŠæœ¨æ¿åˆ‡å‰²æˆåˆé€‚çš„å°ºå¯¸ï¼Œç„¶åæˆ‘ç”»å‡ºå„ä¸ªéƒ¨åˆ†ä»¥å°½å¯èƒ½åœ°èŠ‚çœææ–™ã€‚<br>ä¸ºäº†åˆ›é€ å‡º3Dæ•ˆæœï¼Œæˆ‘å¯¹è¿™å‡ ä¸ªå•ç‹¬çš„éƒ¨åˆ†é“£å‰Šã€é“£å‰Šã€é“£å‰Šã€å†é“£å‰Šã€‚<br>æˆ‘ç”¨ä¸€ä¸ªåšå›ºçš„å¸¦é”¯é”¯å‡ºäº†æœ¨è§’çš„åŠå¾„ã€‚</p><p>æœ€åˆï¼Œæˆ‘æ›¾è€ƒè™‘ç”¨æ›²çº¿é”¯é”¯å‡ºå­”ï¼Œä½†ä¸å¹¸çš„æ˜¯ï¼Œåˆ‡å‰²çš„æ•ˆæœéå¸¸ä¸ä»¤äººæ»¡æ„ã€‚<br>å› æ­¤ï¼Œæˆ‘è‡ªå·±ä¹°äº†èƒ½æ‰¾åˆ°çš„æœ€å¤§å°ºå¯¸çš„å­”é”¯ã€‚<br>ä½ å¿…é¡»éå¸¸å°å¿ƒï¼Œå¦‚æœé’»å¤´å¡ä½çš„è¯å°†ä¼šæ˜¯éå¸¸å±é™©çš„ã€‚</p><p>å½“æˆ‘æŠŠä¸åŒçš„éƒ¨ä»¶æ”¾åœ¨ä¸€èµ·æ—¶ï¼Œæˆ‘å¯¹å·²ç»åšå®Œçš„è¿™å‡ ä¸ªéƒ¨åˆ†è¿˜æ˜¯éå¸¸æ»¡æ„æ»´â€¦â€¦</p><h4 id="ç¬¬2æ­¥ï¼šèƒ¶åˆå’Œå¤¹ç´§"><a href="#ç¬¬2æ­¥ï¼šèƒ¶åˆå’Œå¤¹ç´§" class="headerlink" title="ç¬¬2æ­¥ï¼šèƒ¶åˆå’Œå¤¹ç´§"></a>ç¬¬2æ­¥ï¼šèƒ¶åˆå’Œå¤¹ç´§</h4><img src="/Wooden-Cassette-Table-for-the-Living-Room/4.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Wooden-Cassette-Table-for-the-Living-Room/5.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Wooden-Cassette-Table-for-the-Living-Room/6.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘å¼€å§‹æŠŠè§’å—ç²˜åœ¨åº•æ¿ä¸Šï¼Œç„¶åæˆ‘æŠŠä¾§æ¿è°ƒæ•´äº†å‡ æ¯«ç±³ï¼Œå¹¶æŠŠå®ƒä»¬ç²˜ä¸Šã€‚<br>å¹²ç€ï¼Œå¹²ç€ï¼Œä½ ä¼šå‘ç°ï¼šä½ æ°¸è¿œéƒ½ä¸ä¼šæœ‰è¶³å¤Ÿçš„èºä¸å¤¹å­ğŸ˜‚ã€‚</p><h4 id="ç¬¬3æ­¥ï¼šåˆ¶ä½œå½•éŸ³å¸¦å¤–å½¢"><a href="#ç¬¬3æ­¥ï¼šåˆ¶ä½œå½•éŸ³å¸¦å¤–å½¢" class="headerlink" title="ç¬¬3æ­¥ï¼šåˆ¶ä½œå½•éŸ³å¸¦å¤–å½¢"></a>ç¬¬3æ­¥ï¼šåˆ¶ä½œå½•éŸ³å¸¦å¤–å½¢</h4><img src="/Wooden-Cassette-Table-for-the-Living-Room/7.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Wooden-Cassette-Table-for-the-Living-Room/8.jpg" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Wooden-Cassette-Table-for-the-Living-Room/9.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>å¯¹äºç›’å¼ç£å¸¦çš„å¤–å½¢ï¼Œæˆ‘æƒ³äº†å¾ˆä¹…ï¼Œåº”è¯¥å¦‚ä½•åˆ¶ä½œã€‚<br>ç»è¿‡é•¿æ—¶é—´çš„è€ƒè™‘ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯æŠŠå‡ å—æ¿å­æ”¾åœ¨å½¼æ­¤çš„ä¸Šé¢ï¼Œæ¯æ¬¡éƒ½é’»ä¸Šé€‚å½“çš„å­”ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™æ¶ˆè€—äº†å¤§é‡çš„ææ–™ï¼Œä½†æ˜¯ï¼Œä½ å´å¯ä»¥æ‹¥æœ‰äº†ä¸€ä¸ªéå¸¸å¤§çš„æ¡Œå­(<em>/Ï‰ï¼¼</em>)ã€‚</p><p>å¯¹äº â€œé½¿è½®é½¿â€ï¼Œæˆ‘åªæ˜¯ç”¨ä¸€ä¸ªå°å­”é”¯é”¯å‡ºäº†ä¸ªåˆ«çš„åœ†æŸ±ä½“ã€‚</p><p>æˆ‘æŠŠè¿™äº›ä¸œè¥¿ç®€å•åœ°ç²˜åœ¨ä¸€èµ·ï¼Œæˆ‘è¿˜ä¸ºèƒ¶å¸¦å‡¿å‡ºæ¥äº†ä¸€ä¸ªå‡¹æ§½ã€‚</p><p>æ¥ä¸‹æ¥æ˜¯ä¸Šæ¼†</p><p>æˆ‘ç»™ä¸€å—åˆ‡å‰²å¥½çš„ç»†é•¿çš„æœ¨å¤´ä¸Šæ¼†ï¼Œç„¶åæŠŠå®ƒç²˜åˆ°å‡¹æ§½é‡Œã€‚<br>å¯¹äºéŸ³åœˆï¼Œæˆ‘åˆ‡äº†ä¸€å—æœ‰è¿‘ä¼¼åŠå¾„çš„æœ¨å¤´ â€” è¿™æ˜¯ä¸ºäº†æ¨¡æ‹Ÿå·èµ·çš„èƒ¶å¸¦ã€‚<br>æœ€åï¼Œæˆ‘ç”¨ç ‚çº¸ç£¨å¹³äº†æ‰€æœ‰çš„è½®å»“ï¼Œç„¶åæ¶‚ä¸Šæ¸…æ¼†ã€‚</p><p>è¿™æ ·å°±åšå®Œäº†ï¼Œä½ å¦‚æœæ„Ÿå…´è¶£çš„è¯ï¼Œè¦ä¸ä¹Ÿè¯•è¯•~</p><!-- https://www.instructables.com/Wooden-Cassette-Table-for-the-Living-Room/?utm_source=newsletter&utm_medium=email -->]]></content>
      
      
      <categories>
          
          <category> æ‰‹å·¥ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‰‹å·¥ </tag>
            
            <tag> ä¹Œä¸ƒå…«ç³Ÿ </tag>
            
            <tag> handwork </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterä¸­å¸¦æœ‰å›¾åƒå‰ªè£å™¨çš„ç›¸æœºæ’ä»¶</title>
      <link href="/Camera-Plugin-with-Image-Cropper-In-Flutter.html"/>
      <url>/Camera-Plugin-with-Image-Cropper-In-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/Camera-Plugin-with-Image-Cropper-In-Flutter/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ä¸åŒçš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ‘„åƒå¤´æ˜¯å¾ˆæ­£å¸¸çš„ã€‚<br>ä½†åœ¨å®ç°å®ƒæ—¶ï¼Œä½ å¯èƒ½ä¼šé¢ä¸´å„ç§é—®é¢˜ï¼š<br>ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨ä¸€ä¸ªç”µå­å•†åŠ¡çš„åº”ç”¨ç¨‹åºä¸­ï¼Œéœ€è¦ç®¡ç†ä¸åŒçš„ä¸œè¥¿ï¼Œéœ€è¦é€‰æ‹©ä¸åŒçš„é¡¹ç›®ï¼Œä¹Ÿéœ€è¦ç”¨å›¾ç‰‡å‘å¸ƒæˆ‘ä»¬çš„å›åº”ï¼Œé‚£æ—¶æˆ‘ä»¬å°±éœ€è¦ç¼–å†™ä¸€ä¸ªå•ä¸€çš„ä»£ç åº“ï¼Œä»é‚£é‡Œæˆ‘ä»¬å¯ä»¥åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºçš„ä¸åŒä½ç½®ç®¡ç†æ‘„åƒå¤´ã€‚</p><span id="more"></span><blockquote><p>å› æ­¤ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å®ƒçš„å®ç°ï¼Œä»é‚£é‡Œæˆ‘ä»¬ä¼šçœ‹åˆ°æˆ‘ä»¬æ˜¯å¦‚ä½•åšåˆ°çš„</p></blockquote><p>ä»£ç å®ç°ï¼š<br>ä¸ºäº†å®ç°è¿™ä¸ªåŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€äº›ä¾èµ–æ€§</p><pre class="line-numbers language-none"><code class="language-none">camera: image_cropper:image_picker:path_provider: <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šimage_cropperéœ€è¦åœ¨manifest.xmlæ–‡ä»¶ä¸­æ·»åŠ ä¸€äº›ä¸œè¥¿ã€‚ä½ å¯ä»¥åœ¨imageCropperæ’ä»¶ä¸­æ‰¾åˆ°è¿™äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚</p></blockquote><p>æ¯”å¦‚ï¼š<br>è¿˜éœ€è¦åœ¨Androidå¹³å°ä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š<br>AndroidManifest.xmlæ–‡ä»¶ä¸­</p><pre class="line-numbers language-none"><code class="language-none">&lt;activity  android:name="com.yalantis.ucrop.UCropActivity"  android:screenOrientation="portrait"  android:theme="@style/Theme.AppCompat.Light.NoActionBar"/&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>cameraæ’ä»¶ç”¨äºè®¿é—®ç›¸æœºï¼Œimage_cropperç”¨äºç¼–è¾‘ç‚¹å‡»æˆ–æŒ‘é€‰çš„å›¾åƒï¼Œpath_providerç”¨äºå¯»æ‰¾æ–‡ä»¶ç³»ç»Ÿä¸Šçš„å¸¸ç”¨ä½ç½®ï¼Œimage_pickerç”¨äºæŒ‘é€‰å›¾åƒã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:io'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:image_cropper/image_cropper.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:image_picker/image_picker.dart'</span></span><span class="token punctuation">;</span><span class="token function">onImageButtonPressed</span><span class="token punctuation">(</span><span class="token class-name">ImageSource</span> source<span class="token punctuation">,</span>    <span class="token punctuation">{</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> capturedImageFile<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">ImagePicker</span> _picker <span class="token operator">=</span> <span class="token class-name">ImagePicker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">File</span> val<span class="token punctuation">;</span>  <span class="token keyword">final</span> pickedFile <span class="token operator">=</span> <span class="token keyword">await</span> _picker<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span>    source<span class="token punctuation">:</span> source<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  val <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">ImageCropper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cropImage</span><span class="token punctuation">(</span>    sourcePath<span class="token punctuation">:</span> pickedFile<span class="token punctuation">.</span>path<span class="token punctuation">,</span>    aspectRatio<span class="token punctuation">:</span> <span class="token class-name">CropAspectRatio</span><span class="token punctuation">(</span>ratioX<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> ratioY<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    compressQuality<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>    maxHeight<span class="token punctuation">:</span> <span class="token number">700</span><span class="token punctuation">,</span>    maxWidth<span class="token punctuation">:</span> <span class="token number">700</span><span class="token punctuation">,</span>    compressFormat<span class="token punctuation">:</span> <span class="token class-name">ImageCompressFormat</span><span class="token punctuation">.</span>jpg<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"cropper </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">val<span class="token punctuation">.</span>runtimeType</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">capturedImageFile</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token keyword">typedef</span> <span class="token class-name">CapturedImageFile</span> <span class="token operator">=</span> <span class="token class-name">String</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token keyword">void</span> <span class="token class-name">OnPickImageCallback</span><span class="token punctuation">(</span>    double maxWidth<span class="token punctuation">,</span> double maxHeight<span class="token punctuation">,</span> int quality<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹åˆ°è¿™ä¸ªæ–¹æ³•é€šè¿‡ä¸€ä¸ªå›è°ƒå‡½æ•°è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²æ–‡ä»¶ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å°±æ˜¯CaptureImageFileå‡½æ•°ï¼Œé€šè¿‡è¿™ä¸ªå‡½æ•°æˆ‘ä»¬å°†æ”¶åˆ°ä¸€ä¸ªè¢«ç‚¹å‡»æˆ–è¢«é€‰ä¸­çš„å›¾ç‰‡ã€‚</p><blockquote><p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªå›¾åƒé‡‡é›†å™¨çš„å®ä¾‹å˜é‡â€¦â€¦<br>final ImagePicker _picker = ImagePicker()ã€‚</p></blockquote><p>å¹¶é€šè¿‡ä½¿ç”¨è¿™ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å°†é€šè¿‡å†…ç½®çš„getImageæ–¹æ³•è·å¾—å›¾åƒæ–‡ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">final</span> pickedFile <span class="token operator">=</span> <span class="token keyword">await</span> _picker<span class="token punctuation">.</span><span class="token function">getImage</span><span class="token punctuation">(</span>  source<span class="token punctuation">:</span> source<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨pickFileå˜é‡ä¸­æ‹¥æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦åƒä¸‹é¢çš„å›¾ç‰‡æ‰€ç¤ºé‚£æ ·è£å‰ªä¸€ä¸ªæ–‡ä»¶</p><img src="/Camera-Plugin-with-Image-Cropper-In-Flutter/2.png" class="" title="ç¤ºæ„å›¾ width=400"><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">val <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">ImageCropper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cropImage</span><span class="token punctuation">(</span>  sourcePath<span class="token punctuation">:</span> pickedFile<span class="token punctuation">.</span>path<span class="token punctuation">,</span>  aspectRatio<span class="token punctuation">:</span> <span class="token class-name">CropAspectRatio</span><span class="token punctuation">(</span>ratioX<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> ratioY<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  compressQuality<span class="token punctuation">:</span> <span class="token number">100</span><span class="token punctuation">,</span>  maxHeight<span class="token punctuation">:</span> <span class="token number">700</span><span class="token punctuation">,</span>  maxWidth<span class="token punctuation">:</span> <span class="token number">700</span><span class="token punctuation">,</span>  compressFormat<span class="token punctuation">:</span> <span class="token class-name">ImageCompressFormat</span><span class="token punctuation">.</span>jpg<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼ŒImageCropper.crop Image()éœ€è¦ä¸åŒçš„å‚æ•°ï¼Œä½ éœ€è¦æä¾›ä½ çš„æ–‡ä»¶è·¯å¾„ï¼Œä½ å¯ä»¥æä¾›ä½ æƒ³æœ€å°åŒ–å›¾ç‰‡çš„æ¯”ä¾‹å’Œå›¾ç‰‡çš„å°ºå¯¸ï¼Œä½ ä¹Ÿå¯ä»¥è®¾ç½®ä½ æƒ³æ¥æ”¶å›¾ç‰‡çš„æ ¼å¼ã€‚</p><p>åœ¨ç¼–è¾‘å®Œæ‰€é€‰çš„å›¾ç‰‡åï¼Œæˆ‘ä»¬éœ€è¦è¿”å›æ–‡ä»¶ï¼Œæˆ‘ä»¬é€šè¿‡å‘å›è°ƒå‡½æ•°æä¾›å›¾ç‰‡æ¥å®ŒæˆåŒæ ·çš„å·¥ä½œï¼Œå°±åƒè¿™æ ·â€¦â€¦</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">capturedImageFile</span><span class="token punctuation">(</span>val<span class="token punctuation">.</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç°åœ¨è¯¥æ–¹æ³•ä»¥å­—ç¬¦ä¸²æ ¼å¼è¿”å›å›¾ç‰‡ã€‚</p><p>åœ¨ä¸‹é¢çš„å›¾ç‰‡ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æœ‰ä¸¤ä¸ªä¸åŒçš„æŒ‰é’®ï¼Œæˆ‘ä»¬é€šè¿‡å®ƒä»¬è°ƒç”¨ä¸¤ä¸ªä¸åŒçš„æ–¹æ³•ï¼Œä¸€ä¸ªç”¨äºç›¸æœºï¼Œå¦ä¸€ä¸ªç”¨äºç›¸å†Œã€‚</p><img src="/Camera-Plugin-with-Image-Cropper-In-Flutter/3.png" class="" title="ç¤ºæ„å›¾ width=400"><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">onImageButtonPressed</span><span class="token punctuation">(</span>  <span class="token class-name">ImageSource</span><span class="token punctuation">.</span>camera<span class="token punctuation">,</span>  context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>  capturedImageFile<span class="token punctuation">:</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      _imageFile <span class="token operator">=</span> s<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬è¦å‘é€ä¸åŒçš„å‚æ•°ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸€ä¸ªæ˜¯å‚æ•°ï¼Œé€šè¿‡è¿™ä¸ªå‚æ•°ï¼Œè¯¥æ–¹æ³•å¯ä»¥çŸ¥é“å“ªä¸ªåŠ¨ä½œè¦å‘ç”Ÿã€‚</p><blockquote><p>å¯¹äºç›¸æœºï¼Œæˆ‘ä»¬ä½¿ç”¨ImageSource.cameraï¼›å¯¹äºç›¸å†Œï¼Œä½¿ç”¨ImageSource.galleryã€‚</p></blockquote><blockquote><p>CaputuredImageFileæ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œæˆ‘ä»¬é€šè¿‡å®ƒæ¥æ”¶æ–‡ä»¶å¹¶æ ¹æ®æˆ‘ä»¬çš„éœ€è¦ä½¿ç”¨å®ƒã€‚</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/cupertino.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_camera_demo/camera_gallary_image_picker.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:image_picker/image_picker.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MyHomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token class-name">MyHomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span> key<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  _MyHomePageState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_MyHomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _MyHomePageState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MyHomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">String</span> _imageFile<span class="token punctuation">;</span>  <span class="token keyword">var</span> _width<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _width <span class="token operator">=</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>          padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token function">_previewImage</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      floatingActionButton<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>        mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>end<span class="token punctuation">,</span>        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token class-name">Container</span><span class="token punctuation">(</span>            width<span class="token punctuation">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>            height<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButton</span><span class="token punctuation">.</span><span class="token function">extended</span><span class="token punctuation">(</span>              label<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Camera"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>              shape<span class="token punctuation">:</span> <span class="token class-name">RoundedRectangleBorder</span><span class="token punctuation">(</span>                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">onImageButtonPressed</span><span class="token punctuation">(</span>                  <span class="token class-name">ImageSource</span><span class="token punctuation">.</span>camera<span class="token punctuation">,</span>                  context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>                  capturedImageFile<span class="token punctuation">:</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                      _imageFile <span class="token operator">=</span> s<span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">Container</span><span class="token punctuation">(</span>            width<span class="token punctuation">:</span> <span class="token number">100.0</span><span class="token punctuation">,</span>            height<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButton</span><span class="token punctuation">.</span><span class="token function">extended</span><span class="token punctuation">(</span>              label<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Gallery"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>              shape<span class="token punctuation">:</span> <span class="token class-name">RoundedRectangleBorder</span><span class="token punctuation">(</span>                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">onImageButtonPressed</span><span class="token punctuation">(</span>                  <span class="token class-name">ImageSource</span><span class="token punctuation">.</span>gallery<span class="token punctuation">,</span> context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>                  capturedImageFile<span class="token punctuation">:</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"file path  </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">s</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                      _imageFile <span class="token operator">=</span> s<span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">}</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// This trailing comma makes auto-formatting nicer for build methods.</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Widget</span> <span class="token function">_previewImage</span><span class="token punctuation">(</span>    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>  <span class="token punctuation">)</span> <span class="token punctuation">{</span>    _width <span class="token operator">=</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>_imageFile <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>        height<span class="token punctuation">:</span> _width <span class="token operator">*</span> <span class="token number">0.34</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>          borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>            <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">ClipRRect</span><span class="token punctuation">(</span>          borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span>            <span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">_imageFile</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>            height<span class="token punctuation">:</span> _width <span class="token operator">*</span> <span class="token number">0.34</span><span class="token punctuation">,</span>            width<span class="token punctuation">:</span> _width<span class="token punctuation">,</span>            alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>            fit<span class="token punctuation">:</span> <span class="token class-name">BoxFit</span><span class="token punctuation">.</span>fitWidth<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>        height<span class="token punctuation">:</span> _width <span class="token operator">*</span> <span class="token number">0.34</span><span class="token punctuation">,</span>        decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>          borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>            <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>          child<span class="token punctuation">:</span> <span class="token class-name">Image</span><span class="token punctuation">.</span><span class="token function">asset</span><span class="token punctuation">(</span>            <span class="token string-literal"><span class="token string">'assets/images/wishlists/cam-img.png'</span></span><span class="token punctuation">,</span>            width<span class="token punctuation">:</span> <span class="token number">24</span><span class="token punctuation">,</span>            height<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»ç»“ï¼š<br>äº‹å®ä¸Šï¼Œæœ‰ä¸åŒçš„æ–¹æ³•æ¥è®¿é—®ç›¸æœºå’Œä»å›¾ç‰‡åº“ä¸­æŒ‘é€‰å›¾ç‰‡ï¼Œä½†æœ€é‡è¦çš„æ˜¯ä»¥æœ€ç®€å•çš„æ–¹å¼å®šä¹‰äº‹ç‰©ï¼Œå¹¶è½»æ¾åœ°å·¥ä½œã€‚<br>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¥æœ€ç®€å•çš„æ–¹å¼å±•ç¤ºäº†è¿™äº›ä¸œè¥¿ï¼Œå¦‚æœä½ æƒ³å°è¯•ï¼Œä½ åªéœ€è¦å¤åˆ¶è¿™äº›ä»£ç æ–‡ä»¶å¹¶æ·»åŠ è¿™äº›ä¾èµ–æ€§ï¼Œå®ƒå°±ä¼šå¼€å§‹å·¥ä½œå•¦ï¼Œè¦ä¸ä½ è¯•è¯•æï¼</p><!-- https://medium.flutterdevs.com/camera-plugin-with-image-cropper-flutter-97b76105857e -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> å›¾åƒå‰ªè£å™¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterä¸­å¦‚ä½•ä½¿ç”¨Bottom Sheet</title>
      <link href="/Modal-Bottom-Sheet-In-Flutter.html"/>
      <url>/Modal-Bottom-Sheet-In-Flutter.html</url>
      
        <content type="html"><![CDATA[<blockquote><p>è¿™æ˜¯èœå•æˆ–å¯¹è¯æ¡†çš„æ›¿ä»£å“ï¼Œå¹¶é˜»æ­¢ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„å…¶ä»–éƒ¨åˆ†è¿›è¡Œäº’åŠ¨</p></blockquote><img src="/Modal-Bottom-Sheet-In-Flutter/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨Flutterä¸­çš„Modal Bottom Sheet Widgetã€‚<br>æˆ‘ä»¬è¿˜å°†å®ç°ä¸€ä¸ªæ¨¡æ€åº•éƒ¨å·¥ä½œè¡¨å°éƒ¨ä»¶çš„æ¼”ç¤ºï¼Œå¹¶æè¿°å®ƒçš„å±æ€§ï¼Œä»¥åŠå¦‚ä½•åœ¨æ‚¨çš„flutteråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒä»¬ã€‚</p><span id="more"></span><h3 id="Modal-Bottom-Sheet"><a href="#Modal-Bottom-Sheet" class="headerlink" title="Modal Bottom Sheet :"></a>Modal Bottom Sheet :</h3><p>Bottom Sheetæ˜¯è®¾è®¡ä¸Šç»™äºˆçš„ä¸€ä¸ªéå¸¸å¥½çš„ç»„ä»¶ã€‚<br>å®ƒå°±åƒä¸€ä¸ªä»åº•éƒ¨æ‰“å¼€çš„å¯¹è¯æ¡†ã€‚å½“æˆ‘ä»¬å¿…é¡»ä¸ºç”¨æˆ·æ˜¾ç¤ºä¸€äº›é€‰é¡¹æ¥è¿›è¡Œæ—¶ï¼Œæˆ‘ä»¬å°±ä¼šä½¿ç”¨ä¸‹é¢çš„è¡¨å•ã€‚åœ¨è¿™é‡Œä½ å¯ä»¥æ ¹æ®ä½ çš„è¦æ±‚ä½¿ç”¨ä»»ä½•å°éƒ¨ä»¶ã€‚</p><p>Bottom Sheetä¸¤ä¸ªå¿…è¦å±æ€§ :</p><ul><li><p>BuildContext: ç‰¹å®šå°ç»„ä»¶çš„æ„å»ºä¸Šä¸‹æ–‡å¯ä»¥éšç€æ—¶é—´æ”¹å˜ä½ç½®ã€‚å› ä¸ºå®ƒå¯ä»¥å¸®åŠ©åˆ›å»ºæ–¹æ³•ç¡®å®šå®ƒè¦æ‹‰åŠ¨çš„å°éƒ¨ä»¶ï¼Œä¹Ÿå¯ä»¥å¸®åŠ©ç¡®å®šè¦æ‹‰åŠ¨çš„å°éƒ¨ä»¶åœ¨å°éƒ¨ä»¶æ ‘ä¸­çš„ä½ç½®ã€‚</p></li><li><p>WidgetBuilder: æ„å»ºå™¨å°éƒ¨ä»¶éœ€è¦ä¼ é€’ä¸€ä¸ªå°éƒ¨ä»¶ï¼Œä½†åªæœ‰ä¸€ä¸ªè¿”å›å°éƒ¨ä»¶çš„å‡½æ•°ã€‚</p></li></ul><p>Bottom Sheetçš„ä¸€äº›å¯é€‰å±æ€§ :</p><ul><li>shape: ä½¿ç”¨å½¢çŠ¶å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µç»™å‡ºä¸€ä¸ªåœ†å½¢çš„è¾¹æ¡†å’Œè¾¹æ¡†çš„é¢œè‰²ã€‚</li><li>background:ä½¿ç”¨å½¢çŠ¶å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ç»™ä¸€ä¸ªåœ†å½¢çš„è¾¹æ¡†ï¼Œè¾¹æ¡†çš„é¢œè‰²æ ¹æ®æˆ‘ä»¬è‡ªå·±çš„æƒ…å†µè€Œå®šã€‚</li><li>elevation: ä»°è§’å±æ€§ç”¨äºæé«˜åº•ç‰‡çš„é˜´å½±ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¯é€‰çš„å±æ€§ã€‚</li></ul><p>æ¼”ç¤ºæ¨¡å—:</p><img src="/Modal-Bottom-Sheet-In-Flutter/2.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»£ç å¼€å§‹ï¼š</p><blockquote><p>åœ¨libæ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„dartæ–‡ä»¶ï¼Œåä¸ºmodal_bottom_sheet.dartã€‚</p></blockquote><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†åœ¨æ¨¡å¼åŒ–çš„åº•å±‚è¡¨é¡µå±å¹•ä¸Šåˆ›å»ºä¸€ä¸ªæŒ‰é’®ã€‚è€Œæˆ‘ä»¬å°†åœ¨ç‚¹å‡»æ—¶æ‰“å¼€Sheetã€‚</p><img src="/Modal-Bottom-Sheet-In-Flutter/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨ï¼Œåœ¨ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºBottom Sheetï¼Œåœ¨Bottom Sheetå†…é‡‡å–äº†åˆ—ï¼Œå¹¶åœ¨åˆ—éƒ¨ä»¶å†…ä½¿ç”¨äº†List Tileéƒ¨ä»¶ï¼Œåœ¨å…¶ä¸­æ˜¾ç¤ºäº†ä¸€äº›å›¾åƒå’Œæ ‡é¢˜ã€‚</p><blockquote><p>è®©æˆ‘ä»¬çœ‹çœ‹æºä»£ç æ˜¯ä¸æ˜¯å¯ä»¥æ›´æ·±å…¥çš„äº†è§£äº†è§£ã€‚</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">showModalBottomSheet</span><span class="token punctuation">(</span>    context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>        mainAxisSize<span class="token punctuation">:</span> <span class="token class-name">MainAxisSize</span><span class="token punctuation">.</span>min<span class="token punctuation">,</span>        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>photo<span class="token punctuation">)</span><span class="token punctuation">,</span>            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Photo'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>music_note<span class="token punctuation">)</span><span class="token punctuation">,</span>            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Music'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>videocam<span class="token punctuation">)</span><span class="token punctuation">,</span>            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Video'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>share<span class="token punctuation">)</span><span class="token punctuation">,</span>            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Share'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“æˆ‘ä»¬è¿è¡Œè¯¥åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å¾—åˆ°åƒä¸‹é¢çš„å±å¹•æˆªå›¾ä¸€æ ·çš„å±å¹•è¾“å‡ºã€‚</p><img src="/Modal-Bottom-Sheet-In-Flutter/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">ModalBottomSheet</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  _ModalBottomSheetState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_ModalBottomSheetState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _ModalBottomSheetState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ModalBottomSheet</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>          <span class="token string-literal"><span class="token string">'Modal Bottom Sheet'</span></span><span class="token punctuation">,</span>          style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>        alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token class-name">Text</span><span class="token punctuation">(</span>              <span class="token string-literal"><span class="token string">"MODAL BOTTOM SHEET EXAMPLE"</span></span><span class="token punctuation">,</span>              style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                  fontStyle<span class="token punctuation">:</span> <span class="token class-name">FontStyle</span><span class="token punctuation">.</span>italic<span class="token punctuation">,</span>                  letterSpacing<span class="token punctuation">:</span> <span class="token number">0.4</span><span class="token punctuation">,</span>                  fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>              height<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>              shape<span class="token punctuation">:</span> <span class="token class-name">RoundedRectangleBorder</span><span class="token punctuation">(</span>                  borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token function">showModalBottomSheet</span><span class="token punctuation">(</span>                    context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>                    builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>                      <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>                        mainAxisSize<span class="token punctuation">:</span> <span class="token class-name">MainAxisSize</span><span class="token punctuation">.</span>min<span class="token punctuation">,</span>                        children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>                          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>                            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>photo<span class="token punctuation">)</span><span class="token punctuation">,</span>                            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Photo'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>                            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>music_note<span class="token punctuation">)</span><span class="token punctuation">,</span>                            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Music'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>                            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>videocam<span class="token punctuation">)</span><span class="token punctuation">,</span>                            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Video'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token class-name">ListTile</span><span class="token punctuation">(</span>                            leading<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>share<span class="token punctuation">)</span><span class="token punctuation">,</span>                            title<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Share'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token punctuation">]</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              padding<span class="token punctuation">:</span>                  <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> right<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span> top<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>pink<span class="token punctuation">,</span>              child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>                <span class="token string-literal"><span class="token string">'Click Me'</span></span><span class="token punctuation">,</span>                style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>                    fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">,</span>                    letterSpacing<span class="token punctuation">:</span> <span class="token number">0.6</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“:"></a>æ€»ç»“:</h4><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘å·²ç»è§£é‡Šäº†ä¸€ä¸ªæ¨¡æ€åº•å±‚è¡¨å•çš„æ¼”ç¤ºï¼Œä½ å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œä¿®æ”¹å’Œå®éªŒã€‚è¿™ä¸ªå°å°çš„ä»‹ç»æ˜¯æ¥è‡ªäºæˆ‘ä»¬è¿™è¾¹çš„ â€œæ¨¡å¼åŒ–åº•å±‚è¡¨å• â€œçš„widgetã€‚<br>æˆ‘å¸Œæœ›è¿™ç¯‡åšå®¢èƒ½å¤Ÿä¸ºæ‚¨æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ï¼Œè®©æ‚¨åœ¨æ‚¨çš„flutteré¡¹ç›®ä¸­å°è¯•ä½¿ç”¨Modal Bottom Sheet Widgetã€‚<br>æˆ‘ä»¬å°†å‘æ‚¨å±•ç¤ºModal Bottom Sheetæ˜¯ä»€ä¹ˆï¼Œå¹¶åœ¨æ‚¨çš„flutteråº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œæ‰€ä»¥èµ¶ç´§çš„å»è¯•è¯•å§ï¼</p><!-- https://medium.flutterdevs.com/modal-bottom-sheet-in-flutter-dae05debbed2 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Bottom Sheet </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Web3æ˜¯è‡ªæˆ‘è®¤è¯çš„</title>
      <link href="/Web3-is-Self-Certifying.html"/>
      <url>/Web3-is-Self-Certifying.html</url>
      
        <content type="html"><![CDATA[<img src="/Web3-is-Self-Certifying/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ€è¿‘æœ‰å¾ˆå¤šå…³äºWeb3æ˜¯ä»€ä¹ˆå’Œä¸æ˜¯ä»€ä¹ˆçš„è®¨è®ºã€‚<br>ä»¥ä¸‹æ˜¯æˆ‘çš„å®šä¹‰:<br>Web3æ˜¯ç”¨æˆ·ç”Ÿæˆçš„æƒå¨ï¼Œç”±è‡ªæˆ‘è®¤è¯çš„ç½‘ç»œåè®®å®ç°ã€‚<br>è¿™äº›æ˜¯åŒ…æ‹¬åŒºå—é“¾åœ¨å†…çš„æŠ€æœ¯çš„è¶…é›†ï¼Œä½†ä¸é™äºæ­¤ã€‚è¿™å°±æ˜¯å…¶ä»–äººè®¤ä¸ºçš„ â€œWeb3â€å—ï¼Ÿä¹Ÿè®¸ä¸æ˜¯ï¼Œä½†å¬æˆ‘è¯´å®Œã€‚</p><span id="more"></span><p>ç½‘ç»œä¸Šçš„æƒå¨ç¡®å®šäº†è°æœ€ç»ˆæ‹¥æœ‰å¯¹å†…å®¹çš„æ§åˆ¶æƒã€‚<br>åœ¨ç½‘ç»œçš„æœ€æ—©é˜¶æ®µï¼Œâ€œç”¨æˆ·â€å’Œç½‘ç»œä¸»æœºä¹‹é—´é€šå¸¸å¹¶ä¸å­˜åœ¨åˆ†å¼€çš„çŠ¶æ€ï¼Œè°æ‰˜ç®¡äº†ä¸€ä¸ªç½‘ç«™ï¼Œè°å°±æŠŠå†…å®¹æ”¾åœ¨é‚£é‡Œã€‚</p><p>åœ¨è¢«ç§°ä¸º â€œWeb 2.0â€çš„è½¬å˜ä¸­ï¼Œç½‘ç«™å¼€å§‹æµè¡Œï¼Œç»™ç”¨æˆ·æä¾›åˆ›å»ºå†…å®¹çš„è´¦æˆ·ï¼Œä½†ç½‘ç«™ä¸»åŠæ–¹ä»æœ‰æœ€ç»ˆå†³å®šæƒï¼Œå¯ä»¥å•æ–¹é¢æ”¹å˜ä»–ä»¬æƒ³è¦çš„ä¸œè¥¿ã€‚<br>è¿™æ˜¯ç½‘ç»œç°åœ¨çš„è¿ä½œæ–¹å¼ã€‚</p><p>åœ¨æˆ‘ä»¬ç§°ä¹‹ä¸ºWeb3çš„ç½‘ç»œæ¼”è¿›ä¸­ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡å¯†ç å­¦æ–¹å¼ç¡®è®¤è‡ªå·±çš„èº«ä»½ï¼Œå¹¶å‘å¸ƒå¯éªŒè¯çš„å†…å®¹ï¼Œè€Œæ‰˜ç®¡å†…å®¹çš„ç½‘ç«™æ²¡æœ‰æƒåŠ›æ”¹å˜å®ƒï¼Œå› ä¸ºä¿¡ä»»çš„æ ¹æºåœ¨äºæ•°æ®æœ¬èº«ï¼Œè€Œä¸æ˜¯åœ¨å“ªé‡Œæ‰¾åˆ°å®ƒã€‚</p><p>å›é¡¾ä¸€ä¸‹ï¼š</p><ul><li><p>ç½‘ç»œ1.0â€“ä¸»æœºäº§ç”Ÿçš„å†…å®¹ï¼Œä¸»æœºäº§ç”Ÿçš„è¯´äº†ç®—ã€‚æƒ³åœ¨ç½‘ç»œä¸Šå‘å¸ƒä¿¡æ¯çš„äººå¿…é¡»è¿è¡Œè‡ªå·±çš„æœåŠ¡å™¨æ¥æ‰˜ç®¡ç½‘ç«™ã€‚ç½‘ç«™ä¸»è¦æ˜¯åªè¯»çš„ï¼Œå¹¶æä¾›å¾ˆå°‘çš„ç•Œé¢ä¾›ç”¨æˆ·åˆ›å»ºå†…å®¹æˆ–äº’åŠ¨ã€‚</p></li><li><p>Web 2.0 - ç”¨æˆ·äº§ç”Ÿçš„å†…å®¹ï¼Œè¿˜æ˜¯ä¸»æœºè¯´äº†ç®—ã€‚<br>è¿™äº›ç½‘ç«™è®©äººä»¬åˆ›å»ºç”¨æˆ·è´¦æˆ·ï¼Œè¿™æ ·ç”¨æˆ·å‘å¸ƒå†…å®¹å°±å¯ä»¥ä¸ç”¨è‡ªå·±çš„æœåŠ¡å™¨äº†ã€‚è¿™ä»è€Œä¿ƒä½¿äº†æ›´å¤šçš„ç”¨æˆ·ç”Ÿæˆäº’åŠ¨å†…å®¹ã€‚<br>ä½†è¿™äº›ç½‘ç«™å·²ç»å‘å±•æˆä¸ºå¼ºå¤§çš„å¹³å°ï¼Œè€Œç”¨æˆ·æœ€ç»ˆä¸èƒ½æ§åˆ¶ä»–ä»¬çš„è´¦æˆ·å’Œå†…å®¹çš„äº‹å®ä¹Ÿæ˜¾ç°å‡ºæ¥äº†ã€‚</p></li><li><p>Web 3.0 - ç”¨æˆ·äº§ç”Ÿçš„å†…å®¹ï¼Œç”¨æˆ·è¯´äº†ç®—ã€‚ä¸€ç§æ¨¡å¼æ­£åœ¨å‡ºç°ï¼Œäººä»¬ä¸å¿…æ‰˜ç®¡æœåŠ¡å™¨æˆ–åœ¨åˆ«äººçš„æ•°æ®åº“ä¸­åˆ›å»ºä¸€ä¸ªç”¨æˆ·è´¦æˆ·æ¥åˆ›å»ºå†…å®¹ã€‚<br> æœåŠ¡å™¨å¯ä»¥é€‰æ‹©æ˜¯å¦æ‰˜ç®¡æŸäººçš„è´¦æˆ·æˆ–å†…å®¹ï¼Œä½†ä»–ä»¬å¯¹å…¶æ²¡æœ‰æœ€ç»ˆçš„æƒåŠ›ã€‚å®ç°è¿™ä¸€ç‚¹çš„æŠ€æœ¯æ˜¯ â€œè‡ªæˆ‘è®¤è¯åè®®â€ï¼ŒåŸºäºåŠ å¯†ç­¾åå’Œå“ˆå¸Œå€¼ã€‚</p></li></ul><p>ç®€è€Œè¨€ä¹‹ï¼Œè¿™ä¸‰ä¸ªé˜¶æ®µæ˜¯ â€œæ‰˜ç®¡ç½‘ç»œã€å‘å¸ƒç½‘ç»œå’Œç­¾åç½‘ç»œâ€ã€‚</p><p>ä»€ä¹ˆæ˜¯â€œè‡ªæˆ‘è®¤è¯çš„åè®®â€ï¼Ÿ<br>è¿™æ˜¯æˆ‘ç”¨æ¥æè¿°å…·æœ‰åŠ å¯†ç”¨æˆ·æ ‡è¯†ç¬¦å’Œå†…å®¹å¯»å€æ•°æ®çš„åè®®çš„ä¸€ä¸ªé€šç”¨æœ¯è¯­ã€‚</p><p>â€œåŠ å¯†ç”¨æˆ·æ ‡è¯†ç¬¦â€å°†ç”¨æˆ·ä¸å…¬é’¥è”ç³»èµ·æ¥ã€‚ç”¨ç›¸åº”çš„ç§é’¥ç­¾åçš„æ–¹æ³•è¯æ˜æŸäººæ§åˆ¶è´¦æˆ·çš„ä¿¡ä»»æ ¹åŸºï¼Œè€Œä¸æ˜¯è·Ÿè¸ªç”¨æˆ·ç™»å½•çš„æ•°æ®åº“ä¸­çš„ä¸€ä¸ªæ¡ç›®ã€‚<br>â€œå†…å®¹å¯»å€æ•°æ®â€æ„å‘³ç€å†…å®¹æ˜¯é€šè¿‡å…¶åŠ å¯†å“ˆå¸Œå€¼æ¥å¼•ç”¨çš„â€“è¿™æ˜¯ä¸€å—æ•°æ®çš„å”¯ä¸€æ•°å­— â€œæŒ‡çº¹â€ã€‚<br>æŠŠè¿™ä¸¤å—æ”¾åœ¨ä¸€èµ·ï¼Œç”±ç”¨æˆ·å¯†é’¥ç­¾ç½²çš„å†…å®¹å“ˆå¸Œå€¼å¯ä»¥è¯æ˜ç”¨æˆ·æˆæƒå…¶åˆ›å»ºï¼Œè€Œä¸éœ€è¦ä¸­é—´äººã€‚<br>è‡ªæˆ‘è®¤è¯çš„æ•°æ®ä½¿ä¿¡ä»»å­˜åœ¨äºæ•°æ®æœ¬èº«ï¼Œè€Œä¸æ˜¯åœ¨ä½ å‘ç°å®ƒçš„åœ°æ–¹ï¼Œå…è®¸åº”ç”¨ç¨‹åºä»å®¢æˆ·ç«¯-æœåŠ¡å™¨æ¶æ„ä¸­è½¬ç§»å‡ºæ¥ã€‚è¿™åˆ›é€ äº† â€œç”¨æˆ·ç”Ÿæˆå³æƒå¨â€ã€‚</p><p>å¦‚æœæˆ‘ä»¬æŠŠå®ƒå®šä¹‰ä¸ºè‡ªæˆ‘è®¤è¯çš„åè®®ï¼Œé‚£ä¹ˆåŒºå—é“¾åœ¨Web3ä¸­çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>åŒºå—é“¾æ˜¯è‡ªè¯åè®®ï¼Œå¯¹å…¨çƒçŠ¶æ€å½¢æˆå…±è¯†ï¼Œæ¨¡æ‹Ÿé›†ä¸­å¼æ•°æ®åº“ï¼Œæ²¡æœ‰ä»»ä½•ä¸€æ–¹æ§åˆ¶ã€‚<br>åŒºå—é“¾ä¸Šçš„ â€œç”¨æˆ·è´¦æˆ·â€æ˜¯åŠ å¯†çš„å¯†é’¥å¯¹ï¼Œç”¨äºç­¾ç½²äº¤æ˜“ã€‚<br>â€œå†…å®¹æ˜¯â€æ†ç»‘åœ¨åŒºå—ä¸­çš„äº¤æ˜“çš„å“ˆå¸Œå€¼ï¼Œè¿™äº›å“ˆå¸Œå€¼æœ¬èº«ä¹Ÿè¢«ä¸²è”åœ¨ä¸€èµ·ã€‚äº¤æ˜“æ˜¯ç”¨ç”¨æˆ·çš„å¯†é’¥å¯¹ç­¾ç½²çš„ã€‚<br>æ¯”ç‰¹å¸ï¼ˆç¬¬ä¸€ä¸ªåŒºå—é“¾ï¼‰å¼•å…¥äº†ä¸€ç§æ–°çš„å…±è¯†æœºåˆ¶ï¼Œè®©äº’ä¸ä¿¡ä»»çš„å„æ–¹å°±å‘ç”Ÿçš„äº¤æ˜“è¾¾æˆä¸€è‡´â€“è¿™å¯¹æ²¡æœ‰ä¸­é—´äººçš„æ•°å­—è´§å¸éå¸¸é‡è¦ã€‚</p><p>è¿˜æœ‰å“ªäº›åè®®å…·æœ‰è‡ªæˆ‘è®¤è¯çš„ç‰¹æ€§ï¼Œè€Œä¸æ˜¯åŒºå—é“¾ï¼Ÿ<br>Gitã€PGPã€BitTorrentå’ŒTahoe-LAFsåœ¨æ¯”ç‰¹å¸ä¹‹å‰ã€‚<br>åœ¨å½“å‰ä¸€ä»£éåŒºå—é“¾è‡ªè¯åè®®ä¸­ï¼ŒIPFSã€Hypercoreã€SSBã€Pergoså’ŒSpritelyéƒ½æœ‰ç”¨æˆ·å¯†é’¥å’Œå†…å®¹å¯»å€ã€‚<br>åœ¨è¿™äº›éåŒºå—é“¾è‡ªè¯åè®®ä¸­ï¼Œä½ å¯ä»¥è¯æ˜ä¸€ä¸ªç”¨æˆ· â€œæ‹¥æœ‰ â€œå†…å®¹ï¼Œå³å¯ä»¥éªŒè¯ä»–ä»¬å‘å¸ƒçš„å†…å®¹ã€‚åŒºå—é“¾é€šè¿‡æ‹¥æœ‰ä¸€ä¸ªæ¯ä¸ªäººéƒ½åŒæ„çš„æœ‰æ—¶é—´æˆ³çš„å…¨çƒè´¦æœ¬ï¼Œå¼•å…¥äº†ä¸€ä¸ªæ›´ä¸¥æ ¼çš„æ‰€æœ‰æƒæ¦‚å¿µã€‚<br>è¿™è®©ä½ å¯ä»¥æ–­è¨€å…¨å±€æ’åºå’Œå”¯ä¸€æ€§ç­‰å±æ€§ï¼Œæ‰€ä»¥ä½ å¯ä»¥è¯æ˜åœ¨åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªäººâ€œæ‹¥æœ‰â€ä¸€ä¸ªæ¯”ç‰¹å¸æˆ–ä¸€ä¸ªNFTã€‚<br>ä»æ¶æ„ä¸Šçœ‹ï¼ŒåŒºå—é“¾å¯ä»¥è¢«è®¤ä¸ºæ˜¯Web3ä¸­çš„ä¸€ç§æ•°æ®å­˜å‚¨ï¼Œå¯¹æŸäº›åº”ç”¨æœ‰ç”¨ï¼Œå¯¹å…¶ä»–åº”ç”¨åˆ™å¾ˆéº»çƒ¦ã€‚<br>ä½†åœ¨è´¢æ”¿å’Œç¤¾ä¼šæ–¹é¢ï¼Œä»–ä»¬å·²ç»å°†æ³¨æ„åŠ›å’Œèµ„æºå€¾æ³¨åˆ°è¿™ä¸ªç©ºé—´ã€‚ç”±åŒºå—é“¾è€Œå»ºç«‹çš„Web3åŸºç¡€è®¾æ–½çš„é‡è¦éƒ¨åˆ†åŒ…æ‹¬ï¼šå°†å¯†é’¥å¯¹æ”¾åˆ°æ•°ç™¾ä¸‡ç”¨æˆ·æ‰‹ä¸­çš„é’±åŒ…å’Œåº”ç”¨ç¨‹åºï¼Œä»¥åŠæ–°çš„åŠ å¯†åŸºå…ƒçš„å·¥å…·ï¼Œå¦‚é‡Šæ”¾æ— æ•°å¯èƒ½æ€§çš„é›¶çŸ¥è¯†è¯æ˜ã€‚<br>å¯ä»¥ç†è§£çš„æ˜¯ï¼Œä¸ºä»€ä¹ˆå®ƒä»¬ç›®å‰ç›–è¿‡äº†å¯¹å…¶ä»–äº‹ç‰©çš„è®¨è®ºï¼Œä½†å¦‚æœè¦å®ç°å®Œæ•´çš„Web3æ„¿æ™¯ï¼Œå°±å¿…é¡»å¼€å‘å…¶ä»–ç±»å‹çš„è‡ªæˆ‘è®¤è¯åè®®ã€‚</p><p>å¦‚æœä¸€ä¸ªè‡ªæˆ‘è®¤è¯çš„åè®®æ˜¯ä¸€ä¸ªå…è®¸é€šè¿‡ç”¨æˆ·å¯†é’¥å’Œå†…å®¹å¯»å€ç›´æ¥è¯æ˜å†…å®¹çš„ä½œè€…èº«ä»½çš„åè®®ï¼Œé‚£ä¹ˆä¸€ä¸ªè‡ªæˆ‘è®¤è¯çš„ç½‘ç»œåè®®å°±æ˜¯ä¸€ä¸ªä¹Ÿæœ‰å†…å®¹é“¾æ¥å’Œå‘ç°çš„åè®®ã€‚<br>èƒ½å¤Ÿå‘ç°å†…å®¹çš„ç®—æ³•æ˜¯æˆ‘ä»¬ç°åœ¨ä½¿ç”¨ç½‘ç»œçš„ä¸€ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼Œå¦‚æœâ€œWeb3â€è¦æä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒï¼Œå®ƒéœ€è¦åœ¨è¿™æ–¹é¢å‘å±•å¾—æ›´åŠ æˆç†Ÿã€‚</p><p>æˆ‘ä»¬è®¤ä¸ºç¼ºå¤±æˆ–ä¸æˆç†Ÿçš„ä¸œè¥¿ï¼šç¤¾äº¤å›¾è°±ã€ç”¨æˆ·æ¡£æ¡ˆã€èº«ä»½å’Œå£°èª‰è¯æ˜ã€å†…å®¹èšåˆã€ç´¢å¼•å’Œå‘ç°ã€ç­–åˆ’å’Œç®¡ç†æ–¹æ³•ã€‚åº”ç”¨äºåŒºå—é“¾æŠ€æœ¯çš„Web3ä¸€è¯çš„ä¸€ä¸ªä»¤äººå›°æƒ‘çš„éƒ¨åˆ†æ˜¯ï¼Œå®ƒç°åœ¨æ˜¯å¾ˆå¤šä¸ç›¸å¹²çš„éƒ¨åˆ†ï¼Œç¼ºå°‘å¾ˆå¤šæˆ‘ä»¬ä»ç½‘ç»œä¸ŠæœŸå¾…çš„åŠŸèƒ½ã€‚</p><p>å¸Œæœ›Web3æœ‰ä¸€ä¸ªæ›´å¹¿æ³›çš„å®šä¹‰ï¼ŒåŒ…æ‹¬æ‰€æœ‰è‡ªæˆ‘è®¤è¯çš„åè®®ï¼Œå…¶ä¸­æ‰€æœ‰åŒºå—é“¾éƒ½æ˜¯ä¸€ä¸ªå­é›†ã€‚<br>ä½†æ˜¯ï¼Œä¸å…¶å…³æ³¨è¿™äº›æœ¯è¯­ï¼Œä¸å¦‚å°è¯•å°†æˆ‘ä»¬çš„ç²¾åŠ›é›†ä¸­åœ¨äº’è”ç½‘å‘å±•è¿‡ç¨‹ä¸­å“ªäº›å±æ€§å’Œç‰¹å¾æ˜¯é‡è¦çš„ã€‚<br>å¸Œæœ›æœ‰ä¸€ä¸ªæ›´ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„ç½‘ç»œï¼Œäººä»¬å¯ä»¥äº§ç”Ÿè‡ªå·±çš„æƒåŠ›æ¥åˆ›é€ å†…å®¹ï¼Œè€Œä¸æŠŠè‡ªå·±é”å®šåœ¨ä¸€ä¸ªä¸­å¿ƒåŒ–çš„æœåŠ¡ä¸­ã€‚<br>å¦‚æœä½ åŒæ„è¿™ä¸€ç‚¹ï¼Œä½†ç”±äºæŸç§åŸå› ä¸æƒ³ä½¿ç”¨â€œWeb3â€è¿™ä¸ªæœ¯è¯­ï¼Œå»ºè®®ä½¿ç”¨â€œè‡ªæˆ‘è®¤è¯çš„ç½‘ç»œåè®®â€ï¼Œç®€ç§°SCWPï¼Œä½œä¸ºè¿™äº›æŠ€æœ¯çš„ä¸€ä¸ªæ›´å…·ä½“å’ŒæŠ€æœ¯æè¿°æ€§çš„æœ¯è¯­ã€‚</p><!-- https://jaygraber.medium.com/web3-is-self-certifying-9dad77fd8d81 -->]]></content>
      
      
      <categories>
          
          <category> Web3 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Web3 </tag>
            
            <tag> Certifying </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æµ…æsetState()</title>
      <link href="/Breakdown-setState-signature.html"/>
      <url>/Breakdown-setState-signature.html</url>
      
        <content type="html"><![CDATA[<img src="/Breakdown-setState-signature/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¤§å¤šæ•°æ—¶å€™ï¼Œåˆå­¦è€…åœ¨ç¼–å†™setState()æ–¹æ³•æ—¶éƒ½ä¼šæ„Ÿåˆ°å›°æƒ‘ã€‚</p><span id="more"></span><blockquote><p>å¤§æ‹¬å·çš„é¡ºåºæ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆæœ‰è¿™ä¹ˆå¤šçš„å¤§æ‹¬å·ï¼Œè¿™äº›æ˜¯ä»€ä¹ˆï¼Ÿ<br>è¿™æ˜¯ä¸€ä¸ªæ–¹æ³•å—ï¼Ÿ<br>è¿™æ˜¯ä¸€ä¸ªå‡½æ•°ä¸­çš„ä¸€ä¸ªå‡½æ•°å—ï¼Ÿ</p></blockquote><p>æ­¤å¤–ï¼Œå½“äººä»¬è¿™æ ·å†™æ—¶ï¼š</p><img src="/Breakdown-setState-signature/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>é‚£ä¹ˆè¿™æ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°é‡Œé¢çš„å‡½æ•°è°ƒç”¨ï¼ŸğŸ¤”</p><p>æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬ä¸ºä½ åˆ†è§£ä¸€ä¸‹å§!<br>ä½†åœ¨æ­¤ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå®šä¹‰ä¸€äº›å‡½æ•°ã€‚</p><p><strong>ä½ èƒ½è¯´å‡ºè¿™ä¸¤ä¸ªå‡½æ•°ä¹‹é—´çš„åŒºåˆ«å—ï¼Ÿ</strong></p><img src="/Breakdown-setState-signature/3.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‰€ä»¥ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°æ˜¯Void Function()ï¼ŒåŸºæœ¬ä¸Šæ˜¯ä¸€ä¸ªé›¶å‚æ•°çš„å‡½æ•°ï¼Œä¸è¿”å›ä»»ä½•ä¸œè¥¿ã€‚<br>ç¬¬äºŒä¸ªæ˜¯String Function()ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªé›¶å‚æ•°çš„å‡½æ•°ï¼Œä½†å®ƒè¿”å›Stringã€‚</p><p>è®©æˆ‘ä»¬åœ¨è¿™é‡Œæš‚åœä¸€ä¸‹ï¼Œå›åˆ°æˆ‘ä»¬çš„setState()æ–¹æ³•ï¼Œæ‰“å¼€å®ƒçš„æ–‡æ¡£ã€‚</p><img src="/Breakdown-setState-signature/4.png" class="" title="ç¤ºæ„å›¾ width=400"><img src="/Breakdown-setState-signature/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‰€ä»¥setStateæ˜¯æˆ‘ä»¬çš„Stateç±»ä¸­çš„ä¸€ä¸ªç±»æ–¹æ³•ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆä½ ä¸èƒ½ä»ä»»ä½•æ— çŠ¶æ€çš„Widgetä¸­å¾—åˆ°setStateçš„åŸå› ï¼Œå› ä¸ºä»–ä»¬æ²¡æœ‰ä¸€ä¸ªç›¸å…³çš„Stateç±»ã€‚<br>ä½†ä¹Ÿè¦æ³¨æ„ï¼ŒsetStateéœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°æ˜¯VoidCallbackç±»å‹çš„ã€‚<br>ç°åœ¨ï¼ŒVoidCallbackåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ<br>å¦‚æœä½ æ‰“å¼€VoidCallbackçš„æ–‡æ¡£ï¼Œå®ƒä¸è¿‡æ˜¯â€¦â€¦</p><img src="/Breakdown-setState-signature/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>â€¦åªæ˜¯void Function()çš„ä¸€ä¸ªåˆ«åã€‚<br>æ‰€ä»¥ä½ å¯èƒ½ä¼šé—®ï¼Œè¿™æ˜¯å¦æ„å‘³ç€VoidCallbackç­‰åŒäºæˆ‘ä»¬ä¹‹å‰å†™çš„displayMessage()å‡½æ•°ï¼ŒåŸºæœ¬ä¸Šç­‰åŒäºä¸€ä¸ªä¸éœ€è¦å‚æ•°ã€ä¸è¿”å›æ•°æ®çš„å‡½æ•°ï¼Ÿ</p><p>æ‰€ä»¥ä¸¥æ ¼æ¥è¯´ï¼ŒsetStateéœ€è¦ä¸€ä¸ªvoid Function()ä½œä¸ºå‚æ•°ã€‚</p><img src="/Breakdown-setState-signature/7.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‰€ä»¥setState()åŸºæœ¬ä¸Šé‡‡å–äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œä¸€ä¸ªæ²¡æœ‰åå­—çš„å‡½æ•°ã€‚<br>æ‰€ä»¥ä¸‹ä¸€æ¬¡ï¼Œå½“ä½ ä¸ºsetState()æä¾›å‚æ•°æ—¶ï¼Œåªè¦æƒ³è±¡ä¸€ä¸‹å†™ä¸€ä¸ªæ²¡æœ‰å‡½æ•°åçš„æ— æ•ˆå‡½æ•°ä½“ï¼Œä½ å°±ä¸ä¼šå¯¹æ‹¬å·äº§ç”Ÿæ··æ·†äº†ã€‚</p><h3 id="å¯¹å‡½æ•°çš„å¼•ç”¨ä½œä¸ºå‚æ•°"><a href="#å¯¹å‡½æ•°çš„å¼•ç”¨ä½œä¸ºå‚æ•°" class="headerlink" title="å¯¹å‡½æ•°çš„å¼•ç”¨ä½œä¸ºå‚æ•°"></a>å¯¹å‡½æ•°çš„å¼•ç”¨ä½œä¸ºå‚æ•°</h3><p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿæ³¨æ„åˆ°äººä»¬è¿™æ ·åšï¼š</p><img src="/Breakdown-setState-signature/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœä½ ä¹Ÿæ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œä½ æ˜¯å¦æ„è¯†åˆ°ä½ åªæ˜¯åœ¨ä¸€ä¸ªå‡½æ•°çš„å‡½æ•°é‡Œé¢åšä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œæ²¡æœ‰ä»»ä½•é¢å¤–çš„å¥½å¤„ï¼Ÿ<br>ç°åœ¨ä½ ç†è§£äº†setStateçš„æ–¹æ³•ï¼Œä½ æ˜¯å¦è®¤ä¸ºæä¾›ä¸€ä¸ªå¯¹displayMessage()çš„å¼•ç”¨å°±èƒ½ç®€å•åœ°åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿ<br>è§‚å¯Ÿä¸€ä¸‹ä¸‹é¢çš„å˜åŒ–ã€‚</p><img src="/Breakdown-setState-signature/9.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åªæ˜¯ä¸ºsetStateæä¾›äº†ä¸€ä¸ªå¯¹å‡½æ•°displayMessage()çš„å¼•ç”¨ï¼Œè¿™å°±å®Œæˆäº†ä»»åŠ¡ï¼Œä¸éœ€è¦åµŒå¥—å‡½æ•°ï¼Œä»£ç æ•°é‡ä¹Ÿå°‘ã€‚</p><p>Dartç§°å…¶ä¸ºtear-offsï¼Œä½ ä¹Ÿè®¸å¯ä»¥åœ¨è¿™é‡Œè¯»åˆ°ä¸€äº›è¿™æ–¹é¢çš„å†…å®¹â¤µï¸ã€‚<br><a href="https://dart.dev/guides/language/effective-dart/usage#dont-create-a-lambda-when-a-tear-off-will-do">https://dart.dev/guides/language/effective-dart/usage#dont-create-a-lambda-when-a-tear-off-will-do</a></p><p>äº‹å®ä¸Šï¼Œä½ ä¹Ÿå¯ä»¥å®šä¹‰ä¸€ä¸ªå‡½æ•°å˜é‡ï¼Œå°±åƒä½ å¯¹ä»»ä½•åŸå§‹ç±»å‹å¦‚Stringã€boolæˆ–intæ‰€åšçš„é‚£æ ·ã€‚</p><img src="/Breakdown-setState-signature/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ğŸ’¡ æ³¨æ„ï¼šç„¶è€Œï¼Œå‡½æ•°å£°æ˜æ¯”å‡½æ•°å˜é‡æ›´å€¼å¾—æ¨èã€‚</p><p>ä½†è¯·è®°ä½ï¼Œè¿™ç§æä¾›å¼•ç”¨çš„æ–¹å¼åªæœ‰åœ¨ä½ æƒ³æä¾›çš„å‡½æ•°ä¹Ÿæ˜¯void Function()çš„æƒ…å†µä¸‹æ‰æœ‰æ•ˆã€‚<br>ä»¥ä¸‹æƒ…å†µä¸ä¼šèµ·ä½œç”¨ ğŸ”´</p><img src="/Breakdown-setState-signature/11.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å°±è¿™æ ·äº†ã€‚<br>æˆ‘å¸Œæœ›ä½ åœ¨è¯»å®Œè¿™ç¯‡æ–‡ç« åå¯¹setState()ä¸å†æ„Ÿåˆ°å›°æƒ‘ã€‚ğŸ™<br>å¦‚æœä½ è§‰å¾—è‡ªå·±æœ‰ä»€ä¹ˆä¸æ˜ç™½çš„åœ°æ–¹ï¼Œè¯·ä½ å°è¯•ç€å»æŒ–æ˜ä¸€ä¸‹æ–‡æ¡£ï¼Œå½“æ¶‰åŠåˆ°Flutteræ—¶ï¼Œå®ƒæ˜¯ä¸€ä¸ªç¥å¥‡çš„ä¿¡æ¯å®åº“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Function </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æˆ‘æ€æ ·æ‰èƒ½å¼€å§‹è¿›è¡ŒFlutteræµ‹è¯•ï¼Ÿ</title>
      <link href="/How-can-I-start-with-Flutter-Testing.html"/>
      <url>/How-can-I-start-with-Flutter-Testing.html</url>
      
        <content type="html"><![CDATA[<img src="/How-can-I-start-with-Flutter-Testing/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>å¤§å®¶å¥½! ğŸ‘‹<br>è¿™äº›å¤©æˆ‘å¼€å§‹äº†æˆ‘çš„Flutteræµ‹è¯•ä¹‹æ—…ã€‚è¿™ä¸ªä¸–ç•Œå¯¹æˆ‘æ¥è¯´æ˜¯æœªçŸ¥çš„ï¼Œä½†æˆ‘çŸ¥é“åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­è¿›è¡Œæµ‹è¯•æ˜¯è¶…çº§é‡è¦çš„ï¼Œæˆ‘å†³å®šè‡ªå·±å­¦ä¹ ã€‚<br>ä¹Ÿè®¸æˆ‘ç°åœ¨ç»™ä½ çœ‹çš„ä»£ç å¯ä»¥åšå¾—æ›´å¥½ï¼Œä½†è¯·è®°ä½ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡åšflutteræµ‹è¯•ï¼Œæˆ‘æƒ³å‘ä½ å±•ç¤ºæˆ‘æ‰€åšçš„ï¼Œå½“ç„¶ï¼Œå¦‚æœä½ æœ‰ä»»ä½•å»ºè®®ï¼Œä»£ç å°†æ˜¯å¼€æºçš„ã€‚<br>æˆ‘å¯¹è¿™ä¸ªèµ„æºåº“çš„æƒ³æ³•æ˜¯ä¸ºæ¯ä¸ªå¯¹å­¦ä¹ æµ‹è¯•æ„Ÿå…´è¶£çš„äººæä¾›ä¸€ä¸ªåœ°æ–¹ï¼Œåˆ›å»ºæ–°çš„å†…å®¹ï¼ŒPRï¼Œå¹¶ä¸€èµ·åˆä½œã€‚</p><span id="more"></span><p>æ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§! ğŸ™Œ<br>é¦–å…ˆï¼Œæˆ‘æƒ³è§£é‡Šä¸€ä¸‹æˆ‘åˆ›å»ºçš„æ˜¯ä¸€ä¸ªä»€ä¹ˆæ ·çš„é¡¹ç›®ã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ˜¾ç¤ºçŒ«çš„åº”ç”¨ç¨‹åºï¼Œå®ƒæ¥è‡ªä¸€ä¸ªè·å–çŒ«çŒ«çš„APIã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªåº•éƒ¨å¯¼èˆªå°éƒ¨ä»¶ï¼Œæœ‰ä¸‰ä¸ªé¡µé¢ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹è®¨è®ºç¬¬ä¸€é¡µã€‚</p><h3 id="éšæœºçŒ«å’ªğŸ±"><a href="#éšæœºçŒ«å’ªğŸ±" class="headerlink" title="éšæœºçŒ«å’ªğŸ±"></a>éšæœºçŒ«å’ªğŸ±</h3><p>è¿™ä¸ªé¡µé¢æ˜¯ä¸€ä¸ªéšæœºçŒ«å’ªçš„å¯è§†åŒ–å·¥å…·ï¼Œä½ åªéœ€è¦ç®€å•çš„ç‚¹å‡»å°±å¯ä»¥æ‹¥æœ‰çœ‹åˆ°ä¸–ç•Œä¸Šæ¯ä¸ªåœ°æ–¹çš„çŒ«å’ªçš„èƒ½åŠ›ï¼Œå¾ˆæ£’å§ï¼Ÿ<br>ç©ç¬‘å½’ç©ç¬‘ï¼Œè¿™ä¸ªé¡µé¢çš„æƒ³æ³•æ˜¯è®©ç”¨æˆ·åœ¨ç‚¹å‡»æµ®åŠ¨çš„è¡ŒåŠ¨æŒ‰é’®æ—¶å¯ä»¥çœ‹åˆ°éšæœºçš„çŒ«å’ªã€‚<br>ä¸ºäº†å¾—åˆ°è¿™ä¸ªç»“æœï¼Œæˆ‘æŠŠåº”ç”¨ç¨‹åºçš„ç»“æ„ä¿æŒå¾—å¾ˆç®€å•ï¼Œè¿™ç¯‡æ–‡ç« ä¸æ˜¯å…³äºæ¶æ„çš„ï¼Œæ‰€ä»¥æˆ‘å†³å®šä¸èŠ±å¾ˆå¤šæ—¶é—´æ¥åšè¿™ä¸ªï¼Œè€Œæ˜¯åŠªåŠ›ä¸“æ³¨äºè¿™ä¸ªé¡¹ç›®çš„ç›®çš„ï¼šæµ‹è¯•ã€‚ğŸ§ª</p><img src="/How-can-I-start-with-Flutter-Testing/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ€»ä¹‹ï¼Œä»¥ä¸‹è¿™å°±æ˜¯åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹çš„ç»“æ„ã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="è¯·æ±‚æˆåŠŸçš„æƒ…å†µ"><a href="#è¯·æ±‚æˆåŠŸçš„æƒ…å†µ" class="headerlink" title="è¯·æ±‚æˆåŠŸçš„æƒ…å†µ"></a>è¯·æ±‚æˆåŠŸçš„æƒ…å†µ</h3><p>åœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œç”¨æˆ·éœ€è¦ç‚¹å‡»æµ®åŠ¨æŒ‰é’®ï¼Œè¿™ä¼šè§¦å‘äº†ä¸€ä¸ªBlocäº‹ä»¶ã€‚<br>Blocè´Ÿè´£ä¸å­˜å‚¨åº“é€šä¿¡ä»¥è·å¾—ä¸‹ä¸€åªçŒ«ã€‚<br>å­˜å‚¨åº“è°ƒç”¨ä¸€ä¸ªAPIï¼Œè·å¾—ä¸‹ä¸€åªéšæœºçŒ«ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæµç¨‹æ˜¯æˆåŠŸçš„ï¼Œæ‰€ä»¥æœåŠ¡å°†è¿”å›ä¸€ä¸ªçŒ«å¯¹è±¡ç»™å­˜å‚¨åº“ï¼Œå®ƒå°†è¿”å›ç»™Blocã€‚Blocå°†æ£€æŸ¥è¯¥çŒ«æ˜¯å¦æ­£ç¡®ï¼ˆå¦‚æœå®ƒæœ‰ä¸€ä¸ªéç©ºçš„å“ç§åˆ—è¡¨ï¼‰ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ä¼šå‘å‡º</p><pre class="line-numbers language-none"><code class="language-none">RandomCatStatus.success<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è§†å›¾æœ‰ä¸€ä¸ªBlocConsumerï¼Œå®ƒæœ‰ä¸€ä¸ªæ„å»ºå™¨ï¼Œæ­£åœ¨ç›‘å¬å¯èƒ½çš„çŠ¶æ€å˜åŒ–ï¼Œä»¥é‡å»ºè§†å›¾ã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/4.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="å“ç§åˆ—è¡¨ä¸ºç©ºæˆ–ç©ºçš„æˆåŠŸæ¡ˆä¾‹"><a href="#å“ç§åˆ—è¡¨ä¸ºç©ºæˆ–ç©ºçš„æˆåŠŸæ¡ˆä¾‹" class="headerlink" title="å“ç§åˆ—è¡¨ä¸ºç©ºæˆ–ç©ºçš„æˆåŠŸæ¡ˆä¾‹"></a>å“ç§åˆ—è¡¨ä¸ºç©ºæˆ–ç©ºçš„æˆåŠŸæ¡ˆä¾‹</h3><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡è¿”å›ä¸€ä¸ªæ­£ç¡®çš„ç­”æ¡ˆï¼Œä½†æ˜¯çŒ«çš„å“ç§åˆ—è¡¨ä¸ºç©ºæˆ–ç©ºã€‚<br>è¿™ä¸ªåˆ—è¡¨å¯¹äºæ˜¾ç¤ºçŒ«çš„ä¿¡æ¯æ˜¯å¿…è¦çš„ã€‚å› æ­¤ï¼Œå½“å­˜å‚¨åº“å°†å¯¹è±¡è¿”å›ç»™blocæ—¶ï¼Œå®ƒå°†è´Ÿè´£éªŒè¯è¿™ä¸ªåˆ—è¡¨æ˜¯å¦ä¸ºç©ºæˆ–ç©ºï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œè¿™ä¸ªåˆ—è¡¨æ˜¯ç©ºçš„ï¼Œæ‰€ä»¥blocå°†å‘å‡ºRandomCatStatus.emptyBreedã€‚è§†å›¾å°†åœ¨BlocConsumerçš„ç›‘å¬å™¨ä¸Šç›‘å¬è¿™ä¸ªçŠ¶æ€ï¼Œå½“å®ƒå‘ç”Ÿæ—¶ï¼Œè§†å›¾åº”è¯¥å†æ¬¡è°ƒç”¨è¯¥äº‹ä»¶ä»¥è·å¾—å¦ä¸€åªéšæœºçŒ«ã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/5.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="å½“response-bodyä¸ºç©ºæ—¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯"><a href="#å½“response-bodyä¸ºç©ºæ—¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯" class="headerlink" title="å½“response.bodyä¸ºç©ºæ—¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯"></a>å½“response.bodyä¸ºç©ºæ—¶æŠ›å‡ºä¸€ä¸ªé”™è¯¯</h3><p>è¿™æ˜¯å¦ä¸€ç§å¯èƒ½å‘ç”Ÿçš„æƒ…å†µï¼Œå½“æœåŠ¡å“åº”çš„çŠ¶æ€ä»£ç ä¸º200ï¼Œä½†å“åº”ä½“æ˜¯ç©ºçš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒæœåŠ¡å°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚<br>å½“ä¸€ä¸ªé”™è¯¯è¢«æŠ›å‡ºæ—¶ï¼ŒBlocä¸Šçš„try/catchå°†æ•è·è¿™ä¸ªé”™è¯¯å¹¶å‘å‡ºRandomCatStatus.failureã€‚è§†å›¾å°†ç›‘å¬è¿™ä¸ªçŠ¶æ€ï¼Œä»¥æ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰é”™è¯¯çš„æ¶ˆæ¯ã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/6.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="å½“response-statusCodeä¸æ˜¯200æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚"><a href="#å½“response-statusCodeä¸æ˜¯200æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚" class="headerlink" title="å½“response.statusCodeä¸æ˜¯200æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚"></a>å½“response.statusCodeä¸æ˜¯200æ—¶ï¼ŒæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</h3><p>ä¾‹å¦‚ï¼Œå¦‚æœå“åº”çŠ¶æ€ä»£ç è¿”å›404æˆ–400ï¼Œåº”ç”¨ç¨‹åºå°†æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚Blocä¼šæ•æ‰åˆ°è¿™ä¸ªé”™è¯¯ï¼Œå¹¶å‘è§†å›¾å‘å‡ºä¸€ä¸ªRandomCatStatus.failureã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™äº›æ˜¯è¯¥åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å¯èƒ½æƒ…å†µã€‚</p><h3 id="è®©æˆ‘ä»¬è¿›å…¥æµ‹è¯•-ğŸ§ª"><a href="#è®©æˆ‘ä»¬è¿›å…¥æµ‹è¯•-ğŸ§ª" class="headerlink" title="è®©æˆ‘ä»¬è¿›å…¥æµ‹è¯• ğŸ§ª"></a>è®©æˆ‘ä»¬è¿›å…¥æµ‹è¯• ğŸ§ª</h3><p>ç°åœ¨æ˜¯åœ¨flutterä¸­è¿›è¡Œæµ‹è¯•çš„æ—¶å€™äº†ã€‚æˆ‘ä»¬éœ€è¦çš„ç¬¬ä¸€ä»¶äº‹æ˜¯åœ¨pubspec.yamlä¸­å»ºç«‹æ­£ç¡®çš„ä¾èµ–å…³ç³»æ¥è¿›è¡Œæµ‹è¯•ã€‚</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">dependencies</span><span class="token punctuation">:</span>  <span class="token key atrule">mocktail</span><span class="token punctuation">:</span> ^0.3.0 // to mock classes  <span class="token key atrule">network_image_mock</span><span class="token punctuation">:</span> ^2.0.1 // to mock image network<span class="token key atrule">dev_dependencies</span><span class="token punctuation">:</span>  <span class="token key atrule">flutter_test</span><span class="token punctuation">:</span>    <span class="token key atrule">sdk</span><span class="token punctuation">:</span> flutter  <span class="token key atrule">bloc_test</span><span class="token punctuation">:</span> ^9.0.3 // to do bloc testing<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¾ˆå¥½ï¼Œç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹äº†! âœ…</p><p>åœ¨æ ¹é¡¹ç›®â†’æµ‹è¯•æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘å·²ç»åˆ›å»ºäº†è¿™ä¸ªã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨flutterä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸åŒç±»å‹çš„æµ‹è¯•ã€‚</p><ul><li>å•å…ƒæµ‹è¯•</li><li>å—çŠ¶æµ‹è¯•</li><li>å°å·¥å…·æµ‹è¯•</li><li>é›†æˆæµ‹è¯•<br>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä¸“æ³¨äºå‰ä¸‰ç§ã€‚<br>å½“ä½ åœ¨æµ‹è¯•æ—¶ï¼Œä½ æœ‰ä¸åŒçš„æ–¹æ³•å¯ä»¥åœ¨åšæµ‹è¯•ä¹‹åæˆ–ä¹‹å‰ä½¿ç”¨ã€‚</li></ul><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">// Registers a function to be run once before all tests</span><span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Registers a function to be run before tests</span><span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Registers a function to be run after tests</span><span class="token function">tearDown</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Registers a function to be run once after all tests</span><span class="token function">tearDownAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h3><p>åœ¨è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘å°†æµ‹è¯•æˆ‘åœ¨æœåŠ¡å’Œèµ„æºåº“ç±»ä¸Šåˆ›å»ºçš„æ–¹æ³•ã€‚<br>è¿™æ˜¯ <strong>service.dartç±»</strong></p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:convert'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/model/cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/model/result_error.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http/http.dart'</span></span> <span class="token operator">as</span> http<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http/http.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CatService</span> <span class="token punctuation">{</span>  <span class="token class-name">CatService</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Client</span><span class="token operator">?</span> httpClient<span class="token punctuation">,</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>baseUrl <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'https://api.thecatapi.com/v1'</span></span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> _httpClient <span class="token operator">=</span> httpClient <span class="token operator">?</span><span class="token operator">?</span> <span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Client</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> baseUrl<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Client</span> _httpClient<span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Cat</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token keyword">await</span> _httpClient        <span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">baseUrl</span></span><span class="token string">/images/search?has_breeds=true'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token class-name">ErrorEmptyResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘å¿…é¡»æµ‹è¯•è¯¥æœåŠ¡å¯èƒ½å‡ºç°çš„æ‰€æœ‰æƒ…å†µã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯ä¸ºå“åº”ã€å¯¹è±¡ç­‰åˆ›å»ºæ¨¡æ‹Ÿç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MockHttp</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Client</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">class</span> <span class="token class-name">MockResponse</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Response</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeUri</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">Uri</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶ååœ¨mainæ–¹æ³•ä¸­ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç»„ï¼Œæ‹¥æœ‰æ‰€æœ‰ä¸æœåŠ¡ç±»ç›¸å…³çš„æµ‹è¯•ã€‚åœ¨<strong>setUpAll</strong>æ–¹æ³•ä¸­ï¼Œæˆ‘æ³¨å†Œäº†ä¸€ä¸ª**registerFallbackValue(FakeUri())**ï¼Œå› ä¸ºæˆ‘éœ€è¦å®ƒåœ¨æµ‹è¯•ä¸­ä½¿ç”¨ä¸€ä¸ªå‡çš„URIã€‚<br>å¦‚æœæˆ‘ä¸è¿™æ ·åšï¼Œæˆ‘å°±ä¸èƒ½ä½¿ç”¨any()æ–¹æ³•ã€‚<br>å¦å¤–ï¼Œæˆ‘å·²ç»ä¸ºæ¨¡æ‹Ÿåˆ›å»ºäº†æ‰€éœ€çš„å˜é‡ã€‚è¿™äº›éƒ½å°†è¢«å®ä¾‹åŒ–åˆ°setUpæ–¹æ³•ä¸­ã€‚æ­¤å¤–ï¼Œæˆ‘è¿˜åœ¨ä¸€ä¸ªå•ç‹¬çš„ç±»ä¸­åˆ›å»ºäº†ä¸€ä¸ªJSONå˜é‡æ¥ä¼ªé€ APIçš„ç»“æœï¼ˆå½“APIè¿”å›ä¸€ä¸ªæ­£ç¡®çš„çŒ«æ—¶ï¼‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Service'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  late <span class="token class-name">CatService</span> catService<span class="token punctuation">;</span>  late <span class="token class-name">MockHttp</span> httpClient<span class="token punctuation">;</span>  <span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    httpClient <span class="token operator">=</span> <span class="token class-name">MockHttp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    catService <span class="token operator">=</span> <span class="token class-name">CatService</span><span class="token punctuation">(</span>httpClient<span class="token punctuation">:</span> httpClient<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘å‡†å¤‡åšçš„ç¬¬ä¸€ä¸ªæµ‹è¯•æ˜¯æ£€æŸ¥æ„é€ å‡½æ•°æ˜¯å¦ä¸éœ€è¦httpClientã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'constructor'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'does not required a httpClient'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token class-name">CatService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isNotNull<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æˆ‘æ‰“ç®—åˆ›å»ºä¸€ä¸ªå°ç»„ï¼Œè®©æ‰€æœ‰çš„æµ‹è¯•å¾—åˆ°ä¸€åªéšæœºçš„çŒ«ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'catSearch'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è¿™ä¸ªç»„é‡Œé¢ï¼Œæˆ‘éœ€è¦æ£€æŸ¥ä¸åŒçš„ä¸œè¥¿ã€‚</p><ol><li>å½“æœåŠ¡åšäº†ä¸€ä¸ªæ­£ç¡®çš„HTTPè¯·æ±‚ä½†ä¸»ä½“æ˜¯ç©ºçš„ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">test</span><span class="token punctuation">(</span>          <span class="token string-literal"><span class="token string">'make correct http request with empty response,'</span></span>          <span class="token string-literal"><span class="token string">' throw [ErrorEmptyResponse]'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token class-name">MockResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>          <span class="token keyword">await</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'should throw error empty body'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token function">expect</span><span class="token punctuation">(</span>            error<span class="token punctuation">,</span>            isA<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorEmptyResponse</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">verify</span><span class="token punctuation">(</span>          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>            <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>                <span class="token string-literal"><span class="token string">'https://api.thecatapi.com/v1/images/search?has_breeds=true'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å½“æœåŠ¡æŠ›å‡ºä¸€ä¸ªé”™è¯¯æ—¶ï¼Œå“åº”ä¸æ˜¯200ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'throws ResultError on non-200 response'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token class-name">MockResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">expect</span><span class="token punctuation">(</span>    catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token function">throwsA</span><span class="token punctuation">(</span>      isA<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å½“æœåŠ¡åœ¨ä¸€ä¸ªæœ‰æ•ˆçš„å“åº”ä¸Šè¿”å›ä¸€ä¸ªCat.jsonã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'return Cat.json on a valid response'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token class-name">MockResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token class-name">TestHelper</span><span class="token punctuation">.</span>searchCatJsonResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">await</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">expect</span><span class="token punctuation">(</span>          <span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          isA<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Cat</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ è¿è¡Œæ‰€æœ‰è¿™äº›æµ‹è¯•ï¼Œä½ å°†å¾—åˆ°æœ€å¥½çš„ä¸€å¥è¯ï¼šæ‰€æœ‰çš„æµ‹è¯•éƒ½é€šè¿‡äº†ï¼ã€‚</p><img src="/How-can-I-start-with-Flutter-Testing/9.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™é‡Œæ˜¯ä¸€ä¸ªå®Œæ•´çš„ç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:convert'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/model/cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/model/result_error.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/service.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/utils/test_helper.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http/http.dart'</span></span> <span class="token operator">as</span> http<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mocktail/mocktail.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MockHttp</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Client</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">MockResponse</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Response</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeUri</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">Uri</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Service'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    late <span class="token class-name">CatService</span> catService<span class="token punctuation">;</span>    late <span class="token class-name">MockHttp</span> httpClient<span class="token punctuation">;</span>    <span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      httpClient <span class="token operator">=</span> <span class="token class-name">MockHttp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      catService <span class="token operator">=</span> <span class="token class-name">CatService</span><span class="token punctuation">(</span>httpClient<span class="token punctuation">:</span> httpClient<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'constructor'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'does not required a httpClient'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token class-name">CatService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> isNotNull<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'catSearch'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">test</span><span class="token punctuation">(</span>          <span class="token string-literal"><span class="token string">'make correct http request with empty response,'</span></span>          <span class="token string-literal"><span class="token string">' throw [ErrorEmptyResponse]'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token class-name">MockResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>          <span class="token keyword">await</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token function">fail</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'should throw error empty body'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token function">expect</span><span class="token punctuation">(</span>            error<span class="token punctuation">,</span>            isA<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorEmptyResponse</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">verify</span><span class="token punctuation">(</span>          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>            <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>                <span class="token string-literal"><span class="token string">'https://api.thecatapi.com/v1/images/search?has_breeds=true'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'throws ResultError on non-200 response'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token class-name">MockResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">expect</span><span class="token punctuation">(</span>          catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token function">throwsA</span><span class="token punctuation">(</span>            isA<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'return Cat.json on a valid response'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token class-name">MockResponse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token class-name">TestHelper</span><span class="token punctuation">.</span>searchCatJsonResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> httpClient<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token function">any</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">await</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">expect</span><span class="token punctuation">(</span>          <span class="token class-name">Cat</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span><span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          isA<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Cat</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æ˜¯æ—¶å€™å¯¹ç‰ˆæœ¬åº“ç±»è¿›è¡Œæµ‹è¯•äº†ã€‚è¿™é‡Œæ˜¯cat_respositoryç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'model/cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'service.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CatRepository</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CatRepository</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>service<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">CatService</span> service<span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Cat</span><span class="token punctuation">&gt;</span></span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> service<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆï¼Œæˆ‘åˆ›å»ºäº†å¿…è¦çš„æ¨¡æ‹Ÿ</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MockService</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token namespace">cat_service<span class="token punctuation">.</span></span>CatService</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¬¬äºŒï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç»„ï¼Œæ‹¥æœ‰ä¸è¿™ä¸ªç±»ç›¸å…³çš„æ‰€æœ‰æµ‹è¯•ã€‚è¿™é‡Œæ˜¯åˆ›å»ºæ‰€éœ€å˜é‡å¹¶å°†å…¶åˆå§‹åŒ–åˆ°setUpæ–¹æ³•çš„åœ°æ–¹ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Cat Repository'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    late <span class="token class-name"><span class="token namespace">cat_service<span class="token punctuation">.</span></span>CatService</span> catService<span class="token punctuation">;</span>    late <span class="token class-name">CatRepository</span> catRepository<span class="token punctuation">;</span>    <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      catService <span class="token operator">=</span> <span class="token class-name">MockService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      catRepository <span class="token operator">=</span> <span class="token class-name">CatRepository</span><span class="token punctuation">(</span>service<span class="token punctuation">:</span> catService<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä¸ºæ„é€ å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªæµ‹è¯•ï¼Œåœ¨è¿™é‡Œæˆ‘æ£€æŸ¥äº†catæœåŠ¡æ˜¯å¦éœ€è¦ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'instantiates CatRepository with a required carService'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                                            <span class="token function">expect</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">,</span> isNotNull<span class="token punctuation">)</span><span class="token punctuation">;</span>                                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®Œæˆè¿™ä¸ªç±»çš„æ‰€æœ‰è¦†ç›–çš„å…¶ä»–æ£€æŸ¥:</p><ol><li>å¯¹æœç´¢æ–¹æ³•çš„è°ƒç”¨ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'calls search method'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">try</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> catRepository<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  <span class="token function">verify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å½“æœç´¢æ–¹æ³•å¤±è´¥æ—¶æŠ›å‡ºé”™è¯¯ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'throws Result exception when search fails'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token comment">// first create a exception mock instance</span>    <span class="token keyword">final</span> exception <span class="token operator">=</span> <span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// when calls and api and throw an exception</span>    <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenThrow</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// then expect an error result</span>    <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepository<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">throwsA</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»¥ä¸‹å°±æ˜¯cat_repository_test.dartç±»çš„ä»£ç ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/cat_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/model/result_error.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/service.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mocktail/mocktail.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MockService</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name">CatService</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Cat Repository'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    late <span class="token class-name">CatService</span> catService<span class="token punctuation">;</span>    late <span class="token class-name">CatRepository</span> catRepository<span class="token punctuation">;</span>    <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      catService <span class="token operator">=</span> <span class="token class-name">MockService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      catRepository <span class="token operator">=</span> <span class="token class-name">CatRepository</span><span class="token punctuation">(</span>service<span class="token punctuation">:</span> catService<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'constructor'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'instantiates CatRepository with a required carService'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">expect</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">,</span> isNotNull<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'search next cat'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'calls search method'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>          <span class="token keyword">await</span> catRepository<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>        <span class="token function">verify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'throws Result exception when search fails'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>        <span class="token comment">// first create a exception mock instance</span>        <span class="token keyword">final</span> exception <span class="token operator">=</span> <span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// when calls and api and throw an exception</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catService<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenThrow</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// then expect an error result</span>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepository<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">throwsA</span><span class="token punctuation">(</span>exception<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†!</p><img src="/How-can-I-start-with-Flutter-Testing/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>é…·! ç°åœ¨æˆ‘ä»¬å·²ç»æŠŠæ‰€æœ‰çš„æµ‹è¯•éƒ½ä¼ åˆ°äº†æˆ‘ä»¬çš„æœåŠ¡å’Œèµ„æºåº“ä¸­ï¼Œç°åœ¨æ˜¯æ—¶å€™è¿›å…¥blocæµ‹è¯•äº†ã€‚</p><h3 id="Bloc-Test"><a href="#Bloc-Test" class="headerlink" title="Bloc Test"></a>Bloc Test</h3><h4 id="random-cat-bloc-test-dart"><a href="#random-cat-bloc-test-dart" class="headerlink" title="random_cat_bloc_test.dart"></a>random_cat_bloc_test.dart</h4><p>é¦–å…ˆï¼Œè¿™æ˜¯random_cat_blocç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'../../random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'random_cat_state.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'random_cat_event.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">RandomCatBloc</span> <span class="token keyword">extends</span> <span class="token class-name">Bloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatEvent</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>required <span class="token keyword">this</span><span class="token punctuation">.</span>catRepository<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> emit<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_mapSearchEventToState</span><span class="token punctuation">(</span>event<span class="token punctuation">,</span> emit<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">final</span> <span class="token class-name">CatRepository</span> catRepository<span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">_mapSearchEventToState</span><span class="token punctuation">(</span>      <span class="token class-name">SearchRandomCat</span> event<span class="token punctuation">,</span> <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">final</span> cat <span class="token operator">=</span> <span class="token keyword">await</span> catRepository<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>cat<span class="token punctuation">.</span>breeds <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> cat<span class="token punctuation">.</span>breeds<span class="token operator">!</span><span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>cat<span class="token punctuation">:</span> cat<span class="token punctuation">,</span> status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ç§ç±»å‹çš„æµ‹è¯•ä¸­ï¼Œè¯­æ³•ä¸å•å…ƒæµ‹è¯•æœ‰ä¸€ç‚¹ä¸åŒï¼Œä½†å®ƒçš„ç†å¿µæ˜¯ä¸€æ ·çš„ã€‚ä»¥ä¸‹æ˜¯å…³äºå¦‚ä½•åœ¨flutterä¸­æµ‹è¯•Blocçš„å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://bloclibrary.dev/#/testing">BlocçŠ¶æ€ç®¡ç†åº“</a></p><p>æˆ‘æŒ‰ç…§è¿™ä¸ªæ–‡æ¡£ï¼Œæˆ‘å¾—åˆ°äº†è¿è¡Œæˆ‘è‡ªå·±çš„blocæµ‹è¯•ã€‚</p><p>è®©æˆ‘ä»¬å¼€å§‹å§! ğŸ™Œ<br>åƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºéœ€è¦çš„æ¨¡æ‹Ÿç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MockRepository</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name">CatRepository</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">MockCat</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå¹¶åˆå§‹åŒ–æ‰€éœ€çš„å˜é‡ç»™æˆ‘ä»¬çš„æ¨¡æ‹Ÿç±»ã€‚<br>æ­¤å¤–ï¼Œæˆ‘è¿˜åˆ›å»ºäº†ç¬¬ä¸€ä¸ªæµ‹è¯•ï¼Œä»¥æ£€æŸ¥è¯¥é›†å›¢çš„åˆå§‹çŠ¶æ€æ˜¯å¦ä¸º <em>RandomCatStatus.initial</em>ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatBloc'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  late <span class="token class-name"><span class="token namespace">catRepository<span class="token punctuation">.</span></span>CatRepository</span> catRepositoryMock<span class="token punctuation">;</span>  late <span class="token class-name"><span class="token namespace">cat<span class="token punctuation">.</span></span>Cat</span> catMock<span class="token punctuation">;</span>  <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    catRepositoryMock <span class="token operator">=</span> <span class="token class-name">MockRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    catMock <span class="token operator">=</span> <span class="token class-name">MockCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'initial state of the bloc is [RandomCatStatus.initial]'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">expect</span><span class="token punctuation">(</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span>      <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥å¼€å§‹è¿›è¡Œæˆ‘ä»¬çš„blocæµ‹è¯•ã€‚<br>å½“å“ç§åˆ—è¡¨ä¸ºç©ºæ—¶ï¼Œæ‰§è¡ŒRandomCatStatus.loadingå’ŒRandomCatStatus.emptyBreedsã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>  <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.emptyBreeds] '</span></span>  <span class="token string-literal"><span class="token string">'state when cat.breeds are empty'</span></span><span class="token punctuation">,</span>  setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">.</span>breeds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>  act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å½“å“ç§åˆ—è¡¨ä¸ºç©ºæ—¶ï¼Œå‘å‡ºRandomCatStatus.loadingå’ŒRandomCatStatus.emptyBreedsã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>  <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.emptyBreeds] '</span></span>  <span class="token string-literal"><span class="token string">'state when cat.breeds are null'</span></span><span class="token punctuation">,</span>  setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">.</span>breeds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>  act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>    <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å½“å“åº”æ­£ç¡®ä¸”çŒ«çš„æ•°æ®åŒ…å«å“ç±»æ—¶ï¼Œå‘å‡ºRandomCatStatus.loadingå’ŒRandomCatStatus.successã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>     <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.success]'</span></span>     <span class="token string-literal"><span class="token string">' with a copyWith of other cat'</span></span>     <span class="token string-literal"><span class="token string">'state for successful'</span></span><span class="token punctuation">,</span>     setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">.</span>breeds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>         <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>           <span class="token number">1</span><span class="token punctuation">,</span>           <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">const</span> <span class="token class-name">Breed</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'1'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token punctuation">)</span><span class="token punctuation">,</span>       <span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token punctuation">,</span>     build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>     act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>       <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>       <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">,</span> cat<span class="token punctuation">:</span> catMock<span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token punctuation">]</span><span class="token punctuation">,</span>   <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>å½“ä¸æˆåŠŸæ—¶å‘å‡ºRandomCatStatus.loadingå’ŒRandomCatStatus.failationã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>  <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.failure] '</span></span>  <span class="token string-literal"><span class="token string">'when unsuccessful'</span></span><span class="token punctuation">,</span>  setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>    catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenThrow</span><span class="token punctuation">(</span><span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>  act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥çœ‹çœ‹å…¨éƒ¨çš„random_cat_bloc_testç±»!</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:bloc_test/bloc_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/cat_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/model/cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mocktail/mocktail.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MockRepository</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name">CatRepository</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">MockCat</span> <span class="token keyword">extends</span> <span class="token class-name">Mock</span> <span class="token keyword">implements</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatBloc'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    late <span class="token class-name">CatRepository</span> catRepositoryMock<span class="token punctuation">;</span>    late <span class="token class-name">Cat</span> catMock<span class="token punctuation">;</span>    <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      catRepositoryMock <span class="token operator">=</span> <span class="token class-name">MockRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      catMock <span class="token operator">=</span> <span class="token class-name">MockCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'initial state of the bloc is [RandomCatStatus.initial]'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">.</span>state<span class="token punctuation">,</span>          <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.emptyBreeds] '</span></span>      <span class="token string-literal"><span class="token string">'state when cat.breeds are empty'</span></span><span class="token punctuation">,</span>      setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">.</span>breeds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>      act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.emptyBreeds] '</span></span>      <span class="token string-literal"><span class="token string">'state when cat.breeds are null'</span></span><span class="token punctuation">,</span>      setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">.</span>breeds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>      act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">)</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.success]'</span></span>      <span class="token string-literal"><span class="token string">' with a copyWith of other cat'</span></span>      <span class="token string-literal"><span class="token string">'state for successful'</span></span><span class="token punctuation">,</span>      setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">.</span>breeds<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>          <span class="token class-name">List</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>            <span class="token number">1</span><span class="token punctuation">,</span>            <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">const</span> <span class="token class-name">Breed</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'1'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenAnswer</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catMock<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>      act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">,</span> cat<span class="token punctuation">:</span> catMock<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    blocTest<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      <span class="token string-literal"><span class="token string">'emits [RandomCatStatus.loading, RandomCatStatus.failure] '</span></span>      <span class="token string-literal"><span class="token string">'when unsuccessful'</span></span><span class="token punctuation">,</span>      setUp<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> catRepositoryMock<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenThrow</span><span class="token punctuation">(</span><span class="token class-name">ErrorSearchingCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      build<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>catRepository<span class="token punctuation">:</span> catRepositoryMock<span class="token punctuation">)</span><span class="token punctuation">,</span>      act<span class="token punctuation">:</span> <span class="token punctuation">(</span>bloc<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> bloc<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      expect<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤å¤–ï¼Œä½ å¯ä»¥æµ‹è¯•ä½ çš„åº”ç”¨ç¨‹åºçš„çŠ¶æ€å’Œäº‹ä»¶ã€‚<br>ä¸‹é¢æ˜¯random_cat_state_test.dartã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatStatusX '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'returns correct values for RandomCatStatus.initial'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isInitial<span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isLoading<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isFailure<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isEmptyBreeds<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'returns correct values for RandomCatStatus.loading'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isInitial<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isLoading<span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isFailure<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isEmptyBreeds<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'returns correct values for RandomCatStatus.isSuccess'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isInitial<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isLoading<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isFailure<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isEmptyBreeds<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'returns correct values for RandomCatStatus.isFailure'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isInitial<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isLoading<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isFailure<span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isEmptyBreeds<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'returns correct values for RandomCatStatus.isEmptyBreeds'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">const</span> status <span class="token operator">=</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isInitial<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isLoading<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isFailure<span class="token punctuation">,</span> isFalse<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span>isEmptyBreeds<span class="token punctuation">,</span> isTrue<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæ˜¯random_cat_event_test.dartã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatEvent'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'supports comparisons'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">expect</span><span class="token punctuation">(</span><span class="token class-name">RandomCatEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'SearchRandomCat'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">test</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'supports comparisons'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">expect</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†!</p><img src="/How-can-I-start-with-Flutter-Testing/11.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº†å•å…ƒæµ‹è¯•å’Œæ¨¡å—æµ‹è¯•çš„éƒ¨åˆ†ï¼Œæ˜¯æ—¶å€™å¼€å§‹è¿›è¡ŒWidgetæµ‹è¯•äº†!</p><h3 id="Widgetæµ‹è¯•"><a href="#Widgetæµ‹è¯•" class="headerlink" title="Widgetæµ‹è¯•"></a>Widgetæµ‹è¯•</h3><p>è¿™ç§æµ‹è¯•æ˜¯è¶…çº§é…·çš„ï¼Œä½ å¯ä»¥æµ‹è¯•ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºçš„å¯èƒ½äº’åŠ¨ï¼Œæ‰€ä»¥ä½ å¯ä»¥å®Œå…¨æ§åˆ¶ä½ çš„åº”ç”¨ç¨‹åºçš„æ‰€æœ‰çŠ¶æ€ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒWidgetæµ‹è¯•å°†æ˜¯å¾ˆå®¹æ˜“çš„ã€‚âœŒï¸<br>è®©æˆ‘ä»¬å¼€å§‹å§!<br>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æµ‹è¯•æˆ‘ä»¬çš„random_cat_pageã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/pages/bloc/random_cat_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/pages/random_cat_layout.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/cat_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/repository/service.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">RandomCatPage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">RandomCatPage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">RepositoryProvider</span><span class="token punctuation">(</span>      create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">CatRepository</span><span class="token punctuation">(</span>service<span class="token punctuation">:</span> <span class="token class-name">CatService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">BlocProvider</span><span class="token punctuation">(</span>        create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">RandomCatBloc</span><span class="token punctuation">(</span>          catRepository<span class="token punctuation">:</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CatRepository</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŒæ ·ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå‡çš„ç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatState</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatState</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatEvent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç„¶åæˆ‘ä»¬éœ€è¦åœ¨setUpAllæ–¹æ³•ä¸­æ³¨å†Œã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">RandomCatEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeRandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªéœ€è¦æµ‹è¯•é¡µé¢çš„æ¸²æŸ“æ˜¯å¦æ­£å¸¸ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatPage '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'renders RandomCatPage'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>          home<span class="token punctuation">:</span> <span class="token class-name">RandomCatPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">RandomCatPage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥çœ‹ä¸‹å®Œæ•´çš„ç¨‹åº</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mocktail/mocktail.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:network_image_mock/network_image_mock.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatState</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatState</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatEvent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">RandomCatEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeRandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatPage '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'renders RandomCatPage'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>            home<span class="token punctuation">:</span> <span class="token class-name">RandomCatPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">RandomCatPage</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†!</p><img src="/How-can-I-start-with-Flutter-Testing/12.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸‹ä¸€ä¸ªæˆ‘ä»¬éœ€è¦æµ‹è¯•çš„ç±»æ˜¯ï¼šRandom_cat_layout_test.dartã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'../random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'bloc/random_cat_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">RandomCatLayout</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocConsumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      listener<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isEmptyBreeds<span class="token punctuation">)</span> <span class="token punctuation">{</span>          context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isFailure<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">FailureRandomCatView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isInitial<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">InitialRandomCatView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isLoading<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">LoadingView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token class-name">SuccessRandomCatView</span><span class="token punctuation">(</span>            cat<span class="token punctuation">:</span> state<span class="token punctuation">.</span>cat<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæˆ‘æ ¹æ®è§†å›¾çš„çŠ¶æ€åˆ›å»ºäº†ä¸åŒç±»å‹çš„è§†å›¾ã€‚è¦æµ‹è¯•è¿™äº›è§†å›¾ï¼Œæœ€é‡è¦çš„éƒ¨åˆ†æ˜¯Keyã€‚<br>æŒ‰çŠ¶æ€åˆ’åˆ†çš„è§†å›¾ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'../../../utils/const_keys_app.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token comment">// Initial</span><span class="token keyword">class</span> <span class="token class-name">InitialRandomCatView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">InitialRandomCatView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>      key<span class="token punctuation">:</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatInitial</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'No information available'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// Loading</span><span class="token keyword">class</span> <span class="token class-name">LoadingView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">LoadingView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>      key<span class="token punctuation">:</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.CatLoading</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// Failure</span><span class="token keyword">class</span> <span class="token class-name">FailureRandomCatView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">FailureRandomCatView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token keyword">const</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>      key<span class="token punctuation">:</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatFailure</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Something was wrong'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// Success</span><span class="token keyword">class</span> <span class="token class-name">SuccessRandomCatView</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">SuccessRandomCatView</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>cat<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Cat</span> cat<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>      key<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatSuccess</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token class-name">Padding</span><span class="token punctuation">(</span>          padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">28.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">CatCard</span><span class="token punctuation">(</span>            key<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatCardKey</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            cat<span class="token punctuation">:</span> cat<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token keyword">const</span> <span class="token class-name">Spacer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Padding</span><span class="token punctuation">(</span>          padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>right<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">,</span> bottom<span class="token punctuation">:</span> <span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">Align</span><span class="token punctuation">(</span>            alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>bottomRight<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">FloatingActionButton</span><span class="token punctuation">(</span>              key<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatFabButtonKey</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>                context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">,</span>              child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>refresh<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªç±»æœ‰æ›´å¤šçš„æµ‹è¯•è¦åšã€‚è¿™é‡Œæˆ‘ä»¬æœ‰ä¸åŒçš„çŠ¶æ€å’Œä¸€ä¸ªæŒ‰é’®çš„äº¤äº’ï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹å§ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦æ¨¡æ‹Ÿå’Œå‡çš„ç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">MockRandomCatBloc</span> <span class="token keyword">extends</span> <span class="token class-name">MockBloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatEvent</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span>    <span class="token keyword">implements</span> <span class="token class-name">RandomCatBloc</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatState</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatState</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatEvent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæˆ‘ä»¬éœ€è¦åˆ›å»ºå’Œåˆå§‹åŒ–å˜é‡ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">late <span class="token class-name">MockRandomCatBloc</span> blocCat<span class="token punctuation">;</span><span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token comment">// Register the event and the state</span>  <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeRandomCatEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeRandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  blocCat <span class="token operator">=</span> <span class="token class-name">MockRandomCatBloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬è¦æµ‹è¯•çš„ç¬¬ä¸€ä»¶äº‹æ˜¯è§†å›¾çš„å¯èƒ½çŠ¶æ€ï¼Œä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„ç»„ï¼Œç„¶ååœ¨é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥æµ‹è¯•æ‰€æœ‰æƒ…å†µã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatPage states '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ol><li>å½“çŠ¶æ€ä¸ºRandomCatStatus.failureæ—¶ï¼Œæ¸²æŸ“è§†å›¾FailureRandomCatViewã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render FailureRandomCatView when state is [RandomCatStatus.failure]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatFailure</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å½“çŠ¶æ€ä¸ºRandomCatStatus.loadingæ—¶ï¼Œæ¸²æŸ“è§†å›¾LoadingViewã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render LoadingView when state is [RandomCatStatus.loading]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>          find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.CatLoading</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å½“çŠ¶æ€ä¸ºRandomCatStatus.successæ—¶ï¼Œæ¸²æŸ“è§†å›¾SuccessRandomCatViewã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render SuccessRandomCatView when state is [RandomCatStatus.success]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatSuccess</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>å½“çŠ¶æ€ä¸ºRandomCatStatus.initialæ—¶ï¼Œæ¸²æŸ“è§†å›¾InitialRandomCatViewã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render InitialRandomCatView when state is [RandomCatStatus.initial]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatInitial</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…·ğŸ˜! ç°åœ¨æˆ‘ä»¬å·²ç»æµ‹è¯•äº†è§†å›¾çš„æ‰€æœ‰å¯èƒ½çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å§‹ä¸‹ä¸€æ­¥äº†ã€‚æµ‹è¯•æŒ‰é’®çš„ç‚¹å‡»!<br>å½“æŒ‰é’®è¢«ç‚¹å‡»çš„æ—¶å€™ï¼Œè°ƒç”¨äº‹ä»¶SearchRandomCatã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Click on FAB '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'call to bloc to get next cat'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>     <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>       <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>       <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>         <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>           lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>           create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>           child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>             home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>           <span class="token punctuation">)</span><span class="token punctuation">,</span>         <span class="token punctuation">)</span><span class="token punctuation">,</span>       <span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">FloatingActionButton</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">FloatingActionButton</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token function">verify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€åï¼Œæˆ‘ä»¬éœ€è¦æ§åˆ¶çŒ«çš„å“ç§ä¸ºç©ºçš„æ—¶å€™ã€‚<br>æˆ‘ä»¬åœ¨BlocConsumeré‡Œé¢ç›‘å¬ï¼Œæ‰€ä»¥å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡è°ƒç”¨SearchRandomCatäº‹ä»¶ï¼Œä¸ºäº†æµ‹è¯•ï¼Œæˆ‘ä»¬éœ€è¦åšä»¥ä¸‹å·¥ä½œã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Call to SearchRandomCat on BlocListener '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'1'</span></span><span class="token punctuation">,</span> breeds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'www'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Call to event when breeds is empty'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">whenListen</span><span class="token punctuation">(</span>        blocCat<span class="token punctuation">,</span>        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">fromIterable</span><span class="token punctuation">(</span>          <span class="token punctuation">[</span>            <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">,</span> cat<span class="token punctuation">:</span> cat<span class="token punctuation">)</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">,</span> cat<span class="token punctuation">:</span> cat<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">verify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥çœ‹å®Œæ•´çš„ç¨‹åº</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:bloc_test/bloc_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/ui/random_cat/random_cat.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:catsapp/utils/const_keys_app.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_test/flutter_test.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mocktail/mocktail.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:network_image_mock/network_image_mock.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MockRandomCatBloc</span> <span class="token keyword">extends</span> <span class="token class-name">MockBloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatEvent</span><span class="token punctuation">,</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span>    <span class="token keyword">implements</span> <span class="token class-name">RandomCatBloc</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatState</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatState</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">FakeRandomCatEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Fake</span> <span class="token keyword">implements</span> <span class="token class-name">RandomCatEvent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  late <span class="token class-name">MockRandomCatBloc</span> blocCat<span class="token punctuation">;</span>  <span class="token function">setUpAll</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// Register the event and the state</span>    <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeRandomCatEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">registerFallbackValue</span><span class="token punctuation">(</span><span class="token class-name">FakeRandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">setUp</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    blocCat <span class="token operator">=</span> <span class="token class-name">MockRandomCatBloc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'RandomCatPage states '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render FailureRandomCatView when state is [RandomCatStatus.failure]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>failure<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatFailure</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'render LoadingView when state is [RandomCatStatus.loading]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>          find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.CatLoading</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render SuccessRandomCatView when state is [RandomCatStatus.success]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatSuccess</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span>        <span class="token string-literal"><span class="token string">'render InitialRandomCatView when state is [RandomCatStatus.initial]'</span></span><span class="token punctuation">,</span>        <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byKey</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">ConstWidgetKeysApp.RandomCatInitial</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Click on FAB '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'call to bloc to get next cat'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">expect</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">FloatingActionButton</span><span class="token punctuation">)</span><span class="token punctuation">,</span> findsOneWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">FloatingActionButton</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpAndSettle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">verify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">group</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Call to SearchRandomCat on BlocListener '</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">const</span> cat <span class="token operator">=</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span>id<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'1'</span></span><span class="token punctuation">,</span> breeds<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> width<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> height<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> url<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'www'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Call to event when breeds is empty'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span>tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token function">whenListen</span><span class="token punctuation">(</span>        blocCat<span class="token punctuation">,</span>        <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">fromIterable</span><span class="token punctuation">(</span>          <span class="token punctuation">[</span>            <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">,</span> cat<span class="token punctuation">:</span> cat<span class="token punctuation">)</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">when</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span>state<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenReturn</span><span class="token punctuation">(</span>        <span class="token keyword">const</span> <span class="token class-name">RandomCatState</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">RandomCatStatus</span><span class="token punctuation">.</span>emptyBreeds<span class="token punctuation">,</span> cat<span class="token punctuation">:</span> cat<span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">await</span> <span class="token function">mockNetworkImagesFor</span><span class="token punctuation">(</span>        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span>          <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RandomCatBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>            lazy<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>            create<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>              home<span class="token punctuation">:</span> <span class="token class-name">RandomCatLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">verify</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> blocCat<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">SearchRandomCat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">called</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡äº†!</p><img src="/How-can-I-start-with-Flutter-Testing/13.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ä»¬è¦åšçš„æœ€åä¸€æ­¥æ˜¯æ£€æŸ¥ä¿é™©ã€‚ä½ æœ‰ä¸åŒçš„é€‰æ‹©ã€‚</p><ul><li>åœ¨ç»ˆç«¯ä¸Šè¿è¡Œflutteræµ‹è¯•â€“è¦†ç›–ç‡ã€‚</li><li>å®‰è£…LCOVä»¥å®ç°HTMLçš„å¯è§†åŒ–<br>æˆ‘ä½¿ç”¨äº†ç¬¬äºŒä¸ªé€‰é¡¹ï¼Œæ‰€ä»¥æˆ‘å°†å‘Šè¯‰ä½ å¦‚ä½•å®‰è£…å’Œä½¿ç”¨å®ƒã€‚(macçš„å®‰è£…)ã€‚</li><li>brew install lcov</li><li>flutter test â€” coverage</li><li>genhtml coverage/lcov.info -o coverage/html<br>æœ€åï¼Œä½ å°†ä¼šçœ‹åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åº100%çš„è¦†ç›–ç‡ğŸ§ªâœŒï¸ã€‚</li></ul><img src="/How-can-I-start-with-Flutter-Testing/14.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>æˆ‘è®¤ä¸ºä¸€å¼€å§‹å­¦ä¹ æµ‹è¯•å¯èƒ½ä¼šå¾ˆå›°éš¾å’Œä»¤äººæ²®ä¸§ï¼Œä½†ä½ åº”è¯¥å­¦ä¹ å®ƒï¼Œå› ä¸ºå¦‚æœä½ æƒ³å»ºç«‹å¥½çš„åº”ç”¨ç¨‹åºï¼Œä½ éœ€è¦äº†è§£æµ‹è¯•çš„å·¥ä½œåŸç†ã€‚åœ¨æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦å®ƒçš„æ—¶å€™ï¼Œæˆ‘è§£å†³äº†å¾ˆå¤šbugï¼Œå¦‚æœæˆ‘æ²¡æœ‰åšæµ‹è¯•ï¼Œè¿™äº›bugå°±ä¼šå­˜åœ¨ã€‚<br>æ‰€ä»¥â€¦â€¦è¯·åšæµ‹è¯•!</p><p>ä»¥ä¸Šæ‰€æœ‰æºä»£ç ï¼Œæ‚¨å¯ä»¥ç§»æ­¥ï¼š<a href="https://github.com/reasonpun/my_100_goals/tree/main/goals_01">https://github.com/reasonpun/my_100_goals/tree/main/goals_01</a></p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> CI/CD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥äº†è§£ Flutter ç”Ÿå‘½å‘¨æœŸ</title>
      <link href="/Deep-Drive-into-Flutter-Lifecycle.html"/>
      <url>/Deep-Drive-into-Flutter-Lifecycle.html</url>
      
        <content type="html"><![CDATA[<img src="/Deep-Drive-into-Flutter-Lifecycle/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºflutterçš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¯ä¸ªäººéƒ½çŸ¥é“ç”Ÿå‘½å‘¨æœŸåœ¨æˆ‘ä»¬ç”Ÿæ´»ä¸­æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„å­˜åœ¨ï¼Œå¯¹äºç¼–ç æ¥è¯´ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><span id="more"></span><p>åœ¨ç§»åŠ¨å¼€å‘ä¸­ï¼Œæ¯ä¸€ä¸ªç§»åŠ¨åº”ç”¨éƒ½æœ‰ä¸€äº›äº‹æƒ…ï¼Œä»–ä»¬æ­£åœ¨ä¸€ä¸ªä¸€ä¸ªåœ°åšâ€¦â€¦<br>å°±åƒæˆ‘ä»¬æ‰“å¼€æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥é¦–å…ˆä»–ä»¬æ­£åœ¨åˆ›å»ºåº”ç”¨ç¨‹åºçš„è®¾è®¡ï¼Œä¸€æ­¥ä¸€æ­¥åœ°æ ¹æ®æƒ…å†µæ¥å¤„ç†ã€‚<br>å°±åƒä½ çœ‹åˆ°çš„ä»»ä½•åº”ç”¨ç¨‹åºInstagramæˆ–Twitterï¼Œå¦‚æœä½ æ‰“å¼€è¿™äº›ï¼Œé¦–å…ˆä»–ä»¬ä»æœåŠ¡å™¨ä¸ŠåŠ è½½æ•°æ®ï¼Œç„¶åæ ¹æ®ä»æœåŠ¡å™¨ä¸ŠåŠ è½½çš„æ•°æ®å»ºç«‹UIï¼Œç„¶åæ ¹æ®ä½ çš„ä½¿ç”¨æƒ…å†µå’Œåº”ç”¨ç¨‹åºæƒ³è¦æ˜¾ç¤ºçš„æ•°æ®ï¼Œæˆ‘æƒ³ä½ æ˜ç™½æˆ‘æƒ³è¦æè¿°ä»€ä¹ˆã€‚</p><p>So!</p><p>è®©æˆ‘ä»¬è¿›å…¥æ­£é¢˜ï¼Œåœ¨æ¯ä¸€ä¸ªflutteråº”ç”¨ç¨‹åºä¸­éƒ½æœ‰ä¸€äº›ç”Ÿå‘½å‘¨æœŸçš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ ¹æ®æƒ…å†µè°ƒç”¨ã€‚<br>åœ¨flutterä¸­ï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½æ˜¯ä¸€ä¸ªwidgetï¼Œä¸»è¦æ˜¯flutteråº”ç”¨ä»ä¸¤ä¸ªçŠ¶æ€å¼€å§‹ï¼ŒStatelessWidgetå’ŒStatefullWidgetã€‚</p><img src="/Deep-Drive-into-Flutter-Lifecycle/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœä½ çš„ç±»æ‰©å±•è‡ª<strong>StatelessWidget</strong>ï¼Œæ„å‘³ç€è¿™ä¸ªé¡µé¢åªæ˜¯åœ¨é‡Œé¢å»ºç«‹äº†widgetçš„è®¾è®¡ï¼Œè€Œä¸æ˜¯æ›´æ–°è¿™ä¸ªã€‚<br>å¦‚æœä½ çš„ç±»æ‰©å±•è‡ª<strong>StatefulWidget</strong>ï¼Œæ„å‘³ç€è¿™ä¸ªé¡µé¢å°†æ ¹æ®ä½ çš„è¦æ±‚è¿›è¡Œæ›´æ–°ã€‚<br>è¿™æ˜¯ä¸€ä¸ªé¦–æ¬¡æ„å»ºï¼Œç„¶åé€šè¿‡ä½ çš„æ“ä½œæ¥æ›´æ–°ã€‚<br>è®©æˆ‘ä»¬ç°åœ¨å¼€å§‹è®¨è®ºStatefulWidgetçš„ç”Ÿå‘½å‘¨æœŸã€‚</p><img src="/Deep-Drive-into-Flutter-Lifecycle/3.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>createState()ã€‚å½“æ¡†æ¶è¢«æŒ‡ç¤ºå»ºç«‹ä¸€ä¸ªæœ‰çŠ¶æ€çš„Widgetæ—¶ï¼Œå®ƒä¼šç«‹å³è°ƒç”¨createState()ã€‚</li></ul><p>å®ƒåœ¨æ ‘ä¸­ç»™å®šçš„ä½ç½®ä¸ºè¿™ä¸ªéƒ¨ä»¶åˆ›å»ºå¯å˜çš„çŠ¶æ€ã€‚<br>å­ç±»åº”è¯¥è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œä»¥è¿”å›å…¶ç›¸å…³çš„Stateå­ç±»çš„ä¸€ä¸ªæ–°åˆ›å»ºçš„å®ä¾‹ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">_HomePageState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_HomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¡†æ¶å¯ä»¥åœ¨StatefulWidgetçš„ç”Ÿå‘½å‘¨æœŸå†…å¤šæ¬¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¯¥éƒ¨ä»¶è¢«æ’å…¥åˆ°æ ‘çš„å¤šä¸ªä½ç½®ï¼Œæ¡†æ¶å°†ä¸ºæ¯ä¸ªä½ç½®åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„Stateå¯¹è±¡ã€‚<br>åŒæ ·çš„ï¼Œå¦‚æœwidgetä»æ ‘ä¸Šè¢«ç§»é™¤ï¼Œåæ¥åˆè¢«æ’å…¥æ ‘ä¸­ï¼Œæ¡†æ¶å°†å†æ¬¡è°ƒç”¨createStateæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„Stateå¯¹è±¡ï¼Œä»è€Œç®€åŒ–Stateå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>initState()ã€‚<br> è¿™æ˜¯åˆ›å»ºwidgetæ—¶è°ƒç”¨çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼ˆåœ¨ç±»çš„æ„é€ å‡½æ•°ä¹‹åï¼‰initStateè¢«è°ƒç”¨ä¸€æ¬¡ï¼Œè€Œä¸”åªæœ‰ä¸€æ¬¡ã€‚å®ƒå¿…é¡»è°ƒç”¨super.initState()ã€‚</li></ul><p>å½“è¿™ä¸ªå¯¹è±¡è¢«æ’å…¥åˆ°æ ‘ä¸­æ—¶ï¼Œå®ƒå°±ä¼šè¢«è°ƒç”¨ã€‚<br>æ¡†æ¶å°†ä¸ºå…¶åˆ›å»ºçš„æ¯ä¸ªStateå¯¹è±¡ç²¾ç¡®åœ°è°ƒç”¨æ­¤æ–¹æ³•ä¸€æ¬¡ã€‚<br>è¦†ç›–æ­¤æ–¹æ³•ä»¥æ‰§è¡Œåˆå§‹åŒ–ï¼Œè¿™å–å†³äºæ­¤å¯¹è±¡è¢«æ’å…¥æ ‘ä¸­çš„ä½ç½®ï¼ˆå³ä¸Šä¸‹æ–‡ï¼‰æˆ–ç”¨äºé…ç½®æ­¤å¯¹è±¡çš„éƒ¨ä»¶ï¼ˆå³éƒ¨ä»¶ï¼‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">didChangeDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didChangeDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>didChangeDependencies()ã€‚è¿™ä¸ªæ–¹æ³•åœ¨å°éƒ¨ä»¶ç¬¬ä¸€æ¬¡è¢«å»ºç«‹æ—¶ï¼Œåœ¨initStateä¹‹åç«‹å³è¢«è°ƒç”¨ã€‚</li></ul><p>å½“è¿™ä¸ªStateå¯¹è±¡çš„ä¾èµ–å…³ç³»å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°±ä¼šè¢«è°ƒç”¨ã€‚<br>ä¾‹å¦‚ï¼Œå¦‚æœä¹‹å‰çš„æ„å»ºè°ƒç”¨å¼•ç”¨äº†ä¸€ä¸ªåæ¥å‘ç”Ÿå˜åŒ–çš„InheritedWidgetï¼Œæ¡†æ¶ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•æ¥é€šçŸ¥è¿™ä¸ªå¯¹è±¡çš„å˜åŒ–ã€‚<br>è¿™ä¸ªæ–¹æ³•ä¹Ÿä¼šåœ¨initStateä¹‹åç«‹å³è¢«è°ƒç”¨ã€‚ä»è¿™ä¸ªæ–¹æ³•è°ƒç”¨BuildContext.dependOnInheritedWidgetOfExactTypeæ˜¯å®‰å…¨çš„ã€‚<br>å­ç±»å¾ˆå°‘è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºæ¡†æ¶æ€»æ˜¯åœ¨ä¾èµ–æ€§å˜åŒ–åè°ƒç”¨æ„å»ºã€‚ä¸€äº›å­ç±»ç¡®å®è¦†ç›–äº†è¿™ä¸ªæ–¹æ³•ï¼Œå› ä¸ºä»–ä»¬éœ€è¦åœ¨ä¾èµ–å…³ç³»å‘ç”Ÿå˜åŒ–æ—¶åšä¸€äº›æ˜‚è´µçš„å·¥ä½œï¼ˆä¾‹å¦‚ï¼Œç½‘ç»œè·å–ï¼‰ï¼Œè€Œè¿™äº›å·¥ä½œå¦‚æœåœ¨æ¯æ¬¡æ„å»ºæ—¶éƒ½åšçš„è¯ï¼Œå°±å¤ªæ˜‚è´µäº†ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>build()ã€‚è¿™ä¸ªæ–¹æ³•ç»å¸¸è¢«è°ƒç”¨ã€‚å®ƒæ˜¯å¿…é¡»çš„ï¼Œå®ƒå¿…é¡»è¿”å›ä¸€ä¸ªWidgetã€‚</li></ul><p>å®ƒæè¿°çš„æ˜¯è¿™ä¸ªWidgetæ‰€ä»£è¡¨çš„ç”¨æˆ·ç•Œé¢çš„éƒ¨åˆ†ã€‚<br>æ¡†æ¶åœ¨è®¸å¤šä¸åŒçš„æƒ…å†µä¸‹è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚æ¯”å¦‚è¯´ã€‚</p><ul><li>åœ¨è°ƒç”¨initStateä¹‹åã€‚</li><li>åœ¨è°ƒç”¨didUpdateWidgetä¹‹åã€‚</li><li>åœ¨æ”¶åˆ°å¯¹setStateçš„è°ƒç”¨ä¹‹åã€‚</li><li>åœ¨è¿™ä¸ªçŠ¶æ€å¯¹è±¡çš„ä¾èµ–å…³ç³»å‘ç”Ÿå˜åŒ–åï¼ˆä¾‹å¦‚ï¼Œç”±ä¹‹å‰çš„æ„å»ºæ‰€å¼•ç”¨çš„InheritedWidgetå‘ç”Ÿå˜åŒ–ï¼‰ã€‚</li><li>åœ¨è°ƒç”¨deactivateä¹‹åï¼Œç„¶ååœ¨å¦ä¸€ä¸ªä½ç½®å°†çŠ¶æ€å¯¹è±¡é‡æ–°æ’å…¥æ ‘ä¸­ã€‚</li></ul><p>è¿™ä¸ªæ–¹æ³•æœ‰å¯èƒ½åœ¨æ¯ä¸€å¸§ä¸­è¢«è°ƒç”¨ï¼Œé™¤äº†æ„å»ºä¸€ä¸ªwidgetä¹‹å¤–ï¼Œåº”è¯¥ä¸ä¼šæœ‰ä»»ä½•å‰¯ä½œç”¨ã€‚<br>æ¡†æ¶ç”¨è¿™ä¸ªæ–¹æ³•è¿”å›çš„widgetæ›¿æ¢è¿™ä¸ªwidgetä¸‹é¢çš„å­æ ‘ï¼Œè¦ä¹ˆæ›´æ–°ç°æœ‰çš„å­æ ‘ï¼Œè¦ä¹ˆç§»é™¤å­æ ‘å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„å­æ ‘ï¼Œè¿™å–å†³äºè¿™ä¸ªæ–¹æ³•è¿”å›çš„widgetæ˜¯å¦å¯ä»¥æ›´æ–°ç°æœ‰å­æ ‘çš„æ ¹ï¼Œè¿™ç”±è°ƒç”¨Widget.canUpdateå†³å®šã€‚<br>å…¸å‹çš„å®ç°æ˜¯è¿”å›ä¸€ä¸ªæ–°åˆ›å»ºçš„å°éƒ¨ä»¶ï¼Œè¿™äº›å°éƒ¨ä»¶æ˜¯ç”¨è¿™ä¸ªå°éƒ¨ä»¶çš„æ„é€ å‡½æ•°ã€ç»™å®šçš„BuildContextå’Œè¿™ä¸ªStateå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€çš„ä¿¡æ¯é…ç½®çš„ã€‚<br>ç»™å®šçš„BuildContextåŒ…å«å…³äºè¯¥éƒ¨ä»¶åœ¨æ ‘ä¸­çš„ä½ç½®çš„ä¿¡æ¯ï¼Œè¯¥éƒ¨ä»¶æ­£åœ¨è¢«æ„å»ºã€‚ä¾‹å¦‚ï¼Œè¯¥ä¸Šä¸‹æ–‡æä¾›äº†æ ‘ä¸­è¿™ä¸ªä½ç½®çš„ç»§æ‰¿éƒ¨ä»¶çš„é›†åˆã€‚BuildContextå‚æ•°æ€»æ˜¯ä¸è¿™ä¸ªStateå¯¹è±¡çš„contextå±æ€§ç›¸åŒï¼Œå¹¶ä¸”åœ¨è¿™ä¸ªå¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸå†…ä¿æŒä¸å˜ã€‚BuildContextå‚æ•°åœ¨è¿™é‡Œæ˜¯å¤šä½™çš„ï¼Œä»¥ä¾¿è¿™ä¸ªæ–¹æ³•ä¸WidgetBuilderçš„ç­¾åç›¸åŒ¹é…ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span><span class="token keyword">void</span> <span class="token function">didUpdateWidget</span><span class="token punctuation">(</span><span class="token class-name">ProductSquare</span> oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didUpdateWidget</span><span class="token punctuation">(</span>oldWidget<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>didUpdateWidget(): å¦‚æœçˆ¶éƒ¨ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œä¸å¾—ä¸é‡å»ºè¿™ä¸ªéƒ¨ä»¶ï¼ˆå› ä¸ºå®ƒéœ€è¦ç»™å®ƒä¸åŒçš„æ•°æ®ï¼‰ï¼Œä½†å®ƒè¢«é‡å»ºæ—¶çš„è¿è¡Œæ—¶ç±»å‹æ˜¯ä¸€æ ·çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ã€‚<br> è¿™æ˜¯å› ä¸ºFlutteræ­£åœ¨é‡æ–°ä½¿ç”¨çŠ¶æ€ï¼Œè¿™æ˜¯é•¿æœŸçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½æƒ³å†æ¬¡åˆå§‹åŒ–ä¸€äº›æ•°æ®ï¼Œå°±åƒä½ åœ¨initStateä¸­ä¸€æ ·ã€‚</li></ul><p>æ¯å½“widgetçš„é…ç½®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒå°±ä¼šè¢«è°ƒç”¨ã€‚<br>å¦‚æœçˆ¶ widget é‡å»ºå¹¶è¯·æ±‚æ›´æ–°æ ‘ä¸­çš„è¿™ä¸ªä½ç½®ä»¥æ˜¾ç¤ºå…·æœ‰ç›¸åŒ runtimeType å’Œ Widget.key çš„æ–° widgetï¼Œæ¡†æ¶å°†æ›´æ–°è¿™ä¸ª State å¯¹è±¡çš„ widget å±æ€§ä»¥å¼•ç”¨æ–°çš„ widgetï¼Œç„¶åç”¨ä»¥å‰çš„ widget ä½œä¸ºå‚æ•°è°ƒç”¨æ­¤æ–¹æ³•ã€‚<br>è¦†ç›–è¿™ä¸ªæ–¹æ³•ï¼Œä»¥ä¾¿åœ¨widgetå‘ç”Ÿå˜åŒ–æ—¶åšå‡ºååº”ï¼ˆä¾‹å¦‚ï¼Œå¯åŠ¨éšå¼åŠ¨ç”»ï¼‰ã€‚<br>æ¡†æ¶æ€»æ˜¯åœ¨è°ƒç”¨didUpdateWidgetåè°ƒç”¨buildï¼Œè¿™æ„å‘³ç€åœ¨didUpdateWidgetä¸­å¯¹setStateçš„ä»»ä½•è°ƒç”¨éƒ½æ˜¯å¤šä½™çš„ã€‚<br>å¦‚æœä¸€ä¸ªçŠ¶æ€çš„æ„å»ºæ–¹æ³•ä¾èµ–äºä¸€ä¸ªæœ¬èº«å¯ä»¥æ”¹å˜çŠ¶æ€çš„å¯¹è±¡ï¼Œä¾‹å¦‚ChangeNotifieræˆ–Streamï¼Œæˆ–è€…å…¶ä»–å¯ä»¥è®¢é˜…æ¥æ”¶é€šçŸ¥çš„å¯¹è±¡ï¼Œé‚£ä¹ˆä¸€å®šè¦åœ¨initStateã€didUpdateWidgetå’Œdisposeä¸­æ­£ç¡®è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ã€‚<br>åœ¨initStateä¸­ï¼Œè®¢é˜…è¯¥å¯¹è±¡ã€‚<br>åœ¨didUpdateWidgetä¸­ï¼Œå¦‚æœæ›´æ–°çš„widgeté…ç½®éœ€è¦æ›´æ¢å¯¹è±¡ï¼Œåˆ™å–æ¶ˆè®¢é˜…æ—§çš„å¯¹è±¡å¹¶è®¢é˜…æ–°çš„å¯¹è±¡ã€‚<br>åœ¨disposeä¸­ï¼Œå–æ¶ˆå¯¹è¯¥å¯¹è±¡çš„è®¢é˜…ã€‚<br>è¿™ä¸ªæ–¹æ³•çš„å®ç°åº”è¯¥ä»¥å¯¹ç»§æ‰¿æ–¹æ³•çš„è°ƒç”¨å¼€å§‹ï¼Œå¦‚super.didUpdateWidget(oldWidget)ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span><span class="token keyword">void</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>deactivate()ã€‚å½“Stateè¢«ä»æ ‘ä¸­ç§»é™¤æ—¶ï¼ŒDeactivateè¢«è°ƒç”¨ï¼Œä½†åœ¨å½“å‰å¸§å˜åŒ–å®Œæˆä¹‹å‰ï¼Œå®ƒå¯èƒ½è¢«é‡æ–°æ’å…¥ã€‚è¿™ä¸ªæ–¹æ³•çš„å­˜åœ¨åŸºæœ¬ä¸Šæ˜¯å› ä¸ºStateå¯¹è±¡å¯ä»¥ä»æ ‘ä¸Šçš„ä¸€ä¸ªç‚¹ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç‚¹ã€‚</li></ul><p>å½“è¿™ä¸ªå¯¹è±¡ä»æ ‘ä¸Šè¢«ç§»é™¤æ—¶è¢«è°ƒç”¨ã€‚</p><p>æ¯å½“æ¡†æ¶å°†è¿™ä¸ªçŠ¶æ€å¯¹è±¡ä»æ ‘ä¸­ç§»é™¤æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ¡†æ¶ä¼šå°†Stateå¯¹è±¡é‡æ–°æ’å…¥åˆ°æ ‘çš„å¦ä¸€éƒ¨åˆ†ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœç”±äºä½¿ç”¨äº†GlobalKeyï¼ŒåŒ…å«è¿™ä¸ªStateå¯¹è±¡çš„å­æ ‘ä»æ ‘çš„ä¸€ä¸ªä½ç½®å«æ¥åˆ°å¦ä¸€ä¸ªä½ç½®ï¼‰ã€‚<br>å¦‚æœå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œæ¡†æ¶å°†è°ƒç”¨æ¿€æ´»ï¼Œè®©çŠ¶æ€å¯¹è±¡æœ‰æœºä¼šé‡æ–°è·å¾—å®ƒåœ¨åœç”¨æ—¶é‡Šæ”¾çš„ä»»ä½•èµ„æºã€‚ç„¶åå®ƒè¿˜ä¼šè°ƒç”¨buildï¼Œè®©Stateå¯¹è±¡æœ‰æœºä¼šé€‚åº”å®ƒåœ¨æ ‘ä¸­çš„æ–°ä½ç½®ã€‚<br>å¦‚æœæ¡†æ¶ç¡®å®é‡æ–°æ’å…¥äº†è¿™ä¸ªå­æ ‘ï¼Œå®ƒå°†åœ¨å­æ ‘è¢«ä»æ ‘ä¸­ç§»é™¤çš„åŠ¨ç”»å¸§ç»“æŸå‰è¿™æ ·åšã€‚</p><p>ç”±äºè¿™ä¸ªåŸå› ï¼ŒStateå¯¹è±¡å¯ä»¥æ¨è¿Ÿé‡Šæ”¾å¤§éƒ¨åˆ†èµ„æºï¼Œç›´åˆ°æ¡†æ¶è°ƒç”¨å®ƒä»¬çš„å¤„ç½®æ–¹æ³•ã€‚<br>å­ç±»åº”è¯¥è¦†ç›–è¿™ä¸ªæ–¹æ³•æ¥æ¸…ç†è¿™ä¸ªå¯¹è±¡å’Œæ ‘ä¸­å…¶ä»–å…ƒç´ ä¹‹é—´çš„ä»»ä½•é“¾æ¥ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœä½ ä¸ºç¥–å…ˆæä¾›äº†ä¸€ä¸ªæŒ‡å‘å­å­™çš„RenderObjectçš„æŒ‡é’ˆï¼‰ã€‚<br>è¿™ä¸ªæ–¹æ³•çš„å®ç°åº”è¯¥ä»¥å¯¹ç»§æ‰¿æ–¹æ³•çš„è°ƒç”¨ç»“æŸï¼Œå¦‚super.deactivate()ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span><span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>dispose(): dispose()åœ¨Stateå¯¹è±¡è¢«ç§»é™¤æ—¶è¢«è°ƒç”¨ï¼Œè¿™æ˜¯æ°¸ä¹…æ€§çš„ã€‚è¿™ä¸ªæ–¹æ³•æ˜¯ä½ åº”è¯¥å–æ¶ˆè®¢é˜…å’Œå–æ¶ˆæ‰€æœ‰çš„åŠ¨ç”»ã€æµç­‰ç­‰ã€‚</li></ul><p>å½“è¿™ä¸ªå¯¹è±¡è¢«æ°¸ä¹…åœ°ä»æ ‘ä¸Šåˆ é™¤æ—¶ï¼Œå®ƒè¢«è°ƒç”¨ã€‚<br>å½“è¿™ä¸ªçŠ¶æ€å¯¹è±¡æ°¸è¿œä¸ä¼šå†å»ºç«‹æ—¶ï¼Œæ¡†æ¶ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚åœ¨æ¡†æ¶è°ƒç”¨disposeåï¼ŒStateå¯¹è±¡è¢«è®¤ä¸ºæ˜¯æœªè¢«æŒ‚è½½çš„ï¼ŒæŒ‚è½½çš„å±æ€§ä¸ºfalseã€‚<br>åœ¨è¿™ä¸ªæ—¶å€™è°ƒç”¨setStateæ˜¯ä¸€ä¸ªé”™è¯¯ã€‚ç”Ÿå‘½å‘¨æœŸçš„è¿™ä¸€é˜¶æ®µæ˜¯ç»ˆç»“çš„ï¼šæ²¡æœ‰åŠæ³•é‡æ–°å®‰è£…ä¸€ä¸ªå·²ç»è¢«å¤„ç½®çš„çŠ¶æ€å¯¹è±¡ã€‚<br>å­ç±»åº”è¯¥è¦†ç›–è¿™ä¸ªæ–¹æ³•æ¥é‡Šæ”¾è¿™ä¸ªå¯¹è±¡æ‰€ä¿ç•™çš„ä»»ä½•èµ„æºï¼ˆä¾‹å¦‚ï¼Œåœæ­¢ä»»ä½•æ´»åŠ¨çš„åŠ¨ç”»ï¼‰ã€‚</p><p>å¦‚æœä¸€ä¸ªStateçš„æ„å»ºæ–¹æ³•ä¾èµ–äºä¸€ä¸ªæœ¬èº«å¯ä»¥æ”¹å˜çŠ¶æ€çš„å¯¹è±¡ï¼Œä¾‹å¦‚ChangeNotifieræˆ–Streamï¼Œæˆ–è€…å…¶ä»–å¯ä»¥è®¢é˜…æ¥æ”¶é€šçŸ¥çš„å¯¹è±¡ï¼Œé‚£ä¹ˆä¸€å®šè¦åœ¨initStateã€didUpdateWidgetå’Œdisposeä¸­æ­£ç¡®è®¢é˜…å’Œå–æ¶ˆè®¢é˜…ã€‚</p><p>åœ¨initStateä¸­ï¼Œè®¢é˜…è¯¥å¯¹è±¡ã€‚<br>åœ¨didUpdateWidgetä¸­ï¼Œå¦‚æœæ›´æ–°çš„widgeté…ç½®éœ€è¦æ›´æ¢å¯¹è±¡ï¼Œåˆ™å–æ¶ˆè®¢é˜…æ—§çš„å¯¹è±¡å¹¶è®¢é˜…æ–°çš„å¯¹è±¡ã€‚</p><p>åœ¨disposeä¸­ï¼Œå–æ¶ˆå¯¹è¯¥å¯¹è±¡çš„è®¢é˜…ã€‚<br>è¿™ä¸ªæ–¹æ³•çš„å®ç°åº”è¯¥ä»¥å¯¹ç»§æ‰¿æ–¹æ³•çš„è°ƒç”¨ç»“æŸï¼Œå¦‚super.dispose()ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬è®¨è®ºäº†å…³äºæœ‰çŠ¶æ€ç”Ÿå‘½å‘¨æœŸæ–¹æ³•çš„æ‰€æœ‰è¦ç‚¹ã€‚</p><p>ä½†æ˜¯ï¼Œåº”ç”¨ç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸå‘¢?<br>æ„å‘³ç€å¦‚æœä½ æ‰“å¼€ä»»ä½•é¡µé¢è€Œä¸åšä»»ä½•åŠ¨ä½œï¼Œæˆ–è€…å½“å±å¹•å¯¹ç”¨æˆ·å¯è§æ—¶ï¼Œå“ªä¸ªå‡½æ•°ä¼šè¢«è°ƒç”¨ï¼Œå¯¹äºå®‰å“æˆ–IOSæ¥è¯´ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ã€‚</p><p><strong>AppLifecycleStateï¼ˆåº”ç”¨ç¨‹åºæ˜¯å¯è§çš„ï¼Œå¹¶å¯¹ç”¨æˆ·çš„è¾“å…¥ä½œå‡ºååº”ï¼‰ã€‚</strong></p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token metadata function">@override</span><span class="token keyword">void</span> <span class="token function">didChangeAppLifecycleState</span><span class="token punctuation">(</span><span class="token class-name">AppLifecycleState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token class-name">AppLifecycleState</span><span class="token punctuation">.</span>inactive<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token keyword">else</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token class-name">AppLifecycleState</span><span class="token punctuation">.</span>paused<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token keyword">else</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token class-name">AppLifecycleState</span><span class="token punctuation">.</span>resumed<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token keyword">else</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>state <span class="token operator">==</span> <span class="token class-name">AppLifecycleState</span><span class="token punctuation">.</span>detached<span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Deep-Drive-into-Flutter-Lifecycle/4.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>inactive - åº”ç”¨ç¨‹åºå¤„äºéæ´»åŠ¨çŠ¶æ€ï¼Œä¸æ¥å—ç”¨æˆ·è¾“å…¥ã€‚å®ƒåªé€‚ç”¨äºiOSã€‚åº”ç”¨ç¨‹åºå¤„äºéæ´»åŠ¨çŠ¶æ€ï¼Œä¸æ¥å—ç”¨æˆ·è¾“å…¥ã€‚</li></ul><p>åœ¨iOSä¸Šï¼Œè¯¥çŠ¶æ€å¯¹åº”äºåº”ç”¨ç¨‹åºæˆ–Flutterä¸»è§†å›¾åœ¨å‰å°è¿è¡Œçš„å¤„äºå‰å°éæ´»åŠ¨çŠ¶æ€ã€‚<br>åº”ç”¨ç¨‹åºåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¼šè¿‡æ¸¡åˆ°è¿™ç§çŠ¶æ€ç”µè¯ï¼Œè¿›å…¥åº”ç”¨åˆ‡æ¢å™¨æˆ–æ§åˆ¶ä¸­å¿ƒæ—¶å“åº”TouchIDè¯·æ±‚ï¼Œæˆ–<br>åˆ‡æ¢å™¨æˆ–æ§åˆ¶ä¸­å¿ƒæ—¶ï¼Œæˆ–å½“UIViewControlleræ‰˜ç®¡çš„Flutteråº”ç”¨ç¨‹åºæ­£åœ¨è¿‡æ¸¡ã€‚<br>åœ¨å®‰å“ç³»ç»Ÿä¸­ï¼Œè¿™ç›¸å½“äºä¸€ä¸ªåº”ç”¨ç¨‹åºæˆ–Flutterä¸»æœºè§†å›¾è¿è¡Œåœ¨å¤„äºå‰å°éæ´»åŠ¨çŠ¶æ€ã€‚åº”ç”¨ç¨‹åºåœ¨ä»¥ä¸‹æƒ…å†µä¸‹ä¼šè¿‡æ¸¡åˆ°è¿™ç§çŠ¶æ€å¦ä¸€ä¸ªæ´»åŠ¨è¢«å…³æ³¨ï¼Œå¦‚åˆ†å±åº”ç”¨ã€ç”µè¯ã€‚</p><p>ä¸€ä¸ªç”»ä¸­ç”»åº”ç”¨ç¨‹åºï¼Œä¸€ä¸ªç³»ç»Ÿå¯¹è¯æ¡†ï¼Œæˆ–å…¶ä»–çª—å£ã€‚å¤„äºè¿™ç§çŠ¶æ€çš„åº”ç”¨ç¨‹åºåº”è¯¥è®¤ä¸ºå®ƒä»¬å¯èƒ½åœ¨ä»»ä½•æ—¶å€™è¢«æš‚åœã€‚</p><ul><li>paused - åº”ç”¨ç¨‹åºå½“å‰å¯¹ç”¨æˆ·ä¸å¯è§ï¼Œå¯¹ç”¨æˆ·è¾“å…¥æ²¡æœ‰ååº”ï¼Œå¹¶ä¸”åœ¨åå°è¿è¡Œã€‚<br>å½“åº”ç”¨ç¨‹åºå¤„äºè¿™ç§çŠ¶æ€æ—¶ï¼Œå¼•æ“å°†ä¸è°ƒç”¨PlatformDispatcher.onBeginFrameå’ŒPlatformDispatcher.onDrawFrameçš„å›è°ƒã€‚</li><li>resumed - åº”ç”¨ç¨‹åºæ˜¯å¯è§çš„ï¼Œå¹¶å¯¹ç”¨æˆ·çš„è¾“å…¥åšå‡ºå“åº”ã€‚</li><li>suspending - åº”ç”¨ç¨‹åºå°†è¢«æš‚æ—¶ä¸­æ­¢ã€‚ ä»…é€‚ç”¨äºAndroid detached</li><li>detached - åº”ç”¨ç¨‹åºä»ç„¶æ‰˜ç®¡åœ¨flutterå¼•æ“ä¸Šï¼Œä½†ä¸ä»»ä½•ä¸»æœºè§†å›¾åˆ†ç¦»ã€‚å½“åº”ç”¨ç¨‹åºå¤„äºè¿™ç§çŠ¶æ€æ—¶ï¼Œå¼•æ“æ˜¯åœ¨æ²¡æœ‰è§†å›¾çš„æƒ…å†µä¸‹è¿è¡Œçš„ã€‚å®ƒå¯ä»¥æ˜¯åœ¨å¼•æ“é¦–æ¬¡åˆå§‹åŒ–æ—¶æ­£åœ¨é™„åŠ ä¸€ä¸ªè§†å›¾ï¼Œä¹Ÿå¯ä»¥æ˜¯åœ¨è§†å›¾å› å¯¼èˆªå™¨å¼¹å‡ºè€Œè¢«é”€æ¯åã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Lifecycle </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter &amp; Flame â€” ç¬¬ 1 æ­¥ï¼šåˆ›å»ºæ‚¨çš„æ¸¸æˆ</title>
      <link href="/Flutter-Flame-%E2%80%94Step-1-Create-your-game.html"/>
      <url>/Flutter-Flame-%E2%80%94Step-1-Create-your-game.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/1.jpeg" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><p>ä»ä¸€ä¸ªæƒ³æ³•åˆ°ä¸€ä¸ªå•†åº—å°±ç»ªçš„æ¸¸æˆï¼Œæ‰€æœ‰è¿™äº›éƒ½æ˜¯ç”¨ Flutter å’Œ Flame åˆ¶ä½œçš„ã€‚ åŠ å…¥æˆ‘ä»¬æœ¬ç³»åˆ—çš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œå­¦ä¹ å¦‚ä½•ä½¿ç”¨ Flutter å»ºç«‹ä¸€ä¸ª Flame é¡¹ç›®å¹¶åœ¨å±å¹•ä¸Šç»˜åˆ¶ä½ çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</p><span id="more"></span><h3 id="ä»‹ç»"><a href="#ä»‹ç»" class="headerlink" title="ä»‹ç»"></a>ä»‹ç»</h3><p>è¿™æ˜¯åˆ›å»ºä»é›¶åˆ°å•†åº—å°±ç»ªçŠ¶æ€çš„æ‰‹æœºæ¸¸æˆçš„ç³»åˆ—æ–‡ç« ä¸­çš„ç¬¬ä¸€ç¯‡ã€‚ æˆ‘å°†ä»ä¸€ä¸ªæ²¡æœ‰ä»£ç çš„æƒ³æ³•å¼€å§‹ï¼Œåˆ°ä¸€ä¸ªå‡†å¤‡å¥½å‘å¸ƒçš„æ‰‹æœºæ¸¸æˆåº”ç”¨ç¨‹åºã€‚<br>ä¸ºç¡®ä¿æ‚¨å¯ä»¥è·Ÿè¿›ï¼Œè®©æˆ‘æ¨èä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>è‡³å°‘ä¸º Android å¹³å°å®‰è£…å’Œé…ç½® Flutter SDK</li><li>æ‚¨é€‰æ‹©çš„ IDEï¼Œæˆ‘å°†ä½¿ç”¨ Visual Studio Code</li><li>FlutteråŸºç¡€çŸ¥è¯†åŠå…¶æ ¸å¿ƒæ¦‚å¿µ</li></ul><h3 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h3><p>å¦‚æœæ‚¨éœ€è¦è®¾ç½® Flutterï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹é“¾æ¥ä¸ºæ‚¨é€‰æ‹©çš„å¹³å°è¿›è¡Œé…ç½®ï¼ˆæˆ‘å°½å¯èƒ½é€‰æ‹© Linuxï¼‰ï¼š</p><p><a href="https://flutter.dev/docs/get-started/install">https://flutter.dev/docs/get-started/install</a></p><p>ä¸Šè¿°æŒ‡å—è¿˜åŒ…æ‹¬ IDE çš„å®‰è£…ï¼Œæˆ‘å°†å†æ¬¡ä½¿ç”¨ Visual Studio Codeã€‚ å¦‚æœæ‚¨æƒ³è¿›ä¸€æ­¥é˜…è¯»ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹ Microsoft çš„é“¾æ¥ï¼š</p><p><a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a></p><h3 id="Flame-Engine"><a href="#Flame-Engine" class="headerlink" title="Flame Engine"></a>Flame Engine</h3><img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/2.png" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><p>å®Œæ•´çš„æ•™ç¨‹å°†ä½¿ç”¨ç«ç„°å¼•æ“å’Œç›¸å…³åŒ…ã€‚<br>Flame Engine æ˜¯ä¸€ä¸ªç”¨ Dart ä¸º Flutter ç¼–å†™çš„å¼€æº 2D æ¸¸æˆå¼•æ“ï¼Œæ”¯æŒ Web å’Œç§»åŠ¨å¹³å°ä»¥åŠæ¡Œé¢ã€‚</p><p><a href="https://flame-engine.org/">https://flame-engine.org/</a></p><p>Flame æä¾›äº†å¤šç§å…ƒç´ æ¥æ„å»ºæ‚¨çš„æ¸¸æˆâ€”â€”å¦‚æœéœ€è¦ï¼Œè¯¥å·¥å…·é›†ç”šè‡³å¯ä»¥ä½¿ç”¨ç‰©ç†å¼•æ“è¿›è¡Œæ‰©å±•ã€‚<br>è¦è·å¾—æœ‰å…³æ‰€æœ‰å·²å‘å¸ƒåŒ…çš„æ¦‚è¿°ï¼Œè¯·æŸ¥çœ‹ä»¥ä¸‹å†…å®¹ï¼š</p><p><a href="https://pub.dev/publishers/flame-engine.org/packages">https://pub.dev/publishers/flame-engine.org/packages</a></p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†å•ç‹¬ä½¿ç”¨ Flame åŒ…ã€‚</p><p>Moon Landerâ€”â€”æ‰‹æœºä¸Šçš„å¤å¤ä¹è¶£</p><img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/3.jpeg" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><p>æ¯ä¸ªæ¸¸æˆéƒ½åŸºäºä¸€ä¸ªæ¦‚å¿µæˆ–æƒ³æ³•ï¼Œæˆ‘ä¼šé€‰æ‹© Lunar Lander ç±»å‹çš„æ¸¸æˆã€‚<br>å¦‚æœè¿™æ˜¯æ‚¨ç¬¬ä¸€æ¬¡å¬è¯´å®ƒï¼Œè¯·æŸ¥çœ‹ä¸‹é¢é“¾æ¥çš„ Wikipedia æ–‡ç« ã€‚ ä½†ä¸ºäº†ç®€çŸ­èµ·è§ï¼š</p><ul><li>æ‚¨éœ€è¦å°†å®‡å®™é£èˆ¹å®‰å…¨é™è½åœ¨å¦ä¸€ä¸ªè¡Œæ˜Ÿæˆ–æœˆçƒçš„è¡¨é¢</li><li>æœ‰é™çš„ç‡ƒæ–™å’Œé‡åŠ›ä½¿æ‚¨çš„ç€é™†æˆä¸ºæŒ‘æˆ˜</li><li>ä½ å¿…é¡»åœ¨ç‡ƒæ–™è€—å°½ä¹‹å‰é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„ç€é™†ç‚¹</li></ul><p><a href="https://en.wikipedia.org/wiki/Lunar_Lander_%28video_game_genre%29">https://en.wikipedia.org/wiki/Lunar_Lander_%28video_game_genre%29</a></p><p>æ—©æœŸçš„æ¸¸æˆæ˜¯ç”¨ç®€å•çš„ç»˜å›¾æ„å»ºçš„ï¼ˆæˆ‘çœŸçš„å¾ˆå–œæ¬¢ç®€å•çš„é£æ ¼ï¼‰ã€‚<br>ä½†æ˜¯ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ç²¾çµï¼ˆç»˜åˆ¶çš„å›¾åƒï¼‰æ¥å±•ç¤ºç«ç„°è¦å®Œæˆçš„å·¥ä½œã€‚<br>å¦‚æœæ‚¨æƒ³äº†è§£ä¸€äº›å¤å¤çš„ä¸œè¥¿ï¼Œè¯·æŸ¥çœ‹è¿™ä¸ªå¾ˆé…·çš„å®ç°ï¼š<br><a href="http://moonlander.seb.ly/">http://moonlander.seb.ly/</a></p><h3 id="æ¥å§ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–ç ï¼"><a href="#æ¥å§ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–ç ï¼" class="headerlink" title="æ¥å§ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–ç ï¼"></a>æ¥å§ï¼Œè®©æˆ‘ä»¬å¼€å§‹ç¼–ç ï¼</h3><img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/4.jpeg" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><h4 id="èµ·æ­¥"><a href="#èµ·æ­¥" class="headerlink" title="èµ·æ­¥"></a>èµ·æ­¥</h4><p>è®©æˆ‘ä»¬é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥ç”Ÿæˆä¸€ä¸ªæ–°çš„ Flutter é¡¹ç›®ï¼š</p><pre class="line-numbers language-none"><code class="language-none">flutter create moonlander<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Flutter å°†åˆ›å»ºåŒ…å«æ‰€æœ‰å¿…éœ€æ–‡ä»¶å’Œé…ç½®çš„é¡¹ç›®ç»“æ„ï¼Œè¿™è¿˜åŒ…æ‹¬ä¸€ä¸ªç¤ºä¾‹å±å¹•ï¼ˆè‘—åçš„è®¡æ•°å™¨åº”ç”¨ç¨‹åºï¼‰ã€‚<br>åœ¨æˆ‘ä»¬å¤„ç†ä»»ä½•ä»£ç æ–‡ä»¶ï¼ˆ*.dartï¼‰ä¹‹å‰ï¼Œè®©æˆ‘ä»¬åœ¨æˆ‘ä»¬é€‰æ‹©çš„ä»£ç ç¼–è¾‘å™¨ä¸­æ‰“å¼€æ–‡ä»¶å¤¹å¹¶å°†æˆ‘ä»¬çš„ä¾èµ–é¡¹æ·»åŠ åˆ° pubspec.yaml æ–‡ä»¶ä¸­ï¼š</p><pre class="line-numbers language-none"><code class="language-none">flame: ^1.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¾èµ–é¡¹çš„éƒ¨åˆ†åº”è¯¥å¤§è‡´å¦‚ä¸‹æ‰€ç¤ºï¼Œè¯·æ³¨æ„â€œflutter createâ€å·¥å…·å°†æ·»åŠ ä¸€äº›è¿›ä¸€æ­¥çš„è¡Œå’Œæ³¨é‡Šï¼Œä½ ç°åœ¨å¯ä»¥å¿½ç•¥å®ƒï¼š</p><pre class="line-numbers language-none"><code class="language-none">dependencies:    flutter:        sdk: flutter    flame: ^1.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸ºç¡®ä¿æ‚¨ç¡®å®ä¸‹è½½äº†æ–°æ·»åŠ çš„ Flame åŒ…ï¼Œåªéœ€åœ¨æ§åˆ¶å°ä¸­è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">flutter pub get<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¿«é€Ÿã€å¹²å‡€çš„ä»£ç "><a href="#å¿«é€Ÿã€å¹²å‡€çš„ä»£ç " class="headerlink" title="å¿«é€Ÿã€å¹²å‡€çš„ä»£ç "></a>å¿«é€Ÿã€å¹²å‡€çš„ä»£ç </h3><img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/5.jpeg" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><p>å¦‚æœæ‚¨ä» GitHub ä¸‹è½½ä»£ç ï¼Œæ‚¨å¯èƒ½ä¼šåœ¨ pubspec.yaml æ–‡ä»¶çš„ dev_dependencies éƒ¨åˆ†ä¸‹å‘ç°å¦ä¸€ä¸ªä¾èµ–é¡¹ï¼Œåä¸ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">very_good_analysis<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤è½¯ä»¶åŒ…å¯å¸®åŠ©æ‚¨æ ¹æ®å‡†åˆ™éªŒè¯ä»£ç ï¼Œä½¿å…¶å¹²å‡€å¹¶éµå¾ªè®¸å¤šé¡¹ç›®å…±äº«çš„æ ‡å‡†ã€‚<br>ä½ ä¼šå‘ç°å¤šä¸ªå¯ç”¨äº Flutterï¼ˆå’Œ Dartï¼‰çš„â€œlinterâ€é¡¹ç›®ï¼š</p><p><a href="https://pub.dev/packages?q=lint">https://pub.dev/packages?q=lint</a></p><p>Dart é¡¹ç›®ä¸­è¿˜æœ‰ä¸€ä¸ªå®˜æ–¹çš„ï¼š</p><p><a href="https://pub.dev/packages/lints">https://pub.dev/packages/lints</a></p><p>æ‚¨ä¸æ˜¯å¿…é¡»è¦åœ¨é¡¹ç›®ä¸­ä½¿ç”¨ linterï¼Œå®ƒä¸ä¼šä¸ºæ‚¨çš„æ¸¸æˆæ·»åŠ ä»»ä½•åŠŸèƒ½ï¼Œä½†å®ƒæ”¯æŒæ‚¨ä¿æŒä»£ç å¹²å‡€å¹¶ç¬¦åˆç¤¾åŒºæ ‡å‡†ã€‚</p><h3 id="å›åˆ°æ¸¸æˆå¼€å‘"><a href="#å›åˆ°æ¸¸æˆå¼€å‘" class="headerlink" title="å›åˆ°æ¸¸æˆå¼€å‘"></a>å›åˆ°æ¸¸æˆå¼€å‘</h3><p>å¦‚æœä½ ç°åœ¨å°±å¼€å§‹é¡¹ç›®ï¼Œä½ ä»ç„¶ä¼šæœ‰å‰é¢æåˆ°çš„è®¡æ•°å™¨åº”ç”¨ç¨‹åºç¤ºä¾‹ã€‚ è®©æˆ‘ä»¬æŠŠå®ƒæ”¹æˆæˆ‘ä»¬è‡ªå·±æ¸¸æˆçš„å¼€å§‹ã€‚<br>å°†ä»¥ä¸‹å†…å®¹å¤åˆ¶åˆ°æ‚¨çš„ main.dart æ–‡ä»¶ä¸­ã€‚<br>ä¸ç”¨æ‹…å¿ƒï¼Œæ‚¨ä¼šé‡åˆ°ä¸€äº›é”™è¯¯ï¼Œæˆ‘ä»¬ä¼šç«‹å³é€æ­¥ä¿®å¤ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:async'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flame/flame.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flame/game.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:moonlander/components/rocket_component.dart'</span></span><span class="token punctuation">;</span><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">WidgetsFlutterBinding</span><span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">await</span> <span class="token class-name">Flame</span><span class="token punctuation">.</span>device<span class="token punctuation">.</span><span class="token function">setLandscape</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> game <span class="token operator">=</span> <span class="token class-name">MoonlanderGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token class-name">GameWidget</span><span class="token punctuation">(</span>game<span class="token punctuation">:</span> game<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token comment">/// This class encapulates the whole game.</span><span class="token keyword">class</span> <span class="token class-name">MoonlanderGame</span> <span class="token keyword">extends</span> <span class="token class-name">FlameGame</span> <span class="token keyword">with</span> <span class="token class-name">HasCollidables</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">unawaited</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">RocketComponent</span><span class="token punctuation">(</span>position<span class="token punctuation">:</span> size <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">,</span> size<span class="token punctuation">:</span> <span class="token class-name">Vector2</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="9-14-è¡Œ"><a href="#9-14-è¡Œ" class="headerlink" title="9-14 è¡Œ"></a>9-14 è¡Œ</h4><p>æˆ‘ä»¬é€šè¿‡è°ƒç”¨æ¥ç¡®ä¿ Flutter å·²å‡†å¤‡å°±ç»ªï¼š</p><pre class="line-numbers language-none"><code class="language-none">WidgetsFlutterBinding.ensureInitialized();<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®Œæˆåï¼Œæˆ‘ä»¬é€šçŸ¥ Flameï¼Œæˆ‘ä»¬çš„æ¸¸æˆåº”è¯¥ä»¥æ¨ªå‘æ¨¡å¼è¿è¡Œã€‚ è¿™æ˜¯ä½¿ç”¨å†…ç½®çš„ç«ç„°è®¾å¤‡ç±»å®Œæˆçš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">await Flame.device.setLandscape();<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Flame åœ¨è¿™ä¸ªå®ç”¨ç¨‹åºç±»ä¸­æä¾›äº†æ›´å¤šåŠŸèƒ½å’Œå¸®åŠ©ç¨‹åºï¼Œå¦‚æœæ‚¨æƒ³è¿›ä¸€æ­¥é˜…è¯»ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢çš„æ–‡æ¡£ã€‚</p><p><a href="https://docs.flame-engine.org/1.0.0-releasecandidate.16/util.html">https://docs.flame-engine.org/1.0.0-releasecandidate.16/util.html</a></p><p>æœ€åä¸¤è¡Œåˆ›å»ºæˆ‘ä»¬çš„æ¸¸æˆå¹¶å°†å…¶æä¾›ç»™ GameWidgetã€‚ GameWidget å°†ç¡®ä¿æˆ‘ä»¬åœ¨æ¸¸æˆä¸­æ‰€åšçš„ä»»ä½•äº‹æƒ…éƒ½å‘ˆç°åœ¨å±å¹•ä¸Šï¼Œå®ƒæä¾›äº†æ›´å¤šæœ‰ç”¨çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†åœ¨ç¨åæ¢ç´¢ã€‚</p><h4 id="ç¬¬-18â€“24-è¡Œ"><a href="#ç¬¬-18â€“24-è¡Œ" class="headerlink" title="ç¬¬ 18â€“24 è¡Œ"></a>ç¬¬ 18â€“24 è¡Œ</h4><p>è¿™ 6 è¡Œæ˜¯ç›®å‰å®Œæ•´çš„æ¸¸æˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°ç±»å¹¶æ‰©å±• FlameGame å’Œ mixin HasCollidablesã€‚ åœ¨æ¸¸æˆå†…éƒ¨ï¼Œæˆ‘ä»¬é‡å†™äº† onLoad å‡½æ•°æ¥ä¸ºæ¸¸æˆæ·»åŠ ä¸€ä¸ªç»„ä»¶ã€‚</p><p>ä¸ä»»ä½•å…¶ä»– Flutter App ä¸€æ ·ï¼Œæ‚¨çš„æ¸¸æˆç”±å•ä¸€å…ƒç´ æ„å»ºï¼šç»„ä»¶ï¼ˆæ‚¨å¯ä»¥è¯´å®ƒä»¬æ˜¯æ¸¸æˆçš„å°éƒ¨ä»¶ï¼‰ã€‚ onLoad äº‹ä»¶åªæ˜¯ä¼—å¤šç”Ÿå‘½å‘¨æœŸäº‹ä»¶ä¹‹ä¸€ï¼Œå®ƒåœ¨æ¸¸æˆå¯åŠ¨æœŸé—´è¢«è°ƒç”¨ä¸€æ¬¡ã€‚<br>ä¸€èˆ¬è€Œè¨€ï¼Œåˆ›å»ºå’ŒåŠ è½½æ‚¨ç¨åå°†ä½¿ç”¨çš„å†…å®¹æ˜¯ä¸€ä»¶å¥½äº‹ã€‚ ä¸ç”¨æ‹…å¿ƒï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­æ›´æ·±å…¥åœ°ä»‹ç»æ‰€æœ‰è¿™äº›å…ƒç´ ï¼Œç›®å‰ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬éœ€è¦äº†è§£çš„å…¨éƒ¨å†…å®¹ã€‚</p><h3 id="æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªç»„ä»¶"><a href="#æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªç»„ä»¶" class="headerlink" title="æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªç»„ä»¶"></a>æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªç»„ä»¶</h3><p>åˆ›å»ºä¸€ä¸ªåä¸º components çš„ç›®å½•å¹¶æ·»åŠ ä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„æ–°æ–‡ä»¶ï¼šrocket_component.dartï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flame/components.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flame/extensions.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flame/geometry.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token comment">///</span><span class="token keyword">class</span> <span class="token class-name">RocketComponent</span> <span class="token keyword">extends</span> <span class="token class-name">PositionComponent</span> <span class="token keyword">with</span> <span class="token class-name">Hitbox</span><span class="token punctuation">,</span> <span class="token class-name">Collidable</span> <span class="token punctuation">{</span>  <span class="token comment">/// Create a new Rocket component at the given [position].</span>  <span class="token class-name">RocketComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token class-name">Vector2</span> position<span class="token punctuation">,</span>    required <span class="token class-name">Vector2</span> size<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>position<span class="token punctuation">:</span> position<span class="token punctuation">,</span> size<span class="token punctuation">:</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onLoad</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">addHitbox</span><span class="token punctuation">(</span><span class="token class-name">HitboxRectangle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token class-name">Canvas</span> canvas<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// Temporary render item</span>    <span class="token function">renderHitboxes</span><span class="token punctuation">(</span>canvas<span class="token punctuation">,</span> paint<span class="token punctuation">:</span> <span class="token class-name">Paint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Rocket ç»„ä»¶å°†æ˜¯æˆ‘ä»¬çš„æ’­æ”¾å™¨å¯¹è±¡ï¼Œå®ƒå°†è¢«ç»˜åˆ¶åœ¨å±å¹•ä¸Šå¹¶éœ€è¦ä¸å…¶ä»–å…ƒç´ äº¤äº’ã€‚ æ‚¨åœ¨å±å¹•ä¸Šç»˜åˆ¶çš„æ‰€æœ‰å†…å®¹éƒ½å°†ä»¥ç»™å®šå¤§å°ç»˜åˆ¶åœ¨ç»™å®šä½ç½®ã€‚<br>Flame æä¾› PositionComponent ç±»æ¥å¤„ç†ç»˜å›¾ã€‚<br>ä¸ºäº†å¯ç”¨äº¤äº’ï¼Œåœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­æ˜¯ç¢°æ’ï¼Œæˆ‘ä»¬å°† Hitbox å’Œ Collidable Mixin æ·»åŠ åˆ°ç»„ä»¶ä¸­ã€‚<br>æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­è¯¦ç»†ä»‹ç»ï¼Œç›®å‰ï¼Œæˆ‘ä»¬åªéœ€è¦å¤§è‡´äº†è§£ç±»å’Œ mixin çš„ç”¨é€”ã€‚</p><h3 id="ç»„ä»¶ä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸ"><a href="#ç»„ä»¶ä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç»„ä»¶ä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸ"></a>ç»„ä»¶ä¹Ÿæœ‰ç”Ÿå‘½å‘¨æœŸ</h3><p>ä¸æˆ‘ä»¬çš„ä¸»æ¸¸æˆç±»ç±»ä¼¼ï¼Œæ¯ä¸ªç»„ä»¶éƒ½æœ‰ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸã€‚ æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨ onLoad äº‹ä»¶æ¥å®ç°ä¸æˆ‘ä»¬çš„æ¸¸æˆç›¸åŒçš„æ•ˆæœï¼Œè®©ä¸€åˆ‡å‡†å¤‡å°±ç»ªã€‚<br>æˆ‘ä»¬é€šçŸ¥ Flame æˆ‘ä»¬æƒ³è¦ä¸€ä¸ªå›´ç»•æˆ‘ä»¬å…ƒç´ çš„çŸ©å½¢ç¢°æ’æ¡†ï¼ˆç¬¬ 17 è¡Œï¼‰ã€‚<br>è¿™æ˜¯ç¡®ä¿ä»¥åæ­£ç¡®ç¢°æ’æ‰€å¿…éœ€çš„ã€‚<br>ä¸ºäº†åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæŸäº›å†…å®¹ï¼Œæˆ‘ä»¬åœ¨ render æ–¹æ³•ä¸­æ¸²æŸ“ hitboxã€‚<br>é»˜è®¤æƒ…å†µä¸‹ï¼Œhitbox ä¸æ˜¯æ¸¸æˆçš„å¯è§éƒ¨åˆ†ï¼Œå‡ºäºè°ƒè¯•å’Œæµ‹è¯•çš„åŸå› ï¼Œç»˜åˆ¶å®ƒä»¬å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚</p><h3 id="èµ·é£"><a href="#èµ·é£" class="headerlink" title="èµ·é£"></a>èµ·é£</h3><p>å¦‚æœæ‚¨å¯åŠ¨åº”ç”¨ç¨‹åºï¼Œæ‚¨åº”è¯¥ä¼šåœ¨æ‰‹æœºä¸Šçœ‹åˆ°ä»¥ä¸‹ç»“æœï¼š</p><img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/6.png" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><p>æ­å–œï¼Œæ‚¨æˆåŠŸåœ°ä½¿ç”¨ Flame å’Œ Flutter å¯åŠ¨äº†æ¸¸æˆï¼<br>è¿™è¿˜ä¸ç®—å¤šï¼Œä½†æˆ‘ä»¬æ­£æœç€æ­£ç¡®çš„æ–¹å‘å‰è¿› :)<br>ç™½è‰²çŸ©å½¢æ˜¯æˆ‘ä»¬çš„ç«ç®­ç»„ä»¶çš„å‘½ä¸­æ¡†ï¼Œç»˜åˆ¶åˆ°å±å¹•çš„ä¸­å¿ƒã€‚<br>ä¸­å¿ƒæ˜¯é€šè¿‡å°†å¯ç”¨å±å¹•å¤§å°é™¤ä»¥ 2 æ¥è®¡ç®—çš„ï¼ˆåœ¨ main.dart ä¸­ï¼‰ï¼š</p><pre class="line-numbers language-none"><code class="language-none">RocketComponent(position: size / 2, size: Vector2.all(20))<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Hitbox å¯ä»¥æœ‰ä¸åŒçš„å½¢çŠ¶ï¼Œæˆ‘ä»¬å†³å®šä½¿ç”¨çŸ©å½¢ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆ Flames å†…ç½®æ–¹æ³• (renderHitboxes) ä¼šç»˜åˆ¶ä¸€ä¸ªã€‚</p><p>ç©è½¬ Paint() å¯¹è±¡ï¼Œä¹Ÿè®¸ä½ å¯ä»¥æ”¹å˜é¢œè‰²ï¼Œæˆ–è€…åªæ˜¯åœ¨çŸ©å½¢çš„å¤–éƒ¨ç»˜åˆ¶ä½†ä¸å¡«å……å®ƒã€‚ è¿™å¯èƒ½å¯¹ä»¥åæœ‰ç”¨ï¼›ï¼‰</p><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><img src="/Flutter-Flame-%E2%80%94Step-1-Create-your-game/7.jpeg" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><p>æ‚¨å·²ç»ä½¿ç”¨ Flutter åˆ›å»ºäº†è‡ªå·±çš„ Flame æ¸¸æˆé¡¹ç›®çš„åŸºç¡€ã€‚<br>æˆ‘ä»¬æ¦‚è¿°äº†æˆ‘ä»¬æ¸¸æˆçš„æƒ³æ³•ä»¥åŠæˆ‘ä»¬æƒ³è¦åˆ›å»ºçš„å†…å®¹ï¼Œå¹¶äº†è§£åˆ° Flame æ¸¸æˆä¹Ÿæ˜¯å°éƒ¨ä»¶ã€‚<br>æ¯ä¸ªæ¸¸æˆéƒ½ç”±ç»„ä»¶æ„å»ºå¹¶éµå¾ªç”Ÿå‘½å‘¨æœŸäº‹ä»¶ã€‚<br>æ¸¸æˆç»„ä»¶å¯ä»¥ç›¸äº’äº¤äº’ï¼Œå¹¶ä»¥ç»™å®šçš„ä½ç½®å’Œå¤§å°ç»˜åˆ¶åœ¨å±å¹•ä¸Šã€‚<br>é™¤äº†æ¸¸æˆå¼€å‘ï¼Œæˆ‘ä»¬å¯¹ linter æœ‰ä¸€ä¸ªä¾§é¢çš„çœ‹æ³•ï¼Œå¯ä»¥å¸®åŠ©æ‚¨ç”Ÿæˆé€‚ç”¨äºä»»ä½•å³å°†å‡ºç°çš„ Flutter é¡¹ç›®çš„å¹²å‡€ä¸”å¯å…±äº«çš„ä»£ç ã€‚</p><h3 id="ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä»‹ç»æœ‰å…³æ¸¸æˆç”Ÿå‘½å‘¨æœŸçš„æ›´å¤šå†…å®¹ï¼Œå¹¶äº†è§£æ¸²æŸ“å’Œï¼ˆå°šæœªæ˜¾ç¤ºçš„ï¼‰æ›´æ–°åŠŸèƒ½èƒŒåçš„ä¸€äº›å«ä¹‰ã€‚<br>éšç€ç¬¬äºŒç¯‡æ–‡ç« çš„ç»“æŸï¼Œæˆ‘ä»¬å°†æœ‰ä¸€ä¸ªåšå®çš„åŸºç¡€å¼€å§‹ä¸ºæˆ‘ä»¬çš„å°ç«ç®­ç»„ä»¶åˆ›é€ ä¸€ä¸ªå±é™©çš„ç¯å¢ƒ:)</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Flame </tag>
            
            <tag> Game </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—ã€Spring Boot å’Œ Kubernetes æ‰©å±•å¾®æœåŠ¡</title>
      <link href="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes.html"/>
      <url>/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes.html</url>
      
        <content type="html"><![CDATA[<img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å½“æ‚¨å¤§è§„æ¨¡è®¾è®¡å’Œæ„å»ºåº”ç”¨ç¨‹åºæ—¶ï¼Œæ‚¨å°†é¢ä¸´ä¸¤ä¸ªé‡å¤§æŒ‘æˆ˜ï¼šå¯æ‰©å±•æ€§å’Œç¨³å¥æ€§ã€‚<br>æ‚¨åº”è¯¥è®¾è®¡æ‚¨çš„æœåŠ¡ï¼Œä»¥ä¾¿å³ä½¿å®ƒå—åˆ°é—´æ­‡æ€§é‡è´Ÿè½½çš„å½±å“ï¼Œå®ƒä¹Ÿèƒ½ç»§ç»­å¯é åœ°è¿è¡Œã€‚<br>ä»¥ Apple Store ä¸ºä¾‹ã€‚<br>æ¯å¹´éƒ½æœ‰æ•°ç™¾ä¸‡ Apple å®¢æˆ·é¢„å…ˆæ³¨å†Œè´­ä¹°æ–° iPhoneã€‚<br>æ•°ç™¾ä¸‡äººåŒæ—¶è´­ä¹°ä¸€ä»¶å•†å“ã€‚</p><span id="more"></span><p>å¦‚æœæ‚¨å°† Apple å•†åº—çš„æµé‡æç»˜ä¸ºéšæ—¶é—´å˜åŒ–çš„æ¯ç§’è¯·æ±‚æ•°ï¼Œå›¾è¡¨å¯èƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç°åœ¨æƒ³è±¡ä¸€ä¸‹ï¼Œä½ çš„ä»»åŠ¡æ˜¯æ„å»ºè¿™æ ·çš„åº”ç”¨ç¨‹åºã€‚<br>æ‚¨æ­£åœ¨å»ºç«‹ä¸€ä¸ªå•†åº—ï¼Œç”¨æˆ·å¯ä»¥åœ¨å…¶ä¸­è´­ä¹°ä»–ä»¬æœ€å–œæ¬¢çš„å•†å“ã€‚<br>æ‚¨æ„å»ºä¸€ä¸ªå¾®æœåŠ¡æ¥å‘ˆç°ç½‘é¡µå¹¶æä¾›é™æ€èµ„äº§ã€‚ æ‚¨è¿˜æ„å»ºäº†ä¸€ä¸ªåç«¯ REST API æ¥å¤„ç†ä¼ å…¥çš„è¯·æ±‚ã€‚<br>æ‚¨å¸Œæœ›å°†è¿™ä¸¤ä¸ªç»„ä»¶åˆ†å¼€ï¼Œå› ä¸ºä½¿ç”¨ç›¸åŒçš„ REST APIï¼Œæ‚¨å¯ä»¥ä¸ºç½‘ç«™å’Œç§»åŠ¨åº”ç”¨ç¨‹åºæä¾›æœåŠ¡ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/3.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>(å¼€å§‹æƒ³è±¡)<br>ä»Šå¤©æ˜¯å¤§æ—¥å­ï¼Œä½ çš„å•†åº—ä¸Šçº¿äº†ã€‚<br>æ‚¨å†³å®šå°†åº”ç”¨ç¨‹åºæ‰©å±•åˆ°å››ä¸ªå‰ç«¯å®ä¾‹å’Œå››ä¸ªåç«¯å®ä¾‹ï¼Œå› ä¸ºæ‚¨é¢„æµ‹è¯¥ç½‘ç«™å°†æ¯”å¹³æ—¶æ›´ç¹å¿™ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/4.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‚¨å¼€å§‹æ”¶åˆ°è¶Šæ¥è¶Šå¤šçš„æµé‡ã€‚<br>å‰ç«¯æœåŠ¡æ­£åœ¨å¤„ç†æµé‡ã€‚ ä½†æ˜¯æ‚¨æ³¨æ„åˆ°è¿æ¥åˆ°æ•°æ®åº“çš„åç«¯æ­£åœ¨åŠªåŠ›è·Ÿä¸Šäº‹åŠ¡çš„æ•°é‡ã€‚<br>ä¸ç”¨æ‹…å¿ƒï¼Œæ‚¨å¯ä»¥å°†åç«¯çš„å‰¯æœ¬æ•°æ‰©å±•åˆ° 8 ä¸ªã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/5.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‚¨æ”¶åˆ°çš„æµé‡æ›´å¤šäº†ï¼Œè€Œåç«¯å´æ— æ³•åº”å¯¹ã€‚<br>ä¸€äº›æœåŠ¡å¼€å§‹æ–­å¼€è¿æ¥ã€‚ æ„¤æ€’çš„å®¢æˆ·å¼€å§‹è”ç³»ä½ çš„å®¢æœæŠ±ï¼ˆliaoï¼‰æ€¨ï¼ˆtianï¼‰ã€‚<br>æ‚¨çš„åç«¯è¶Šæ¥è¶Šä¹åŠ›ï¼Œå¹¶ä¸”ä¸¢å¤±äº†å¤§é‡çš„è¿æ¥ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/6.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½ ä¸ºæ­¤æŸå¤±äº†ä¸€å¤§ç¬”é’±ï¼Œè€Œä½ çš„å®¢æˆ·åˆ™å¾ˆä¸é«˜å…´ã€‚</p><p>æ‚¨çš„åº”ç”¨ç¨‹åºå¹¶éè®¾è®¡ä¸ºå¥å£®å’Œé«˜å¯ç”¨æ€§ï¼š</p><ul><li>å‰ç«¯å’Œåç«¯æ˜¯ç´§å¯†è€¦åˆçš„â€”â€”äº‹å®ä¸Šå®ƒä¸èƒ½å¤„ç†æ²¡æœ‰åç«¯çš„åº”ç”¨ç¨‹åº</li><li>å‰ç«¯å’Œåç«¯å¿…é¡»ååŒæ‰©å±•â€”â€”å¦‚æœæ²¡æœ‰è¶³å¤Ÿçš„åç«¯ï¼Œä½ å¯èƒ½ä¼šæ·¹æ²¡åœ¨æµé‡ä¸­</li><li>å¦‚æœåç«¯ä¸å¯ç”¨ï¼Œæ‚¨å°†æ— æ³•å¤„ç†ä¼ å…¥äº¤æ˜“ã€‚</li></ul><p>äº¤æ˜“æŸå¤±å°±æ˜¯æ”¶å…¥æŸå¤±ã€‚<br>æ‰€ä»¥ï¼Œä½ ä¸ï¼ˆzaoï¼‰å¾—ï¼ˆganï¼‰ä¸ï¼ˆmaï¼‰ï¼ˆqu leï¼‰é‡æ–°è®¾è®¡ä½ çš„æ¶æ„ï¼šç”¨é˜Ÿåˆ—è§£è€¦å‰ç«¯å’Œåç«¯ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/7.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>å‰ç«¯å°†æ¶ˆæ¯å‘å¸ƒåˆ°é˜Ÿåˆ—ï¼Œè€Œåç«¯åŒæ—¶å¤„ç†ä¸€æ¡å¾…å¤„ç†çš„æ¶ˆæ¯ã€‚<br>æ–°æ¶æ„æœ‰ä¸€äº›æ˜æ˜¾çš„å¥½å¤„ï¼š</p><ul><li>å¦‚æœåç«¯ä¸å¯ç”¨ï¼Œåˆ™é˜Ÿåˆ—å……å½“ç¼“å†²åŒº</li><li>å¦‚æœå‰ç«¯äº§ç”Ÿçš„æ¶ˆæ¯å¤šäºåç«¯å¯ä»¥å¤„ç†çš„æ¶ˆæ¯ï¼Œåˆ™è¿™äº›æ¶ˆæ¯å°†ç¼“å†²åœ¨é˜Ÿåˆ—ä¸­</li><li>æ‚¨å¯ä»¥ç‹¬ç«‹äºå‰ç«¯æ‰©å±•åç«¯ - å³æ‚¨å¯ä»¥æ‹¥æœ‰æ•°ç™¾ä¸ªå‰ç«¯æœåŠ¡å’Œä¸€ä¸ªåç«¯å®ä¾‹<br>å¤ªå¥½äº†ï¼Œä½†æ˜¯æ‚¨å¦‚ä½•æ„å»ºè¿™æ ·çš„åº”ç”¨ç¨‹åºï¼Ÿ<br>æ‚¨å¦‚ä½•è®¾è®¡å¯ä»¥å¤„ç†æ•°åä¸‡ä¸ªè¯·æ±‚çš„æœåŠ¡ï¼Ÿ<br>ä»¥åŠå¦‚ä½•éƒ¨ç½²åŠ¨æ€æ‰©å±•çš„åº”ç”¨ç¨‹åºï¼Ÿ<br>åœ¨æ·±å…¥äº†è§£éƒ¨ç½²å’Œæ‰©å±•çš„ç»†èŠ‚ä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆå…³æ³¨åº”ç”¨ç¨‹åºã€‚</li></ul><h2 id="ç¼–å†™-Spring-åº”ç”¨ç¨‹åº"><a href="#ç¼–å†™-Spring-åº”ç”¨ç¨‹åº" class="headerlink" title="ç¼–å†™ Spring åº”ç”¨ç¨‹åº"></a>ç¼–å†™ Spring åº”ç”¨ç¨‹åº</h2><p>è¯¥æœåŠ¡åŒ…å«ä¸‰ä¸ªç»„ä»¶ï¼šå‰ç«¯ã€åç«¯å’Œæ¶ˆæ¯ä»£ç†ã€‚<br>å‰ç«¯æ˜¯ä¸€ä¸ªå¸¦æœ‰ Thymeleaf æ¨¡æ¿å¼•æ“çš„ç®€å• Spring Boot Web åº”ç”¨ç¨‹åºã€‚<br>åç«¯æ˜¯ä¸€ä¸ªä»é˜Ÿåˆ—ä¸­æ¶ˆè´¹æ¶ˆæ¯çš„å·¥ä½œäººå‘˜ã€‚<br>ç”±äº <a href="https://spring.io/guides/gs/messaging-jms/">Spring Boot ä¸ JMS å…·æœ‰å‡ºè‰²çš„é›†æˆ</a>ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥å‘é€å’Œæ¥æ”¶å¼‚æ­¥æ¶ˆæ¯ã€‚<br>æ‚¨å¯ä»¥åœ¨ learnk8s/spring-boot-k8s-hpa æ‰¾åˆ°ä¸€ä¸ªåŒ…å«è¿æ¥åˆ° JMS çš„å‰ç«¯å’Œåç«¯åº”ç”¨ç¨‹åºçš„ç¤ºä¾‹é¡¹ç›®ã€‚</p><blockquote><p>è¯·æ³¨æ„ï¼Œè¯¥åº”ç”¨ç¨‹åºæ˜¯ç”¨ Java 10 ç¼–å†™çš„ï¼Œä»¥åˆ©ç”¨æ”¹è¿›çš„ Docker å®¹å™¨é›†æˆã€‚</p></blockquote><p>åªéœ€è¦ä¸€ä¸ªä»£ç åº“ï¼Œæ‚¨å¯ä»¥å°†é¡¹ç›®é…ç½®ä¸ºä½œä¸ºå‰ç«¯æˆ–åç«¯è¿è¡Œã€‚<br>è¯¥åº”ç”¨ç¨‹åºå…·æœ‰ï¼š</p><ul><li>å¯ä»¥è´­ä¹°å•†å“çš„ä¸»é¡µ</li><li>ä¸€ä¸ªç®¡ç†é¢æ¿ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­æ£€æŸ¥é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯æ•°é‡</li><li>ä¸€ä¸ª /health ç«¯ç‚¹ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºå‡†å¤‡å¥½æ¥æ”¶æµé‡æ—¶å‘å‡ºä¿¡å·</li><li>ä¸€ä¸ª /submit ç«¯ç‚¹ï¼Œå®ƒæ¥æ”¶æ¥è‡ªè¡¨å•çš„æäº¤å¹¶åœ¨é˜Ÿåˆ—ä¸­åˆ›å»ºæ¶ˆæ¯</li><li>ä¸€ä¸ª /metrics ç«¯ç‚¹ï¼Œç”¨äºå…¬å¼€é˜Ÿåˆ—ä¸­å¾…å¤„ç†æ¶ˆæ¯çš„æ•°é‡ï¼ˆç¨åä¼šè¯¦ç»†ä»‹ç»ï¼‰<br>è¯¥åº”ç”¨ç¨‹åºå¯ä»¥åœ¨ä¸¤ç§æ¨¡å¼ä¸‹è¿è¡Œï¼š<br><strong>ä½œä¸ºå‰ç«¯</strong>ï¼Œåº”ç”¨ç¨‹åºå‘ˆç°äººä»¬å¯ä»¥è´­ä¹°å•†å“çš„ç½‘é¡µã€‚</li></ul><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½œä¸ºWorkerï¼Œåº”ç”¨ç¨‹åºç­‰å¾…é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯å¹¶å¤„ç†å®ƒä»¬ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/9.png" class="" title="ç¤ºæ„å›¾ width=400"><blockquote><p>è¯·æ³¨æ„ï¼Œåœ¨ç¤ºä¾‹é¡¹ç›®ä¸­ï¼Œå¤„ç†æ˜¯é€šè¿‡ä½¿ç”¨ Thread.sleep(5000) ç­‰å¾…äº”ç§’é’Ÿæ¥æ¨¡æ‹Ÿçš„ã€‚</p></blockquote><p>æ‚¨å¯ä»¥é€šè¿‡æ›´æ”¹ application.yaml ä¸­çš„å€¼æ¥åœ¨ä»»ä¸€æ¨¡å¼ä¸‹é…ç½®åº”ç”¨ç¨‹åºã€‚</p><h2 id="è®©é¡¹ç›®ç¨‹åºå…ˆç©ºè½¬ä¸€ä¼šå„¿"><a href="#è®©é¡¹ç›®ç¨‹åºå…ˆç©ºè½¬ä¸€ä¼šå„¿" class="headerlink" title="è®©é¡¹ç›®ç¨‹åºå…ˆç©ºè½¬ä¸€ä¼šå„¿"></a>è®©é¡¹ç›®ç¨‹åºå…ˆç©ºè½¬ä¸€ä¼šå„¿</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºä½œä¸ºå‰ç«¯å’ŒWorkerå¯åŠ¨ã€‚<br>æ‚¨å¯ä»¥è¿è¡Œè¯¥åº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”åªè¦æ‚¨æœ‰ä¸€ä¸ªæœ¬åœ°è¿è¡Œçš„ ActiveMQ å®ä¾‹ï¼Œæ‚¨åº”è¯¥èƒ½å¤Ÿè´­ä¹°ç‰©å“å¹¶è®©ç³»ç»Ÿå¤„ç†è¿™äº›ç‰©å“ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/10.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœæ‚¨æ£€æŸ¥æ—¥å¿—ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°workeræ­£åœ¨å¤„ç†é¡¹ç›®ã€‚<br>å®Œç¾ï¼ ç¼–å†™ Spring Boot åº”ç”¨ç¨‹åºå¾ˆå®¹æ˜“ã€‚<br>ä¸€ä¸ªæ›´æœ‰è¶£çš„ä¸»é¢˜æ˜¯å­¦ä¹ å¦‚ä½•å°† Spring Boot è¿æ¥åˆ°æ¶ˆæ¯ä»£ç†ã€‚</p><h2 id="ä½¿ç”¨-JMS-å‘é€å’Œæ¥æ”¶æ¶ˆæ¯"><a href="#ä½¿ç”¨-JMS-å‘é€å’Œæ¥æ”¶æ¶ˆæ¯" class="headerlink" title="ä½¿ç”¨ JMS å‘é€å’Œæ¥æ”¶æ¶ˆæ¯"></a>ä½¿ç”¨ JMS å‘é€å’Œæ¥æ”¶æ¶ˆæ¯</h2><p>Spring JMSï¼ˆJava æ¶ˆæ¯æœåŠ¡ï¼‰æ˜¯ä¸€ç§ä½¿ç”¨æ ‡å‡†åè®®å‘é€å’Œæ¥æ”¶æ¶ˆæ¯çš„å¼ºå¤§æœºåˆ¶ã€‚<br>å¦‚æœæ‚¨è¿‡å»ä½¿ç”¨è¿‡ JDBC APIï¼Œæ‚¨åº”è¯¥ä¼šå‘ç° JMS API å¾ˆç†Ÿæ‚‰ï¼Œå› ä¸ºå®ƒçš„å·¥ä½œæ–¹å¼ç±»ä¼¼ã€‚<br>æ‚¨å¯ä»¥ä¸ JMS ä¸€èµ·ä½¿ç”¨çš„æœ€æµè¡Œçš„æ¶ˆæ¯ä»£ç†æ˜¯ ActiveMQ â€” ä¸€ä¸ªå¼€æºæ¶ˆæ¯ä¼ é€’æœåŠ¡å™¨ã€‚<br>ä½¿ç”¨è¿™ä¸¤ä¸ªç»„ä»¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ç†Ÿæ‚‰çš„æ¥å£ (JMS) å°†æ¶ˆæ¯å‘å¸ƒåˆ°é˜Ÿåˆ— (ActiveMQ)ï¼Œå¹¶ä½¿ç”¨ç›¸åŒçš„æ¥å£æ¥æ”¶æ¶ˆæ¯ã€‚<br>æ›´æ£’çš„æ˜¯ï¼ŒSpring Boot ä¸ JMS å…·æœ‰å‡ºè‰²çš„é›†æˆï¼Œå› æ­¤æ‚¨å¯ä»¥ç«‹å³ä¸Šæ‰‹ã€‚<br>å®é™…ä¸Šï¼Œä¸‹é¢çš„çŸ­ç±»å°è£…äº†ç”¨äºä¸é˜Ÿåˆ—äº¤äº’çš„é€»è¾‘ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueueService</span> <span class="token keyword">implements</span> <span class="token class-name">MessageListener</span> <span class="token punctuation">{</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> <span class="token constant">LOGGER</span> <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">QueueService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Autowired</span>  <span class="token keyword">private</span> <span class="token class-name">JmsTemplate</span> jmsTemplate<span class="token punctuation">;</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">String</span> destination<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"sending message='{}' to destination='{}'"</span><span class="token punctuation">,</span> message<span class="token punctuation">,</span> destination<span class="token punctuation">)</span><span class="token punctuation">;</span>    jmsTemplate<span class="token punctuation">.</span><span class="token function">convertAndSend</span><span class="token punctuation">(</span>destination<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onMessage</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>message <span class="token keyword">instanceof</span> <span class="token class-name">ActiveMQTextMessage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token class-name">ActiveMQTextMessage</span> textMessage <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ActiveMQTextMessage</span><span class="token punctuation">)</span> message<span class="token punctuation">;</span>      <span class="token keyword">try</span> <span class="token punctuation">{</span>        <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Processing task "</span> <span class="token operator">+</span> textMessage<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"Completed task "</span> <span class="token operator">+</span> textMessage<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">JMSException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token constant">LOGGER</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Message is not a text message "</span> <span class="token operator">+</span> message<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‚¨å¯ä»¥ä½¿ç”¨ send æ–¹æ³•å°†æ¶ˆæ¯å‘å¸ƒåˆ°å‘½åé˜Ÿåˆ—ã€‚<br>æ­¤å¤–ï¼ŒSpring Boot å°†ä¸ºæ¯æ¡ä¼ å…¥æ¶ˆæ¯æ‰§è¡Œ onMessage æ–¹æ³•ã€‚<br>æœ€åä¸€å—å†…å®¹è¦è¯´çš„æ˜¯æŒ‡ç¤º Spring Boot ä½¿ç”¨è¯¥ç±»ã€‚<br>æ‚¨å¯ä»¥é€šè¿‡åœ¨ <a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/integration.html#jms-annotated-programmatic-registration">Spring Boot åº”ç”¨ç¨‹åºä¸­æ³¨å†Œä¾¦å¬å™¨</a>æ¥åœ¨åå°å¤„ç†æ¶ˆæ¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableJms</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringBootApplication</span> <span class="token keyword">implements</span> <span class="token class-name">JmsListenerConfigurer</span> <span class="token punctuation">{</span>  <span class="token annotation punctuation">@Autowired</span>  <span class="token keyword">private</span> <span class="token class-name">QueueService</span> queueService<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token annotation punctuation">@Override</span>  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">configureJmsListeners</span><span class="token punctuation">(</span><span class="token class-name">JmsListenerEndpointRegistrar</span> registrar<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">SimpleJmsListenerEndpoint</span> endpoint <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleJmsListenerEndpoint</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    endpoint<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token string">"myId"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    endpoint<span class="token punctuation">.</span><span class="token function">setDestination</span><span class="token punctuation">(</span><span class="token string">"queueName"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    endpoint<span class="token punctuation">.</span><span class="token function">setMessageListener</span><span class="token punctuation">(</span>queueService<span class="token punctuation">)</span><span class="token punctuation">;</span>    registrar<span class="token punctuation">.</span><span class="token function">registerEndpoint</span><span class="token punctuation">(</span>endpoint<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…¶ä¸­ id æ˜¯æ¶ˆè´¹è€…çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œdestination æ˜¯é˜Ÿåˆ—çš„åç§°ã€‚<br>è¯·æ³¨æ„æ‚¨æ˜¯å¦‚ä½•ç”¨ä¸åˆ° 40 è¡Œä»£ç ç¼–å†™å‡ºå¯é é˜Ÿåˆ—çš„ã€‚<br>ä½ ä¸€å®šä¼šçˆ±ä¸Š Spring Bootã€‚</p><h2 id="èŠ‚çœéƒ¨ç½²çš„æ‰€æœ‰æ—¶é—´éƒ½å¯ä»¥ä¸“æ³¨äºç¼–ç "><a href="#èŠ‚çœéƒ¨ç½²çš„æ‰€æœ‰æ—¶é—´éƒ½å¯ä»¥ä¸“æ³¨äºç¼–ç " class="headerlink" title="èŠ‚çœéƒ¨ç½²çš„æ‰€æœ‰æ—¶é—´éƒ½å¯ä»¥ä¸“æ³¨äºç¼–ç "></a>èŠ‚çœéƒ¨ç½²çš„æ‰€æœ‰æ—¶é—´éƒ½å¯ä»¥ä¸“æ³¨äºç¼–ç </h2><p>æ‚¨éªŒè¯äº†åº”ç”¨ç¨‹åºå·¥ä½œæ­£å¸¸ï¼Œç»ˆäºåˆ°äº†éƒ¨ç½²å®ƒçš„æ—¶å€™äº†ã€‚<br>æ­¤æ—¶ï¼Œæ‚¨å¯ä»¥å¯åŠ¨æ‚¨çš„ VPSï¼Œå®‰è£… Tomcatï¼Œå¹¶èŠ±ä¸€äº›æ—¶é—´ç¼–å†™è‡ªå®šä¹‰è„šæœ¬æ¥æµ‹è¯•ã€æ„å»ºã€æ‰“åŒ…å’Œéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚<br>æˆ–è€…æ‚¨å¯ä»¥å†™ä¸‹æ‚¨å¸Œæœ›æ‹¥æœ‰çš„å†…å®¹çš„æè¿°ï¼šä¸€ä¸ªæ¶ˆæ¯ä»£ç†å’Œä¸¤ä¸ªä½¿ç”¨è´Ÿè½½å‡è¡¡å™¨éƒ¨ç½²çš„åº”ç”¨ç¨‹åºã€‚<br>Kubernetes ç­‰ç¼–æ’å™¨å¯ä»¥è¯»å–æ‚¨çš„æ¸…å•å¹¶é…ç½®æ­£ç¡®åŸºç¡€æ¶æ„ã€‚<br>ç”±äºåœ¨åŸºç¡€æ¶æ„ä¸ŠèŠ±è´¹çš„æ—¶é—´è¶Šå°‘ï¼Œç¼–ç æ—¶é—´å°±è¶Šå¤šï¼Œè¿™æ¬¡æ‚¨å°†æŠŠåº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Kubernetesã€‚ä½†åœ¨å¼€å§‹ä¹‹å‰ï¼Œæ‚¨éœ€è¦ä¸€ä¸ª Kubernetes é›†ç¾¤ã€‚<br>æ‚¨å¯ä»¥æ³¨å†Œ Google Cloud Platform æˆ– Azureï¼Œå¹¶ä½¿ç”¨ Kubernetes æä¾›çš„äº‘æä¾›å•†ã€‚æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœ¨å°†åº”ç”¨ç¨‹åºè¿ç§»åˆ°äº‘ç«¯ä¹‹å‰åœ¨æœ¬åœ°å°è¯• Kubernetesã€‚<br>minikube æ˜¯ä¸€ä¸ªæ‰“åŒ…æˆè™šæ‹Ÿæœºçš„æœ¬åœ° Kubernetes é›†ç¾¤ã€‚å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Windowsã€Linux å’Œ Macï¼Œé‚£å°±å¤ªå¥½äº†ï¼Œå› ä¸ºåˆ›å»ºä¸€ä¸ªé›†ç¾¤éœ€è¦äº”åˆ†é’Ÿã€‚<br>æ‚¨è¿˜åº”è¯¥å®‰è£… kubectlï¼Œç”¨äºè¿æ¥åˆ°æ‚¨çš„é›†ç¾¤çš„å®¢æˆ·ç«¯ã€‚<br>æ‚¨å¯ä»¥ä»<a href="https://kubernetes.io/docs/tasks/tools/">å®˜æ–¹æ–‡æ¡£</a>ä¸­æ‰¾åˆ°æœ‰å…³å¦‚ä½•å®‰è£… minikube å’Œ kubectl çš„è¯´æ˜ã€‚</p><blockquote><p>å¦‚æœæ‚¨åœ¨ Windows ä¸Šè¿è¡Œï¼Œæ‚¨åº”è¯¥æŸ¥çœ‹æˆ‘ä»¬å…³äºå¦‚ä½•å®‰è£… Kubernetes å’Œ Docker çš„è¯¦ç»†æŒ‡å—ã€‚</p></blockquote><p>æ‚¨åº”è¯¥å¯åŠ¨ä¸€ä¸ªå…·æœ‰ 8GB RAM å’Œä¸€äº›é¢å¤–é…ç½®çš„é›†ç¾¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">minikube start \  --memory 8096 \  --extra-config=controller-manager.horizontal-pod-autoscaler-upscale-delay=1m \  --extra-config=controller-manager.horizontal-pod-autoscaler-downscale-delay=2m \  --extra-config=controller-manager.horizontal-pod-autoscaler-sync-period=10s<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯é¢„å…ˆå­˜åœ¨çš„ minikube å®ä¾‹ï¼Œæ‚¨å¯ä»¥é€šè¿‡é”€æ¯å®ƒå¹¶é‡æ–°åˆ›å»ºå®ƒæ¥è°ƒæ•´ VM çš„å¤§å°ã€‚ ä»…æ·»åŠ  â€“memory 8096 ä¸ä¼šæœ‰ä»»ä½•æ•ˆæœã€‚</p></blockquote><p>éªŒè¯å®‰è£…æ˜¯å¦æˆåŠŸã€‚<br>æ‚¨åº”è¯¥ä¼šçœ‹åˆ°ä»¥è¡¨æ ¼å½¢å¼åˆ—å‡ºçš„ä¸€äº›èµ„æºã€‚<br>é›†ç¾¤å·²å‡†å¤‡å°±ç»ªï¼Œä¹Ÿè®¸æ‚¨ç°åœ¨åº”è¯¥å¼€å§‹éƒ¨ç½²ï¼Ÿ<br>å…¶å®ï¼Œè¿˜ä¸å¯ä»¥ ğŸ˜‚ã€‚<br>ä½ è¿˜æ˜¯éœ€è¦å…ˆå‡†å¤‡ä¸€äº›ä¸œè¥¿ã€‚</p><p>éƒ¨ç½²åˆ° Kubernetes çš„åº”ç”¨ç¨‹åºå¿…é¡»æ‰“åŒ…ä¸ºå®¹å™¨ã€‚ æ¯•ç«Ÿï¼ŒKubernetes æ˜¯ä¸€ä¸ªå®¹å™¨ç¼–æ’å™¨ï¼Œæ‰€ä»¥å®ƒä¸èƒ½åŸç”Ÿè¿è¡Œä½ çš„ jarã€‚<br>å®¹å™¨ç±»ä¼¼äºèƒ–ç½å­ï¼šå®ƒä»¬åŒ…å«è¿è¡Œåº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚ ç”šè‡³ JVM ä¹Ÿæ˜¯å®¹å™¨çš„ä¸€éƒ¨åˆ†ã€‚ æ‰€ä»¥ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒä»¬æ˜¯ä¸€ä¸ªæ›´èƒ–çš„èƒ–ç½å­ã€‚<br>å°†åº”ç”¨ç¨‹åºæ‰“åŒ…ä¸ºå®¹å™¨çš„æµè¡ŒæŠ€æœ¯æ˜¯ Dockerã€‚</p><blockquote><p>è™½ç„¶æ˜¯æœ€å—æ¬¢è¿çš„ï¼Œä½† Docker å¹¶ä¸æ˜¯å”¯ä¸€èƒ½å¤Ÿè¿è¡Œå®¹å™¨çš„æŠ€æœ¯ã€‚ å…¶ä»–æµè¡Œçš„é€‰é¡¹åŒ…æ‹¬ rkt å’Œ lxdã€‚</p></blockquote><p>å¦‚æœæ‚¨æ²¡æœ‰å®‰è£… Dockerï¼Œå¯ä»¥æŒ‰ç…§ <a href="https://docs.docker.com/install/">Docker å®˜æ–¹ç½‘ç«™</a>ä¸Šçš„è¯´æ˜è¿›è¡Œæ“ä½œã€‚<br>é€šå¸¸ï¼Œæ‚¨æ„å»ºå®¹å™¨å¹¶å°†å®ƒä»¬æ¨é€åˆ°æ³¨å†Œè¡¨ã€‚ è¿™ç±»ä¼¼äºå°† jar å‘å¸ƒåˆ° Artifactory æˆ– Nexusã€‚ ä½†åœ¨è¿™ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œæ‚¨å°†åœ¨æœ¬åœ°å·¥ä½œå¹¶è·³è¿‡æ³¨å†Œè¡¨éƒ¨åˆ†ã€‚ å®é™…ä¸Šï¼Œæ‚¨å°†ç›´æ¥åœ¨ minikube ä¸­åˆ›å»ºå®¹å™¨é•œåƒã€‚<br>é¦–å…ˆï¼ŒæŒ‰ç…§æ­¤å‘½ä»¤æ‰“å°çš„è¯´æ˜å°† Docker å®¢æˆ·ç«¯è¿æ¥åˆ° minikubeï¼š</p><pre class="line-numbers language-none"><code class="language-none">minikube docker-env<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨åˆ‡æ¢ç»ˆç«¯ï¼Œæ‚¨éœ€è¦é‡æ–°è¿æ¥åˆ° minikube å†…éƒ¨çš„ Docker å®ˆæŠ¤è¿›ç¨‹ã€‚ æ¯æ¬¡ä½¿ç”¨ä¸åŒçš„ç»ˆç«¯æ—¶ï¼Œéƒ½åº”éµå¾ªç›¸åŒçš„è¯´æ˜ã€‚</p></blockquote><p>å¹¶ä»é¡¹ç›®çš„æ ¹ç›®å½•æ„å»ºå®¹å™¨é•œåƒï¼š</p><pre class="line-numbers language-none"><code class="language-none">docker build -t spring-k8s-hpa .<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‚¨å¯ä»¥éªŒè¯æ˜ åƒæ˜¯å¦å·²æ„å»ºå¹¶å‡†å¤‡å¥½è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">docker images | grep spring<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å®Œç¾ï¼<br>é›†ç¾¤å‡†å¤‡å¥½äº†ï¼Œä½ æ‰“åŒ…äº†ä½ çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿè®¸ä½ ç°åœ¨å·²ç»å‡†å¤‡å¥½éƒ¨ç½²äº†ï¼Ÿ<br>æ˜¯çš„ï¼Œæ‚¨ç»ˆäºå¯ä»¥è¦æ±‚ Kubernetes éƒ¨ç½²åº”ç”¨ç¨‹åºäº†ã€‚</p><h2 id="å°†æ‚¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°-Kubernetes"><a href="#å°†æ‚¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ°-Kubernetes" class="headerlink" title="å°†æ‚¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Kubernetes"></a>å°†æ‚¨çš„åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Kubernetes</h2><p>æ‚¨çš„åº”ç”¨ç¨‹åºåŒ…å«ä¸‰ä¸ªç»„ä»¶ï¼š</p><ul><li>å‘ˆç°å‰ç«¯çš„ Spring Boot åº”ç”¨ç¨‹åº</li><li>ActiveMQ ä½œä¸ºæ¶ˆæ¯ä»£ç†</li><li>å¤„ç†äº‹åŠ¡çš„ Spring Boot åç«¯<br>æ‚¨åº”è¯¥åˆ†åˆ«éƒ¨ç½²è¿™ä¸‰ä¸ªç»„ä»¶ã€‚<br>å¯¹äºå®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªï¼Œæ‚¨åº”è¯¥åˆ›å»ºï¼š</li><li>æè¿°éƒ¨ç½²ä»€ä¹ˆå®¹å™¨åŠå…¶é…ç½®çš„éƒ¨ç½²å¯¹è±¡</li><li>ä¸€ä¸ªæœåŠ¡å¯¹è±¡ï¼Œå……å½“éƒ¨ç½²åˆ›å»ºçš„åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å®ä¾‹çš„è´Ÿè½½å‡è¡¡å™¨<br>éƒ¨ç½²ä¸­åº”ç”¨ç¨‹åºçš„æ¯ä¸ªå®ä¾‹éƒ½ç§°ä¸º Podã€‚</li></ul><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/11.gif" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="éƒ¨ç½²-ActiveMQ"><a href="#éƒ¨ç½²-ActiveMQ" class="headerlink" title="éƒ¨ç½² ActiveMQ"></a>éƒ¨ç½² ActiveMQ</h2><p>è®©æˆ‘ä»¬ä» ActiveMQ å¼€å§‹ã€‚<br>æ‚¨åº”è¯¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ activemq-deployment.yaml æ–‡ä»¶ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> extensions/v1beta1<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment<span class="token key atrule">metadata</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> queue<span class="token key atrule">spec</span><span class="token punctuation">:</span>  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token key atrule">template</span><span class="token punctuation">:</span>    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>      <span class="token key atrule">labels</span><span class="token punctuation">:</span>        <span class="token key atrule">app</span><span class="token punctuation">:</span> queue    <span class="token key atrule">spec</span><span class="token punctuation">:</span>      <span class="token key atrule">containers</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> web        <span class="token key atrule">image</span><span class="token punctuation">:</span> webcenter/activemq<span class="token punctuation">:</span>5.14.3        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent        <span class="token key atrule">ports</span><span class="token punctuation">:</span>          <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">61616</span>        <span class="token key atrule">resources</span><span class="token punctuation">:</span>          <span class="token key atrule">limits</span><span class="token punctuation">:</span>            <span class="token key atrule">memory</span><span class="token punctuation">:</span> 512Mi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å†…å®¹çœ‹ç€æŒºå¤šçš„ï¼Œä½†è¯»èµ·æ¥è¿˜å¾ˆç®€å•ï¼š</p><ul><li>æ‚¨ä»åä¸º webcenter/activemq çš„å®˜æ–¹æ³¨å†Œè¡¨ä¸­è¯·æ±‚äº†ä¸€ä¸ª activemq å®¹å™¨</li><li>å®¹å™¨åœ¨ç«¯å£ 61616 ä¸Šå…¬å¼€æ¶ˆæ¯ä»£ç†</li><li>ä¸ºå®¹å™¨åˆ†é…äº† 512MB å†…å­˜</li><li>ä½ è¦æ±‚ä¸€ä¸ªå‰¯æœ¬â€”â€”ä½ çš„åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªå®ä¾‹<br>åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ activemq-service.yaml æ–‡ä»¶ï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">apiVersion: v1kind: Servicemetadata:  name: queuespec:  ports:  - port: 61616     targetPort: 61616  selector:    app: queue<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸ªæ¨¡æ¿æ›´çŸ­ï¼<br>yaml å†…å®¹å¦‚ä¸‹ï¼š</p><ul><li>æ‚¨åˆ›å»ºäº†ä¸€ä¸ªå…¬å¼€ç«¯å£ 61616 çš„è´Ÿè½½å‡è¡¡å™¨</li><li>ä¼ å…¥æµé‡è¢«åˆ†å‘åˆ°æ‰€æœ‰å…·æœ‰ app: queue ç±»å‹æ ‡ç­¾çš„ Podï¼ˆå‚è§ä¸Šé¢çš„éƒ¨ç½²ï¼‰</li><li>targetPort æ˜¯ Pod æš´éœ²çš„ç«¯å£<br>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ›å»ºèµ„æºï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">kubectl create -f activemq-deployment.yamlkubectl create -f activemq-service.yaml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‚¨å¯ä»¥éªŒè¯æ•°æ®åº“çš„ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl get pods -l=app=queue<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="éƒ¨ç½²å‰ç«¯"><a href="#éƒ¨ç½²å‰ç«¯" class="headerlink" title="éƒ¨ç½²å‰ç«¯"></a>éƒ¨ç½²å‰ç«¯</h2><p>åˆ›å»ºåŒ…å«ä»¥ä¸‹å†…å®¹çš„ fe-deployment.yaml æ–‡ä»¶ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> extensions/v1beta1<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment<span class="token key atrule">metadata</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend<span class="token key atrule">spec</span><span class="token punctuation">:</span>  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token key atrule">template</span><span class="token punctuation">:</span>    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>      <span class="token key atrule">labels</span><span class="token punctuation">:</span>        <span class="token key atrule">app</span><span class="token punctuation">:</span> frontend    <span class="token key atrule">spec</span><span class="token punctuation">:</span>      <span class="token key atrule">containers</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend        <span class="token key atrule">image</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>hpa        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent        <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ACTIVEMQ_BROKER_URL          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">"tcp://queue:61616"</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> STORE_ENABLED          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">"true"</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> WORKER_ENABLED          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">"false"</span>        <span class="token key atrule">ports</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>        <span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span>          <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>          <span class="token key atrule">periodSeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>          <span class="token key atrule">httpGet</span><span class="token punctuation">:</span>            <span class="token key atrule">path</span><span class="token punctuation">:</span> /health            <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>        <span class="token key atrule">resources</span><span class="token punctuation">:</span>          <span class="token key atrule">limits</span><span class="token punctuation">:</span>            <span class="token key atrule">memory</span><span class="token punctuation">:</span> 512Mi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éƒ¨ç½²çœ‹èµ·æ¥å¾ˆåƒå‰ä¸€ä¸ªã€‚<br>ä¸è¿‡ï¼Œæœ‰ä¸€äº›æ–°é¢†åŸŸï¼š</p><ul><li>æœ‰ä¸€ä¸ªéƒ¨åˆ†å¯ä»¥æ³¨å…¥ç¯å¢ƒå˜é‡</li><li>æœ‰ä¸€ä¸ª liveness probe ä¼šå‘Šè¯‰ä½ åº”ç”¨ç¨‹åºä½•æ—¶å‡†å¤‡å¥½æ¥å—æµé‡<br>åˆ›å»ºä¸€ä¸ª fe-service.yaml æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service<span class="token key atrule">metadata</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> frontend<span class="token key atrule">spec</span><span class="token punctuation">:</span>  <span class="token key atrule">ports</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> <span class="token key atrule">nodePort</span><span class="token punctuation">:</span> <span class="token number">32000</span>    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>    <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>  <span class="token key atrule">selector</span><span class="token punctuation">:</span>    <span class="token key atrule">app</span><span class="token punctuation">:</span> frontend  <span class="token key atrule">type</span><span class="token punctuation">:</span> NodePort<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ›å»ºèµ„æºï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl create -f fe-deployment.yamlkubectl create -f fe-service.yaml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‚¨å¯ä»¥éªŒè¯å‰ç«¯åº”ç”¨ç¨‹åºçš„ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl get pods -l=app=frontend<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="éƒ¨ç½²åç«¯"><a href="#éƒ¨ç½²åç«¯" class="headerlink" title="éƒ¨ç½²åç«¯"></a>éƒ¨ç½²åç«¯</h2><p>åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ backend-deployment.yaml æ–‡ä»¶ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> extensions/v1beta1<span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment<span class="token key atrule">metadata</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> backend<span class="token key atrule">spec</span><span class="token punctuation">:</span>  <span class="token key atrule">replicas</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token key atrule">template</span><span class="token punctuation">:</span>    <span class="token key atrule">metadata</span><span class="token punctuation">:</span>      <span class="token key atrule">labels</span><span class="token punctuation">:</span>        <span class="token key atrule">app</span><span class="token punctuation">:</span> backend      <span class="token key atrule">annotations</span><span class="token punctuation">:</span>        <span class="token key atrule">prometheus.io/scrape</span><span class="token punctuation">:</span> <span class="token string">'true'</span>    <span class="token key atrule">spec</span><span class="token punctuation">:</span>      <span class="token key atrule">containers</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> backend        <span class="token key atrule">image</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>hpa        <span class="token key atrule">imagePullPolicy</span><span class="token punctuation">:</span> IfNotPresent        <span class="token key atrule">env</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> ACTIVEMQ_BROKER_URL          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">"tcp://queue:61616"</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> STORE_ENABLED          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">"false"</span>        <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> WORKER_ENABLED          <span class="token key atrule">value</span><span class="token punctuation">:</span> <span class="token string">"true"</span>        <span class="token key atrule">ports</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">containerPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>        <span class="token key atrule">livenessProbe</span><span class="token punctuation">:</span>          <span class="token key atrule">initialDelaySeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>          <span class="token key atrule">periodSeconds</span><span class="token punctuation">:</span> <span class="token number">5</span>          <span class="token key atrule">httpGet</span><span class="token punctuation">:</span>            <span class="token key atrule">path</span><span class="token punctuation">:</span> /health            <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>        <span class="token key atrule">resources</span><span class="token punctuation">:</span>          <span class="token key atrule">limits</span><span class="token punctuation">:</span>            <span class="token key atrule">memory</span><span class="token punctuation">:</span> 512Mi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ backend-service.yaml æ–‡ä»¶ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> v1<span class="token key atrule">kind</span><span class="token punctuation">:</span> Service<span class="token key atrule">metadata</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> backend  <span class="token key atrule">spec</span><span class="token punctuation">:</span>    <span class="token key atrule">ports</span><span class="token punctuation">:</span>    <span class="token punctuation">-</span> <span class="token key atrule">nodePort</span><span class="token punctuation">:</span> <span class="token number">31000</span>      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>      <span class="token key atrule">targetPort</span><span class="token punctuation">:</span> <span class="token number">8080</span>    <span class="token key atrule">selector</span><span class="token punctuation">:</span>      <span class="token key atrule">app</span><span class="token punctuation">:</span> backend    <span class="token key atrule">type</span><span class="token punctuation">:</span> NodePort<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ›å»ºèµ„æºï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl create -f backend-deployment.yamlkubectl create -f backend-service.yaml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‚¨å¯ä»¥éªŒè¯åç«¯çš„ä¸€ä¸ªå®ä¾‹æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl get pods -l=app=backend<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éƒ¨ç½²å®Œæˆã€‚</p><p><strong>ä¸è¿‡ï¼Œå®ƒçœŸçš„å·²ç»å¼€å§‹å·¥ä½œäº†å—ï¼Ÿ</strong></p><p>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åœ¨æµè§ˆå™¨ä¸­è®¿é—®è¯¥åº”ç”¨ç¨‹åºï¼š</p><pre class="line-numbers language-none"><code class="language-none">minikube service backendminikube service frontend<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¦‚æœæœ‰æ•ˆï¼Œæ‚¨åº”è¯¥å°è¯•è´­ä¹°ä¸€äº›ç‰©å“ï¼<br>workeræ˜¯å¦åœ¨å¤„ç†äº‹åŠ¡ï¼Ÿ<br>æ˜¯çš„ï¼Œå¦‚æœæœ‰è¶³å¤Ÿçš„æ—¶é—´ï¼Œworker å°†å¤„ç†æ‰€æœ‰å¾…å¤„ç†çš„æ¶ˆæ¯ã€‚<br>Congratulations!<br>æ‚¨åˆšåˆšå°†åº”ç”¨ç¨‹åºéƒ¨ç½²åˆ° Kubernetesï¼</p><h2 id="æ‰‹åŠ¨æ‰©å±•ä»¥æ»¡è¶³ä¸æ–­å¢é•¿çš„éœ€æ±‚"><a href="#æ‰‹åŠ¨æ‰©å±•ä»¥æ»¡è¶³ä¸æ–­å¢é•¿çš„éœ€æ±‚" class="headerlink" title="æ‰‹åŠ¨æ‰©å±•ä»¥æ»¡è¶³ä¸æ–­å¢é•¿çš„éœ€æ±‚"></a>æ‰‹åŠ¨æ‰©å±•ä»¥æ»¡è¶³ä¸æ–­å¢é•¿çš„éœ€æ±‚</h2><p>å•ä¸ªwokerå¯èƒ½æ— æ³•å¤„ç†å¤§é‡æ¶ˆæ¯ã€‚ äº‹å®ä¸Šï¼Œå®ƒä¸€æ¬¡åªèƒ½å¤„ç†ä¸€æ¡æ¶ˆæ¯ã€‚<br>å¦‚æœæ‚¨å†³å®šè´­ä¹°æ•°åƒä»¶å•†å“ï¼Œåˆ™éœ€è¦æ•°å°æ—¶æ‰èƒ½æ¸…é™¤é˜Ÿåˆ—ã€‚<br>æ­¤æ—¶ï¼Œæ‚¨æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p><ul><li>æ‚¨å¯ä»¥æ‰‹åŠ¨æ”¾å¤§å’Œç¼©å°</li><li>æ‚¨å¯ä»¥åˆ›å»ºè‡ªåŠ¨ç¼©æ”¾è§„åˆ™ä»¥è‡ªåŠ¨æ”¾å¤§æˆ–ç¼©å°<br>è®©æˆ‘ä»¬å…ˆä»åŸºç¡€å¼€å§‹ã€‚<br>æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å°†åç«¯æ‰©å±•åˆ°ä¸‰ä¸ªå®ä¾‹ï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">kubectl scale --replicas=5 deployment/backend<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‚¨å¯ä»¥éªŒè¯ Kubernetes æ˜¯å¦åˆ›å»ºäº†å¦å¤–äº”ä¸ªå®ä¾‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl get pods<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¥åº”ç”¨ç¨‹åºå¯ä»¥å¤„ç†äº”å€ä»¥ä¸Šçš„æ¶ˆæ¯ã€‚<br>ä¸€æ—¦workeræ’ç©ºé˜Ÿåˆ—ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼ç¼©å‡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl scale --replicas=1 deployment/backend<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæ‚¨çŸ¥é“ä»€ä¹ˆæ—¶å€™è®¿é—®æ‚¨çš„æœåŠ¡çš„æµé‡æœ€å¤šï¼Œé€šè¿‡æ‰‹åŠ¨æ–¹å¼å‘ä¸Šå’Œå‘ä¸‹æ‰©å±•ä¼šæ˜¯ä¸€ç§éå¸¸æ£’çš„ä½“éªŒã€‚<br>å¦‚æœæ‚¨ä¸è¿™æ ·åšï¼Œè®¾ç½®è‡ªåŠ¨ç¼©æ”¾å™¨å…è®¸åº”ç”¨ç¨‹åºè‡ªåŠ¨ç¼©æ”¾è€Œæ— éœ€äººå·¥å¹²é¢„ã€‚<br>æ‚¨åªéœ€è¦å®šä¹‰ä¸€äº›è§„åˆ™ã€‚</p><h3 id="å…¬å¼€åº”ç”¨ç¨‹åºæŒ‡æ ‡"><a href="#å…¬å¼€åº”ç”¨ç¨‹åºæŒ‡æ ‡" class="headerlink" title="å…¬å¼€åº”ç”¨ç¨‹åºæŒ‡æ ‡"></a>å…¬å¼€åº”ç”¨ç¨‹åºæŒ‡æ ‡</h3><p>Kubernetes å¦‚ä½•çŸ¥é“ä½•æ—¶æ‰©å±•æ‚¨çš„åº”ç”¨ç¨‹åºï¼Ÿ<br>å¾ˆç®€å•ï¼Œä½ å¿…é¡»å‘Šè¯‰å®ƒã€‚<br>è‡ªåŠ¨ç¼©æ”¾å™¨é€šè¿‡ç›‘æ§æŒ‡æ ‡æ¥å·¥ä½œã€‚ åªæœ‰è¿™æ ·å®ƒæ‰èƒ½å¢åŠ æˆ–å‡å°‘æ‚¨çš„åº”ç”¨ç¨‹åºçš„å®ä¾‹ã€‚<br>å› æ­¤ï¼Œæ‚¨å¯ä»¥å°†é˜Ÿåˆ—çš„é•¿åº¦ä½œä¸ºæŒ‡æ ‡å…¬å¼€ï¼Œå¹¶è¦æ±‚è‡ªåŠ¨ç¼©æ”¾å™¨æŸ¥çœ‹è¯¥å€¼ã€‚ é˜Ÿåˆ—ä¸­çš„å¾…å¤„ç†æ¶ˆæ¯è¶Šå¤šï¼ŒKubernetes å°†åˆ›å»ºçš„åº”ç”¨ç¨‹åºå®ä¾‹å°±è¶Šå¤šã€‚</p><p><strong>é‚£ä¹ˆå¦‚ä½•å…¬å¼€è¿™äº›æŒ‡æ ‡å‘¢ï¼Ÿ</strong></p><p>åº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ª /metrics ç«¯ç‚¹æ¥å…¬å¼€é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯æ•°ã€‚ å¦‚æœæ‚¨å°è¯•è®¿é—®è¯¥é¡µé¢ï¼Œæ‚¨ä¼šæ³¨æ„åˆ°ä»¥ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># HELP messages Number of messages in the queue# TYPE messages gaugemessages 0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>åº”ç”¨ç¨‹åºä¸ä¼šå°†æŒ‡æ ‡å…¬å¼€ä¸º JSON æ ¼å¼ã€‚ æ ¼å¼æ˜¯çº¯æ–‡æœ¬ï¼Œæ˜¯å…¬å¼€ <a href="https://prometheus.io/docs/concepts/metric_types/">Prometheus æŒ‡æ ‡</a>çš„æ ‡å‡†ã€‚ ä¸è¦æ‹…å¿ƒè®°ä½æ ¼å¼ã€‚ å¤§å¤šæ•°æ—¶å€™ï¼Œæ‚¨å°†ä½¿ç”¨ Prometheus å®¢æˆ·ç«¯åº“ä¹‹ä¸€ã€‚</p><h3 id="åœ¨-Kubernetes-ä¸­ä½¿ç”¨åº”ç”¨ç¨‹åºæŒ‡æ ‡"><a href="#åœ¨-Kubernetes-ä¸­ä½¿ç”¨åº”ç”¨ç¨‹åºæŒ‡æ ‡" class="headerlink" title="åœ¨ Kubernetes ä¸­ä½¿ç”¨åº”ç”¨ç¨‹åºæŒ‡æ ‡"></a>åœ¨ Kubernetes ä¸­ä½¿ç”¨åº”ç”¨ç¨‹åºæŒ‡æ ‡</h3><p>æ‚¨å‡ ä¹å·²å‡†å¤‡å¥½è¿›è¡Œè‡ªåŠ¨ç¼©æ”¾â€”â€”ä½†æ‚¨åº”è¯¥å…ˆå®‰è£…æŒ‡æ ‡æœåŠ¡å™¨ã€‚ äº‹å®ä¸Šï¼ŒKubernetes é»˜è®¤ä¸ä¼šä»æ‚¨çš„åº”ç”¨ç¨‹åºä¸­æå–æŒ‡æ ‡ã€‚ å¦‚æœæ‚¨æ„¿æ„ï¼Œæ‚¨åº”è¯¥å¯ç”¨è‡ªå®šä¹‰æŒ‡æ ‡ APIã€‚<br>è¦å®‰è£…è‡ªå®šä¹‰æŒ‡æ ‡ APIï¼Œæ‚¨è¿˜éœ€è¦ Prometheus â€” ä¸€ä¸ªæ—¶é—´åºåˆ—æ•°æ®åº“ã€‚ å®‰è£… Custom Metrics API æ‰€éœ€çš„æ‰€æœ‰æ–‡ä»¶éƒ½æ–¹ä¾¿åœ°æ‰“åŒ…åœ¨ learnk8s/spring-boot-k8s-hpa ä¸­ã€‚<br>æ‚¨åº”è¯¥ä¸‹è½½è¯¥å­˜å‚¨åº“çš„å†…å®¹å¹¶å°†å½“å‰ç›®å½•æ›´æ”¹ä¸ºè¯¥é¡¹ç›®çš„ç›‘è§†æ–‡ä»¶å¤¹ä¸­ã€‚</p><pre class="line-numbers language-none"><code class="language-none">cd spring-boot-k8s-hpa/monitoring<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‚¨å¯ä»¥ä»é‚£é‡Œåˆ›å»ºè‡ªå®šä¹‰æŒ‡æ ‡ APIï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl create -f ./metrics-serverkubectl create -f ./namespaces.yamlkubectl create -f ./prometheuskubectl create -f ./custom-metrics-api<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ‚¨åº”è¯¥ç­‰åˆ°ä»¥ä¸‹å‘½ä»¤è¿”å›è‡ªå®šä¹‰æŒ‡æ ‡åˆ—è¡¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl get --raw "/apis/custom.metrics.k8s.io/v1beta1" | jq .<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»»åŠ¡å®Œæˆï¼</p><h3 id="æ‚¨å·²å‡†å¤‡å¥½ä½¿ç”¨æŒ‡æ ‡ã€‚"><a href="#æ‚¨å·²å‡†å¤‡å¥½ä½¿ç”¨æŒ‡æ ‡ã€‚" class="headerlink" title="æ‚¨å·²å‡†å¤‡å¥½ä½¿ç”¨æŒ‡æ ‡ã€‚"></a>æ‚¨å·²å‡†å¤‡å¥½ä½¿ç”¨æŒ‡æ ‡ã€‚</h3><p>äº‹å®ä¸Šï¼Œæ‚¨åº”è¯¥å·²ç»æ‰¾åˆ°äº†é˜Ÿåˆ—ä¸­æ¶ˆæ¯æ•°é‡çš„è‡ªå®šä¹‰æŒ‡æ ‡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl get --raw "/apis/custom.metrics.k8s.io/v1beta1/namespaces/default/pods/*/messages" | jq .<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­å–œï¼Œæ‚¨æœ‰ä¸€ä¸ªå…¬å¼€æŒ‡æ ‡çš„åº”ç”¨ç¨‹åºå’Œä¸€ä¸ªä½¿ç”¨å®ƒä»¬çš„æŒ‡æ ‡æœåŠ¡å™¨ã€‚<br>æ‚¨ç»ˆäºå¯ä»¥å¯ç”¨è‡ªåŠ¨ç¼©æ”¾å™¨äº†ï¼</p><h3 id="Kubernetes-ä¸­çš„è‡ªåŠ¨æ‰©å±•éƒ¨ç½²"><a href="#Kubernetes-ä¸­çš„è‡ªåŠ¨æ‰©å±•éƒ¨ç½²" class="headerlink" title="Kubernetes ä¸­çš„è‡ªåŠ¨æ‰©å±•éƒ¨ç½²"></a>Kubernetes ä¸­çš„è‡ªåŠ¨æ‰©å±•éƒ¨ç½²</h3><p>Kubernetes æœ‰ä¸€ä¸ªåä¸º Horizontal Pod Autoscaler çš„å¯¹è±¡ï¼Œç”¨äºç›‘æ§éƒ¨ç½²å¹¶å‘ä¸Šå’Œå‘ä¸‹æ‰©å±• Pod çš„æ•°é‡ã€‚<br>æ‚¨å°†éœ€è¦å…¶ä¸­ä¹‹ä¸€æ¥è‡ªåŠ¨æ‰©å±•æ‚¨çš„å®ä¾‹ã€‚<br>æ‚¨åº”è¯¥åˆ›å»ºä¸€ä¸ªåŒ…å«ä»¥ä¸‹å†…å®¹çš„ hpa.yaml æ–‡ä»¶ï¼š</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> autoscaling/v2beta1<span class="token key atrule">kind</span><span class="token punctuation">:</span> HorizontalPodAutoscaler<span class="token key atrule">metadata</span><span class="token punctuation">:</span>  <span class="token key atrule">name</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>boot<span class="token punctuation">-</span>hpa<span class="token key atrule">spec</span><span class="token punctuation">:</span>  <span class="token key atrule">scaleTargetRef</span><span class="token punctuation">:</span>    <span class="token key atrule">apiVersion</span><span class="token punctuation">:</span> extensions/v1beta1    <span class="token key atrule">kind</span><span class="token punctuation">:</span> Deployment    <span class="token key atrule">name</span><span class="token punctuation">:</span> backend   <span class="token key atrule">minReplicas</span><span class="token punctuation">:</span> <span class="token number">1</span>  <span class="token key atrule">maxReplicas</span><span class="token punctuation">:</span> <span class="token number">10</span>  <span class="token key atrule">metrics</span><span class="token punctuation">:</span>  <span class="token punctuation">-</span> <span class="token key atrule">type</span><span class="token punctuation">:</span> Pods    <span class="token key atrule">pods</span><span class="token punctuation">:</span>      <span class="token key atrule">metricName</span><span class="token punctuation">:</span> messages      <span class="token key atrule">targetAverageValue</span><span class="token punctuation">:</span> <span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯¥æ–‡ä»¶å¾ˆç¥ç§˜ï¼Œæ‰€ä»¥è®©æˆ‘ä¸ºæ‚¨ç¿»è¯‘ä¸€ä¸‹ï¼š<br>Kubernetes ç›‘è§† scaleTargetRef ä¸­æŒ‡å®šçš„éƒ¨ç½²ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯workerã€‚<br>æ‚¨æ­£åœ¨ä½¿ç”¨æ¶ˆæ¯æŒ‡æ ‡æ¥æ‰©å±•æ‚¨çš„ Podã€‚ å½“é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯è¶…è¿‡ 10 æ¡æ—¶ï¼ŒKubernetes å°†è§¦å‘è‡ªåŠ¨ç¼©æ”¾ã€‚<br>è‡³å°‘ï¼Œéƒ¨ç½²åº”è¯¥æœ‰ä¸¤ä¸ª Podã€‚ åä¸ª Pod æ˜¯ä¸Šé™ã€‚<br>æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•åˆ›å»ºèµ„æºï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl create -f hpa.yaml<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æäº¤è‡ªåŠ¨ç¼©æ”¾å™¨åï¼Œæ‚¨åº”è¯¥æ³¨æ„åˆ°åç«¯çš„å‰¯æœ¬æ•°ä¸ºä¸¤ä¸ªã€‚ è¿™æ˜¯æœ‰é“ç†çš„ï¼Œå› ä¸ºæ‚¨è¦æ±‚è‡ªåŠ¨ç¼©æ”¾å™¨å§‹ç»ˆè‡³å°‘è¿è¡Œä¸¤ä¸ªå‰¯æœ¬ã€‚<br>æ‚¨å¯ä»¥æ£€æŸ¥è§¦å‘è‡ªåŠ¨ç¼©æ”¾å™¨çš„æ¡ä»¶ä»¥åŠç”±æ­¤ç”Ÿæˆçš„äº‹ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl describe hpa<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è‡ªåŠ¨æ‰©ç¼©å™¨è¡¨æ˜å®ƒèƒ½å¤Ÿå°† Pod æ‰©å±•åˆ° 2 ä¸ªï¼Œå¹¶å‡†å¤‡å¥½ç›‘æ§éƒ¨ç½²ã€‚</p><p><strong>ä»¤äººå…´å¥‹çš„ä¸œè¥¿ï¼Œä½†å®ƒæœ‰æ•ˆå—ï¼Ÿ</strong></p><h3 id="è´Ÿè½½æµ‹è¯•"><a href="#è´Ÿè½½æµ‹è¯•" class="headerlink" title="è´Ÿè½½æµ‹è¯•"></a>è´Ÿè½½æµ‹è¯•</h3><p>åªæœ‰ä¸€ç§æ–¹æ³•å¯ä»¥çŸ¥é“å®ƒæ˜¯å¦æœ‰æ•ˆï¼šåœ¨é˜Ÿåˆ—ä¸­åˆ›å»ºå¤§é‡æ¶ˆæ¯ã€‚<br>è½¬åˆ°å‰ç«¯åº”ç”¨ç¨‹åºå¹¶å¼€å§‹æ·»åŠ å¤§é‡æ¶ˆæ¯ã€‚ æ·»åŠ æ¶ˆæ¯æ—¶ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ç›‘æ§ Horizontal Pod Autoscaler çš„çŠ¶æ€ï¼š</p><pre class="line-numbers language-none"><code class="language-none">kubectl describe hpa<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>Pod çš„æ•°é‡ä» 2 ä¸ªå¢åŠ åˆ° 4 ä¸ªï¼Œç„¶åæ˜¯ 8 ä¸ªï¼Œæœ€åæ˜¯ 10 ä¸ªã€‚<br><strong>è¯¥åº”ç”¨ç¨‹åºéšæ¶ˆæ¯æ•°é‡è€Œæ‰©å±•ï¼ æ¬¢å‘¼å§ï¼</strong><br>æ‚¨åˆšåˆšéƒ¨ç½²äº†ä¸€ä¸ªå®Œå…¨å¯æ‰©å±•çš„åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå¯æ ¹æ®é˜Ÿåˆ—ä¸­å¾…å¤„ç†æ¶ˆæ¯çš„æ•°é‡è¿›è¡Œæ‰©å±•ã€‚<br>é™„å¸¦è¯´æ˜ä¸€ä¸‹ï¼Œç¼©æ”¾ç®—æ³•å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">MAX(CURRENT_REPLICAS_LENGTH * 2, 4)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å¤–ï¼Œæ¯ä¸€æ¬¡æ”¾å¤§éƒ½ä¼šæ¯åˆ†é’Ÿé‡æ–°è¯„ä¼°ä¸€æ¬¡ï¼Œè€Œæ¯ä¸¤åˆ†é’Ÿç¼©å°ä¸€æ¬¡ã€‚<br>ä»¥ä¸Šéƒ½æ˜¯å¯ä»¥è°ƒæ•´çš„è®¾ç½®ã€‚<br>ä¸è¿‡ï¼Œä½ è¿˜æ²¡æœ‰å®Œæˆã€‚</p><h3 id="æœ‰ä»€ä¹ˆæ¯”è‡ªåŠ¨ç¼©æ”¾å®ä¾‹æ›´å¥½çš„å‘¢ï¼Ÿ-è‡ªåŠ¨ç¼©æ”¾é›†ç¾¤ã€‚"><a href="#æœ‰ä»€ä¹ˆæ¯”è‡ªåŠ¨ç¼©æ”¾å®ä¾‹æ›´å¥½çš„å‘¢ï¼Ÿ-è‡ªåŠ¨ç¼©æ”¾é›†ç¾¤ã€‚" class="headerlink" title="æœ‰ä»€ä¹ˆæ¯”è‡ªåŠ¨ç¼©æ”¾å®ä¾‹æ›´å¥½çš„å‘¢ï¼Ÿ è‡ªåŠ¨ç¼©æ”¾é›†ç¾¤ã€‚"></a>æœ‰ä»€ä¹ˆæ¯”è‡ªåŠ¨ç¼©æ”¾å®ä¾‹æ›´å¥½çš„å‘¢ï¼Ÿ è‡ªåŠ¨ç¼©æ”¾é›†ç¾¤ã€‚</h3><p>è·¨èŠ‚ç‚¹æ‰©å±• Pod çš„æ•ˆæœéå¸¸å¥½ã€‚ ä½†æ˜¯ï¼Œå¦‚æœé›†ç¾¤ä¸­æ²¡æœ‰è¶³å¤Ÿçš„å®¹é‡æ¥æ‰©å±• Pod æ€ä¹ˆåŠï¼Ÿ<br>å¦‚æœè¾¾åˆ°å³°å€¼å®¹é‡ï¼ŒKubernetes å°†ä½¿ Pod å¤„äºæŒ‚èµ·çŠ¶æ€å¹¶ç­‰å¾…æ›´å¤šèµ„æºå¯ç”¨ã€‚<br>å¦‚æœæ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼äº Horizontal Pod Autoscaler ä½†ç”¨äºèŠ‚ç‚¹çš„è‡ªåŠ¨ç¼©æ”¾å™¨ï¼Œé‚£å°±å¤ªå¥½äº†ã€‚</p><p>æ‚¨å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªé›†ç¾¤è‡ªåŠ¨æ‰©ç¼©å™¨ï¼Œåœ¨æ‚¨éœ€è¦æ›´å¤šèµ„æºæ—¶å‘ Kubernetes é›†ç¾¤æ·»åŠ æ›´å¤šèŠ‚ç‚¹ã€‚</p><img src="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes/12.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>é›†ç¾¤è‡ªåŠ¨ç¼©æ”¾å™¨æœ‰ä¸åŒçš„å½¢çŠ¶å’Œå¤§å°ã€‚ å®ƒä¹Ÿæ˜¯ç‰¹å®šäºäº‘æä¾›å•†çš„ã€‚</p><h3 id="å›é¡¾ä¸€ä¸‹"><a href="#å›é¡¾ä¸€ä¸‹" class="headerlink" title="å›é¡¾ä¸€ä¸‹"></a>å›é¡¾ä¸€ä¸‹</h3><p>å¤§è§„æ¨¡è®¾è®¡åº”ç”¨ç¨‹åºéœ€è¦ä»”ç»†è§„åˆ’å’Œæµ‹è¯•ã€‚<br>åŸºäºé˜Ÿåˆ—çš„æ¶æ„æ˜¯ä¸€ç§å‡ºè‰²çš„è®¾è®¡æ¨¡å¼ï¼Œå¯ä»¥è§£è€¦å¾®æœåŠ¡å¹¶ç¡®ä¿å®ƒä»¬å¯ä»¥ç‹¬ç«‹æ‰©å±•å’Œéƒ¨ç½²ã€‚<br>è™½ç„¶æ‚¨å¯ä»¥æ¨å‡ºéƒ¨ç½²è„šæœ¬ï¼Œä½†åˆ©ç”¨ Kubernetes ç­‰å®¹å™¨ç¼–æ’å™¨æ¥è‡ªåŠ¨éƒ¨ç½²å’Œæ‰©å±•åº”ç”¨ç¨‹åºä¼šæ›´å®¹æ˜“ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> SpringBoot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> SprintBoot </tag>
            
            <tag> Kubernetes </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ¨Flutterä¸­é›†æˆFlutterwave</title>
      <link href="/Integrating-Flutterwave-with-a-Flutter-App.html"/>
      <url>/Integrating-Flutterwave-with-a-Flutter-App.html</url>
      
        <content type="html"><![CDATA[<img src="/Integrating-Flutterwave-with-a-Flutter-App/0.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»˜æ¬¾å§‹ç»ˆæ˜¯ä¼ä¸šä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ï¼Œå½“å‘é”™è¯¯çš„ä¸ªäººä»˜æ¬¾æˆ–å‘æ­£ç¡®çš„äººå¤šä»˜é’±æ—¶ï¼Œå®ƒå°±ä¼šæˆä¸ºä¸€ä»¶éå¸¸éº»çƒ¦çš„äº‹æƒ…ã€‚<br>ä½œä¸ºå¼€å‘äººå‘˜ï¼Œé›†æˆæ”¯ä»˜æ¨¡å—æ˜¯éœ€è¦é¢å¤–é‡è§†çš„å…³é”®ä¸»é¢˜ä¹‹ä¸€ï¼Œä»¥ç¡®ä¿æ­£ç¡®å®Œæˆæ”¯ä»˜ï¼ŒåŒæ—¶ç¡®ä¿æ”¯ä»˜å®‰å…¨å¹¶å‘é€ç»™æ­£ç¡®çš„æ¥æ”¶è€…ã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœå•†å®¶å¸Œæœ›ä»ä¸åŒåœ°ç‚¹çš„å®¢æˆ·è¿›è¡Œä»˜æ¬¾/æ¥æ”¶ä»˜æ¬¾ï¼Œä½†åœ¨å¦‚ä½•æ— ç¼åœ°åšåˆ°è¿™ä¸€ç‚¹æ–¹é¢çš„é€‰æ‹©æœ‰é™ï¼Œé‚£ä¹ˆæ‚¨å¦‚ä½•è¿›è¡Œè¿™äº›é›†æˆå‘¢ï¼Ÿ</p><span id="more"></span><p>ä½¿ç”¨å„ç§æ”¯ä»˜æœåŠ¡æä¾›å•†è¿›è¡Œè¿™äº›é›†æˆçš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä½†æ˜¯ï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨Flutterä¸­é›†æˆå°†æä¾›å„ç§æ”¯ä»˜é€‰é¡¹çš„æ”¯ä»˜æœåŠ¡æä¾›å•† Flutterwaveçš„æ¨¡å—ã€‚</p><h3 id="Flutterwaveæ˜¯ä¸ªå•¥ï¼Ÿ"><a href="#Flutterwaveæ˜¯ä¸ªå•¥ï¼Ÿ" class="headerlink" title="Flutterwaveæ˜¯ä¸ªå•¥ï¼Ÿ"></a>Flutterwaveæ˜¯ä¸ªå•¥ï¼Ÿ</h3><p>Flutterwave æ˜¯ä¸€å®¶æ”¯ä»˜æœåŠ¡æä¾›å•†ï¼Œæä¾›å„ç§æœåŠ¡æ¥å‘é€å’Œæ¥æ”¶ä»˜æ¬¾ã€‚ å¦‚æœæ‚¨æ˜¯ä¼ä¸šä¸»ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ Flutterwave çš„å„ç§é€‰é¡¹å‘å®¢æˆ·æ”¶å–æ¬¾é¡¹ï¼Œä¾‹å¦‚ï¼š</p><ul><li>é“¶è¡Œè½¬è´¦</li><li>ç§»åŠ¨è´§å¸</li><li>å€Ÿè®°å¡å’Œä¿¡ç”¨å¡</li><li>POS</li><li>é“¶è¡Œè´¦æˆ·</li><li>Visa QR</li><li>USSD</li><li>Mpesaï¼ˆè‚¯å°¼äºšï¼‰</li></ul><h3 id="Flutterwave-é›†æˆé€‰é¡¹"><a href="#Flutterwave-é›†æˆé€‰é¡¹" class="headerlink" title="Flutterwave é›†æˆé€‰é¡¹"></a>Flutterwave é›†æˆé€‰é¡¹</h3><p><strong>Flutterwave Inline</strong> â€” è¿™ä½¿ä¼ä¸šèƒ½å¤Ÿé€šè¿‡å°† FlutterwaveCheckout() JavaScript å‡½æ•°åµŒå…¥åˆ°ä»£ç ä¸­æ¥ä½¿ç”¨ä»–ä»¬çš„ Inline Javascript é›†æˆæµç¨‹ã€‚<br><strong>Flutterwave Standard</strong> â€” è¿™å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Flutterwave æ ‡å‡†é›†æˆæµç¨‹ä½¿ç”¨å…¶ /payments ç«¯æ¥æ¥å—ä»˜æ¬¾ã€‚<br><strong>Direct Charge API</strong> â€” æœ¬æŒ‡å—ä»‹ç»åœ¨ Flutterwave ä¸Šæ‰§è¡Œ Direct API å¡æ”¶è´¹ã€‚<br>æ”¯ä»˜é“¾æ¥â€”â€”æ”¯ä»˜é“¾æ¥å…è®¸å•†å®¶åœ¨ä»–ä»¬çš„ç½‘ç«™ä¸Šæ¥å—æ”¯ä»˜ï¼Œè€Œæ— éœ€é›†æˆã€‚ è¿™å¯¹äºæ²¡æœ‰å¼€å‘äººå‘˜èµ„æºçš„ä¸ªäººå’Œå•†å®¶æ¥è¯´éå¸¸æœ‰ç”¨ã€‚<br><strong>HTML Checkout</strong> â€” æœ¬æ–‡æ¡£å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨ HTML æ–‡ä»¶ä¸­ä½¿ç”¨ Flutterwave å†…è”å‘æ‚¨çš„å®¢æˆ·æ”¶å–ä»˜æ¬¾</p><h3 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h3><h4 id="åˆ›å»ºä¸€ä¸ª-Flutterwave-å¸æˆ·ã€‚"><a href="#åˆ›å»ºä¸€ä¸ª-Flutterwave-å¸æˆ·ã€‚" class="headerlink" title="åˆ›å»ºä¸€ä¸ª Flutterwave å¸æˆ·ã€‚"></a>åˆ›å»ºä¸€ä¸ª Flutterwave å¸æˆ·ã€‚</h4><p>å¯¼èˆªåˆ° Flutterwave ä¸»é¡µå¹¶åˆ›å»ºä¸€ä¸ªå¸æˆ·ï¼ˆå¦‚æœæ‚¨è¿˜æ²¡æœ‰å¸æˆ·ï¼‰ã€‚<br><a href="https://flutterwave.com/us">https://flutterwave.com/us</a></p><h4 id="ç™»å½•åˆ°æ‚¨çš„-Flutterwave-å¸æˆ·ã€‚"><a href="#ç™»å½•åˆ°æ‚¨çš„-Flutterwave-å¸æˆ·ã€‚" class="headerlink" title="ç™»å½•åˆ°æ‚¨çš„ Flutterwave å¸æˆ·ã€‚"></a>ç™»å½•åˆ°æ‚¨çš„ Flutterwave å¸æˆ·ã€‚</h4><p>åˆ›å»ºå¸æˆ·åï¼Œç™»å½•åˆ°æ‚¨çš„ Flutterwave å¸æˆ·ï¼Œæ‚¨å°†å¯ä»¥åœ¨å…¶ä¸­çœ‹åˆ°æ‚¨çš„ä»ªè¡¨æ¿ã€‚<br>ä»ªè¡¨æ¿åŒ…å«æ‚¨å¯ä»¥æµè§ˆçš„å„ç§å¸æˆ·è¯¦ç»†ä¿¡æ¯é¡¹ç›®ï¼Œä¾‹å¦‚äº¤æ˜“ã€è½¬è´¦ã€å­å¸æˆ·ã€è®¡è´¹é€‰é¡¹ã€ä»˜æ¬¾è®¡åˆ’ã€å‘ç¥¨ç­‰ã€‚<br>è¯·å‚é˜…ä¸‹å›¾ä¸­çš„ä»ªè¡¨æ¿æ¦‚è¿°ï¼ˆå½“å‰ä½¿ç”¨æµ‹è¯•æ¨¡å¼ï¼‰ï¼š</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»ªè¡¨æ¿å¯å¸®åŠ©æ‚¨åœ¨æµ‹è¯•æ¨¡å¼ä¸‹è¿›è¡Œé›†æˆï¼Œå½“å‡†å¤‡å¥½è¿›è¡Œæ­£å¼æ“ä½œæ—¶ï¼Œæ‚¨å¯ä»¥åˆ‡æ¢åˆ°â€œç”Ÿäº§æ¨¡å¼â€ã€‚</p><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Flutter + Flutterwave æ’ä»¶ï¼Œå…¶å®ç°æ¨¡ä»¿äº†æ”¯ä»˜é›†æˆçš„ Flutterwave Inline æ–¹æ³•ã€‚</p><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><h4 id="1-åˆ›å»ºä¸€ä¸ªç¤ºä¾‹-Flutter-é¡¹ç›®"><a href="#1-åˆ›å»ºä¸€ä¸ªç¤ºä¾‹-Flutter-é¡¹ç›®" class="headerlink" title="1. åˆ›å»ºä¸€ä¸ªç¤ºä¾‹ Flutter é¡¹ç›®"></a>1. åˆ›å»ºä¸€ä¸ªç¤ºä¾‹ Flutter é¡¹ç›®</h4><p>è®©æˆ‘ä»¬åˆ›å»ºæˆ‘ä»¬çš„æ¼”ç¤ºåº”ç”¨ç¨‹åºã€‚ åœ¨ç»ˆç«¯ä¸Šï¼Œè¾“å…¥ $ flutter create å‘½ä»¤ï¼Œåè·Ÿåº”ç”¨ç¨‹åºçš„åç§°ã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨åç§° <strong>flutterwave_flutter_app</strong>ã€‚</p><pre class="line-numbers language-none"><code class="language-none">$ flutter create flutterwave_flutter_app<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-åˆ é™¤é¢„ç”Ÿæˆçš„ä»£ç "><a href="#2-åˆ é™¤é¢„ç”Ÿæˆçš„ä»£ç " class="headerlink" title="2.åˆ é™¤é¢„ç”Ÿæˆçš„ä»£ç "></a>2.åˆ é™¤é¢„ç”Ÿæˆçš„ä»£ç </h4><p>æˆåŠŸåˆ›å»ºflutter+flutter waveç¤ºä¾‹appåï¼Œåœ¨main.dartæ–‡ä»¶ä¸­ï¼Œå»æ‰é»˜è®¤ç”Ÿæˆçš„ä»£ç ï¼Œæ›¿æ¢ä¸ºå¦‚ä¸‹ä»£ç ï¼š<br>ï¼ˆè¿™ä¸€æ­¥å‡è®¾ä½ å¯¹ Flutter é¡¹ç›®ç»“æ„æœ‰ä¸€ä¸ªåŸºæœ¬çš„æƒ³æ³•ï¼‰ã€‚ å¦‚æœæ‚¨æ˜¯ Flutter æ–°æ‰‹ï¼Œè¯·æŸ¥çœ‹ <a href="https://flutter.dev/docs/get-started/codelab">Flutter å®˜æ–¹æ–‡æ¡£</a>ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>        debugShowCheckedModeBanner<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>          primarySwatch<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span>  <span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span><span class="token punctuation">{</span>    <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token metadata function">@override</span>     <span class="token class-name">HomePageState</span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">HomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">class</span> <span class="token class-name">HomePageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>    <span class="token metadata function">@override</span>    <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>       appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>              title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Flutter + Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>              centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>              child<span class="token punctuation">:</span><span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>                child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢çš„ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•çš„ UIï¼Œå…¶æ ‡é¢˜ä¸ºâ€œFlutter +Flutterwaveâ€ï¼Œç•Œé¢ä¸­å¿ƒæœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œç”¨äºä½¿ç”¨ Flutterwave å‘èµ·æ”¯ä»˜ã€‚</p><h4 id="3-åœ¨-pubspec-yml-ä¸­æ·»åŠ -Flutterwave-åŒ…"><a href="#3-åœ¨-pubspec-yml-ä¸­æ·»åŠ -Flutterwave-åŒ…" class="headerlink" title="3. åœ¨ pubspec.yml ä¸­æ·»åŠ  Flutterwave åŒ…"></a>3. åœ¨ pubspec.yml ä¸­æ·»åŠ  Flutterwave åŒ…</h4><pre class="line-numbers language-none"><code class="language-none">flutterwave: ^1.0.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å§‹ç»ˆç¡®ä¿ä» <a href="https://pub.dev/packages/flutterwave#prerequisite">Pub dev</a> ä¸‹è½½åŒ…ç‰ˆæœ¬ä»¥è·å¾—æœ€æ–°åŒ…ã€‚</p><h4 id="4-åœ¨main-dartæ–‡ä»¶ä¸­å¯¼å…¥FlutterwaveåŒ…"><a href="#4-åœ¨main-dartæ–‡ä»¶ä¸­å¯¼å…¥FlutterwaveåŒ…" class="headerlink" title="4.åœ¨main.dartæ–‡ä»¶ä¸­å¯¼å…¥FlutterwaveåŒ…"></a>4.åœ¨main.dartæ–‡ä»¶ä¸­å¯¼å…¥FlutterwaveåŒ…</h4><pre class="line-numbers language-none"><code class="language-none">import 'package:flutterwave/flutterwave.dart';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="5-åˆ›å»ºä¸€ä¸ª-FlutterWave-å®ä¾‹ã€‚"><a href="#5-åˆ›å»ºä¸€ä¸ª-FlutterWave-å®ä¾‹ã€‚" class="headerlink" title="5. åˆ›å»ºä¸€ä¸ª FlutterWave å®ä¾‹ã€‚"></a>5. åˆ›å»ºä¸€ä¸ª FlutterWave å®ä¾‹ã€‚</h4><p>é€šè¿‡è°ƒç”¨ Flutterwave.forUIPayment() æ„é€ å‡½æ•°åˆ›å»º Flutterwave å®ä¾‹ã€‚<br>æ„é€ å‡½æ•°æ¥å—ä»¥ä¸‹è¯¦ç»†ä¿¡æ¯çš„<strong>å¼ºåˆ¶</strong>å®ä¾‹ï¼š</p><p><strong>Context</strong> , <strong>publicKey</strong> , <strong>encryptionKey</strong> , <strong>amount</strong> , <strong>currency</strong> , <strong>email</strong> , <strong>fullName</strong> , <strong>txRef</strong> , <strong>isDebugMode</strong> and <strong>phoneNumber</strong> </p><p>è¿™å°†è¿”å› Flutterwave çš„ä¸€ä¸ªå®ä¾‹ã€‚<br>å¥½å§ï¼Œæ—¢ç„¶æœ‰ä¸€äº›å¿…éœ€çš„å‚æ•°ï¼Œè®©æˆ‘ä»¬è°ƒæ•´ UI ä»¥ä½¿ç”¨æˆ·åœ¨ä»˜æ¬¾æ—¶åªä» UI è¾“å…¥å­—æ®µä¸­å¡«å†™å¿…è¦çš„è¯¦ç»†ä¿¡æ¯ï¼Œä¾‹å¦‚ç”µå­é‚®ä»¶ã€é‡‘é¢ã€å…¨åå’Œç”µè¯å·ç ã€‚<br>æ³¨æ„ï¼šå¦‚æœæ‚¨å¸Œæœ›ä½¿ç”¨ä¸åŒè´§å¸çš„ç”¨æˆ·è¿›è¡Œ Flutterwave ä»˜æ¬¾ï¼Œæ‚¨å¯ä»¥åœ¨ UI ä¸­æ·»åŠ è´§å¸è¾“å…¥å­—æ®µã€‚<br>ä½†æ˜¯ï¼Œå¦‚æœæ‚¨åªæƒ³ä½¿ç”¨ä¸€ç§è´§å¸ï¼Œæ‚¨å¯ä»¥åœ¨ä»£ç ä¸­é¢„å…ˆé…ç½®å®ƒï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸å¿…åœ¨æ¯æ¬¡è¿›è¡Œ Flutterwave æ”¯ä»˜æ—¶éƒ½å¡«å†™å®ƒã€‚<br>æœ‰äº†è¿™äº›æ–°å¢åŠŸèƒ½ï¼Œæ‚¨çš„ä»£ç å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">  <span class="token comment">//add the following values to create the UI for Flutterwave Payment</span><span class="token keyword">class</span> <span class="token class-name">HomePageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token comment">//use the currency you would like the user to Pay In, in this case, I used KES currency</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> currency <span class="token operator">=</span> <span class="token class-name">FlutterwaveCurrency</span><span class="token punctuation">.</span>KES<span class="token punctuation">;</span>  <span class="token keyword">final</span> formKey <span class="token operator">=</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> fullname <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> phone <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> email <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> amount <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>        appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>          title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Flutter + Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>          centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        body<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>                padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>       child<span class="token punctuation">:</span> <span class="token class-name">Form</span><span class="token punctuation">(</span>            key<span class="token punctuation">:</span> formKey<span class="token punctuation">,</span>         child<span class="token punctuation">:</span><span class="token class-name">Column</span><span class="token punctuation">(</span>          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token keyword">const</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">Container</span><span class="token punctuation">(</span>            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>              controller<span class="token punctuation">:</span> fullname<span class="token punctuation">,</span>              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Full Name"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                   validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in Your Name"</span></span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">Container</span><span class="token punctuation">(</span>            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>              controller<span class="token punctuation">:</span> phone<span class="token punctuation">,</span>              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Phone Number"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>               validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in Your Phone number"</span></span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">Container</span><span class="token punctuation">(</span>            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>              controller<span class="token punctuation">:</span> email<span class="token punctuation">,</span>              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Email"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in Your Email"</span></span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">Container</span><span class="token punctuation">(</span>            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>              controller<span class="token punctuation">:</span> amount<span class="token punctuation">,</span>              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Amount"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>              validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in the Amount you are Paying"</span></span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>  ä¸Šé¢çš„ä»£ç æœ‰ä¸€äº›è¾“å…¥å­—æ®µï¼Œç”¨æˆ·å¯ä»¥åœ¨ä½¿ç”¨ Flutterwave ä»˜æ¬¾ä¹‹å‰å¡«å†™è¿™äº›å­—æ®µï¼Œä¾‹å¦‚ç”µå­é‚®ä»¶ã€é‡‘é¢ã€å…¨åå’Œç”µè¯å·ç ã€‚ å®ƒè¿˜æœ‰ä¸€ä¸ªç®€å•çš„éªŒè¯ï¼Œä»¥é˜²æ­¢åœ¨å¯åŠ¨æ”¯ä»˜æ—¶æäº¤ç©ºå€¼ï¼Œå› ä¸ºè¿™äº›å€¼æ˜¯å¿…éœ€çš„å‚æ•°ã€‚<br>æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªç”¨äºä¸º Flutterwave å®ä¾‹é…ç½®ä»¥ä¸‹å€¼çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼š<strong>Context</strong> ã€<strong>publicKey</strong> ã€<strong>encryptionKey</strong> ã€<strong>amount</strong> ã€<strong>currency</strong> ã€<strong>email</strong> ã€<strong>fullName</strong> ã€<strong>txRef</strong> ã€<strong>isDebugMode</strong> å’Œ <strong>phoneNumber</strong> ã€‚<br>æ‚¨å¯ä»¥ä¸ºè¯¥æ–¹æ³•ä½¿ç”¨æ‚¨å–œæ¬¢çš„åç§°ã€‚ åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨ _makeFlutterwavePayment()ã€‚<br>å¯ä»¥ä»ä¸‹å›¾æ‰€ç¤ºçš„ Flutterwave å¸æˆ·ä»ªè¡¨æ¿ä¸­æ£€ç´¢æ‰€éœ€çš„<strong>å…¬é’¥</strong>å’Œ<strong>åŠ å¯†å¯†é’¥</strong>ï¼š</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ä¸Šå›¾ä¸­ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯æˆ‘çš„ TestMode å…¬é’¥å’ŒåŠ å¯†å¯†é’¥ã€‚</p><p>è¯·å‚é˜…ä¸‹é¢åˆ›å»º Flutterwave å®ä¾‹çš„å®Œæ•´ä»£ç ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"> <span class="token comment">//Add a method to make the flutter wave payment</span> <span class="token comment">//This Method includes all the values needed to create the Flutterwave Instance</span><span class="token keyword">void</span> <span class="token function">_makeFlutterwavePayment</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> fullname<span class="token punctuation">,</span> <span class="token class-name">String</span> phone<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> <span class="token class-name">String</span> amount<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token class-name">Flutterwave</span> flutterwave <span class="token operator">=</span> <span class="token class-name">Flutterwave</span><span class="token punctuation">.</span><span class="token function">forUIPayment</span><span class="token punctuation">(</span>          <span class="token comment">//the first 10 fields below are required/mandatory</span>          context<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span>          fullName<span class="token punctuation">:</span> fullname<span class="token punctuation">,</span>          phoneNumber<span class="token punctuation">:</span> phone<span class="token punctuation">,</span>          email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>          amount<span class="token punctuation">:</span> amount<span class="token punctuation">,</span>          <span class="token comment">//Use your Public and Encription Keys from your Flutterwave account on the dashboard</span>          encryptionKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Your Encription Key"</span></span><span class="token punctuation">,</span>          publicKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Your Public Key"</span></span><span class="token punctuation">,</span>          currency<span class="token punctuation">:</span> currency<span class="token punctuation">,</span>          txRef<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toIso8601String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token comment">//Setting DebugMode below to true since will be using test mode.</span>          <span class="token comment">//You can set it to false when using production environment.</span>          isDebugMode<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          <span class="token comment">//configure the the type of payments that your business will accept</span>          acceptCardPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptUSSDPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptAccountPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptFrancophoneMobileMoney<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptGhanaPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptMpesaPayment<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>          acceptRwandaMoneyPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptUgandaPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>          acceptZambiaPayment<span class="token punctuation">:</span> <span class="token boolean">false</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šåœ¨è¿™ä¸ª Demo ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Mpesa æµ‹è¯• Flutterwave ä»˜æ¬¾ï¼Œå¯ä»¥é€šè¿‡ Mpesa æ¥å—ä»˜æ¬¾ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåœ¨ä¸Šè¿°æ–¹æ³•çš„ç¬¬ 26 è¡Œä¸­å°† acceptMpesaPayment è®¾ç½®ä¸º true çš„åŸå› ã€‚</p><p>ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥æ ¹æ®æ‚¨æ‰€åœ¨çš„å›½å®¶/åœ°åŒºå’Œå¯æ¥å—çš„ä»˜æ¬¾ç±»å‹ï¼Œå°†æ‚¨æƒ³è¦æµ‹è¯•çš„å…¶ä»–ä»˜æ¬¾è®¾ç½®ä¸ºçœŸå®ã€‚<br>å¦‚æœæ‚¨ä¹Ÿæƒ³æµ‹è¯• CardPaymentï¼Œè¯·éšæ„å°†å…¶è®¾ç½®ä¸º trueã€‚</p><h4 id="6-å¤„ç†å“åº”"><a href="#6-å¤„ç†å“åº”" class="headerlink" title="6. å¤„ç†å“åº”"></a>6. å¤„ç†å“åº”</h4><p>æ¥ä¸‹æ¥ï¼Œåœ¨ Flutterwave å®ä¾‹ä¸‹æ–¹æ·»åŠ ä¸€ä¸ªå“åº”ï¼Œè¯¥å®ä¾‹è¿”å›ä¸€ä¸ª Flutterwave å®ä¾‹ï¼Œç„¶åæˆ‘ä»¬åœ¨å…¶ä¸Šè°ƒç”¨å¼‚æ­¥æ–¹æ³• .initializeForUiPayments()ã€‚<br>è¯·å‚é˜…ä¸‹é¢çš„ç¤ºä¾‹ä»£ç ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token keyword">await</span> flutterwave<span class="token punctuation">.</span><span class="token function">initializeForUiPayments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Transaction Failed"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"Transaction successful"</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>         <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">}</span>     <span class="token punctuation">}</span>   <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span> <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="7-å‘-Flutterwave-ä»˜æ¬¾ã€‚"><a href="#7-å‘-Flutterwave-ä»˜æ¬¾ã€‚" class="headerlink" title="7. å‘ Flutterwave ä»˜æ¬¾ã€‚"></a>7. å‘ Flutterwave ä»˜æ¬¾ã€‚</h4><p>ç°åœ¨æ‚¨å·²ç»åˆ›å»ºäº† Flutterwave å®ä¾‹å’Œå“åº”ï¼Œè¯·åœ¨ onPressed() å‡½æ•°ä¸Šè°ƒç”¨æ‚¨åœ¨ä¸Šé¢ï¼ˆåœ¨æ­¥éª¤ 6 ä¸­ï¼‰åˆ›å»ºçš„ _makeFlutterwavePayment æ–¹æ³•ï¼Œä»¥åœ¨æŒ‰ä¸‹æŒ‰é’®æ—¶æ‰§è¡Œä»˜æ¬¾ã€‚<br>è¯·çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">final</span> name <span class="token operator">=</span> fullname<span class="token punctuation">.</span>text<span class="token punctuation">;</span>              <span class="token keyword">final</span> userPhone <span class="token operator">=</span> phone<span class="token punctuation">.</span>text<span class="token punctuation">;</span>              <span class="token keyword">final</span> userEmail <span class="token operator">=</span> email<span class="token punctuation">.</span>text<span class="token punctuation">;</span>              <span class="token keyword">final</span> amountPaid <span class="token operator">=</span> amount<span class="token punctuation">.</span>text<span class="token punctuation">;</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>formKey<span class="token punctuation">.</span>currentState<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token function">_makeFlutterwavePayment</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>name<span class="token punctuation">,</span>userPhone<span class="token punctuation">,</span>userEmail<span class="token punctuation">,</span>amountPaid<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">}</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ˜¯çš„ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†ä»£ç å®ç°ã€‚</p><h4 id="8-Flutterwave-æ”¯ä»˜ç¡®è®¤"><a href="#8-Flutterwave-æ”¯ä»˜ç¡®è®¤" class="headerlink" title="8. Flutterwave æ”¯ä»˜ç¡®è®¤"></a>8. Flutterwave æ”¯ä»˜ç¡®è®¤</h4><p>ç°åœ¨è¿è¡Œæˆ‘ä»¬åˆšåˆšæŒ‰ç…§ä¸Šè¿°è¯´æ˜æ„å»ºçš„ Flutterwave Flutter ç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œå¹¶ä»¥æµ‹è¯•ç”¨æˆ·çš„èº«ä»½å¡«å†™ UI ä»˜æ¬¾è¯¦ç»†ä¿¡æ¯ã€‚<br>è§ä¸‹å›¾ï¼š</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç„¶åæŒ‰ä¸‹ä½¿ç”¨ Flutterwave ä»˜æ¬¾æŒ‰é’®ï¼Œæ‚¨ç°åœ¨åº”è¯¥å¯ä»¥å¼€å§‹ä»˜æ¬¾äº†ã€‚ è¿™åªä¼šæ˜¾ç¤ºä¸€ä¸ªä»˜æ¬¾é€‰é¡¹ï¼Œå³ Mpesaï¼Œå› ä¸ºè¿™æ˜¯æˆ‘ä»¬è®¾ç½®çš„ã€‚ æ£€æŸ¥ä¸‹é¢çš„å±å¹•æˆªå›¾ã€‚</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™å°†è§¦å‘äº‹åŠ¡éªŒè¯ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ç¤ºä¾‹æ¼”ç¤º</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/6.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»˜æ¬¾åï¼Œæ‚¨å°†æ”¶åˆ°ä¸€å°ç”±ä½¿ç”¨ Flutterwave ä»˜æ¬¾çš„å®¢æˆ·å®Œæˆçš„äº¤æ˜“æŠ¥å‘Šçš„ç”µå­é‚®ä»¶ã€‚ æ£€æŸ¥ä¸‹é¢çš„å±å¹•æˆªå›¾ã€‚</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‚¨è¿˜å¯ä»¥åœ¨ Flutterwave ä»ªè¡¨æ¿ä¸­è·å–å¯¹æ‚¨çš„ Flutterwave å¸æˆ·è¿›è¡Œçš„æ‰€æœ‰äº¤æ˜“çš„åˆ—è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/8.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>åœ¨æœ¬æ•™ç¨‹ä¸­ï¼Œæ‚¨å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ Flutterwave Inline æ–¹æ³•å°† Flutterwave é›†æˆåˆ° Flutter åº”ç”¨ç¨‹åºä¸­ã€‚ ä»¥åŠå¦‚ä½•ä½¿ç”¨ Mpesa ä»˜æ¬¾é€‰é¡¹ä»¥æ— ç¼æ–¹å¼ç¡®è®¤æ‚¨ä½œä¸ºå•†å®¶ä»å®¢æˆ·é‚£é‡Œæ”¶åˆ°ä»˜æ¬¾ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Flutterwave </tag>
            
            <tag> Payment </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter TimePicker</title>
      <link href="/Flutter-TimePicker.html"/>
      <url>/Flutter-TimePicker.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-TimePicker/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å¿«é€Ÿæ¢ç´¢æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨ã€‚<br>æˆ‘ä»¬ä¸ä¼šåœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ä»»ä½•åŒ…ã€‚æˆ‘ä»¬å°†ä½¿ç”¨ Flutter ä¸­å¯ç”¨çš„ä¸€äº›æ ¸å¿ƒåŠŸèƒ½æ¥å®ç°è¿™ä¸€ç‚¹ã€‚ æˆ‘ä»¬å°†åœ¨æ‚¨çš„ Flutter åº”ç”¨ç¨‹åºä¸­å®ç°æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨çš„æ¼”ç¤ºã€‚</p><span id="more"></span><h3 id="ç›®å½•-ï¼š"><a href="#ç›®å½•-ï¼š" class="headerlink" title="ç›®å½• ï¼š"></a>ç›®å½• ï¼š</h3><ul><li>æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨</li><li>ä»£ç å®ç°</li><li>ä»£ç æ–‡ä»¶</li><li>ç»“è®º</li></ul><img src="/Flutter-TimePicker/2.jpg" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨"><a href="#æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨" class="headerlink" title="æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨"></a>æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨</h3><p>Flutter çš„æ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨ï¼Œæ‚¨å¯ä»¥é€‰æ‹©è‹±è¯­ã€è·å…°è¯­å’Œä»»ä½•å…¶ä»–æ‚¨æƒ³è¦çš„è¯­è¨€çš„æ—¥æœŸ/æ—¶é—´/æ—¥æœŸå’Œæ—¶é—´ï¼Œæ‚¨è¿˜å¯ä»¥è‡ªå®šä¹‰æ‚¨è‡ªå·±çš„é€‰æ‹©å™¨å†…å®¹ã€‚</p><img src="/Flutter-TimePicker/3.gif" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h3><p>åœ¨ lib æ–‡ä»¶å¤¹ä¸­åˆ›å»ºä¸€ä¸ªåä¸º DateTimePicker.dart çš„æ–° dart æ–‡ä»¶ã€‚</p><img src="/Flutter-TimePicker/4.png" class="" title="ç¤ºæ„å›¾ width=400"><blockquote><p>åœ¨æ­¤å±å¹•ä¸­ï¼Œæ‚¨å°†èƒ½å¤Ÿé€šè¿‡åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ç‚¹å‡»å®ƒä»¬æ¥é€‰æ‹©æ—¥æœŸå’Œæ—¶é—´ã€‚</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Null</span><span class="token punctuation">&gt;</span></span> <span class="token function">_selectDate</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">DateTime</span> picked <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showDatePicker</span><span class="token punctuation">(</span>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>      initialDate<span class="token punctuation">:</span> selectedDate<span class="token punctuation">,</span>      initialDatePickerMode<span class="token punctuation">:</span> <span class="token class-name">DatePickerMode</span><span class="token punctuation">.</span>day<span class="token punctuation">,</span>      firstDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      lastDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2101</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>picked <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      selectedDate <span class="token operator">=</span> picked<span class="token punctuation">;</span>      _dateController<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token class-name">DateFormat</span><span class="token punctuation">.</span><span class="token function">yMd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>selectedDate<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>åˆå§‹åŒ– DateTime é€‰æ‹©å™¨ç±»ã€‚è¿™å°†ä¿å­˜æˆ‘ä»¬é€‰æ‹©çš„æ—¥æœŸã€‚</p></blockquote><img src="/Flutter-TimePicker/5.png" class="" title="ç¤ºæ„å›¾ width=400"><blockquote><p>åœ¨ TextFromField çš„ onTap ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨ _selectDate å‡½æ•°ï¼Œç„¶åå°†æ˜¾ç¤ºé€‰æ‹©å™¨å¹¶ä¿å­˜é€‰æ‹©çš„æ—¥æœŸå’Œæ—¶é—´ã€‚</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">InkWell</span><span class="token punctuation">(</span>  onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">_selectDate</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>    width<span class="token punctuation">:</span> _width <span class="token operator">/</span> <span class="token number">1.7</span><span class="token punctuation">,</span>    height<span class="token punctuation">:</span> _height <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">,</span>    margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>    decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>      style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>      enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>      keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span>      controller<span class="token punctuation">:</span> _dateController<span class="token punctuation">,</span>      onSaved<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        _setDate <span class="token operator">=</span> val<span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          disabledBorder<span class="token punctuation">:</span>              <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">.</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span>         contentPadding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®ƒåªæ˜¯ä¸€ä¸ª _selectTime å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Null</span><span class="token punctuation">&gt;</span></span> <span class="token function">_selectTime</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">TimeOfDay</span> picked <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showTimePicker</span><span class="token punctuation">(</span>    context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>    initialTime<span class="token punctuation">:</span> selectedTime<span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span>picked <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      selectedTime <span class="token operator">=</span> picked<span class="token punctuation">;</span>      _hour <span class="token operator">=</span> selectedTime<span class="token punctuation">.</span>hour<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      _minute <span class="token operator">=</span> selectedTime<span class="token punctuation">.</span>minute<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      _time <span class="token operator">=</span> _hour <span class="token operator">+</span> <span class="token string-literal"><span class="token string">' : '</span></span> <span class="token operator">+</span> _minute<span class="token punctuation">;</span>      _timeController<span class="token punctuation">.</span>text <span class="token operator">=</span> _time<span class="token punctuation">;</span>      _timeController<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>          <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">08</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> selectedTime<span class="token punctuation">.</span>hour<span class="token punctuation">,</span> selectedTime<span class="token punctuation">.</span>minute<span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">[</span>hh<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">':'</span></span><span class="token punctuation">,</span> nn<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">" "</span></span><span class="token punctuation">,</span> am<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆå§‹åŒ– TimeOfDay é€‰æ‹©å™¨ç±»ï¼Œå°†æˆ‘ä»¬é€‰æ‹©çš„æ—¶é—´ä¿å­˜åœ¨ _selecteTime å‡½æ•°ä¸­ã€‚</p><img src="/Flutter-TimePicker/6.png" class="" title="ç¤ºæ„å›¾ width=400"><blockquote><p>åœ¨ç‚¹å‡» TextFormField æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨ä¸€ä¸ª _selectTime å‡½æ•°ï¼Œå®ƒå°†æ˜¾ç¤ºæ—¥æœŸå’Œæ—¶é—´é€‰æ‹©å™¨ä»¥ä¿å­˜é€‰æ‹©çš„æ—¶é—´ã€‚</p></blockquote><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">InkWell</span><span class="token punctuation">(</span>  onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">_selectTime</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>    margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    width<span class="token punctuation">:</span> _width <span class="token operator">/</span> <span class="token number">1.7</span><span class="token punctuation">,</span>    height<span class="token punctuation">:</span> _height <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">,</span>    alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>    decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>      style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>      onSaved<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>        _setTime <span class="token operator">=</span> val<span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>      keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span>      controller<span class="token punctuation">:</span> _timeController<span class="token punctuation">,</span>      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>          disabledBorder<span class="token punctuation">:</span>              <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">.</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token comment">// labelText: 'Time',</span>          contentPadding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç å®ç°ï¼š"><a href="#ä»£ç å®ç°ï¼š" class="headerlink" title="ä»£ç å®ç°ï¼š"></a>ä»£ç å®ç°ï¼š</h3><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:date_format/date_format.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:intl/intl.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">DateTimePicker</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  _DateTimePickerState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_DateTimePickerState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _DateTimePickerState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DateTimePicker</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  double _height<span class="token punctuation">;</span>  double _width<span class="token punctuation">;</span>  <span class="token class-name">String</span> _setTime<span class="token punctuation">,</span> _setDate<span class="token punctuation">;</span>  <span class="token class-name">String</span> _hour<span class="token punctuation">,</span> _minute<span class="token punctuation">,</span> _time<span class="token punctuation">;</span>  <span class="token class-name">String</span> dateTime<span class="token punctuation">;</span>  <span class="token class-name">DateTime</span> selectedDate <span class="token operator">=</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">TimeOfDay</span> selectedTime <span class="token operator">=</span> <span class="token class-name">TimeOfDay</span><span class="token punctuation">(</span>hour<span class="token punctuation">:</span> <span class="token number">00</span><span class="token punctuation">,</span> minute<span class="token punctuation">:</span> <span class="token number">00</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">TextEditingController</span> _dateController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">TextEditingController</span> _timeController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Null</span><span class="token punctuation">&gt;</span></span> <span class="token function">_selectDate</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> <span class="token class-name">DateTime</span> picked <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showDatePicker</span><span class="token punctuation">(</span>        context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>        initialDate<span class="token punctuation">:</span> selectedDate<span class="token punctuation">,</span>        initialDatePickerMode<span class="token punctuation">:</span> <span class="token class-name">DatePickerMode</span><span class="token punctuation">.</span>day<span class="token punctuation">,</span>        firstDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2015</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        lastDate<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2101</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>picked <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        selectedDate <span class="token operator">=</span> picked<span class="token punctuation">;</span>        _dateController<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token class-name">DateFormat</span><span class="token punctuation">.</span><span class="token function">yMd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>selectedDate<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Null</span><span class="token punctuation">&gt;</span></span> <span class="token function">_selectTime</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> <span class="token class-name">TimeOfDay</span> picked <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">showTimePicker</span><span class="token punctuation">(</span>      context<span class="token punctuation">:</span> context<span class="token punctuation">,</span>      initialTime<span class="token punctuation">:</span> selectedTime<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>picked <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        selectedTime <span class="token operator">=</span> picked<span class="token punctuation">;</span>        _hour <span class="token operator">=</span> selectedTime<span class="token punctuation">.</span>hour<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        _minute <span class="token operator">=</span> selectedTime<span class="token punctuation">.</span>minute<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        _time <span class="token operator">=</span> _hour <span class="token operator">+</span> <span class="token string-literal"><span class="token string">' : '</span></span> <span class="token operator">+</span> _minute<span class="token punctuation">;</span>        _timeController<span class="token punctuation">.</span>text <span class="token operator">=</span> _time<span class="token punctuation">;</span>        _timeController<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>            <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">08</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> selectedTime<span class="token punctuation">.</span>hour<span class="token punctuation">,</span> selectedTime<span class="token punctuation">.</span>minute<span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">[</span>hh<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">':'</span></span><span class="token punctuation">,</span> nn<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">" "</span></span><span class="token punctuation">,</span> am<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    _dateController<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token class-name">DateFormat</span><span class="token punctuation">.</span><span class="token function">yMd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _timeController<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span>        <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">08</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hour<span class="token punctuation">,</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>minute<span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">[</span>hh<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">':'</span></span><span class="token punctuation">,</span> nn<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">" "</span></span><span class="token punctuation">,</span> am<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _height <span class="token operator">=</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">;</span>    _width <span class="token operator">=</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">;</span>    dateTime <span class="token operator">=</span> <span class="token class-name">DateFormat</span><span class="token punctuation">.</span><span class="token function">yMd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>        centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>        title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Date time picker'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>        width<span class="token punctuation">:</span> _width<span class="token punctuation">,</span>        height<span class="token punctuation">:</span> _height<span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>          mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceAround<span class="token punctuation">,</span>          children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>            <span class="token class-name">Column</span><span class="token punctuation">(</span>              children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>                <span class="token class-name">Text</span><span class="token punctuation">(</span>                  <span class="token string-literal"><span class="token string">'Choose Date'</span></span><span class="token punctuation">,</span>                  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                      fontStyle<span class="token punctuation">:</span> <span class="token class-name">FontStyle</span><span class="token punctuation">.</span>italic<span class="token punctuation">,</span>                      fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">,</span>                      letterSpacing<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token class-name">InkWell</span><span class="token punctuation">(</span>                  onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">_selectDate</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">}</span><span class="token punctuation">,</span>                  child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>                    width<span class="token punctuation">:</span> _width <span class="token operator">/</span> <span class="token number">1.7</span><span class="token punctuation">,</span>                    height<span class="token punctuation">:</span> _height <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">,</span>                    margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                    decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>                      style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                      enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                      keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span>                      controller<span class="token punctuation">:</span> _dateController<span class="token punctuation">,</span>                      onSaved<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        _setDate <span class="token operator">=</span> val<span class="token punctuation">;</span>                      <span class="token punctuation">}</span><span class="token punctuation">,</span>                      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>                          disabledBorder<span class="token punctuation">:</span>                              <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">.</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token comment">// labelText: 'Time',</span>                          contentPadding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token class-name">Column</span><span class="token punctuation">(</span>              children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>                <span class="token class-name">Text</span><span class="token punctuation">(</span>                  <span class="token string-literal"><span class="token string">'Choose Time'</span></span><span class="token punctuation">,</span>                  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                      fontStyle<span class="token punctuation">:</span> <span class="token class-name">FontStyle</span><span class="token punctuation">.</span>italic<span class="token punctuation">,</span>                      fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w600<span class="token punctuation">,</span>                      letterSpacing<span class="token punctuation">:</span> <span class="token number">0.5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token class-name">InkWell</span><span class="token punctuation">(</span>                  onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token function">_selectTime</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">}</span><span class="token punctuation">,</span>                  child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>                    margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    width<span class="token punctuation">:</span> _width <span class="token operator">/</span> <span class="token number">1.7</span><span class="token punctuation">,</span>                    height<span class="token punctuation">:</span> _height <span class="token operator">/</span> <span class="token number">9</span><span class="token punctuation">,</span>                    alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                    decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>                      style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                      onSaved<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">String</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>                        _setTime <span class="token operator">=</span> val<span class="token punctuation">;</span>                      <span class="token punctuation">}</span><span class="token punctuation">,</span>                      enabled<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>                      keyboardType<span class="token punctuation">:</span> <span class="token class-name">TextInputType</span><span class="token punctuation">.</span>text<span class="token punctuation">,</span>                      controller<span class="token punctuation">:</span> _timeController<span class="token punctuation">,</span>                      decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>                          disabledBorder<span class="token punctuation">:</span>                              <span class="token class-name">UnderlineInputBorder</span><span class="token punctuation">(</span>borderSide<span class="token punctuation">:</span> <span class="token class-name">BorderSide</span><span class="token punctuation">.</span>none<span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token comment">// labelText: 'Time',</span>                          contentPadding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç»“è®º ï¼š</p><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘è®²è§£äº†ä¸€ä¸ªæ—¥æœŸæ—¶é—´é€‰æ‹©å™¨çš„demoï¼Œå¤§å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„æƒ…å†µè¿›è¡Œä¿®æ”¹å’Œå®éªŒï¼Œè¿™ä¸ªå°ä»‹ç»æ¥è‡ªæˆ‘ä»¬è¿™è¾¹çš„æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨ã€‚<br>æˆ‘å¸Œæœ›è¿™ç¯‡åšå®¢å¯ä»¥ä¸ºä½ åœ¨ Flutter é¡¹ç›®ä¸­å°è¯•ä½¿ç”¨æ—¥æœŸæ—¶é—´é€‰æ‹©å™¨æä¾›è¶³å¤Ÿçš„ä¿¡æ¯ã€‚ æ‰€ä»¥è¯·å°è¯•ä¸€ä¸‹ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> TimePicker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>15 Javascript codes you will always need</title>
      <link href="/15-Javascript-codes-you-will-always-need.html"/>
      <url>/15-Javascript-codes-you-will-always-need.html</url>
      
        <content type="html"><![CDATA[<h3 id="éšæœºæ’åˆ—æ•°ç»„"><a href="#éšæœºæ’åˆ—æ•°ç»„" class="headerlink" title="éšæœºæ’åˆ—æ•°ç»„"></a>éšæœºæ’åˆ—æ•°ç»„</h3><p>ä½¿ç”¨æ’åºå’Œéšæœºæ–¹æ³•å¯¹æ•°ç»„è¿›è¡Œæ’åºéå¸¸å®¹æ˜“ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const shuffleArray = (arr) =&gt; arr.sort(() =&gt; 0.5 - Math.random());console.log(shuffleArray([1, 2, 3, 4]));// Result: [ 1, 4, 3, 2 ]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><span id="more"></span><h3 id="æ£€æŸ¥æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ"><a href="#æ£€æŸ¥æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ" class="headerlink" title="æ£€æŸ¥æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ"></a>æ£€æŸ¥æ—¥æœŸæ˜¯å¦æœ‰æ•ˆ</h3><p>ä½¿ç”¨ä»¥ä¸‹ä»£ç æ®µæ£€æŸ¥ç»™å®šæ—¥æœŸæ˜¯å¦æœ‰æ•ˆã€‚</p><pre class="line-numbers language-none"><code class="language-none">const isDateValid = (...val) =&gt; !Number.isNaN(new Date(...val).valueOf());isDateValid("December 17, 1995 03:24:00");// Result: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="å¤åˆ¶åˆ°å‰ªè´´æ¿"><a href="#å¤åˆ¶åˆ°å‰ªè´´æ¿" class="headerlink" title="å¤åˆ¶åˆ°å‰ªè´´æ¿"></a>å¤åˆ¶åˆ°å‰ªè´´æ¿</h3><p>ä½¿ç”¨ navigator.clipboard.writeText è½»æ¾å°†ä»»ä½•æ–‡æœ¬å¤åˆ¶åˆ°å‰ªè´´æ¿ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const copyToClipboard = (text) =&gt; navigator.clipboard.writeText(text);copyToClipboard("Hello World");<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æŸ¥æ‰¾ä¸€å¹´ä¸­çš„å“ªä¸€å¤©"><a href="#æŸ¥æ‰¾ä¸€å¹´ä¸­çš„å“ªä¸€å¤©" class="headerlink" title="æŸ¥æ‰¾ä¸€å¹´ä¸­çš„å“ªä¸€å¤©"></a>æŸ¥æ‰¾ä¸€å¹´ä¸­çš„å“ªä¸€å¤©</h3><p>æŸ¥æ‰¾ç»™å®šæ—¥æœŸçš„å“ªä¸€å¤©ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const dayOfYear = (date) =&gt;  Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);dayOfYear(new Date());// Result: 272<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤§å†™å­—ç¬¦ä¸²"><a href="#å¤§å†™å­—ç¬¦ä¸²" class="headerlink" title="å¤§å†™å­—ç¬¦ä¸²"></a>å¤§å†™å­—ç¬¦ä¸²</h3><p>Javascript æ²¡æœ‰å†…ç½®çš„å¤§å†™å‡½æ•°ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ä¸ºæ­¤ç›®çš„ä½¿ç”¨ä»¥ä¸‹ä»£ç ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const capitalize = str =&gt; str.charAt(0).toUpperCase() + str.slice(1)capitalize("follow for more")// Result: Follow for more<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ±‚ä¸¤å¤©ä¹‹é—´çš„å¤©æ•°"><a href="#æ±‚ä¸¤å¤©ä¹‹é—´çš„å¤©æ•°" class="headerlink" title="æ±‚ä¸¤å¤©ä¹‹é—´çš„å¤©æ•°"></a>æ±‚ä¸¤å¤©ä¹‹é—´çš„å¤©æ•°</h3><p>ä½¿ç”¨ä»¥ä¸‹ä»£ç æ®µæŸ¥æ‰¾ç»™å®šæ—¥æœŸä¹‹é—´çš„å¤©æ•°ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const dayDif = (date1, date2) =&gt; Math.ceil(Math.abs(date1.getTime() - date2.getTime()) / 86400000)dayDif(new Date("2020-10-21"), new Date("2021-10-22"))// Result: 366<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ¸…é™¤æ‰€æœ‰-Cookie"><a href="#æ¸…é™¤æ‰€æœ‰-Cookie" class="headerlink" title="æ¸…é™¤æ‰€æœ‰ Cookie"></a>æ¸…é™¤æ‰€æœ‰ Cookie</h3><p>æ‚¨å¯ä»¥é€šè¿‡ä½¿ç”¨ document.cookie è®¿é—® cookie å¹¶æ¸…é™¤å®ƒæ¥è½»æ¾æ¸…é™¤å­˜å‚¨åœ¨ç½‘é¡µä¸Šçš„æ‰€æœ‰ cookieã€‚</p><pre class="line-numbers language-none"><code class="language-none">const clearCookies = document.cookie.split(';').forEach(cookie =&gt; document.cookie = cookie.replace(/^ +/, '').replace(/=.*/, `=;expires=${new Date(0).toUTCString()};path=/`));<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç”Ÿæˆéšæœºåå…­è¿›åˆ¶"><a href="#ç”Ÿæˆéšæœºåå…­è¿›åˆ¶" class="headerlink" title="ç”Ÿæˆéšæœºåå…­è¿›åˆ¶"></a>ç”Ÿæˆéšæœºåå…­è¿›åˆ¶</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ Math.random å’Œ padEnd å±æ€§ç”Ÿæˆéšæœºåå…­è¿›åˆ¶é¢œè‰²ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const randomHex = () =&gt; `#${Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, "0")}`;console.log(randomHex());// Result: #92b008<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä»æ•°ç»„ä¸­åˆ é™¤é‡å¤é¡¹"><a href="#ä»æ•°ç»„ä¸­åˆ é™¤é‡å¤é¡¹" class="headerlink" title="ä»æ•°ç»„ä¸­åˆ é™¤é‡å¤é¡¹"></a>ä»æ•°ç»„ä¸­åˆ é™¤é‡å¤é¡¹</h3><p>æ‚¨å¯ä»¥ä½¿ç”¨ JavaScript ä¸­çš„ Set è½»æ¾åˆ é™¤é‡å¤é¡¹ã€‚è¿™å¯æ˜¯éå¸¸ç®¡ç”¨çš„ä¸€ä¸ªå¤§æ‹›ï¼</p><pre class="line-numbers language-none"><code class="language-none">const removeDuplicates = (arr) =&gt; [...new Set(arr)];console.log(removeDuplicates([1, 2, 3, 3, 4, 4, 5, 5, 6]));// Result: [ 1, 2, 3, 4, 5, 6 ]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ä»-URL-è·å–æŸ¥è¯¢å‚æ•°"><a href="#ä»-URL-è·å–æŸ¥è¯¢å‚æ•°" class="headerlink" title="ä» URL è·å–æŸ¥è¯¢å‚æ•°"></a>ä» URL è·å–æŸ¥è¯¢å‚æ•°</h3><p>ä½ å¯ä»¥è½»æ¾å–åˆ°URLä¸­çš„å‚æ•°ï¼Œä¸ç®¡æ˜¯window.locationè¿˜æ˜¯goole.com?search=easy&amp;page=3ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const getParameters = (URL) =&gt; {  URL = JSON.parse('{"' + decodeURI(URL.split("?")[1]).replace(/"/g, '\\"').replace(/&amp;/g, '","').replace(/=/g, '":"') +'"}');  return JSON.stringify(URL);};getParameters(window.location)// Result: { search : "easy", page : 3 }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å€ŸåŠ©Dateè®°å½•æ—¶é—´"><a href="#å€ŸåŠ©Dateè®°å½•æ—¶é—´" class="headerlink" title="å€ŸåŠ©Dateè®°å½•æ—¶é—´"></a>å€ŸåŠ©Dateè®°å½•æ—¶é—´</h3><p>æˆ‘ä»¬å¯ä»¥ä»ç»™å®šæ—¥æœŸä»¥å°æ—¶::åˆ†é’Ÿ::ç§’çš„æ ¼å¼è®°å½•æ—¶é—´ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const timeFromDate = date =&gt; date.toTimeString().slice(0, 8);console.log(timeFromDate(new Date(2021, 0, 10, 17, 30, 0))); // Result: "17:30:00"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°"><a href="#æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°" class="headerlink" title="æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°"></a>æ£€æŸ¥ä¸€ä¸ªæ•°å­—æ˜¯å¶æ•°è¿˜æ˜¯å¥‡æ•°</h3><pre class="line-numbers language-none"><code class="language-none">const isEven = num =&gt; num % 2 === 0;console.log(isEven(2)); // Result: True<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ±‚æ•°å­—çš„å¹³å‡å€¼"><a href="#æ±‚æ•°å­—çš„å¹³å‡å€¼" class="headerlink" title="æ±‚æ•°å­—çš„å¹³å‡å€¼"></a>æ±‚æ•°å­—çš„å¹³å‡å€¼</h3><p>ä½¿ç”¨ reduce æ–¹æ³•æ‰¾åˆ°å¤šä¸ªæ•°å­—ä¹‹é—´çš„å¹³å‡å€¼ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const average = (...args) =&gt; args.reduce((a, b) =&gt; a + b) / args.length;average(1, 2, 3, 4);// Result: 2.5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©º"><a href="#æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©º" class="headerlink" title="æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©º"></a>æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©º</h3><p>æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©ºçš„ç®€å•å•è¡Œç¨‹åºå°†è¿”å› true æˆ– falseã€‚</p><pre class="line-numbers language-none"><code class="language-none">const isNotEmpty = arr =&gt; Array.isArray(arr) &amp;&amp; arr.length &gt; 0;isNotEmpty([1, 2, 3]);// Result: true<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="è·å–é€‰å®šçš„æ–‡æœ¬"><a href="#è·å–é€‰å®šçš„æ–‡æœ¬" class="headerlink" title="è·å–é€‰å®šçš„æ–‡æœ¬"></a>è·å–é€‰å®šçš„æ–‡æœ¬</h3><p>ä½¿ç”¨å†…ç½®çš„ getSelectionproperty è·å–ç”¨æˆ·é€‰æ‹©çš„æ–‡æœ¬ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const getSelectedText = () =&gt; window.getSelection().toString();getSelectedText();<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="æ£€æµ‹æš—æ¨¡å¼"><a href="#æ£€æµ‹æš—æ¨¡å¼" class="headerlink" title="æ£€æµ‹æš—æ¨¡å¼"></a>æ£€æµ‹æš—æ¨¡å¼</h3><p>ä½¿ç”¨ä»¥ä¸‹ä»£ç æ£€æŸ¥ç”¨æˆ·çš„è®¾å¤‡æ˜¯å¦å¤„äºæš—æ¨¡å¼ã€‚</p><pre class="line-numbers language-none"><code class="language-none">const isDarkMode = window.matchMedia &amp;&amp; window.matchMedia('(prefers-color-scheme: dark)').matchesconsole.log(isDarkMode) // Result: True or False<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> JavaScript </tag>
            
            <tag> ç¼–ç¨‹æŠ€å·§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter ä¸­çš„ Paypal æ”¯ä»˜ç½‘å…³çš„é›†æˆ</title>
      <link href="/Paypal-Payment-Gateway-Integration-in-Flutter.html"/>
      <url>/Paypal-Payment-Gateway-Integration-in-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/Paypal-Payment-Gateway-Integration-in-Flutter/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>é—®é¢˜ï¼š<br>åœ¨æ’°å†™æœ¬æ–‡æ—¶ï¼ŒPaypal è¿˜æ²¡æœ‰ä¸º Flutter ä¸­çš„æ”¯ä»˜ç½‘å…³é›†æˆæä¾› SDK åŒ…ã€‚ æ­¤å¤–ï¼Œæ•´ä¸ªäº’è”ç½‘ä¸Šè²Œä¼¼éƒ½æ²¡æœ‰è§£å†³æ­¤é—®é¢˜çš„æ–¹æ³•ã€‚<br>åœ¨å¯¹è¯¥ä¸»é¢˜è¿›è¡Œäº†å¤§é‡ç ”ç©¶ä¹‹åï¼Œæˆ‘è§‰å¾—æˆ‘æ‰¾åˆ°äº†è§£å†³æ­¤é—®é¢˜çš„ç®€å•æ–¹æ³•ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š<br>æˆ‘å·²ç»ä½¿ç”¨ WebView æˆåŠŸå®ç°äº† Paypal æ”¯ä»˜ç½‘å…³ã€‚ æˆ‘ä½¿ç”¨äº†ä¸€äº› Paypal çš„å¯ç”¨ API æ¥è¿›è¡Œæ”¯ä»˜ï¼Œè¿™äº› API å¯ä»¥æ­£å¼é›†æˆåˆ°ç½‘ç«™ä¸­ã€‚</p><span id="more"></span><p>æ‰€ä»¥è®©æˆ‘ä»¬ä»ç¼–ç éƒ¨åˆ†å¼€å§‹ã€‚<br>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåä¸º PaypalServices.dart çš„ dart æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä½¿ç”¨ Paypal æ‰§è¡Œäº¤æ˜“æ‰€éœ€çš„æ‰€æœ‰ APIã€‚<br>ä¸‹é¢ç»™å‡ºäº†ä»£ç ã€‚ æ‚¨å¯ä»¥å¤åˆ¶è¿™äº›ä»£ç æ¥åˆ›å»º dart æ–‡ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http/http.dart'</span></span> <span class="token operator">as</span> http<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:async'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:convert'</span></span> <span class="token operator">as</span> convert<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http_auth/http_auth.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">PaypalServices</span> <span class="token punctuation">{</span>  <span class="token class-name">String</span> domain <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"https://api.sandbox.paypal.com"</span></span><span class="token punctuation">;</span> <span class="token comment">// for sandbox mode</span><span class="token comment">//  String domain = "https://api.paypal.com"; // for production mode</span>  <span class="token comment">// change clientId and secret with your own, provided by paypal</span>  <span class="token class-name">String</span> clientId <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'YOUR CLIENT ID'</span></span><span class="token punctuation">;</span>  <span class="token class-name">String</span> secret <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'YOUR SECRET'</span></span><span class="token punctuation">;</span>  <span class="token comment">// for getting the access token from Paypal</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token class-name">BasicAuthClient</span><span class="token punctuation">(</span>clientId<span class="token punctuation">,</span> secret<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> client<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">domain</span></span><span class="token string">/v1/oauth2/token?grant_type=client_credentials'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">final</span> body <span class="token operator">=</span> convert<span class="token punctuation">.</span><span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> body<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"access_token"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">rethrow</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token comment">// for creating the payment request with Paypal</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">createPaypalPayment</span><span class="token punctuation">(</span>      transactions<span class="token punctuation">,</span> accessToken<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">domain</span></span><span class="token string">/v1/payments/payment"</span></span><span class="token punctuation">,</span>          body<span class="token punctuation">:</span> convert<span class="token punctuation">.</span><span class="token function">jsonEncode</span><span class="token punctuation">(</span>transactions<span class="token punctuation">)</span><span class="token punctuation">,</span>          headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string-literal"><span class="token string">"content-type"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"application/json"</span></span><span class="token punctuation">,</span>            <span class="token string-literal"><span class="token string">'Authorization'</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Bearer '</span></span> <span class="token operator">+</span> accessToken          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">final</span> body <span class="token operator">=</span> convert<span class="token punctuation">.</span><span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">201</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>body<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"links"</span></span><span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> body<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"links"</span></span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token class-name">List</span> links <span class="token operator">=</span> body<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"links"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token class-name">String</span> executeUrl <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">;</span>          <span class="token class-name">String</span> approvalUrl <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">;</span>          <span class="token keyword">final</span> item <span class="token operator">=</span> links<span class="token punctuation">.</span><span class="token function">firstWhere</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> o<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rel"</span></span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"approval_url"</span></span><span class="token punctuation">,</span>              orElse<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            approvalUrl <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          <span class="token keyword">final</span> item1 <span class="token operator">=</span> links<span class="token punctuation">.</span><span class="token function">firstWhere</span><span class="token punctuation">(</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> o<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"rel"</span></span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"execute"</span></span><span class="token punctuation">,</span>              orElse<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token keyword">if</span> <span class="token punctuation">(</span>item1 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            executeUrl <span class="token operator">=</span> item1<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"href"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span>          <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">"executeUrl"</span></span><span class="token punctuation">:</span> executeUrl<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"approvalUrl"</span></span><span class="token punctuation">:</span> approvalUrl<span class="token punctuation">}</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">throw</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span>body<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"message"</span></span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">rethrow</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token comment">// for executing the payment transaction</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">executePayment</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> payerId<span class="token punctuation">,</span> accessToken<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">var</span> response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>          body<span class="token punctuation">:</span> convert<span class="token punctuation">.</span><span class="token function">jsonEncode</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string-literal"><span class="token string">"payer_id"</span></span><span class="token punctuation">:</span> payerId<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          headers<span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string-literal"><span class="token string">"content-type"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"application/json"</span></span><span class="token punctuation">,</span>            <span class="token string-literal"><span class="token string">'Authorization'</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Bearer '</span></span> <span class="token operator">+</span> accessToken          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">final</span> body <span class="token operator">=</span> convert<span class="token punctuation">.</span><span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> body<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"id"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">rethrow</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªåä¸º PaypalPayment.dart çš„ dart æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å¸¦æœ‰ Paypal URL çš„ WebView å°éƒ¨ä»¶ï¼Œå¿…é¡»åœ¨å…¶ä¸­æ‰§è¡Œäº¤æ˜“ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:core'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:shared_preferences/shared_preferences.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:webview_flutter/webview_flutter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'PaypalServices.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">PaypalPayment</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">Function</span> onFinish<span class="token punctuation">;</span>  <span class="token class-name">PaypalPayment</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>onFinish<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StatefulWidget</span><span class="token punctuation">&gt;</span></span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">PaypalPaymentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">PaypalPaymentState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PaypalPayment</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ScaffoldState</span><span class="token punctuation">&gt;</span></span> _scaffoldKey <span class="token operator">=</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ScaffoldState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">String</span> checkoutUrl<span class="token punctuation">;</span>  <span class="token class-name">String</span> executeUrl<span class="token punctuation">;</span>  <span class="token class-name">String</span> accessToken<span class="token punctuation">;</span>  <span class="token class-name">PaypalServices</span> services <span class="token operator">=</span> <span class="token class-name">PaypalServices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// you can change default currency according to your need</span>  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">,</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> defaultCurrency <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">"symbol"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"USD "</span></span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"decimalDigits"</span></span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"symbolBeforeTheNumber"</span></span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">"currency"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"USD"</span></span><span class="token punctuation">}</span><span class="token punctuation">;</span>  bool isEnableShipping <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  bool isEnableAddress <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  <span class="token class-name">String</span> returnURL <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'return.example.com'</span></span><span class="token punctuation">;</span>  <span class="token class-name">String</span> cancelURL<span class="token operator">=</span> <span class="token string-literal"><span class="token string">'cancel.example.com'</span></span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">Future</span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span>zero<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>      <span class="token keyword">try</span> <span class="token punctuation">{</span>        accessToken <span class="token operator">=</span> <span class="token keyword">await</span> services<span class="token punctuation">.</span><span class="token function">getAccessToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">final</span> transactions <span class="token operator">=</span> <span class="token function">getOrderParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">final</span> res <span class="token operator">=</span>            <span class="token keyword">await</span> services<span class="token punctuation">.</span><span class="token function">createPaypalPayment</span><span class="token punctuation">(</span>transactions<span class="token punctuation">,</span> accessToken<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            checkoutUrl <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"approvalUrl"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>            executeUrl <span class="token operator">=</span> res<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"executeUrl"</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'exception: '</span></span><span class="token operator">+</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">final</span> snackBar <span class="token operator">=</span> <span class="token class-name">SnackBar</span><span class="token punctuation">(</span>          content<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          duration<span class="token punctuation">:</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>seconds<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          action<span class="token punctuation">:</span> <span class="token class-name">SnackBarAction</span><span class="token punctuation">(</span>            label<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Close'</span></span><span class="token punctuation">,</span>            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token comment">// Some code to undo the change.</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>        _scaffoldKey<span class="token punctuation">.</span>currentState<span class="token punctuation">.</span><span class="token function">showSnackBar</span><span class="token punctuation">(</span>snackBar<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">// item name, price and quantity</span>  <span class="token class-name">String</span> itemName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'iPhone X'</span></span><span class="token punctuation">;</span>  <span class="token class-name">String</span> itemPrice <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'1.99'</span></span><span class="token punctuation">;</span>  int quantity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">getOrderParams</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">List</span> items <span class="token operator">=</span> <span class="token punctuation">[</span>      <span class="token punctuation">{</span>        <span class="token string-literal"><span class="token string">"name"</span></span><span class="token punctuation">:</span> itemName<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">"quantity"</span></span><span class="token punctuation">:</span> quantity<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">"price"</span></span><span class="token punctuation">:</span> itemPrice<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">"currency"</span></span><span class="token punctuation">:</span> defaultCurrency<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"currency"</span></span><span class="token punctuation">]</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">// checkout invoice details</span>    <span class="token class-name">String</span> totalAmount <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'1.99'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> subTotalAmount <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'1.99'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> shippingCost <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'0'</span></span><span class="token punctuation">;</span>    int shippingDiscountCost <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> userFirstName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'Gulshan'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> userLastName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'Yadav'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> addressCity <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'Delhi'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> addressStreet <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'Mathura Road'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> addressZipCode <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'110014'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> addressCountry <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'India'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> addressState <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'Delhi'</span></span><span class="token punctuation">;</span>    <span class="token class-name">String</span> addressPhoneNumber <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'+919990119091'</span></span><span class="token punctuation">;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> temp <span class="token operator">=</span> <span class="token punctuation">{</span>      <span class="token string-literal"><span class="token string">"intent"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"sale"</span></span><span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">"payer"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token string-literal"><span class="token string">"payment_method"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"paypal"</span></span><span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">"transactions"</span></span><span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">{</span>          <span class="token string-literal"><span class="token string">"amount"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string-literal"><span class="token string">"total"</span></span><span class="token punctuation">:</span> totalAmount<span class="token punctuation">,</span>            <span class="token string-literal"><span class="token string">"currency"</span></span><span class="token punctuation">:</span> defaultCurrency<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">"currency"</span></span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token string-literal"><span class="token string">"details"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>              <span class="token string-literal"><span class="token string">"subtotal"</span></span><span class="token punctuation">:</span> subTotalAmount<span class="token punctuation">,</span>              <span class="token string-literal"><span class="token string">"shipping"</span></span><span class="token punctuation">:</span> shippingCost<span class="token punctuation">,</span>              <span class="token string-literal"><span class="token string">"shipping_discount"</span></span><span class="token punctuation">:</span>                  <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1.0</span><span class="token punctuation">)</span> <span class="token operator">*</span> shippingDiscountCost<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token string-literal"><span class="token string">"description"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"The payment transaction description."</span></span><span class="token punctuation">,</span>          <span class="token string-literal"><span class="token string">"payment_options"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string-literal"><span class="token string">"allowed_payment_method"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"INSTANT_FUNDING_SOURCE"</span></span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token string-literal"><span class="token string">"item_list"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>            <span class="token string-literal"><span class="token string">"items"</span></span><span class="token punctuation">:</span> items<span class="token punctuation">,</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>isEnableShipping <span class="token operator">&amp;&amp;</span>                isEnableAddress<span class="token punctuation">)</span>              <span class="token string-literal"><span class="token string">"shipping_address"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>                <span class="token string-literal"><span class="token string">"recipient_name"</span></span><span class="token punctuation">:</span> userFirstName <span class="token operator">+</span>                    <span class="token string-literal"><span class="token string">" "</span></span> <span class="token operator">+</span>                    userLastName<span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"line1"</span></span><span class="token punctuation">:</span> addressStreet<span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"line2"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"city"</span></span><span class="token punctuation">:</span> addressCity<span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"country_code"</span></span><span class="token punctuation">:</span> addressCountry<span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"postal_code"</span></span><span class="token punctuation">:</span> addressZipCode<span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"phone"</span></span><span class="token punctuation">:</span> addressPhoneNumber<span class="token punctuation">,</span>                <span class="token string-literal"><span class="token string">"state"</span></span><span class="token punctuation">:</span> addressState              <span class="token punctuation">}</span><span class="token punctuation">,</span>          <span class="token punctuation">}</span>        <span class="token punctuation">}</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">"note_to_payer"</span></span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Contact us for any questions on your order."</span></span><span class="token punctuation">,</span>      <span class="token string-literal"><span class="token string">"redirect_urls"</span></span><span class="token punctuation">:</span> <span class="token punctuation">{</span>        <span class="token string-literal"><span class="token string">"return_url"</span></span><span class="token punctuation">:</span> returnURL<span class="token punctuation">,</span>        <span class="token string-literal"><span class="token string">"cancel_url"</span></span><span class="token punctuation">:</span> cancelURL      <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> temp<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">print</span><span class="token punctuation">(</span>checkoutUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>checkoutUrl <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>        appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>          backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>backgroundColor<span class="token punctuation">,</span>          leading<span class="token punctuation">:</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>            child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>arrow_back_ios<span class="token punctuation">)</span><span class="token punctuation">,</span>            onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        body<span class="token punctuation">:</span> <span class="token class-name">WebView</span><span class="token punctuation">(</span>          initialUrl<span class="token punctuation">:</span> checkoutUrl<span class="token punctuation">,</span>          javascriptMode<span class="token punctuation">:</span> <span class="token class-name">JavascriptMode</span><span class="token punctuation">.</span>unrestricted<span class="token punctuation">,</span>          navigationDelegate<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">NavigationRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>returnURL<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">final</span> uri <span class="token operator">=</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token keyword">final</span> payerID <span class="token operator">=</span> uri<span class="token punctuation">.</span>queryParameters<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'PayerID'</span></span><span class="token punctuation">]</span><span class="token punctuation">;</span>              <span class="token keyword">if</span> <span class="token punctuation">(</span>payerID <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                services                    <span class="token punctuation">.</span><span class="token function">executePayment</span><span class="token punctuation">(</span>executeUrl<span class="token punctuation">,</span> payerID<span class="token punctuation">,</span> accessToken<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token punctuation">{</span>                  widget<span class="token punctuation">.</span><span class="token function">onFinish</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>                <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span>              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>cancelURL<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">return</span> <span class="token class-name">NavigationDecision</span><span class="token punctuation">.</span>navigate<span class="token punctuation">;</span>          <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>      <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>        key<span class="token punctuation">:</span> _scaffoldKey<span class="token punctuation">,</span>        appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>          leading<span class="token punctuation">:</span> <span class="token class-name">IconButton</span><span class="token punctuation">(</span>              icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>arrow_back<span class="token punctuation">)</span><span class="token punctuation">,</span>              onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>              <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black12<span class="token punctuation">,</span>          elevation<span class="token punctuation">:</span> <span class="token number">0.0</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨åˆ›å»ºå’Œé…ç½®è¿™ä¸¤ä¸ªç»™å®šçš„ä¸Šè¿°æ–‡ä»¶ä¹‹åã€‚ æˆ‘ä»¬éœ€è¦ä»æˆ‘ä»¬çš„ä¸»æ–‡ä»¶è°ƒç”¨ PaypalPayment å°éƒ¨ä»¶ã€‚<br>åœ¨è¿™é‡Œï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç®€å•æ˜“æ‡‚çš„ makePayment.dart æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«ä¸€ä¸ªæŒ‰é’®ï¼Œé€šè¿‡å•å‡»æ‚¨å°†è¢«é‡å®šå‘åˆ° PaypalPayment å°éƒ¨ä»¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/cupertino.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'PaypalPayment.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> makePayment <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>    <span class="token metadata function">@override</span>  _makePaymentState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_makePaymentState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _makePaymentState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span>makePayment<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">TextStyle</span> style <span class="token operator">=</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontFamily<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Open Sans'</span></span><span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">15.0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ScaffoldState</span><span class="token punctuation">&gt;</span></span> _scaffoldKey <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ScaffoldState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>        debugShowCheckedModeBanner<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        home<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>          backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>transparent<span class="token punctuation">,</span>          key<span class="token punctuation">:</span> _scaffoldKey<span class="token punctuation">,</span>          appBar<span class="token punctuation">:</span> <span class="token class-name">PreferredSize</span><span class="token punctuation">(</span>            preferredSize<span class="token punctuation">:</span> <span class="token class-name">Size</span><span class="token punctuation">.</span><span class="token function">fromHeight</span><span class="token punctuation">(</span><span class="token number">45.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            child<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>              backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>              title<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>                mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                children<span class="token punctuation">:</span> <span class="token punctuation">[</span>                  <span class="token class-name">Text</span><span class="token punctuation">(</span>                    <span class="token string-literal"><span class="token string">'Paypal Payment Example'</span></span><span class="token punctuation">,</span>                    style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                        fontSize<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">,</span>                        color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">[</span><span class="token number">900</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                        fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>                        fontFamily<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Open Sans'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          body<span class="token punctuation">:</span><span class="token class-name">Container</span><span class="token punctuation">(</span>              width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span>              child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>                child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>                  crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                  mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                  children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>                    <span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>                      onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                        <span class="token comment">// make PayPal payment</span>                        <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>                          <span class="token class-name">MaterialPageRoute</span><span class="token punctuation">(</span>                            builder<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">PaypalPayment</span><span class="token punctuation">(</span>                              onFinish<span class="token punctuation">:</span> <span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>                                <span class="token comment">// payment done</span>                                <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'order id: '</span></span><span class="token operator">+</span>number<span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token punctuation">}</span><span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                        <span class="token punctuation">)</span><span class="token punctuation">;</span>                                              <span class="token punctuation">}</span><span class="token punctuation">,</span>                      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Paypal'</span></span><span class="token punctuation">,</span> textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">]</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±è¿™ä¹ˆç®€å•ï¼Œè¦ä¸è¦èµ¶ç´§å»è¯•è¯•ï¼Ÿ</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Payment </tag>
            
            <tag> Paypal </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Firebase â€” Flutter</title>
      <link href="/Firebase-%E2%80%94-Flutter.html"/>
      <url>/Firebase-%E2%80%94-Flutter.html</url>
      
        <content type="html"><![CDATA[<p>Firebase æ˜¯ Flâ€‹â€‹utter ä¸­ä½¿ç”¨æœ€å¹¿æ³›çš„åç«¯ä¹‹ä¸€ã€‚å®ƒç”±è°·æ­Œå¼€å‘å¹¶æä¾›äº†å¾ˆå¤šåŠŸèƒ½ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ Firebase ä¸­æœ‰å“ªäº›å¯ä»¥ä¸ Flutter åº”ç”¨é›†æˆçš„åŠŸèƒ½ï¼</p><img src="/Firebase-%E2%80%94-Flutter/1.png" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><p><a href="https://console.firebase.google.com/">Firebase</a> æ˜¯ç”± Google å¼€å‘çš„ä¸€ä¸ªå¹³å°ï¼Œå®ƒæä¾›å¯ä»¥ä¸æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºé›†æˆçš„å„ç§æœåŠ¡ã€‚<br>ä»¥ä¸‹æ˜¯ Firebase æä¾›çš„ä¸€äº›åŠŸèƒ½ï¼š</p><ul><li>éªŒè¯</li><li>Firestore æ•°æ®åº“</li><li>å®æ—¶æ•°æ®åº“</li><li>å­˜å‚¨</li><li>æ‰˜ç®¡</li><li>èŒèƒ½</li><li>æœºå™¨å­¦ä¹ </li><li>å´©æºƒåˆ†æå™¨</li><li>è¿˜æœ‰å¾ˆå¤šâ€¦<br>é‚£ä¹ˆï¼Œè®©æˆ‘ä»¬å°è¯•ä¸€ä¸‹æ‰€æœ‰åŠŸèƒ½çš„ç”¨é€”ï¼</li></ul><img src="/Firebase-%E2%80%94-Flutter/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h3><p>Firebase ä¸ºæˆ‘ä»¬æä¾›äº†å‘æˆ‘ä»¬çš„åº”ç”¨æ·»åŠ èº«ä»½éªŒè¯çš„èƒ½åŠ›ã€‚æ‚¨å¯ä»¥è½¬åˆ° Firebase æ§åˆ¶å°å¹¶æŸ¥çœ‹å¯ä»¥æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºçš„èº«ä»½éªŒè¯æä¾›ç¨‹åºåˆ—è¡¨ã€‚</p><img src="/Firebase-%E2%80%94-Flutter/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="Firestore-æ•°æ®åº“"><a href="#Firestore-æ•°æ®åº“" class="headerlink" title="Firestore æ•°æ®åº“"></a>Firestore æ•°æ®åº“</h3><p>Firestore æ˜¯ Firebase æä¾›çš„æ•°æ®åº“æœåŠ¡ä¹‹ä¸€ã€‚ Firestore æ˜¯ä¸€ä¸ª NoSQL æ–‡æ¡£æ•°æ®åº“ï¼Œä¸“ä¸ºè‡ªåŠ¨æ‰©å±•ã€é«˜æ€§èƒ½å’Œæ˜“äºåº”ç”¨ç¨‹åºå¼€å‘è€Œæ„å»ºã€‚ Firestore æ•°æ®åº“æœ‰ 2 ä¸ªä¸»è¦ç»„ä»¶ï¼š</p><ul><li>æ–‡æ¡£ï¼šå¯ä»¥å°†æ–‡æ¡£è§†ä¸ºæˆ‘ä»¬åœ¨ SQL ä¸­æ‹¥æœ‰çš„è¡¨ã€‚å®ƒæ˜¯ä»¥é”®å€¼å½¢å¼å­˜å‚¨å€¼çš„è®°å½•å•å…ƒã€‚</li><li>é›†åˆï¼šé›†åˆå¯ä»¥è¢«è®¤ä¸ºæ˜¯æ–‡æ¡£çš„å®¹å™¨ã€‚æ¢å¥è¯è¯´ï¼Œé›†åˆå¯ä»¥çœ‹ä½œæ˜¯æˆ‘ä»¬åœ¨ SQL ä¸­æ‹¥æœ‰çš„æ•°æ®åº“ï¼Œè€Œæ–‡æ¡£å¯ä»¥çœ‹ä½œæ˜¯æ•°æ®åº“ä¸­çš„è¡¨ã€‚</li></ul><h3 id="å®æ—¶æ•°æ®åº“"><a href="#å®æ—¶æ•°æ®åº“" class="headerlink" title="å®æ—¶æ•°æ®åº“"></a>å®æ—¶æ•°æ®åº“</h3><p>å®æ—¶æ•°æ®åº“æ˜¯ Firebase æä¾›çš„å¦ä¸€é¡¹æ•°æ®åº“æœåŠ¡ã€‚ Firestore å’Œå®æ—¶æ•°æ®åº“ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œè¿™é‡Œçš„æ•°æ®ä»¥ JSON æ ¼å¼å­˜å‚¨ã€‚<br>å¦‚æœæ‚¨ä¸éœ€è¦é«˜çº§æŸ¥è¯¢ã€æ’åºå’Œäº‹åŠ¡ï¼Œå»ºè®®ä½¿ç”¨å®æ—¶æ•°æ®åº“ã€‚<br>å¦‚æœæ‚¨éœ€è¦ä¸æ•°æ®è¿›è¡Œå¤æ‚çš„äº¤äº’ï¼Œä¾‹å¦‚åœ¨ç”µå­å•†åŠ¡åº”ç”¨ä¸­ï¼Œå»ºè®®ä½¿ç”¨ Cloud Firestoreã€‚</p><h3 id="å­˜å‚¨"><a href="#å­˜å‚¨" class="headerlink" title="å­˜å‚¨"></a>å­˜å‚¨</h3><p>é¡¾åæ€ä¹‰ï¼Œå­˜å‚¨æä¾›äº†åœ¨ Firebase æœåŠ¡å™¨ä¸Šå­˜å‚¨å›¾åƒã€æ–‡ä»¶æˆ–è§†é¢‘å¹¶è½»æ¾ç®¡ç†å®ƒçš„èƒ½åŠ›ã€‚æœ€å¥½çš„ç”¨ä¾‹æ˜¯å°†ç”¨æˆ·çš„ä¸ªäººèµ„æ–™å›¾ç‰‡å­˜å‚¨åœ¨å­˜å‚¨ä¸­ã€‚å½“æ‚¨åœ¨ Firebase å­˜å‚¨ä¸­ä¸Šä¼ ä»»ä½•æ–‡ä»¶æ—¶ï¼Œä¼šç”Ÿæˆä¸€ä¸ªå”¯ä¸€é“¾æ¥ï¼Œç”¨äºè®¿é—®è¯¥æ–‡ä»¶ã€‚</p><h3 id="äº‘å‡½æ•°"><a href="#äº‘å‡½æ•°" class="headerlink" title="äº‘å‡½æ•°"></a>äº‘å‡½æ•°</h3><p>äº‘å‡½æ•°å…è®¸æ‚¨éšæ—¶è¿è¡Œä»»ä½•åç«¯ä»£ç ã€‚å®ƒå¯ä»¥é€šè¿‡ç‰¹å®šäº‹ä»¶è§¦å‘ã€‚<br>ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æ›´æ–°ä»–/å¥¹çš„ç”¨æˆ·åæ—¶ï¼Œæ‚¨å¸Œæœ›åœ¨æ‰€æœ‰é›†åˆä¸­æ›´æ–°ç‰¹å®šç”¨æˆ·çš„ç”¨æˆ·åã€‚<br>æ‚¨çš„äº‘åŠŸèƒ½å­˜å‚¨åœ¨ Google Cloud ä¸­ï¼Œæ— éœ€ç®¡ç†æˆ–æ‰©å±•ä»»ä½•æœåŠ¡å™¨ã€‚</p><h3 id="äº‘æ¶ˆæ¯ä¼ é€’"><a href="#äº‘æ¶ˆæ¯ä¼ é€’" class="headerlink" title="äº‘æ¶ˆæ¯ä¼ é€’"></a>äº‘æ¶ˆæ¯ä¼ é€’</h3><p>Cloud Messaging æˆ– Firebase Cloud Messaging (FCM) å¯ä»¥è¢«è®¤ä¸ºæ˜¯ç»§æ•°æ®åº“æœåŠ¡ä¹‹åä½¿ç”¨æœ€å¹¿æ³›çš„ Firebase åŠŸèƒ½ä¹‹ä¸€ã€‚<br>ä½¿ç”¨ FCMï¼Œæ‚¨å¯ä»¥å‘æ‚¨çš„åº”ç”¨ç¨‹åºå‘é€é€šçŸ¥ã€‚<br>æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„ FCM ä»¤ç‰Œï¼Œè¯¥ä»¤ç‰Œä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œæ›´æ–°ã€‚æ‚¨å¯ä»¥é€šè¿‡é€šçŸ¥å‘é€æœ€å¤š 4 KB çš„æœ‰æ•ˆè´Ÿè½½ã€‚<br>ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æ·»åŠ æ–°å¸–å­æˆ–æœ‰äººå¯¹æ‚¨çš„å¸–å­å‘è¡¨è¯„è®ºæ—¶ï¼Œæ‚¨å¯ä»¥å‘é€é€šçŸ¥ï¼</p><h3 id="å´©æºƒåˆ†æå™¨"><a href="#å´©æºƒåˆ†æå™¨" class="headerlink" title="å´©æºƒåˆ†æå™¨"></a>å´©æºƒåˆ†æå™¨</h3><p>é¡¾åæ€ä¹‰ï¼ŒCrashlytics å¸®åŠ©æˆ‘ä»¬å°†å´©æºƒæŠ¥å‘Šå‘é€åˆ° Firebase æ§åˆ¶å°ã€‚<br>Crashlytics å¯ä»¥å¸®åŠ©æ‚¨ä»æ‚¨çš„ç”Ÿäº§çº§åˆ«å‘å¸ƒçš„åº”ç”¨ç¨‹åºä¸­è·å–æ—¥å¿—ï¼Œä»¥ä¾¿å½“ç”¨æˆ·æŠ±æ€¨æŸäº‹ä¸å·¥ä½œæˆ–åº”ç”¨ç¨‹åºå´©æºƒæ—¶ï¼Œæ‚¨å¯ä»¥ä» Crashlytics è·å–ä¿¡æ¯ã€‚<br>ä¸ä»…æ˜¯æ—¥å¿—ï¼Œå®ƒè¿˜æä¾›å…¶ä»–ä¿¡æ¯ï¼Œä¾‹å¦‚å´©æºƒå‘ç”Ÿåœ¨å“ªä¸ªæ“ä½œç³»ç»Ÿå’Œç‰ˆæœ¬ä¸Šï¼Œæœ‰å¤šå°‘ç”¨æˆ·é¢ä¸´è¿™æ¬¡å´©æºƒç­‰ç­‰ï¼</p><h3 id="åŠ¨æ€é“¾æ¥"><a href="#åŠ¨æ€é“¾æ¥" class="headerlink" title="åŠ¨æ€é“¾æ¥"></a>åŠ¨æ€é“¾æ¥</h3><p>åŠ¨æ€é“¾æ¥å…è®¸æˆ‘ä»¬å°†ç”¨æˆ·ä»é“¾æ¥å¸¦åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä¸Šçš„ç‰¹å®šå†…å®¹ã€‚<br>ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ­£åœ¨åˆ¶ä½œç¤¾äº¤åª’ä½“åº”ç”¨ç¨‹åºï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ç¤¾äº¤åª’ä½“ç­‰å°†ç‰¹å®šå¸–å­åˆ†äº«ç»™å…¶ä»–ç”¨æˆ·ï¼Œå½“å…¶ä»–ç”¨æˆ·ç‚¹å‡»è¯¥é“¾æ¥æ—¶ï¼Œæ‚¨å¯ä»¥å†³å®šè¦åšä»€ä¹ˆã€‚<br>å¦‚æœè¯¥ç”¨æˆ·å®‰è£…äº†åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥ç›´æ¥å‘ä»–ä»¬æ˜¾ç¤ºç‰¹å®šå¸–å­ã€‚<br>å¦‚æœç”¨æˆ·æ²¡æœ‰å®‰è£…åº”ç”¨ç¨‹åºï¼Œæ‚¨ä¹Ÿå¯ä»¥å°†ç”¨æˆ·å¯¼èˆªåˆ° Play Store æˆ– App Storeï¼</p><h3 id="Firebase-åˆ†æ"><a href="#Firebase-åˆ†æ" class="headerlink" title="Firebase åˆ†æ"></a>Firebase åˆ†æ</h3><p>Firebase Analytics æˆ– Google Analytics for Firebase å…è®¸æ‚¨å°†åˆ†ææœåŠ¡æ·»åŠ åˆ°æ‚¨çš„åº”ç”¨ä¸­ã€‚<br>åœ¨æ­¤åŠŸèƒ½ä¸­ï¼Œæ‚¨å¯ä»¥éšæ—¶æ·»åŠ äº‹ä»¶ã€‚<br>é»˜è®¤æƒ…å†µä¸‹ï¼ŒFirebase ä¼šæä¾›ä¸€äº›åˆ†æï¼Œä¾‹å¦‚é¡µé¢æ‰“å¼€çš„æ¬¡æ•°ã€æ´»è·ƒç”¨æˆ·çš„æ•°é‡ç­‰ã€‚<br>ä½†æ˜¯ï¼Œæ‚¨ä¹Ÿå¯ä»¥æ·»åŠ è‡ªå®šä¹‰äº‹ä»¶ï¼Œä¾‹å¦‚ï¼Œç”¨æˆ·ç‚¹å‡»ç™»å½•æŒ‰é’®ï¼Œç”¨æˆ·åœç•™äº†å¤šé•¿æ—¶é—´ä½¿ç”¨åº”ç”¨ç¨‹åºç­‰ã€‚</p><h3 id="è¿œç¨‹é…ç½®"><a href="#è¿œç¨‹é…ç½®" class="headerlink" title="è¿œç¨‹é…ç½®"></a>è¿œç¨‹é…ç½®</h3><p>è¿œç¨‹é…ç½®å…è®¸æ‚¨æ›´æ”¹åº”ç”¨ç¨‹åºçš„å¤–è§‚ï¼Œè€Œæ— éœ€ç”¨æˆ·æ›´æ–°åº”ç”¨ç¨‹åºã€‚<br>å®ƒæ˜¯ä»¥é”®å€¼å¯¹çš„æ–¹å¼å­˜åœ¨çš„ã€‚<br>å‡è®¾æ‚¨å·²å‡†å¤‡å¥½èŠå¤©åŠŸèƒ½ï¼Œä½†æ‚¨ä¸å¸Œæœ›ç”¨æˆ·æŸ¥çœ‹å®ƒã€‚<br>å› æ­¤ï¼Œæ‚¨å¯ä»¥åˆ›å»ºä¸€ä¸ªé”®å€¼å¯¹ isChatVisible å¹¶å°†å…¶è®¾ç½®ä¸º falseã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­è·å–å®ƒå¹¶ç¡®å®šæ˜¯å¦æ˜¾ç¤ºèŠå¤©åŠŸèƒ½ã€‚<br>ç°åœ¨ï¼Œåªè¦æ‚¨æƒ³æ˜¾ç¤ºå®ƒï¼Œåªéœ€å°†å€¼æ›´æ”¹ä¸º trueï¼</p><h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>å› æ­¤ï¼Œåœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬ä»‹ç»äº† Firebase æä¾›çš„ä¸»è¦æœåŠ¡ã€‚<br>è™½ç„¶è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ï¼Œä½†è¿™äº›æ˜¯è¢«å¹¿æ³›ä½¿ç”¨çš„ï¼<br>Firebase å¯èƒ½æ˜¯æ‚¨çš„åç«¯çš„æœ€ä½³é€‰æ‹©ä¹‹ä¸€ï¼Œå› ä¸ºå®ƒå¯ä»¥åœ¨ä¸€å®šé™åº¦å†…å…è´¹ä½¿ç”¨ï¼Œè¿™å¯èƒ½ä¼šå¸®åŠ©æ‚¨å®Œæˆå·¥ä½œï¼</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Firebase </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterï¼šé»„é‡‘æµ‹è¯• â€”â€” æ¯”è¾ƒ Widgets å’Œ Snapshots</title>
      <link href="/Flutter-Golden-tests-%E2%80%94-compare-Widgets-with-Snapshots.html"/>
      <url>/Flutter-Golden-tests-%E2%80%94-compare-Widgets-with-Snapshots.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-Golden-tests-%E2%80%94-compare-Widgets-with-Snapshots/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>æµ‹è¯•å¯¹äºäº¤ä»˜å…·æœ‰æœ€ä½³è´¨é‡çš„åº”ç”¨ç¨‹åºéå¸¸é‡è¦ã€‚ åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘æƒ³è°ˆè°ˆ Widget æµ‹è¯•ä¸­é²œä¸ºäººçŸ¥çš„ç‰¹æ€§ä¹‹ä¸€â€”â€”é»„é‡‘æµ‹è¯•ã€‚</p><span id="more"></span><h3 id="ä»€ä¹ˆæ˜¯é»„é‡‘æµ‹è¯•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯é»„é‡‘æµ‹è¯•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯é»„é‡‘æµ‹è¯•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯é»„é‡‘æµ‹è¯•ï¼Ÿ</h3><p>é»„é‡‘æµ‹è¯•åŸºæœ¬ä¸Šæ˜¯å°éƒ¨ä»¶æµ‹è¯•ã€‚<br>é»„é‡‘æ–‡ä»¶æ˜¯ä»æ‰‹åŠ¨éªŒè¯çš„å°éƒ¨ä»¶åˆ›å»ºçš„å›¾åƒæ–‡ä»¶ã€‚</p><h3 id="å¦‚ä½•åˆ›å»ºé»„é‡‘æµ‹è¯•ï¼Ÿ"><a href="#å¦‚ä½•åˆ›å»ºé»„é‡‘æµ‹è¯•ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ›å»ºé»„é‡‘æµ‹è¯•ï¼Ÿ"></a>å¦‚ä½•åˆ›å»ºé»„é‡‘æµ‹è¯•ï¼Ÿ</h3><p>ä½œä¸ºç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ä¸º Flutter çš„â€œHello Worldâ€åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªé»„é‡‘æµ‹è¯•ã€‚</p><img src="/Flutter-Golden-tests-%E2%80%94-compare-Widgets-with-Snapshots/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ Flutter é¡¹ç›®æµ‹è¯•æ–‡ä»¶å¤¹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹ä»£ç åˆ›å»º golden_widget_test.dartï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Golden test'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">WidgetTester</span> tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">await</span> <span class="token function">expectLater</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token function">matchesGoldenFile</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'main.png'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æ‚¨æ‰€è§ï¼Œå»ºç«‹é»„é‡‘æµ‹è¯•å°±åƒåˆ›å»ºæ™®é€šçš„å°æ§ä»¶æµ‹è¯•ä¸€æ ·</p><pre class="line-numbers language-none"><code class="language-none">await tester.pumpWidget(MyApp());<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æå–å‡ºå°éƒ¨ä»¶åï¼Œå°†å…¶ä¸å¯¹åº”çš„å›¾åƒè¿›è¡Œæ¯”è¾ƒï¼š</p><pre class="line-numbers language-none"><code class="language-none">await expectLater(find.byType(MyApp),                  matchesGoldenFile('main.png'));<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æˆ‘ä»¬ä½¿ç”¨expectLaterï¼Œå› ä¸ºmatchesGoldenFileæ˜¯ä¸€ä¸ªå¼‚æ­¥åŒ¹é…å™¨ã€‚ è¯¥æ–¹æ³•ä¸æ–¹æ³• expect å®Œå…¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå½“åŒ¹é…å™¨å®ŒæˆåŒ¹é…æ—¶è¿”å›çš„æ˜¯ Future ã€‚</p><h3 id="å¦‚ä½•ç”Ÿæˆé»„é‡‘æ–‡ä»¶ï¼Ÿ"><a href="#å¦‚ä½•ç”Ÿæˆé»„é‡‘æ–‡ä»¶ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç”Ÿæˆé»„é‡‘æ–‡ä»¶ï¼Ÿ"></a>å¦‚ä½•ç”Ÿæˆé»„é‡‘æ–‡ä»¶ï¼Ÿ</h3><p>ç°åœ¨æ˜¯æ—¶å€™ç”Ÿæˆè¿™äº›æ‰‹åŠ¨éªŒè¯çš„å›¾åƒäº†ã€‚ å¦‚æœæ‚¨æƒ³ä¸ºæ‰€æœ‰ Golden æµ‹è¯•ï¼ˆæˆ–æ›´æ–°æ—§æµ‹è¯•ï¼‰ç”Ÿæˆå›¾åƒï¼Œè¯·è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">flutter test --update-goldens<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>main.png æ–‡ä»¶åº”è¯¥å‡ºç°åœ¨æ‚¨çš„é¡¹ç›®æµ‹è¯•æ–‡ä»¶å¤¹ä¸­ã€‚ ä¸è¦å¿˜è®°å°†å…¶æ·»åŠ åˆ°ç‰ˆæœ¬æ§åˆ¶ä¸­ã€‚</p><img src="/Flutter-Golden-tests-%E2%80%94-compare-Widgets-with-Snapshots/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¯¹äºä¸€ä¸ªç‰¹å®šçš„æµ‹è¯•ï¼Œæ‚¨å¯ä»¥è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">flutter test --update-goldens &lt;path_to_test_file&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¦‚ä½•è¿è¡Œæµ‹è¯•ï¼Ÿ"><a href="#å¦‚ä½•è¿è¡Œæµ‹è¯•ï¼Ÿ" class="headerlink" title="å¦‚ä½•è¿è¡Œæµ‹è¯•ï¼Ÿ"></a>å¦‚ä½•è¿è¡Œæµ‹è¯•ï¼Ÿ</h3><p>æ‚¨ç°åœ¨å¯ä»¥åƒæ™®é€šå•å…ƒæµ‹è¯•ä¸€æ ·è¿è¡Œæµ‹è¯•ï¼Œä»¥éªŒè¯ç”Ÿæˆçš„ Golden æ–‡ä»¶æ˜¯å¦ä¸æ‚¨çš„å°éƒ¨ä»¶åŒ¹é…ã€‚</p><pre class="line-numbers language-none"><code class="language-none">flutter test<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é»„é‡‘æµ‹è¯•æœ‰åŠ©äºæ£€æŸ¥æ‚¨çš„å°éƒ¨ä»¶æ˜¯å¦ç¬¦åˆé¢„æœŸã€‚ å®ƒä¸å¿…æ˜¯æ•´ä¸ªå±å¹•ã€‚ æ‚¨ä¹Ÿå¯ä»¥ä¸º UI çš„ä¸€éƒ¨åˆ†åˆ›å»ºé»„é‡‘æµ‹è¯•ã€‚ å¦‚æœæ‚¨åœ¨ä¸€æ®µæ—¶é—´å†…æ›´æ”¹äº† UIï¼Œè¯·ä¸è¦å¿˜è®°ç”Ÿæˆæ–°å›¾åƒï¼›ï¼‰</p><h3 id="Underhood"><a href="#Underhood" class="headerlink" title="Underhood"></a>Underhood</h3><p>å½“æ‚¨ç”Ÿæˆå›¾åƒæ—¶ï¼ŒLocalFileComparatorï¼ˆé»˜è®¤çš„é»„é‡‘æ–‡ä»¶æ¯”è¾ƒå™¨ï¼‰ç”¨äºåˆ›å»º/æ›´æ–°ç£ç›˜ä¸Šçš„æ–‡ä»¶ä»¥åŒ¹é…æ¸²æŸ“ã€‚ å½“æ‚¨è¿è¡Œæµ‹è¯•æ—¶ï¼ŒLocalFileComparator ä»æœ¬åœ°æ–‡ä»¶ç³»ç»ŸåŠ è½½å›¾åƒæ–‡ä»¶ï¼Œå¹¶å¯¹ç¼–ç çš„ PNG æ‰§è¡Œç®€å•çš„é€å­—èŠ‚æ¯”è¾ƒã€‚ å¦‚æœå­˜åœ¨å®Œå…¨åŒ¹é…ï¼Œåˆ™è¿”å› trueã€‚ å³ä½¿æ‚¨çš„æ–‡ä»¶ä»£è¡¨ç›¸åŒçš„åƒç´ ï¼Œä½†ç¼–ç ä¸åŒï¼Œæµ‹è¯•ä¹Ÿä¼šå¤±è´¥ã€‚<br>æ‚¨å¯ä»¥é€šè¿‡å®ç°æ‚¨çš„æ¥è¦†ç›–é»˜è®¤æ¯”è¾ƒå™¨ã€‚ ä¸ºæ­¤ï¼Œæ‚¨çš„æ¯”è¾ƒå™¨éœ€è¦æ‰©å±• GoldenFileComparator ç±»ã€‚ ç„¶åå°†è¯¥ç±»çš„ä¸€ä¸ªå®ä¾‹åˆ†é…ç»™goldenFileComparatorã€‚ ä»£ç ç‰‡æ®µå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  goldenFileComparator <span class="token operator">=</span> <span class="token class-name">YourComparator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Golden test'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">WidgetTester</span> tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">await</span> <span class="token function">expectLater</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token function">matchesGoldenFile</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'main.png'</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">YourComparator</span> <span class="token keyword">extends</span> <span class="token class-name">GoldenFileComparator</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">Uri</span> golden<span class="token punctuation">,</span> <span class="token class-name">Uint8List</span> imageBytes<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// TODO: implement update</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Uint8List</span> imageBytes<span class="token punctuation">,</span> <span class="token class-name">Uri</span> golden<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// TODO: implement compare</span>    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¦ä¸ºæ‰€æœ‰æµ‹è¯•è®¾ç½® Golden File Comparatorï¼Œæ‚¨å¯ä»¥åœ¨ flutter_test_config.dart ä¸­æŒ‡å®šå®ƒã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> CI/CD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•ä½¿ç”¨ Codemagic CI/CD è¿è¡Œ Flutter Goldenï¼ˆå¿«ç…§ï¼‰æµ‹è¯•</title>
      <link href="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD.html"/>
      <url>/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD.html</url>
      
        <content type="html"><![CDATA[<img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>æµ‹è¯•æ˜¯å¼€å‘çš„ä¸€ä¸ªéå¸¸é‡è¦çš„æ–¹é¢ï¼Œå®ƒæœ‰åŠ©äºç¡®ä¿æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œå¹¶ä¸ºç”¨æˆ·æä¾›æ­£ç¡®çš„å¤–è§‚ã€‚ å¾ˆé«˜å…´æœ‰ CI/CD å·¥å…·å¯ä»¥è‡ªåŠ¨ä¸ºæ‚¨æ£€æŸ¥åº”ç”¨ç¨‹åºè´¨é‡ã€åœ¨å‡ºç°é—®é¢˜æ—¶é€šçŸ¥å›¢é˜Ÿä»¥åŠå°†åº”ç”¨ç¨‹åºå‘å¸ƒç»™æœ€ç»ˆç”¨æˆ·ã€‚<br>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å’Œæ‚¨å” ä¸€å” å¦‚ä½•ä½¿ç”¨ Codemagic CI/CD è¿è¡Œ Golden æµ‹è¯•ã€‚</p><span id="more"></span><h3 id="ç¬¬-1-æ­¥ï¼šåˆ›å»ºé»„é‡‘ï¼ˆå¿«ç…§ï¼‰æµ‹è¯•"><a href="#ç¬¬-1-æ­¥ï¼šåˆ›å»ºé»„é‡‘ï¼ˆå¿«ç…§ï¼‰æµ‹è¯•" class="headerlink" title="ç¬¬ 1 æ­¥ï¼šåˆ›å»ºé»„é‡‘ï¼ˆå¿«ç…§ï¼‰æµ‹è¯•"></a>ç¬¬ 1 æ­¥ï¼šåˆ›å»ºé»„é‡‘ï¼ˆå¿«ç…§ï¼‰æµ‹è¯•</h3><p>ä½¿ç”¨ä»¥ä¸‹ä»£ç åœ¨è®¡æ•°å™¨åº”ç”¨ç¨‹åºçš„æµ‹è¯•æ–‡ä»¶å¤¹ä¸­åˆ›å»º golden_widget_test.dartï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token function">testWidgets</span><span class="token punctuation">(</span>â€˜<span class="token class-name">Golden</span> testâ€™<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">WidgetTester</span> tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">await</span> <span class="token function">expectLater</span><span class="token punctuation">(</span>find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token function">matchesGoldenFile</span><span class="token punctuation">(</span>â€˜goldens<span class="token operator">/</span>main<span class="token punctuation">.</span>pngâ€™<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”Ÿæˆå¿«ç…§ï¼š</p><pre class="line-numbers language-none"><code class="language-none">flutter test â€” update-goldens<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¬¬-2-æ­¥ï¼šä½¿ç”¨-Codemagic-è¿è¡Œ-Goldenï¼ˆå¿«ç…§ï¼‰æµ‹è¯•"><a href="#ç¬¬-2-æ­¥ï¼šä½¿ç”¨-Codemagic-è¿è¡Œ-Goldenï¼ˆå¿«ç…§ï¼‰æµ‹è¯•" class="headerlink" title="ç¬¬ 2 æ­¥ï¼šä½¿ç”¨ Codemagic è¿è¡Œ Goldenï¼ˆå¿«ç…§ï¼‰æµ‹è¯•"></a>ç¬¬ 2 æ­¥ï¼šä½¿ç”¨ Codemagic è¿è¡Œ Goldenï¼ˆå¿«ç…§ï¼‰æµ‹è¯•</h3><p>å½“æ‚¨ç”Ÿæˆé»„é‡‘ï¼ˆå¿«ç…§ï¼‰æµ‹è¯•æ—¶ï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå¹³å°ä¼šç”Ÿæˆä¸åŒçš„æ–‡ä»¶ã€‚ è¿™æ„å‘³ç€å¦‚æœæ‚¨åœ¨ Linux ä¸Šç”Ÿæˆ Golden æ–‡ä»¶ï¼Œç„¶ååœ¨ MacOS ä¸Šè¿è¡Œæµ‹è¯•ï¼Œæ‚¨çš„ Golden æµ‹è¯•å¾ˆå¯èƒ½ä¼šå¤±è´¥ã€‚</p><p><strong>ä½¿ç”¨ Codemagic è¿è¡Œçš„æ‰€æœ‰æµ‹è¯•ï¼Œéƒ½æ˜¯ä½¿ç”¨MacOSç³»ç»Ÿå®Œæˆçš„ã€‚</strong></p><p>å› æ­¤ï¼Œä½¿ç”¨ MacOS çš„äººå…·æœ‰ä¼˜åŠ¿ã€‚<br>æ— éœ€ä»»ä½•é¢å¤–å·¥ä½œï¼Œæ‰€æœ‰é€šè¿‡çš„é»„é‡‘æµ‹è¯•éƒ½å°†åœ¨ Codemagic CI/CD ä¸ŠæˆåŠŸå®Œæˆã€‚<br>å³ä½¿æ‚¨æ˜¯ MacOS ç”¨æˆ·ï¼Œè™½ç„¶ï¼Œæ‚¨åªéœ€è¦æŒ‰â€œå¼€å§‹æ–°æ„å»ºâ€å¹¶ä¸”ä¸€åˆ‡éƒ½ä¼šæœ‰æ¡ä¸ç´Šçš„æ‰§è¡Œå¹¶æœ€ç»ˆä¼šæˆåŠŸï¼Œä½†æ˜¯ï¼Œåƒä¸‡ä¸è¦å¿˜è®°åœ¨æœ¬åœ°ç”Ÿæˆï¼ˆè§ä¸Šæ–‡ï¼‰å¹¶æäº¤é»„é‡‘æ–‡ä»¶å“ˆã€‚</p><img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœæ‚¨å›¢é˜Ÿä¸­çš„æ¯ä¸ªäººéƒ½ä½¿ç”¨ MacOSï¼Œé‚£ä¹ˆæ‚¨å°±å®Œæˆäº†æœ¬æ¬¡çš„å­¦ä¹  ğŸ¥³ã€‚ æ— éœ€ç»§ç»­é˜…è¯»å•¦ã€‚88~</p><h3 id="ç¬¬-3-æ­¥ï¼šå¦‚æœæ‚¨ä¸æ˜¯-MacOS-ç”¨æˆ·ï¼Œè¯·è¿è¡Œé»„é‡‘æµ‹è¯•"><a href="#ç¬¬-3-æ­¥ï¼šå¦‚æœæ‚¨ä¸æ˜¯-MacOS-ç”¨æˆ·ï¼Œè¯·è¿è¡Œé»„é‡‘æµ‹è¯•" class="headerlink" title="ç¬¬ 3 æ­¥ï¼šå¦‚æœæ‚¨ä¸æ˜¯ MacOS ç”¨æˆ·ï¼Œè¯·è¿è¡Œé»„é‡‘æµ‹è¯•"></a>ç¬¬ 3 æ­¥ï¼šå¦‚æœæ‚¨ä¸æ˜¯ MacOS ç”¨æˆ·ï¼Œè¯·è¿è¡Œé»„é‡‘æµ‹è¯•</h3><p>Codemagic æ”¯æŒä¸ MacOS åŸºç¡€è®¾æ–½çš„å…è´¹è¿œç¨‹è¿æ¥ï¼Œå¹¶ä¸”è¿˜å…·æœ‰ FCI_EXPORT_DIR å˜é‡ï¼Œç”¨äºåœ¨æ„å»ºå®Œæˆæ—¶ä»æ„å»ºå™¨æœºå™¨ä¸Šä¼ ä»»ä½•æ–‡ä»¶ã€‚<br>ä½ ä¸éœ€è¦åœ¨ä½ çš„æœºå™¨ä¸Šç”Ÿæˆ Golden æ–‡ä»¶ã€‚ç›¸åï¼Œä½ å¯ä»¥ä½¿ç”¨ Codemagic æ¥å®Œæˆã€‚<br>ä¹‹åï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ªä»…ç”¨äºç”Ÿæˆå¿«ç…§çš„æ–°å·¥ä½œæµï¼Œå› ä¸ºï¼Œä½ åº”è¯¥ä¸å¸Œæœ›èŠ±è´¹äº†å¾ˆå¤šæ„å»ºæ—¶é—´ï¼Œå´å¾—åˆ°ä»¥æ— æ³•èº²é¿çš„é”™è¯¯ç»“æœå§ï¼Ÿ</p><img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨ Test éƒ¨åˆ†ï¼Œæ‚¨éœ€è¦å¯ç”¨ Flutter æµ‹è¯•å¹¶å°† Flutter æµ‹è¯•å‚æ•°è®¾ç½®ä¸ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">test --update-goldens<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸Šé¢çš„å‘½ä»¤å°†ä¸ºæ‚¨ç”Ÿæˆå¿«ç…§ã€‚ ç„¶åï¼Œæ‚¨åº”è¯¥åœ¨Post-testè„šæœ¬éƒ¨åˆ†ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†ç”Ÿæˆçš„å¿«ç…§å¤åˆ¶åˆ° $FCI_EXPORT_DIRï¼š</p><pre class="line-numbers language-none"><code class="language-none">cp -r test/goldens $FCI_EXPORT_DIR<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸è¦å¿˜è®°ç¦ç”¨æ„å»ºå’Œå‘å¸ƒéƒ¨åˆ†ï¼</p><img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¿å­˜è®¾ç½®å¹¶å¼€å§‹æ–°çš„æ„å»ºã€‚ å®Œæˆæ„å»ºåï¼Œæ‚¨åº”è¯¥ä¼šåœ¨å·¦ä¾§çš„ Artifacts éƒ¨åˆ†ä¸­çœ‹åˆ°ç”Ÿæˆçš„é»„é‡‘æ–‡ä»¶ã€‚</p><img src="/How-to-run-Flutter-Golden-Snapshot-Tests-with-Codemagic-CI-CD/7.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‚¨ç°åœ¨éœ€è¦çš„æ˜¯ä¸‹è½½è¿™ä¸ª zip å¹¶å°†ç”Ÿæˆçš„é»„é‡‘æ–‡ä»¶æå–åˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚<br>æç¤ºï¼šæ‚¨çš„é¡¹ç›®ä¸­å­˜åœ¨æœ‰ Golden æµ‹è¯•çš„è¯ï¼Œå¦‚æœå¹³å°ä¸æ˜¯ MacOSï¼Œåˆ™åº”æ·»åŠ è·³è¿‡å‚æ•°ã€‚ ç„¶åï¼Œå¦‚æœä½ åœ¨æœ¬åœ°è¿è¡Œ flutter testï¼Œæµ‹è¯•ä¸ä¼šå› ä¸ºä¸ Mac çš„é»„é‡‘å·®å¼‚è€Œå¤±è´¥ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">testWidgets</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Golden test'</span></span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">WidgetTester</span> tester<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">await</span> tester<span class="token punctuation">.</span><span class="token function">pumpWidget</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">await</span> <span class="token function">expectLater</span><span class="token punctuation">(</span>      find<span class="token punctuation">.</span><span class="token function">byType</span><span class="token punctuation">(</span><span class="token class-name">MyApp</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">matchesGoldenFile</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'goldens/main.png'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">,</span> skip<span class="token punctuation">:</span> <span class="token operator">!</span><span class="token class-name">Platform</span><span class="token punctuation">.</span>isMacOS<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> CI/CD </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ Firebase åœ¨åå°å’Œå‰å°æ¨é€é€šçŸ¥</title>
      <link href="/Push-Notification-In-Flutter-in-Background-as-well-as-in-Foreground-Using-Firebase.html"/>
      <url>/Push-Notification-In-Flutter-in-Background-as-well-as-in-Foreground-Using-Firebase.html</url>
      
        <content type="html"><![CDATA[<img src="/Push-Notification-In-Flutter-in-Background-as-well-as-in-Foreground-Using-Firebase/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬éœ€è¦é›†æˆæ¨é€é€šçŸ¥ã€‚<br>è™½ç„¶æˆ‘ä»¬æˆåŠŸé›†æˆäº†å®ƒï¼Œä½†æœ‰æ—¶åœ¨åº”ç”¨ç¨‹åºæœªè¿è¡Œæˆ–åœ¨åå°æ‰“å¼€æ—¶å‘é€æ¨é€é€šçŸ¥ä¼šå‡ºç°é—®é¢˜æˆ–è€…å¯¼è‡´åº”ç”¨ç¨‹åºçš„å´©æºƒã€‚<br>æ‰€ä»¥ï¼Œæœ¬ç¯‡å†…å®¹ä¸­æˆ‘ä»¬å°†åœ¨Flutterä¸­ä½¿ç”¨ firebase ï¼Œä½¿ç”¨å®ƒçš„é€šçŸ¥é€‚ç”¨äºæ‰€æœ‰çŠ¶æ€ï¼šå‰å°ã€åå°ï¼Œç”šè‡³åœ¨åº”ç”¨ç¨‹åºå…³é—­ï¼ˆæœªè¿è¡Œï¼‰æ—¶ã€‚</p><span id="more"></span><p>å¼€å§‹å§ï¼šï¼‰</p><pre class="line-numbers language-none"><code class="language-none">Firebase å’Œæ¨é€é€šçŸ¥è®¾ç½®<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¬¬ä¸€æ­¥"><a href="#ç¬¬ä¸€æ­¥" class="headerlink" title="ç¬¬ä¸€æ­¥"></a>ç¬¬ä¸€æ­¥</h3><ul><li>ä¸ºæ‚¨çš„åº”ç”¨åˆ›å»º firebase é¡¹ç›®å¹¶åœ¨ android/app æ–‡ä»¶å¤¹ä¸­æ·»åŠ googleservices.json æ–‡ä»¶ã€‚</li><li>åœ¨ä½ çš„ Flutter é¡¹ç›®ä¸­å®‰è£… firebase_messaging å’Œ firebase_coreã€‚</li></ul><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">firebase_messaging</span><span class="token punctuation">:</span> ^11.2.11<span class="token key atrule">firebase_core</span><span class="token punctuation">:</span> any<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>åƒå¾€å¸¸ä¸€æ ·åœ¨ build.gradleï¼ˆåœ¨åº”ç”¨ç¨‹åºçº§åˆ«å’Œ android çº§åˆ«ï¼‰æ–‡ä»¶ä¸­è¿›è¡Œ firebase åˆå§‹åŒ–è®¾ç½®ã€‚</li><li>å¯¹äºæ¨é€é€šçŸ¥ï¼Œè¯·åœ¨åº”ç”¨çº§ build.gradle æ–‡ä»¶çš„ä¾èµ–é¡¹ä¸‹æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæœ‰æ—¶æˆ‘ä»¬ä¼šé‡åˆ° multidex é—®é¢˜ï¼Œå› æ­¤æœ€å¥½åœ¨ defaultConfig{} ä¸­æ·»åŠ  multidexï¼‰<br>é»˜è®¤é…ç½®ä¸‹ï¼š</li></ul><pre class="line-numbers language-none"><code class="language-none">multiDexEnabled true<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ä¾èµ–é¡¹ä¸‹æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">...dependencies{...implementation â€˜com.google.firebase:firebase-inappmessaging-display:19.1.5â€™implementation 'com.android.support:multidex:1.0.3'...}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬äºŒæ­¥"><a href="#ç¬¬äºŒæ­¥" class="headerlink" title="ç¬¬äºŒæ­¥"></a>ç¬¬äºŒæ­¥</h3><p>åœ¨ android/app/src/main/kotlin ä¸­åˆ›å»º Application.kt æ–‡ä»¶ï¼ˆç®€å•åœ°è¯´æ‚¨åœ¨è¯¥æ–‡ä»¶å¤¹ä¸­çœ‹åˆ° MainActivity.kt æ–‡ä»¶çš„ä½ç½®åˆ›å»º Application.kt æ–‡ä»¶ï¼‰å¹¶å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹ä»£ç ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//package &lt;your_package_name&gt;</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>app<span class="token punctuation">.</span></span><span class="token class-name">FlutterApplication</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugin<span class="token punctuation">.</span>common<span class="token punctuation">.</span></span><span class="token class-name">PluginRegistry</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>firebase<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">FlutterFirebaseMessagingBackgroundService</span><span class="token keyword">import</span> <span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>firebase<span class="token punctuation">.</span>messaging<span class="token punctuation">.</span></span><span class="token class-name">FlutterFirebaseMessagingPlugin</span><span class="token keyword">class</span> <span class="token class-name">Application</span><span class="token operator">:</span> <span class="token class-name">FlutterApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">PluginRegistry<span class="token punctuation">.</span>PluginRegistrantCallback</span> <span class="token punctuation">{</span>  override fun <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token class-name">FlutterFirebaseMessagingBackgroundService</span><span class="token punctuation">.</span><span class="token function">setPluginRegistrant</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span>  override fun <span class="token function">registerWith</span><span class="token punctuation">(</span>registry<span class="token operator">:</span><span class="token class-name">PluginRegistry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">FlutterFirebaseMessagingPlugin</span><span class="token punctuation">.</span><span class="token function">registerWith</span><span class="token punctuation">(</span>registry<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">registrarFor</span><span class="token punctuation">(</span>â€œ<span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>flutter<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>firebasemessaging<span class="token punctuation">.</span></span>FirebaseMessagingPlugin</span>â€<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬ä¸‰æ­¥"><a href="#ç¬¬ä¸‰æ­¥" class="headerlink" title="ç¬¬ä¸‰æ­¥"></a>ç¬¬ä¸‰æ­¥</h3><p>åœ¨ pubspec.yaml æ–‡ä»¶ä¸­æ·»åŠ  flutter_local_notifications åŒ…</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">flutter_local_notifications<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¬¬å››æ­¥"><a href="#ç¬¬å››æ­¥" class="headerlink" title="ç¬¬å››æ­¥"></a>ç¬¬å››æ­¥</h3><p>åœ¨ android/app/src/main/res/AndroidManifest.xml ä¸­æ·»åŠ ä»¥ä¸‹è¡Œ</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>application</span>  <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.Application<span class="token punctuation">"</span></span>  <span class="token attr-name">...</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>activity</span>     <span class="token attr-name">....</span><span class="token punctuation">&gt;</span></span>       .....       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>intent-filter</span><span class="token punctuation">&gt;</span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>action</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FLUTTER_NOTIFICATION_CLICK<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>category</span> <span class="token attr-name"><span class="token namespace">android:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>android.intent.category.DEFAULT<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>intent-filter</span><span class="token punctuation">&gt;</span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>activity</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>application</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ¨é€é€šçŸ¥å·²å®Œæˆï¼Œæˆ‘ä»¬å°†å¼€å§‹ç¼–ç éƒ¨åˆ†ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="ç¬¬äº”æ­¥"><a href="#ç¬¬äº”æ­¥" class="headerlink" title="ç¬¬äº”æ­¥"></a>ç¬¬äº”æ­¥</h3><p>åœ¨ main.dart æ–‡ä»¶çš„ main å‡½æ•°ä¸­æ·»åŠ è¿™äº›è¡Œã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">WidgetsFlutterBinding</span><span class="token punctuation">.</span><span class="token function">ensureInitialized</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">await</span> <span class="token class-name">Firebase</span><span class="token punctuation">.</span><span class="token function">initializeApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="ç¬¬å…­æ­¥"><a href="#ç¬¬å…­æ­¥" class="headerlink" title="ç¬¬å…­æ­¥"></a>ç¬¬å…­æ­¥</h3><p>åˆ›å»ºä¸€ä¸ªé¡µé¢å¹¶é€šè¿‡åˆ†åˆ«å¯¼å…¥è¿™äº›åŒ…æ¥åˆå§‹åŒ– firebase_messaging å’Œ flutter_local_notificationsã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> â€˜package<span class="token punctuation">:</span>firebase_messaging<span class="token operator">/</span>firebase_messaging<span class="token punctuation">.</span>dartâ€™<span class="token punctuation">;</span><span class="token keyword">import</span> â€˜package<span class="token punctuation">:</span>flutter_local_notifications<span class="token operator">/</span>flutter_local_notifications<span class="token punctuation">.</span>dartâ€™<span class="token punctuation">;</span><span class="token comment">// create an instance </span><span class="token class-name">FirebaseMessaging</span> messaging <span class="token operator">=</span> <span class="token class-name">FirebaseMessaging</span><span class="token punctuation">.</span>instance<span class="token punctuation">;</span><span class="token class-name">FlutterLocalNotificationsPlugin</span> fltNotification<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬ä¸ƒæ­¥"><a href="#ç¬¬ä¸ƒæ­¥" class="headerlink" title="ç¬¬ä¸ƒæ­¥"></a>ç¬¬ä¸ƒæ­¥</h3><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç¼–å†™äº†åœ¨ç»ˆç«¯ä¸­è·å– fcm ä»¤ç‰Œçš„ä»£ç ï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥åœ¨æ­¥éª¤ I ä¸­åˆ›å»ºçš„ firebase é¡¹ç›®ä¸­çš„äº‘æ¶ˆæ¯ä¼ é€’ä¸‹ä½¿ç”¨è¿™äº›ä»¤ç‰Œã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">pushFCMtoken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">String</span> token<span class="token operator">=</span><span class="token keyword">await</span> messaging<span class="token punctuation">.</span><span class="token function">getToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token function">print</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬å…«æ­¥"><a href="#ç¬¬å…«æ­¥" class="headerlink" title="ç¬¬å…«æ­¥"></a>ç¬¬å…«æ­¥</h3><p>åœ¨è¿™ä¸€æ­¥ä¸­ï¼Œæˆ‘ä»¬ç¼–å†™ç”¨äºæ¥æ”¶é€šçŸ¥æ ¼å¼å’Œè®¾ç½®çš„ä»£ç ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">void</span> <span class="token function">initMessaging</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  <span class="token keyword">var</span> androiInit <span class="token operator">=</span> <span class="token class-name">AndroidInitializationSettings</span><span class="token punctuation">(</span>â€˜<span class="token metadata function">@mipmap</span><span class="token operator">/</span>ic_launcherâ€™<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//for logo</span>  <span class="token keyword">var</span> iosInit <span class="token operator">=</span> <span class="token class-name">IOSInitializationSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> initSetting<span class="token operator">=</span><span class="token class-name">InitializationSettings</span><span class="token punctuation">(</span>android<span class="token punctuation">:</span> androiInit<span class="token punctuation">,</span>iOS<span class="token punctuation">:</span>   iosInit<span class="token punctuation">)</span><span class="token punctuation">;</span>  fltNotification <span class="token operator">=</span> <span class="token class-name">FlutterLocalNotificationsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  fltNotification<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>initSetting<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> androidDetails <span class="token operator">=</span>   <span class="token class-name">AndroidNotificationDetails</span><span class="token punctuation">(</span>â€˜<span class="token number">1</span>â€™<span class="token punctuation">,</span> â€˜channelNameâ€™<span class="token punctuation">,</span> â€˜channel     <span class="token class-name">Description</span>â€™<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> iosDetails <span class="token operator">=</span> <span class="token class-name">IOSNotificationDetails</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">var</span> generalNotificationDetails <span class="token operator">=</span>   <span class="token class-name">NotificationDetails</span><span class="token punctuation">(</span>android<span class="token punctuation">:</span> androidDetails<span class="token punctuation">,</span> iOS<span class="token punctuation">:</span> iosDetails<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">FirebaseMessaging</span><span class="token punctuation">.</span>onMessage<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">RemoteMessage</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token class-name">RemoteNotification</span> notification<span class="token operator">=</span>message<span class="token punctuation">.</span>notification<span class="token punctuation">;</span>   <span class="token class-name">AndroidNotification</span> android<span class="token operator">=</span>message<span class="token punctuation">.</span>notification<span class="token operator">?</span><span class="token punctuation">.</span>android<span class="token punctuation">;</span>   <span class="token keyword">if</span><span class="token punctuation">(</span>notification<span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> android<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     fltNotification<span class="token punctuation">.</span><span class="token keyword">show</span><span class="token punctuation">(</span>       notification<span class="token punctuation">.</span>hashCode<span class="token punctuation">,</span> notification<span class="token punctuation">.</span>title<span class="token punctuation">,</span> notification<span class="token punctuation">.</span>       body<span class="token punctuation">,</span> generalNotificationDetails<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬ä¹æ­¥"><a href="#ç¬¬ä¹æ­¥" class="headerlink" title="ç¬¬ä¹æ­¥"></a>ç¬¬ä¹æ­¥</h3><p>æœ€ç»ˆä»£ç å°†æ˜¯ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:font_awesome_flutter/font_awesome_flutter.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_datetime_picker/flutter_datetime_picker.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> selClass <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>      home<span class="token punctuation">:</span> <span class="token function">sel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">class</span> sel <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  _selState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_selState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _selState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span>sel<span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">String</span> _date <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Not set"</span></span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      body<span class="token punctuation">:</span> <span class="token class-name">SafeArea</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span><span class="token class-name">SingleChildScrollView</span><span class="token punctuation">(</span>    child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>    children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token class-name">Container</span><span class="token punctuation">(</span>    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>      width<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span>          <span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>          <span class="token punctuation">.</span>size          <span class="token punctuation">.</span>width<span class="token punctuation">,</span>      height<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span>          <span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>          <span class="token punctuation">.</span>size          <span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token number">10</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Attendance"</span></span><span class="token punctuation">,</span>        style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span> fontSize<span class="token punctuation">:</span> <span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">30.0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">Padding</span><span class="token punctuation">(</span>    padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>    child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>    mainAxisSize<span class="token punctuation">:</span> <span class="token class-name">MainAxisSize</span><span class="token punctuation">.</span>max<span class="token punctuation">,</span>    mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>    children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>    shape<span class="token punctuation">:</span> <span class="token class-name">RoundedRectangleBorder</span><span class="token punctuation">(</span>    borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">5.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    elevation<span class="token punctuation">:</span> <span class="token number">4.0</span><span class="token punctuation">,</span>    onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">DatePicker</span><span class="token punctuation">.</span><span class="token function">showDatePicker</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>    theme<span class="token punctuation">:</span> <span class="token class-name">DatePickerTheme</span><span class="token punctuation">(</span>    containerHeight<span class="token punctuation">:</span> <span class="token number">210.0</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    showTitleActions<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    minTime<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    maxTime<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token number">2022</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    onConfirm<span class="token punctuation">:</span> <span class="token punctuation">(</span>date<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'confirm </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">date</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    _date <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">date<span class="token punctuation">.</span>year</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">date<span class="token punctuation">.</span>month</span><span class="token punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">date<span class="token punctuation">.</span>day</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">;</span>    <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    currentTime<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    locale<span class="token punctuation">:</span> <span class="token class-name">LocaleType</span><span class="token punctuation">.</span>en<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>    alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>    height<span class="token punctuation">:</span> <span class="token number">50.0</span><span class="token punctuation">,</span>    child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>    mainAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">MainAxisAlignment</span><span class="token punctuation">.</span>spaceBetween<span class="token punctuation">,</span>    children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token class-name">Row</span><span class="token punctuation">(</span>    children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token class-name">Container</span><span class="token punctuation">(</span>    child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>    children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token class-name">Icon</span><span class="token punctuation">(</span>    <span class="token class-name">Icons</span><span class="token punctuation">.</span>date_range<span class="token punctuation">,</span>    size<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">,</span>    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>teal<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">Text</span><span class="token punctuation">(</span>    <span class="token string-literal"><span class="token string">" </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">_date</span></span><span class="token string">"</span></span><span class="token punctuation">,</span>    style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>teal<span class="token punctuation">,</span>    fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>    fontSize<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">Text</span><span class="token punctuation">(</span>    <span class="token string-literal"><span class="token string">"  Change"</span></span><span class="token punctuation">,</span>    style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>teal<span class="token punctuation">,</span>    fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>    fontSize<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>white<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>    height<span class="token punctuation">:</span> <span class="token number">20.0</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">]</span>    <span class="token punctuation">,</span>    <span class="token punctuation">)</span>    <span class="token punctuation">,</span>    <span class="token punctuation">)</span>    <span class="token punctuation">)</span>    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“æ‚¨è¿è¡Œæ­¤ä»£ç æ—¶ï¼Œæ‚¨å°†åœ¨æ§åˆ¶å°ä¸­è·å¾— fcm_tokenï¼Œç„¶åå¤åˆ¶è¯¥ä»¤ç‰Œå¹¶æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><h3 id="ç¬¬åæ­¥"><a href="#ç¬¬åæ­¥" class="headerlink" title="ç¬¬åæ­¥"></a>ç¬¬åæ­¥</h3><p>æ‰“å¼€ firebase é¡¹ç›®å¹¶è½¬åˆ°äº‘æ¶ˆæ¯éƒ¨åˆ†å¹¶ç¼–å†™é€šçŸ¥æ ‡é¢˜å’Œæ­£æ–‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/Push-Notification-In-Flutter-in-Background-as-well-as-in-Foreground-Using-Firebase/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å®Œæˆä¸Šå›¾åï¼Œç‚¹å‡»å‘é€æ¶ˆæ¯ï¼Œä½ ä¼šå¾—åˆ°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/Push-Notification-In-Flutter-in-Background-as-well-as-in-Foreground-Using-Firebase/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨è¿™é‡Œç²˜è´´ fcm_tokenï¼ˆæ‚¨åœ¨å‰é¢çš„æ­¥éª¤ä¸­ä»ç»ˆç«¯å¤åˆ¶çš„å†…å®¹ï¼‰å¹¶ç‚¹å‡»æµ‹è¯•æŒ‰é’®ã€‚<br>åœ¨å®Œæˆæ‰€æœ‰è¿™äº›æ­¥éª¤ä¹‹åï¼Œæ‚¨å°†åœ¨æ‚¨çš„ç§»åŠ¨è®¾å¤‡ä¸­æ”¶åˆ°é€šçŸ¥ï¼Œæ— è®ºæ˜¯åº”ç”¨ç¨‹åºå¤„äºè¿è¡ŒçŠ¶æ€è¿˜æ˜¯åœ¨åå°è¿è¡Œæˆ–å·²å…³é—­ã€‚</p><p>æœ€åï¼Œæ¨é€é€šçŸ¥æœ‰æ•ˆï¼Œæ‚¨å¯ä»¥åœ¨æœªæ¥çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚<br>è°¢è°¢ ï¼šï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Firebase </tag>
            
            <tag> Notification </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PHPæ ¸å¿ƒæŠ€æœ¯çš„é¢è¯•é¢˜</title>
      <link href="/PHP%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98.html"/>
      <url>/PHP%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98.html</url>
      
        <content type="html"><![CDATA[<img src="/PHP%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E7%9A%84%E9%9D%A2%E8%AF%95%E9%A2%98/1.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>1 oopæ˜¯ä»€ä¹ˆ?<br>ç­”:oopæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹,é¢å‘å¯¹è±¡ç¼–ç¨‹æ˜¯ä¸€ç§è®¡ç®—æœºç¼–ç¨‹æ¶æ„,OOP çš„ä¸€æ¡åŸºæœ¬åŸåˆ™æ˜¯è®¡ç®—æœºç¨‹åºæ˜¯ç”±å•ä¸ªèƒ½å¤Ÿèµ·åˆ°å­ç¨‹åºä½œç”¨çš„å•å…ƒæˆ–å¯¹è±¡ç»„åˆè€Œæˆã€‚</p><span id="more"></span><p>OOPå…·æœ‰ä¸‰å¤§ç‰¹ç‚¹<br>1ã€å°è£…æ€§ï¼šä¹Ÿç§°ä¸ºä¿¡æ¯éšè—ï¼Œå°±æ˜¯å°†ä¸€ä¸ªç±»çš„ä½¿ç”¨å’Œå®ç°åˆ†å¼€ï¼Œåªä¿ç•™éƒ¨åˆ†æ¥å£å’Œæ–¹æ³•ä¸å¤–éƒ¨è”ç³»ï¼Œæˆ–è€…è¯´åªå…¬å¼€äº†ä¸€äº›ä¾›å¼€å‘äººå‘˜ä½¿ç”¨çš„æ–¹æ³•ã€‚äºæ˜¯å¼€å‘äººå‘˜åª éœ€è¦å…³æ³¨è¿™ä¸ªç±»å¦‚ä½•ä½¿ç”¨ï¼Œè€Œä¸ç”¨å»å…³å¿ƒå…¶å…·ä½“çš„å®ç°è¿‡ç¨‹ï¼Œè¿™æ ·å°±èƒ½å®ç°MVCåˆ†å·¥åˆä½œï¼Œä¹Ÿèƒ½æœ‰æ•ˆé¿å…ç¨‹åºé—´ç›¸äº’ä¾èµ–ï¼Œå®ç°ä»£ç æ¨¡å—é—´æ¾è—•åˆã€‚<br>2ã€ç»§æ‰¿æ€§ï¼šå°±æ˜¯å­ç±»è‡ªåŠ¨ç»§æ‰¿å…¶çˆ¶çº§ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯ä»¥æ·»åŠ æ–°çš„å±æ€§å’Œæ–¹æ³•æˆ–è€…å¯¹éƒ¨åˆ†å±æ€§å’Œæ–¹æ³•è¿›è¡Œé‡å†™ã€‚ç»§æ‰¿å¢åŠ äº†ä»£ç çš„å¯é‡ç”¨æ€§ã€‚PHPåªæ”¯æŒå•ç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ªçˆ¶ç±»ã€‚<br>3ã€å¤šæ€æ€§ï¼šå­ç±»ç»§æ‰¿äº†æ¥è‡ªçˆ¶çº§ç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¯¹å…¶ä¸­éƒ¨åˆ†æ–¹æ³•è¿›è¡Œé‡å†™ã€‚äºæ˜¯å¤šä¸ªå­ç±»ä¸­è™½ç„¶éƒ½å…·æœ‰åŒä¸€ä¸ªæ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›å­ç±»å®ä¾‹åŒ–çš„å¯¹è±¡è°ƒç”¨è¿™äº›ç›¸åŒçš„æ–¹æ³•åå´å¯ä»¥è·å¾—å®Œå…¨ä¸åŒçš„ç»“æœï¼Œè¿™ç§æŠ€æœ¯å°±æ˜¯å¤šæ€æ€§ã€‚<br>å¤šæ€æ€§å¢å¼ºäº†è½¯ä»¶çš„çµæ´»æ€§ã€‚<br>1ã€æ˜“ç»´æŠ¤<br>é‡‡ç”¨é¢å‘å¯¹è±¡æ€æƒ³è®¾è®¡çš„ç»“æ„ï¼Œå¯è¯»æ€§é«˜ï¼Œç”±äºç»§æ‰¿çš„å­˜åœ¨ï¼Œå³ä½¿æ”¹å˜éœ€æ±‚ï¼Œé‚£ä¹ˆç»´æŠ¤ä¹Ÿåªæ˜¯åœ¨å±€éƒ¨æ¨¡å—ï¼Œæ‰€ä»¥ç»´æŠ¤èµ·æ¥æ˜¯éå¸¸æ–¹ä¾¿å’Œè¾ƒä½æˆæœ¬çš„ã€‚<br>2ã€è´¨é‡é«˜<br>åœ¨è®¾è®¡æ—¶ï¼Œå¯é‡ç”¨ç°æœ‰çš„ï¼Œåœ¨ä»¥å‰çš„é¡¹ç›®çš„é¢†åŸŸä¸­å·²è¢«æµ‹è¯•è¿‡çš„ç±»ä½¿ç³»ç»Ÿæ»¡è¶³ä¸šåŠ¡éœ€æ±‚å¹¶å…·æœ‰è¾ƒé«˜çš„è´¨é‡ã€‚<br>3ã€æ•ˆç‡é«˜<br>åœ¨è½¯ä»¶å¼€å‘æ—¶ï¼Œæ ¹æ®è®¾è®¡çš„éœ€è¦å¯¹ç°å®ä¸–ç•Œçš„äº‹ç‰©è¿›è¡ŒæŠ½è±¡ï¼Œäº§ç”Ÿç±»ã€‚ä½¿ç”¨è¿™æ ·çš„æ–¹æ³•è§£å†³é—®é¢˜ï¼Œæ¥è¿‘äºæ—¥å¸¸ç”Ÿæ´»å’Œè‡ªç„¶çš„æ€è€ƒæ–¹å¼ï¼ŒåŠ¿å¿…æé«˜è½¯ä»¶å¼€å‘çš„æ•ˆç‡å’Œè´¨é‡ã€‚<br>4ã€æ˜“æ‰©å±•<br>ç”±äºç»§æ‰¿ã€å°è£…ã€å¤šæ€çš„ç‰¹æ€§ï¼Œè‡ªç„¶è®¾è®¡å‡ºé«˜å†…èšã€ä½è€¦åˆçš„ç³»ç»Ÿç»“æ„ï¼Œä½¿å¾—ç³»ç»Ÿæ›´çµæ´»ã€æ›´å®¹æ˜“æ‰©å±•ï¼Œè€Œä¸”æˆæœ¬è¾ƒä½ã€‚<br>2 åˆå¹¶ä¸¤ä¸ªæ•°ç»„æœ‰å‡ ç§æ–¹å¼ï¼Œè¯•æ¯”è¾ƒå®ƒä»¬çš„å¼‚åŒ<br>æ–¹å¼ï¼š<br>1ã€array_merge()<br>2ã€â€™+â€™<br>3ã€array_merge_recursive<br>å¼‚åŒï¼š<br>array_merge ç®€å•çš„åˆå¹¶æ•°ç»„<br>array_merge_recursive åˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œå¦‚æœæ•°ç»„ä¸­æœ‰å®Œå…¨ä¸€æ ·çš„æ•°æ®ï¼Œå°†å®ƒä»¬é€’å½’åˆå¹¶<br>array_combine å’Œ â€˜+â€™ ï¼šåˆå¹¶ä¸¤ä¸ªæ•°ç»„ï¼Œå‰è€…çš„å€¼ä½œä¸ºæ–°æ•°ç»„çš„é”®</p>]]></content>
      
      
      <categories>
          
          <category> PHP </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PHP </tag>
            
            <tag> é¢è¯• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutter ListView å’Œ ScrollPhysics ä¹‹è¯¦è§£</title>
      <link href="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look.html"/>
      <url>/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ¬æ–‡æ—¨åœ¨å¯¹ ListView ç±»ã€ScrollPhysics ä»¥åŠé€šç”¨å°éƒ¨ä»¶çš„è°ƒæ•´å’Œä¼˜åŒ–è¿›è¡Œæ›´è¯¦ç»†çš„æ¢ç´¢ã€‚<br>Flutter ä¸­çš„ ListView æ˜¯å¯æ»šåŠ¨é¡¹çš„çº¿æ€§åˆ—è¡¨ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ¶ä½œå¯æ»šåŠ¨çš„é¡¹ç›®åˆ—è¡¨æˆ–åˆ¶ä½œé‡å¤é¡¹ç›®çš„åˆ—è¡¨ã€‚</p><span id="more"></span><h2 id="æ¢ç´¢-ListView-çš„ç±»å‹"><a href="#æ¢ç´¢-ListView-çš„ç±»å‹" class="headerlink" title="æ¢ç´¢ ListView çš„ç±»å‹"></a>æ¢ç´¢ ListView çš„ç±»å‹</h2><p>æˆ‘ä»¬å°†ä»æŸ¥çœ‹ ListView çš„ç±»å‹å¼€å§‹ï¼Œç„¶åæŸ¥çœ‹å…¶ä»–åŠŸèƒ½å’Œå¯¹å…¶è¿›è¡Œçš„å·§å¦™ä¿®æ”¹ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹çœ‹ ListView çš„ç±»å‹æœ‰ï¼š</p><ul><li>åˆ—è¡¨æ˜¾ç¤º</li><li>ListView.builder</li><li>ListView.separated</li><li>ListView.custom<br>è®©æˆ‘ä»¬ä¸€ä¸€æ¢ç´¢è¿™äº›ç±»å‹ï¼š</li></ul><h3 id="ListView"><a href="#ListView" class="headerlink" title="ListView"></a>ListView</h3><p>è¿™æ˜¯ ListView ç±»çš„é»˜è®¤æ„é€ å‡½æ•°ã€‚ ListView åªéœ€è¦ä¸€ä¸ªå­åˆ—è¡¨å¹¶ä½¿å…¶å¯æ»šåŠ¨ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/2.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»£ç çš„ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">ListView</span><span class="token punctuation">(</span>  children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>    <span class="token class-name">ItemOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">ItemTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token class-name">ItemThree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šå¸¸è¿™åº”è¯¥ä¸å°‘é‡å­é¡¹ä¸€èµ·ä½¿ç”¨ï¼Œå› ä¸º List ä¹Ÿä¼šåœ¨åˆ—è¡¨ä¸­æ„é€ ä¸å¯è§çš„å…ƒç´ ï¼Œå¹¶ä¸”å¤§é‡å…ƒç´ å¯èƒ½ä¼šå¯¼è‡´æ•ˆç‡ä½ä¸‹ã€‚</p><h3 id="ListView-builder"><a href="#ListView-builder" class="headerlink" title="ListView.builder()"></a>ListView.builder()</h3><p>builder() æ„é€ å‡½æ•°æ„é€ ä¸€ä¸ªé‡å¤çš„é¡¹ç›®åˆ—è¡¨ã€‚æ„é€ å‡½æ•°æœ‰ä¸¤ä¸ªä¸»è¦å‚æ•°ï¼šä¸€ä¸ª itemCount ç”¨äºåˆ—è¡¨ä¸­çš„é¡¹ç›®æ•°ï¼Œä¸€ä¸ª itemBuilder ç”¨äºæ„é€ æ¯ä¸ªåˆ—è¡¨é¡¹ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/3.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä»£ç çš„ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>  itemCount<span class="token punctuation">:</span> itemCount<span class="token punctuation">,</span>  itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token function">listItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ—è¡¨é¡¹æ˜¯æƒ°æ€§æ„å»ºçš„ï¼Œè¿™æ„å‘³ç€ä»…æ„å»ºç‰¹å®šæ•°é‡çš„åˆ—è¡¨é¡¹ï¼Œå½“ç”¨æˆ·å‘å‰æ»šåŠ¨æ—¶ï¼Œè¾ƒæ—©çš„åˆ—è¡¨é¡¹å°†è¢«é”€æ¯ã€‚</p><p>å·§å¦™çš„æŠ€å·§ï¼šç”±äºå…ƒç´ æ˜¯å»¶è¿ŸåŠ è½½çš„ï¼Œå¹¶ä¸”åªåŠ è½½äº†æ‰€éœ€æ•°é‡çš„å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬å®é™…ä¸Šä¸éœ€è¦ itemCount ä½œä¸ºå¼ºåˆ¶å‚æ•°ï¼Œå¹¶ä¸”åˆ—è¡¨å¯ä»¥æ˜¯æ— é™çš„ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span>  itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>      child<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>        padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">22.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/4.gif" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ListView-separated"><a href="#ListView-separated" class="headerlink" title="ListView.separated()"></a>ListView.separated()</h3><p>åœ¨ separator() æ„é€ å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šæ¯ä¸ªé¡¹ç›®ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/5.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ¬è´¨ä¸Šï¼Œæˆ‘ä»¬æ„é€ äº†ä¸¤ä¸ªäº¤ç»‡çš„åˆ—è¡¨ï¼šä¸€ä¸ªä½œä¸ºä¸»åˆ—è¡¨ï¼Œä¸€ä¸ªä½œä¸ºåˆ†éš”åˆ—è¡¨ã€‚<br>è¯·æ³¨æ„ï¼Œè¿™é‡Œä¸èƒ½ä½¿ç”¨å‰é¢æ„é€ å‡½æ•°ä¸­è®¨è®ºçš„æ— é™è®¡æ•°ï¼Œå¹¶ä¸”æ­¤æ„é€ å‡½æ•°å¼ºåˆ¶ä½¿ç”¨ itemCountã€‚<br>è¿™ç§ç±»å‹çš„ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">separated</span><span class="token punctuation">(</span>      itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">ListItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      separatorBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> position<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">SeparatorItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>      itemCount<span class="token punctuation">:</span> itemCount<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ç§ç±»å‹çš„åˆ—è¡¨å…è®¸æ‚¨åŠ¨æ€å®šä¹‰åˆ†éš”ç¬¦ï¼Œä¸ºä¸åŒç±»å‹çš„é¡¹ç›®è®¾ç½®ä¸åŒç±»å‹çš„åˆ†éš”ç¬¦ï¼Œåœ¨éœ€è¦æ—¶æ·»åŠ æˆ–åˆ é™¤åˆ†éš”ç¬¦ç­‰ã€‚</p><p>æ­¤å®ç°è¿˜å¯ç”¨äºè½»æ¾<strong>æ’å…¥å…¶ä»–ç±»å‹</strong>çš„å…ƒç´ ï¼ˆä¾‹å¦‚å¹¿å‘Šï¼‰ï¼Œè€Œæ— éœ€å¯¹åˆ—è¡¨é¡¹ä¸­é—´çš„ä¸»åˆ—è¡¨è¿›è¡Œä»»ä½•ä¿®æ”¹ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ³¨æ„ï¼šåˆ†éš”ç¬¦åˆ—è¡¨é•¿åº¦éœ€è¦æ¯”é¡¹ç›®åˆ—è¡¨å°1ï¼Œå› ä¸ºåœ¨æœ€åä¸€ä¸ªå…ƒç´ ä¹‹åä¸å­˜åœ¨åˆ†éš”ç¬¦ã€‚</p><h3 id="ListView-custom"><a href="#ListView-custom" class="headerlink" title="ListView.custom()"></a>ListView.custom()</h3><p>é¡¾åæ€ä¹‰ï¼Œcustom() æ„é€ å‡½æ•°å¯è®©æ‚¨æ„å»ºå…·æœ‰è‡ªå®šä¹‰åŠŸèƒ½çš„ ListViewsï¼Œä»¥äº†è§£å¦‚ä½•æ„å»ºåˆ—è¡¨çš„å­é¡¹ã€‚ä¸ºæ­¤æ‰€éœ€çš„ä¸»è¦å‚æ•°æ˜¯æ„å»ºé¡¹ç›®çš„ SliverChildDelegateã€‚<br>SliverChildDelegates çš„ç±»å‹æ˜¯</p><ul><li>SliverChildListDelegate</li><li>SliverChildBuilderDelegate</li></ul><p>SliverChildListDelegate æ¥å—å­çº§çš„ç›´æ¥åˆ—è¡¨ï¼Œè€Œ SliverChildBuiderDelegate æ¥å— IndexedWidgetBuilderï¼ˆæˆ‘ä»¬ä½¿ç”¨çš„æ„å»ºå™¨å‡½æ•°ï¼‰ã€‚<br>æ‚¨å¯ä»¥ä½¿ç”¨æˆ–å­ç±»åŒ–è¿™äº›æ¥æ„å»ºæ‚¨è‡ªå·±çš„å§”æ‰˜ã€‚</p><pre class="line-numbers language-none"><code class="language-none">ListView.builder æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¸¦æœ‰ SliverChildBuilderDelegate çš„ ListView.customã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ListView é»˜è®¤æ„é€ å‡½æ•°çš„è¡Œä¸ºç±»ä¼¼äºå¸¦æœ‰ SliverChildListDelegate çš„ ListView.customã€‚<br>ç°åœ¨æˆ‘ä»¬å·²ç»å®Œæˆäº† ListViews çš„ç±»å‹ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ ScrollPhysicsã€‚</p><h2 id="æ¢ç´¢-ScrollPhysics"><a href="#æ¢ç´¢-ScrollPhysics" class="headerlink" title="æ¢ç´¢ ScrollPhysics"></a>æ¢ç´¢ ScrollPhysics</h2><p>ä¸ºäº†æ§åˆ¶æ»šåŠ¨å‘ç”Ÿçš„æ–¹å¼ï¼Œæˆ‘ä»¬åœ¨ ListView æ„é€ å‡½æ•°ä¸­è®¾ç½®äº†ç‰©ç†å‚æ•°ã€‚<br>ä¸åŒç±»å‹çš„ç‰©ç†æ˜¯ï¼š</p><p><strong>NeverScrollableScrollPhysics</strong><br>NeverScrollableScrollPhysics ä½¿åˆ—è¡¨ä¸å¯æ»šåŠ¨ã€‚ä½¿ç”¨å®ƒæ¥å®Œå…¨ç¦ç”¨ ListView çš„æ»šåŠ¨ã€‚</p><p><strong>BouncingScrollPhysics</strong><br>BouncingScrollPhysics åœ¨åˆ—è¡¨ç»“æŸæ—¶å¼¹å›åˆ—è¡¨ã€‚è¿™ç§æ•ˆæœåœ¨iOSä¸Šæ¯”è¾ƒå¸¸è§ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/7.gif" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>ClampingScrollPhysics</strong><br>è¿™æ˜¯ Android ä¸Šä½¿ç”¨çš„é»˜è®¤æ»šåŠ¨ç‰©ç†ã€‚è¯¥åˆ—è¡¨åœ¨æœ€ååœæ­¢å¹¶ç»™å‡ºæŒ‡ç¤ºå®ƒçš„æ•ˆæœã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/8.gif" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>FixedExtentScrollPhysics</strong><br>è¿™ä¸æ­¤åˆ—è¡¨ä¸­çš„å…¶ä»–å†…å®¹ç•¥æœ‰ä¸åŒï¼Œå› ä¸ºå®ƒä»…é€‚ç”¨äº FixedExtendScrollControllers å’Œä½¿ç”¨å®ƒä»¬çš„åˆ—è¡¨ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å°†é‡‡ç”¨ ListWheelScrollView æ¥åˆ¶ä½œä¸€ä¸ªç±»ä¼¼è½®å­çš„åˆ—è¡¨ã€‚<br>FixedExtentScrollPhysics ä»…æ»šåŠ¨åˆ°é¡¹ç›®è€Œä¸æ˜¯ä¸¤è€…ä¹‹é—´çš„ä»»ä½•åç§»é‡ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/9.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™ä¸ªä¾‹å­çš„ä»£ç éå¸¸ç®€å•ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">FixedExtentScrollController</span> fixedExtentScrollController <span class="token operator">=</span>    <span class="token keyword">new</span> <span class="token class-name">FixedExtentScrollController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ListWheelScrollView</span><span class="token punctuation">(</span>  controller<span class="token punctuation">:</span> fixedExtentScrollController<span class="token punctuation">,</span>  physics<span class="token punctuation">:</span> <span class="token class-name">FixedExtentScrollPhysics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  children<span class="token punctuation">:</span> monthsOfTheYear<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Card</span><span class="token punctuation">(</span>        child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>      children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>        <span class="token class-name">Expanded</span><span class="token punctuation">(</span>            child<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>          padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">8.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>            month<span class="token punctuation">,</span>            style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  itemExtent<span class="token punctuation">:</span> <span class="token number">60.0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è¿˜æœ‰ä¸€äº›äº‹æƒ…è¦çŸ¥é“"><a href="#è¿˜æœ‰ä¸€äº›äº‹æƒ…è¦çŸ¥é“" class="headerlink" title="è¿˜æœ‰ä¸€äº›äº‹æƒ…è¦çŸ¥é“"></a>è¿˜æœ‰ä¸€äº›äº‹æƒ…è¦çŸ¥é“</h2><h3 id="å¦‚ä½•ä½¿è¢«ç ´åçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­ä¿æŒæ´»è·ƒï¼Ÿ"><a href="#å¦‚ä½•ä½¿è¢«ç ´åçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­ä¿æŒæ´»è·ƒï¼Ÿ" class="headerlink" title="å¦‚ä½•ä½¿è¢«ç ´åçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­ä¿æŒæ´»è·ƒï¼Ÿ"></a>å¦‚ä½•ä½¿è¢«ç ´åçš„å…ƒç´ åœ¨åˆ—è¡¨ä¸­ä¿æŒæ´»è·ƒï¼Ÿ</h3><p>Flutter æä¾›äº†ä¸€ä¸ª KeepAlive() å°éƒ¨ä»¶ï¼Œå®ƒå¯ä»¥è®©ä¸€ä¸ªæœ¬æ¥ä¼šè¢«é”€æ¯çš„é¡¹ç›®ä¿æŒæ´»åŠ¨çŠ¶æ€ã€‚åœ¨åˆ—è¡¨ä¸­ï¼Œå…ƒç´ é»˜è®¤åŒ…è£…åœ¨ AutomaticKeepAlive å°éƒ¨ä»¶ä¸­ã€‚</p><img src="/Flutter-ListView-and-ScrollPhysics-A-Detailed-Look/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¯ä»¥é€šè¿‡å°† addAutomaticKeepAlives å­—æ®µè®¾ç½®ä¸º false æ¥ç¦ç”¨ AutomaticKeepAlivesã€‚è¿™åœ¨å…ƒç´ ä¸éœ€è¦ä¿æŒæ´»åŠ¨çŠ¶æ€æˆ– KeepAlive çš„è‡ªå®šä¹‰å®ç°çš„æƒ…å†µä¸‹å¾ˆæœ‰ç”¨ã€‚</p><h3 id="ä¸ºä»€ä¹ˆæˆ‘çš„-ListView-åœ¨åˆ—è¡¨å’Œå¤–éƒ¨å°éƒ¨ä»¶ä¹‹é—´æœ‰ç©ºé—´ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæˆ‘çš„-ListView-åœ¨åˆ—è¡¨å’Œå¤–éƒ¨å°éƒ¨ä»¶ä¹‹é—´æœ‰ç©ºé—´ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæˆ‘çš„ ListView åœ¨åˆ—è¡¨å’Œå¤–éƒ¨å°éƒ¨ä»¶ä¹‹é—´æœ‰ç©ºé—´ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæˆ‘çš„ ListView åœ¨åˆ—è¡¨å’Œå¤–éƒ¨å°éƒ¨ä»¶ä¹‹é—´æœ‰ç©ºé—´ï¼Ÿ</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒListView åœ¨å®ƒå’Œå¤–éƒ¨å°éƒ¨ä»¶ä¹‹é—´æœ‰å¡«å……ï¼Œè¦åˆ é™¤å®ƒï¼Œè¯·å°†å¡«å……è®¾ç½®ä¸º EdgeInsets.all(0.0)ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Dive Into </tag>
            
            <tag> ListView </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±å…¥äº†è§£ Flutter TextField</title>
      <link href="/A-Deep-Dive-Into-Flutter-TextField.html"/>
      <url>/A-Deep-Dive-Into-Flutter-TextField.html</url>
      
        <content type="html"><![CDATA[<img src="/A-Deep-Dive-Into-Flutter-TextField/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†å…¨é¢ä»‹ç» Flutter TextField å°éƒ¨ä»¶ï¼Œå¹¶æ‰¾å‡ºå®ƒçš„åŠŸèƒ½å’Œå¯èƒ½çš„å®šåˆ¶ã€‚</p><span id="more"></span><h2 id="æ–‡æœ¬æ§ä»¶ç®€ä»‹"><a href="#æ–‡æœ¬æ§ä»¶ç®€ä»‹" class="headerlink" title="æ–‡æœ¬æ§ä»¶ç®€ä»‹"></a>æ–‡æœ¬æ§ä»¶ç®€ä»‹</h2><p>TextField å°éƒ¨ä»¶å…è®¸ä»ç”¨æˆ·é‚£é‡Œæ”¶é›†ä¿¡æ¯ã€‚æœ€åŸºæœ¬çš„ä½¿ç”¨TextField çš„ä»£ç å¾ˆç®€å•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">TextField()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™å°†åˆ›å»ºä¸€ä¸ªåŸºæœ¬çš„ TextFieldï¼š</p><img src="/A-Deep-Dive-Into-Flutter-TextField/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="ä»-TextField-ä¸­æ£€ç´¢ä¿¡æ¯"><a href="#ä»-TextField-ä¸­æ£€ç´¢ä¿¡æ¯" class="headerlink" title="ä» TextField ä¸­æ£€ç´¢ä¿¡æ¯"></a>ä» TextField ä¸­æ£€ç´¢ä¿¡æ¯</h2><p>ç”±äº TextField æ²¡æœ‰ Android ä¸­çš„ IDï¼Œå› æ­¤æ— æ³•æŒ‰éœ€æ£€ç´¢æ–‡æœ¬ï¼Œè€Œå¿…é¡»åœ¨æ›´æ”¹æ—¶å°†å…¶å­˜å‚¨åœ¨å˜é‡ä¸­æˆ–ä½¿ç”¨æ§åˆ¶å™¨ã€‚</p><ol><li>æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨ onChanged æ–¹æ³•å¹¶å°†å½“å‰å€¼å­˜å‚¨åœ¨ä¸€ä¸ªç®€å•çš„å˜é‡ä¸­ã€‚è¿™æ˜¯å®ƒçš„ç¤ºä¾‹ä»£ç ï¼š</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">String</span> value <span class="token operator">=</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">;</span><span class="token class-name">TextField</span><span class="token punctuation">(</span>  onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span>    value <span class="token operator">=</span> text<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>ç¬¬äºŒç§æ–¹æ³•æ˜¯ä½¿ç”¨ TextEditingControllerã€‚æ§åˆ¶å™¨é™„åŠ åˆ° TextField å¹¶è®©æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›‘å¬å’Œæ§åˆ¶ TextField çš„æ–‡æœ¬ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextEditingController</span> controller <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">TextField</span><span class="token punctuation">(</span>  controller<span class="token punctuation">:</span> controller<span class="token punctuation">,</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬é€šè¿‡ç›‘å¬æ—¶é—´å¾—åˆ°æ§ä»¶çš„å˜åŒ–</p><pre class="line-numbers language-none"><code class="language-none">controller.addListener(() {  // Do something here});<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¹¶è·å–æˆ–è®¾ç½®å€¼</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token function">print</span><span class="token punctuation">(</span>controller<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Print current value</span>controller<span class="token punctuation">.</span>text <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"Demo Text"</span></span><span class="token punctuation">;</span> <span class="token comment">// Set new value</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="æ¥è‡ª-TextField-çš„å…¶ä»–å›è°ƒ"><a href="#æ¥è‡ª-TextField-çš„å…¶ä»–å›è°ƒ" class="headerlink" title="æ¥è‡ª TextField çš„å…¶ä»–å›è°ƒ"></a>æ¥è‡ª TextField çš„å…¶ä»–å›è°ƒ</h2><p>TextField å°éƒ¨ä»¶è¿˜æä¾›å…¶ä»–å›è°ƒï¼Œä¾‹å¦‚</p><ul><li>onEditingCompleted</li><li>onSubmitted</li></ul><pre class="line-numbers language-none"><code class="language-none">onEditingComplete: () {},onSubmitted: (value) {},<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™äº›æ˜¯åœ¨ç”¨æˆ·å•å‡» iOS ä¸Šçš„â€œå®Œæˆâ€æŒ‰é’®æ—¶è°ƒç”¨çš„å›è°ƒã€‚</p><h2 id="åœ¨-TextField-ä¸­å¤„ç†ç„¦ç‚¹"><a href="#åœ¨-TextField-ä¸­å¤„ç†ç„¦ç‚¹" class="headerlink" title="åœ¨ TextField ä¸­å¤„ç†ç„¦ç‚¹"></a>åœ¨ TextField ä¸­å¤„ç†ç„¦ç‚¹</h2><p>TextFieldè·å–ç„¦ç‚¹ï¼Œæ„å‘³ç€ä½¿ TextField å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå¹¶ä¸”æ¥è‡ªé”®ç›˜çš„ä»»ä½•è¾“å…¥éƒ½å°†å¯¼è‡´åœ¨ç„¦ç‚¹ TextField ä¸­è¾“å…¥æ•°æ®ã€‚</p><ol><li>ä½¿ç”¨è‡ªåŠ¨å¯¹ç„¦<br>è¦åœ¨åˆ›å»ºå°éƒ¨ä»¶æ—¶è‡ªåŠ¨èšç„¦äº TextFieldï¼Œè¯·å°† autofocus å­—æ®µè®¾ç½®ä¸º trueã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™ä¼šå°†ç„¦ç‚¹è®¾ç½®åœ¨ TextField ä¸Šã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/3.gif" class="" title="ç¤ºæ„å›¾ width=400"><ol start="2"><li>ä½¿ç”¨è‡ªå®šä¹‰ç„¦ç‚¹<br>å¦‚æœæˆ‘ä»¬æƒ³æ”¹å˜ä¸€ä¸‹éœ€æ±‚ï¼Œè€Œä¸ä»…ä»…æ˜¯è‡ªåŠ¨å¯¹ç„¦æ€ä¹ˆåŠï¼Ÿ<br>ç”±äºæˆ‘ä»¬éœ€è¦æŸç§æ–¹å¼æ¥å¼•ç”¨æˆ‘ä»¬æ¥ä¸‹æ¥è¦å…³æ³¨çš„ TextFieldï¼Œå› æ­¤æˆ‘ä»¬å°† FocusNode é™„åŠ åˆ° TextField å¹¶ä½¿ç”¨å®ƒæ¥åˆ‡æ¢ç„¦ç‚¹ã€‚</li></ol><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token comment">// Initialise outside the build method</span><span class="token class-name">FocusNode</span> nodeOne <span class="token operator">=</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">FocusNode</span> nodeTwo <span class="token operator">=</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// Do this inside the build method</span><span class="token class-name">TextField</span><span class="token punctuation">(</span>  focusNode<span class="token punctuation">:</span> nodeOne<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">TextField</span><span class="token punctuation">(</span>  focusNode<span class="token punctuation">:</span> nodeTwo<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token class-name">RaisedButton</span><span class="token punctuation">(</span>  onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token class-name">FocusScope</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span>nodeTwo<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">,</span>  child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Next Field"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªç„¦ç‚¹èŠ‚ç‚¹å¹¶å°†å®ƒä»¬é™„åŠ åˆ° TextFieldsã€‚å½“æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨ FocusScope è¯·æ±‚ç„¦ç‚¹åˆ°ä¸‹ä¸€ä¸ª TextFieldã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/4.gif" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="æ›´æ”¹æ–‡æœ¬å­—æ®µçš„é”®ç›˜å±æ€§"><a href="#æ›´æ”¹æ–‡æœ¬å­—æ®µçš„é”®ç›˜å±æ€§" class="headerlink" title="æ›´æ”¹æ–‡æœ¬å­—æ®µçš„é”®ç›˜å±æ€§"></a>æ›´æ”¹æ–‡æœ¬å­—æ®µçš„é”®ç›˜å±æ€§</h2><p>Flutter ä¸­çš„ TextField è¿˜å…è®¸æ‚¨è‡ªå®šä¹‰ä¸é”®ç›˜ç›¸å…³çš„å±æ€§ã€‚</p><h3 id="1-é”®ç›˜ç±»å‹"><a href="#1-é”®ç›˜ç±»å‹" class="headerlink" title="1.é”®ç›˜ç±»å‹"></a>1.é”®ç›˜ç±»å‹</h3><p>TextField å…è®¸æ‚¨è‡ªå®šä¹‰å½“ TextField æˆä¸ºç„¦ç‚¹æ—¶æ˜¾ç¤ºçš„é”®ç›˜ç±»å‹ã€‚æˆ‘ä»¬ä¸ºæ­¤æ›´æ”¹äº†keyboardType å±æ€§ã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  keyboardType: TextInputType.number,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç±»å‹æœ‰ï¼š</p><ol><li>TextInputType.textï¼ˆæ™®é€šå®Œæ•´é”®ç›˜ï¼‰</li><li>TextInputType.numberï¼ˆæ•°å­—é”®ç›˜ï¼‰</li><li>TextInputType.emailAddressï¼ˆå¸¦æœ‰â€œ@â€çš„æ™®é€šé”®ç›˜ï¼‰</li><li>TextInputType.datetimeï¼ˆå¸¦æœ‰â€œ/â€å’Œâ€œ:â€çš„æ•°å­—é”®ç›˜ï¼‰</li><li>TextInputType.numberWithOptionsï¼ˆå¸¦æœ‰å¯ç”¨æœ‰ç¬¦å·å’Œåè¿›åˆ¶æ¨¡å¼é€‰é¡¹çš„æ•°å­—é”®ç›˜ï¼‰</li><li>TextInputType.multilineï¼ˆå¤šè¡Œä¿¡æ¯ä¼˜åŒ–ï¼‰</li></ol><h3 id="2-TextInputAction"><a href="#2-TextInputAction" class="headerlink" title="2. TextInputAction"></a>2. TextInputAction</h3><p>æ›´æ”¹ TextField çš„ textInputAction å¯è®©æ‚¨æ›´æ”¹é”®ç›˜æœ¬èº«çš„æ“ä½œæŒ‰é’®ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-none"><code class="language-none">TextField(  textInputAction: TextInputAction.continueAction,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™ä¼šå¯¼è‡´â€œå®Œæˆâ€æŒ‰é’®è¢«â€œç»§ç»­â€æŒ‰é’®æ›¿æ¢ï¼š</p><img src="/A-Deep-Dive-Into-Flutter-TextField/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ–è€…ä¹Ÿå¯ä»¥è¿™æ ·</p><pre class="line-numbers language-none"><code class="language-none">TextField(  textInputAction: TextInputAction.send,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/6.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="3-Autocorrect"><a href="#3-Autocorrect" class="headerlink" title="3. Autocorrect"></a>3. Autocorrect</h3><p>å¯ç”¨æˆ–ç¦ç”¨ç‰¹å®š TextField çš„è‡ªåŠ¨æ›´æ­£ã€‚ä½¿ç”¨è‡ªåŠ¨æ›´æ­£å­—æ®µè¿›è¡Œè®¾ç½®ã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  autocorrect: false,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™ä¹Ÿä¼šç¦ç”¨å»ºè®®ã€‚</p><h3 id="4-Text-Capitalization"><a href="#4-Text-Capitalization" class="headerlink" title="4. Text Capitalization"></a>4. Text Capitalization</h3><p>TextField æä¾›äº†ä¸€äº›å…³äºå¦‚ä½•å°†ç”¨æˆ·è¾“å…¥ä¸­çš„å­—æ¯å¤§å†™çš„é€‰é¡¹ã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  textCapitalization: TextCapitalization.sentences,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç±»å‹æœ‰ï¼š</p><ol><li>TextCapitalization.sentences</li></ol><p>è¿™æ˜¯æˆ‘ä»¬æœŸæœ›çš„æ­£å¸¸å¤§å°å†™ç±»å‹ï¼Œæ¯ä¸ªå¥å­çš„ç¬¬ä¸€ä¸ªå­—æ¯éƒ½å¤§å†™ã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/7.png" class="" title="ç¤ºæ„å›¾ width=400"><ol start="2"><li>TextCapitalization.characters</li></ol><p>å°†å¥å­ä¸­çš„æ‰€æœ‰å­—ç¬¦å¤§å†™ã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/8.png" class="" title="ç¤ºæ„å›¾ width=400"><ol start="3"><li>TextCapitalization.words</li></ol><p>å°†æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯å¤§å†™ã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/9.png" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="æ–‡æœ¬æ ·å¼ã€å¯¹é½æ–¹å¼å’Œå…‰æ ‡é€‰é¡¹"><a href="#æ–‡æœ¬æ ·å¼ã€å¯¹é½æ–¹å¼å’Œå…‰æ ‡é€‰é¡¹" class="headerlink" title="æ–‡æœ¬æ ·å¼ã€å¯¹é½æ–¹å¼å’Œå…‰æ ‡é€‰é¡¹"></a>æ–‡æœ¬æ ·å¼ã€å¯¹é½æ–¹å¼å’Œå…‰æ ‡é€‰é¡¹</h2><p>Flutter å…è®¸å¯¹ TextField å†…çš„æ–‡æœ¬æ ·å¼å’Œå¯¹é½æ–¹å¼ä»¥åŠ TextField å†…çš„å…‰æ ‡è¿›è¡Œè‡ªå®šä¹‰ã€‚</p><h3 id="TextField-å†…çš„æ–‡æœ¬å¯¹é½æ–¹å¼"><a href="#TextField-å†…çš„æ–‡æœ¬å¯¹é½æ–¹å¼" class="headerlink" title="TextField å†…çš„æ–‡æœ¬å¯¹é½æ–¹å¼"></a>TextField å†…çš„æ–‡æœ¬å¯¹é½æ–¹å¼</h3><p>ä½¿ç”¨ textAlign å±æ€§è°ƒæ•´å…‰æ ‡åœ¨ TextField å†…çš„ä½ç½®ã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  textAlign: TextAlign.center,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™ä¼šå¯¼è‡´å…‰æ ‡å’Œæ–‡æœ¬ä» TextField çš„ä¸­é—´å¼€å§‹ã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¿™å…·æœ‰é€šå¸¸çš„å¯¹é½å±æ€§ï¼šå¼€å§‹ã€ç»“æŸã€å·¦ã€å³ã€ä¸­å¿ƒã€å¯¹é½ã€‚</p><h3 id="å¯¹-TextField-ä¸­çš„æ–‡æœ¬è¿›è¡Œæ ·å¼è®¾ç½®"><a href="#å¯¹-TextField-ä¸­çš„æ–‡æœ¬è¿›è¡Œæ ·å¼è®¾ç½®" class="headerlink" title="å¯¹ TextField ä¸­çš„æ–‡æœ¬è¿›è¡Œæ ·å¼è®¾ç½®"></a>å¯¹ TextField ä¸­çš„æ–‡æœ¬è¿›è¡Œæ ·å¼è®¾ç½®</h3><p>æˆ‘ä»¬ä½¿ç”¨ style å±æ€§æ¥æ”¹å˜ TextField ä¸­æ–‡æœ¬çš„å¤–è§‚ã€‚ä½¿ç”¨å®ƒæ¥æ›´æ”¹é¢œè‰²ã€å­—ä½“å¤§å°ç­‰ã€‚è¿™ç±»ä¼¼äº Text å°éƒ¨ä»¶ä¸­çš„æ ·å¼å±æ€§ï¼Œå› æ­¤æˆ‘ä»¬ä¸ä¼šèŠ±å¤ªå¤šæ—¶é—´æ¥æ¢ç´¢å®ƒã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  style: TextStyle(color: Colors.red, fontWeight: FontWeight.w300),),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/11.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="æ›´æ”¹-TextField-ä¸­çš„å…‰æ ‡"><a href="#æ›´æ”¹-TextField-ä¸­çš„å…‰æ ‡" class="headerlink" title="æ›´æ”¹ TextField ä¸­çš„å…‰æ ‡"></a>æ›´æ”¹ TextField ä¸­çš„å…‰æ ‡</h3><p>å…‰æ ‡å¯ç›´æ¥ä» TextField å°éƒ¨ä»¶è‡ªå®šä¹‰ã€‚<br>æ‚¨å¯ä»¥æ›´æ”¹æ‹è§’çš„å…‰æ ‡é¢œè‰²ã€å®½åº¦å’ŒåŠå¾„ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæˆ‘éšä¾¿åˆ¶ä½œäº†ä¸€ä¸ªåœ†å½¢çº¢è‰²å…‰æ ‡ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  cursorColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">,</span>  cursorRadius<span class="token punctuation">:</span> <span class="token class-name">Radius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  cursorWidth<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/12.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="æ§åˆ¶-TextField-ä¸­çš„å¤§å°å’Œæœ€å¤§é•¿åº¦"><a href="#æ§åˆ¶-TextField-ä¸­çš„å¤§å°å’Œæœ€å¤§é•¿åº¦" class="headerlink" title="æ§åˆ¶ TextField ä¸­çš„å¤§å°å’Œæœ€å¤§é•¿åº¦"></a>æ§åˆ¶ TextField ä¸­çš„å¤§å°å’Œæœ€å¤§é•¿åº¦</h3><p>TextFields å¯ä»¥æ§åˆ¶åœ¨å…¶ä¸­å†™å…¥çš„æœ€å¤§å­—ç¬¦æ•°ã€æœ€å¤§è¡Œæ•°ä»¥åŠåœ¨é”®å…¥æ–‡æœ¬æ—¶æ‰©å±•ã€‚</p><h3 id="æ§åˆ¶æœ€å¤§å­—ç¬¦æ•°"><a href="#æ§åˆ¶æœ€å¤§å­—ç¬¦æ•°" class="headerlink" title="æ§åˆ¶æœ€å¤§å­—ç¬¦æ•°"></a>æ§åˆ¶æœ€å¤§å­—ç¬¦æ•°</h3><pre class="line-numbers language-none"><code class="language-none">TextField(  maxLength: 4,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/13.png" class="" title="ç¤ºæ„å›¾ width=400"><p>é€šè¿‡è®¾ç½® maxLength å±æ€§ï¼Œå¼ºåˆ¶æ‰§è¡Œæœ€å¤§é•¿åº¦ï¼Œå¹¶ä¸”é»˜è®¤æƒ…å†µä¸‹å°†è®¡æ•°å™¨æ·»åŠ åˆ° TextFieldã€‚</p><h3 id="åˆ¶ä½œå¯æ‰©å±•çš„-TextField"><a href="#åˆ¶ä½œå¯æ‰©å±•çš„-TextField" class="headerlink" title="åˆ¶ä½œå¯æ‰©å±•çš„ TextField"></a>åˆ¶ä½œå¯æ‰©å±•çš„ TextField</h3><p>æœ‰æ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåœ¨ä¸€è¡Œå®Œæˆæ—¶æ‰©å±•çš„ TextFieldã€‚åœ¨ Flutter ä¸­ï¼Œè¿™æœ‰ç‚¹å¥‡æ€ªï¼ˆä½†å¾ˆå®¹æ˜“ï¼‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°† maxLines è®¾ç½®ä¸º nullï¼Œé»˜è®¤ä¸º 1ã€‚è®¾ç½®ä¸º null ä¸æ˜¯æˆ‘ä»¬éå¸¸ä¹ æƒ¯çš„äº‹æƒ…ï¼Œä½†å®ƒå¾ˆå®¹æ˜“åšåˆ°ã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/14.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ³¨æ„ï¼šå°† maxLines è®¾ç½®ä¸ºç›´æ¥å€¼å°†é»˜è®¤å°†å…¶æ‰©å±•åˆ°è¯¥è¡Œæ•°ã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  maxLines: 3,)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/15.png" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="é®è”½æ–‡æœ¬"><a href="#é®è”½æ–‡æœ¬" class="headerlink" title="é®è”½æ–‡æœ¬"></a>é®è”½æ–‡æœ¬</h2><p>è¦éšè— TextField ä¸­çš„æ–‡æœ¬ï¼Œè¯·å°† obscureText è®¾ç½®ä¸º trueã€‚</p><pre class="line-numbers language-none"><code class="language-none">TextField(  obscureText: true,),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/16.png" class="" title="ç¤ºæ„å›¾ width=400"><h2 id="æœ€åï¼Œè£…é¥°-TextField"><a href="#æœ€åï¼Œè£…é¥°-TextField" class="headerlink" title="æœ€åï¼Œè£…é¥° TextField"></a>æœ€åï¼Œè£…é¥° TextField</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸“æ³¨äº Flutter ä¸ºè¾“å…¥æä¾›çš„åŠŸèƒ½ã€‚ç°åœ¨æˆ‘ä»¬å°†å¼€å§‹å®é™…è®¾è®¡ä¸€ä¸ªç²¾ç¾çš„ TextFieldï¼Œè€Œä¸æ˜¯å¯¹æ‚¨çš„è®¾è®¡å¸ˆè¯´ä¸ã€‚<br>ä¸ºäº†è£…é¥° TextFieldï¼Œæˆ‘ä»¬ä½¿ç”¨å¸¦æœ‰ InputDecoration çš„è£…é¥°å±æ€§ã€‚ç”±äº InputDecoration ç±»éå¸¸åºå¤§ï¼Œæˆ‘ä»¬å°†å°è¯•å¿«é€Ÿæµè§ˆå¤§éƒ¨åˆ†é‡è¦å±æ€§ã€‚</p><h3 id="ä½¿ç”¨æç¤ºå’Œæ ‡ç­¾å±æ€§å‘ç”¨æˆ·æä¾›ä¿¡æ¯"><a href="#ä½¿ç”¨æç¤ºå’Œæ ‡ç­¾å±æ€§å‘ç”¨æˆ·æä¾›ä¿¡æ¯" class="headerlink" title="ä½¿ç”¨æç¤ºå’Œæ ‡ç­¾å±æ€§å‘ç”¨æˆ·æä¾›ä¿¡æ¯"></a>ä½¿ç”¨æç¤ºå’Œæ ‡ç­¾å±æ€§å‘ç”¨æˆ·æä¾›ä¿¡æ¯</h3><p>æç¤ºå’Œæ ‡ç­¾éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œå¯å¸®åŠ©ç”¨æˆ·ç†è§£è¦åœ¨ TextField ä¸­è¾“å…¥çš„ä¿¡æ¯ã€‚ä¸åŒä¹‹å¤„åœ¨äºï¼Œä¸€æ—¦ç”¨æˆ·å¼€å§‹è¾“å…¥ï¼Œè€Œæ ‡ç­¾æ¼‚æµ®åœ¨ TextField ä¸Šï¼Œæç¤ºå°±ä¼šæ¶ˆå¤±ã€‚</p><img src="/A-Deep-Dive-Into-Flutter-TextField/17.png" class="" title="ç¤ºæ„å›¾ width=400"><img src="/A-Deep-Dive-Into-Flutter-TextField/18.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="æ‚¨å¯ä»¥ä½¿ç”¨â€œiconâ€ã€â€œprefixIconâ€å’Œâ€œsuffixIconâ€æ·»åŠ å›¾æ ‡"><a href="#æ‚¨å¯ä»¥ä½¿ç”¨â€œiconâ€ã€â€œprefixIconâ€å’Œâ€œsuffixIconâ€æ·»åŠ å›¾æ ‡" class="headerlink" title="æ‚¨å¯ä»¥ä½¿ç”¨â€œiconâ€ã€â€œprefixIconâ€å’Œâ€œsuffixIconâ€æ·»åŠ å›¾æ ‡"></a>æ‚¨å¯ä»¥ä½¿ç”¨â€œiconâ€ã€â€œprefixIconâ€å’Œâ€œsuffixIconâ€æ·»åŠ å›¾æ ‡</h3><p>æ‚¨å¯ä»¥å°†å›¾æ ‡ç›´æ¥æ·»åŠ åˆ° TextFieldsã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ prefixText å’Œ suffixText ä»£æ›¿ Textã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>    icon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>print<span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/19.png" class="" title="ç¤ºæ„å›¾ width=400"><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>    prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span><span class="token class-name">Icons</span><span class="token punctuation">.</span>print<span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/20.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="åŒæ ·å¯¹äºä»»ä½•å…¶ä»–å°éƒ¨ä»¶ï¼Œä½¿ç”¨â€œprefixâ€è€Œä¸æ˜¯â€œprefixIconâ€"><a href="#åŒæ ·å¯¹äºä»»ä½•å…¶ä»–å°éƒ¨ä»¶ï¼Œä½¿ç”¨â€œprefixâ€è€Œä¸æ˜¯â€œprefixIconâ€" class="headerlink" title="åŒæ ·å¯¹äºä»»ä½•å…¶ä»–å°éƒ¨ä»¶ï¼Œä½¿ç”¨â€œprefixâ€è€Œä¸æ˜¯â€œprefixIconâ€"></a>åŒæ ·å¯¹äºä»»ä½•å…¶ä»–å°éƒ¨ä»¶ï¼Œä½¿ç”¨â€œprefixâ€è€Œä¸æ˜¯â€œprefixIconâ€</h3><p>è¦ä½¿ç”¨é€šç”¨å°éƒ¨ä»¶è€Œä¸æ˜¯å›¾æ ‡ï¼Œè¯·ä½¿ç”¨å‰ç¼€å­—æ®µã€‚åŒæ ·ï¼Œæ²¡æœ‰æ˜æ˜¾çš„åŸå› ï¼Œè®©æˆ‘ä»¬åœ¨ TextField ä¸­æ·»åŠ ä¸€ä¸ªå¾ªç¯è¿›åº¦æŒ‡ç¤ºå™¨ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>    prefix<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/21.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="æç¤ºã€æ ‡ç­¾ç­‰æ¯ä¸ªå±æ€§éƒ½æœ‰å…¶å„è‡ªçš„æ ·å¼å­—æ®µ"><a href="#æç¤ºã€æ ‡ç­¾ç­‰æ¯ä¸ªå±æ€§éƒ½æœ‰å…¶å„è‡ªçš„æ ·å¼å­—æ®µ" class="headerlink" title="æç¤ºã€æ ‡ç­¾ç­‰æ¯ä¸ªå±æ€§éƒ½æœ‰å…¶å„è‡ªçš„æ ·å¼å­—æ®µ"></a>æç¤ºã€æ ‡ç­¾ç­‰æ¯ä¸ªå±æ€§éƒ½æœ‰å…¶å„è‡ªçš„æ ·å¼å­—æ®µ</h3><p>è¦è®¾ç½®æç¤ºæ ·å¼ï¼Œè¯·ä½¿ç”¨hintStyleã€‚è¦è®¾ç½®æ ‡ç­¾æ ·å¼ï¼Œè¯·ä½¿ç”¨ labelStyleã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>    hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Demo Text"</span></span><span class="token punctuation">,</span>    hintStyle<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>w300<span class="token punctuation">,</span> color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>red<span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/22.png" class="" title="ç¤ºæ„å›¾ width=400"><p><strong>å¦‚æœæ‚¨ä¸æƒ³è¦æ ‡ç­¾ä½†æƒ³è¦ä¸ºç”¨æˆ·æä¾›æŒä¹…æ¶ˆæ¯ï¼Œè¯·ä½¿ç”¨â€œhelperTextâ€ã€‚</strong></p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>    helperText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Hello"</span></span>  <span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/23.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä½¿ç”¨â€œdecoration: nullâ€æˆ– InputDecoration.collapsed åˆ é™¤ TextField ä¸Šçš„é»˜è®¤ä¸‹åˆ’çº¿<br>ä½¿ç”¨è¿™äº›æ¥åˆ é™¤ TextField ä¸Šçš„é»˜è®¤ä¸‹åˆ’çº¿ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">.</span><span class="token function">collapsed</span><span class="token punctuation">(</span>hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">""</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/24.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ä½¿ç”¨â€œborderâ€ä¸º-TextField-è®¾ç½®è¾¹æ¡†"><a href="#ä½¿ç”¨â€œborderâ€ä¸º-TextField-è®¾ç½®è¾¹æ¡†" class="headerlink" title="ä½¿ç”¨â€œborderâ€ä¸º TextField è®¾ç½®è¾¹æ¡†"></a>ä½¿ç”¨â€œborderâ€ä¸º TextField è®¾ç½®è¾¹æ¡†</h3><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">TextField</span><span class="token punctuation">(</span>  decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>    border<span class="token punctuation">:</span> <span class="token class-name">OutlineInputBorder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><img src="/A-Deep-Dive-Into-Flutter-TextField/25.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ‚¨å¯ä»¥è¿›ä¸€æ­¥è¿›è¡Œå¤§é‡è£…é¥°ï¼Œä½†æˆ‘ä»¬ä¸èƒ½åœ¨ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»æ‰€æœ‰å†…å®¹ã€‚<br>ä½†æˆ‘å¸Œæœ›è¿™å¯ä»¥æ¸…æ¥šåœ°è®©ä½ äº†è§£è‡ªå®šä¹‰ Flutter TextFields æ˜¯å¤šä¹ˆå®¹æ˜“ï¼Œèƒ½è¾¾åˆ°è¿™ä¸ªç›®çš„å°±å¯ä»¥å•¦ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> TextField </tag>
            
            <tag> Dive Into </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€‚åˆåˆå­¦è€…çš„Flutter Blocæ¨¡å¼</title>
      <link href="/Flutter-bloc-for-beginners.html"/>
      <url>/Flutter-bloc-for-beginners.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-bloc-for-beginners/1.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ä»€ä¹ˆæ˜¯Flutter-çš„Boclæ¨¡å¼"><a href="#ä»€ä¹ˆæ˜¯Flutter-çš„Boclæ¨¡å¼" class="headerlink" title="ä»€ä¹ˆæ˜¯Flutter çš„Boclæ¨¡å¼"></a>ä»€ä¹ˆæ˜¯Flutter çš„Boclæ¨¡å¼</h3><p>Flutter bloc æ˜¯ Flâ€‹â€‹utter åº”ç”¨ç¨‹åºçš„çŠ¶æ€ç®¡ç†ä¹‹ä¸€ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å®ƒä»¥ <strong>ç®€å•</strong> çš„æ–¹å¼å¤„ç†åº”ç”¨ç¨‹åºçš„æ‰€æœ‰å¯èƒ½çŠ¶æ€ã€‚<br>Flutter bloc æ˜“äºä½¿ç”¨ï¼Œå› ä¸ºæ‚¨å’Œæ‚¨çš„å›¢é˜Ÿå°†å¾ˆå¿«ç†è§£è¿™ä¸ªæ¦‚å¿µï¼Œæ— è®ºæ‚¨çš„çº§åˆ«æ˜¯ä»€ä¹ˆï¼Œè¿™ä¸ªåº“éƒ½æœ‰éå¸¸å¥½çš„æ–‡æ¡£å’Œå¤§é‡çš„ç¤ºä¾‹ï¼Œä¹Ÿæ˜¯ Flutter ç¤¾åŒºä¸­ä½¿ç”¨æœ€å¤šçš„åº“ä¹‹ä¸€ï¼Œå› æ­¤ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•ç–‘é—®æˆ–é—®é¢˜ï¼Œæ‚¨å¯èƒ½ä¼šé€šè¿‡äº’è”ç½‘ä¸Šçš„ç®€å•æœç´¢æ‰¾åˆ°è§£å†³æ–¹æ¡ˆã€‚</p><span id="more"></span><p><strong>åŠŸèƒ½å¼ºå¤§</strong>æ˜¯å› ä¸ºå®ƒå¯ä»¥å¸®åŠ©æ‚¨åˆ›å»ºå„ç§åº”ç”¨ç¨‹åºï¼Œä¾‹å¦‚æ‚¨å¯ä»¥åˆ›å»ºç”¨äºå­¦ä¹ ç›®çš„çš„åº”ç”¨ç¨‹åºï¼Œä¹Ÿå¯ä»¥åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆ›å»ºå¤æ‚çš„åº”ç”¨ç¨‹åºï¼Œflutter bloc åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹éƒ½æœ‰æ•ˆã€‚<br>è¿™ä¸ªåº“çš„å¦ä¸€ä¸ªé‡è¦æ–¹é¢æ˜¯æ‚¨å¯ä»¥è½»æ¾åœ°<strong>æµ‹è¯•</strong>æ‚¨çš„å—é€»è¾‘ã€‚</p><p>æ›´å¤šä¿¡æ¯ï¼Œæ‚¨å¯ä»¥è®¿é—®å®˜æ–¹ç½‘ç«™ï¼š<a href="https://bloclibrary.dev/#/gettingstarted">https://bloclibrary.dev/#/gettingstarted</a></p><h2 id="é‚£ä¹ˆâ€¦â€¦æˆ‘è¯¥å¦‚ä½•ä»-Flutter-bloc-å¼€å§‹å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆâ€¦â€¦æˆ‘è¯¥å¦‚ä½•ä»-Flutter-bloc-å¼€å§‹å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆâ€¦â€¦æˆ‘è¯¥å¦‚ä½•ä» Flutter bloc å¼€å§‹å‘¢ï¼Ÿ"></a>é‚£ä¹ˆâ€¦â€¦æˆ‘è¯¥å¦‚ä½•ä» Flutter bloc å¼€å§‹å‘¢ï¼Ÿ</h2><p>æˆ‘ç»™ä½ çš„ç¬¬ä¸€ä¸ªå»ºè®®æ˜¯ä½ åº”è¯¥é˜…è¯»æ–‡æ¡£å¹¶é˜…è¯»åŸºç¡€çŸ¥è¯†ï¼Œåœ¨æœ¬æ–‡ä¸­æˆ‘å°†å°è¯•è§£é‡Šå®ƒï¼Œä½†å¦‚æœä½ éœ€è¦æ›´æ·±å…¥ï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ è®¿é—®æ–‡æ¡£ã€‚</p><h3 id="å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3><p>å½“æ‚¨ä½¿ç”¨Flutter bloc æ—¶ï¼Œæ‚¨å°†åˆ›å»ºäº‹ä»¶æ¥è§¦å‘ä¸åº”ç”¨ç¨‹åºçš„äº¤äº’ï¼Œç„¶åè´Ÿè´£çš„ bloc å°†å‘å‡ºå¸¦æœ‰çŠ¶æ€çš„è¯·æ±‚æ•°æ®ï¼Œåœ¨ä¸€ä¸ªçœŸå®çš„ç¤ºä¾‹ä¸­ï¼Œå®ƒå°†æ˜¯è¿™æ ·çš„ï¼š</p><p>1- ç”¨æˆ·å•å‡»æŒ‰é’®ä»¥è·å–æ¸¸æˆåˆ—è¡¨ã€‚<br>2- äº‹ä»¶è¢«è§¦å‘ï¼Œå¹¶é€šçŸ¥é˜»æ­¢ç”¨æˆ·æƒ³è¦ä¸€ä¸ªæ¸¸æˆåˆ—è¡¨ã€‚<br>3- è¯¥blocå°†è¯·æ±‚æ­¤æ•°æ®ï¼ˆä¾‹å¦‚ï¼Œä»è´Ÿè´£è¿æ¥åˆ° API ä»¥è·å–æ•°æ®çš„å­˜å‚¨åº“ï¼‰ã€‚<br>4-å½“å—æœ‰æ•°æ®æ—¶ï¼Œå®ƒå°†ç¡®å®šæ•°æ®æ˜¯æˆåŠŸè¿˜æ˜¯é”™è¯¯ï¼Œç„¶åå®ƒä¼šå‘å‡ºä¸€ä¸ªçŠ¶æ€ã€‚<br>5- è§†å›¾å°†å¬å–æ¬§ç›Ÿå¯èƒ½å‘å‡ºçš„æ‰€æœ‰å¯èƒ½çŠ¶æ€ä»¥å¯¹å…¶ä½œå‡ºååº”ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ bloc å‘å‡º Success ä½œä¸ºçŠ¶æ€ï¼Œåˆ™è§†å›¾å°†ä½¿ç”¨æ¸¸æˆåˆ—è¡¨é‡å»ºå®ƒï¼Œä½†å¦‚æœçŠ¶æ€ä¸º Errorï¼Œåˆ™è§†å›¾å°†ä½¿ç”¨é”™è¯¯æ¶ˆæ¯æˆ–æ‚¨æƒ³è¦æ˜¾ç¤ºçš„ä»»ä½•å†…å®¹è¿›è¡Œé‡å»ºã€‚</p><img src="/Flutter-bloc-for-beginners/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å®Œç¾ï¼Œç°åœ¨æ‚¨çŸ¥é“äº†Flutter bloc å¦‚ä½•å·¥ä½œçš„ä¸»è¦æ¦‚å¿µï¼ç°åœ¨ï¼Œæ˜¯æ—¶å€™çŸ¥é“å¦‚ä½•ä½¿ç”¨å®ƒäº†ã€‚<br>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³åˆ›å»ºä¸€ä¸ªä¸æ¸¸æˆç›¸å…³çš„å—é€»è¾‘ï¼Œä½ å°†éœ€è¦è¿™ä¸‰ä¸ªç±»ï¼š</p><ul><li>games_bloc.dart</li><li>games_state.dart</li><li>games_event.dart</li></ul><p>å¦‚æ‚¨æ‰€è§ï¼Œæ‚¨å°†éœ€è¦ä¸€ä¸ªå—ã€çŠ¶æ€å’Œäº‹ä»¶ç±»ã€‚<br>åœ¨æ¯ä¸ªç±»ä¸­ï¼Œæ‚¨å°†ç®¡ç†æ‰€éœ€çš„ä¿¡æ¯ï¼Œä¸è¦ç€æ€¥ï¼Œæ¥ä¸‹é‡Œçš„å†…å®¹é‡Œæˆ‘ä»¬ä¼šè¯¦ç»†è®²è§£ä¸€ä¸‹è¿™äº›çŸ¥è¯†ã€‚</p><h3 id="Bloc-Widgets"><a href="#Bloc-Widgets" class="headerlink" title="Bloc Widgets"></a>Bloc Widgets</h3><p>è¿™äº›æ˜¯åº“ä¸ºæ‚¨æä¾›çš„ç”¨äºç®¡ç†æ‰€æœ‰å¯èƒ½æƒ…å†µçš„å°éƒ¨ä»¶ï¼Œä¾‹å¦‚ï¼Œæ·»åŠ äº‹ä»¶ã€ä¾¦å¬çŠ¶æ€ã€å‘å‡ºçŠ¶æ€ã€æ ¹æ®çŠ¶æ€é‡å»ºè§†å›¾ç­‰ã€‚</p><p><em>BlocProvider/MultiBlocProvider</em></p><p>BlocProvider è´Ÿè´£ä¸ºå…¶å­ä»£æä¾›blocã€‚æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰â€œåˆå§‹åŒ–â€ bloc çš„æ–¹å¼ã€‚</p><img src="/Flutter-bloc-for-beginners/3.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœæ‚¨éœ€è¦æä¾›å¤šä¸ªå—ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ MultiBlocProvider æ¥è·å–ä¸åŒçš„æä¾›è€…ã€‚</p><img src="/Flutter-bloc-for-beginners/4.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="RepositoryProvider-MultiRepositoryProvider"><a href="#RepositoryProvider-MultiRepositoryProvider" class="headerlink" title="RepositoryProvider/MultiRepositoryProvider"></a>RepositoryProvider/MultiRepositoryProvider</h3><p>RepositoryProvider ç”¨äºä¸ºå…¶å­é¡¹æä¾›å­˜å‚¨åº“ã€‚é€šå¸¸ï¼Œå½“æ‚¨éœ€è¦åˆ›å»ºå­˜å‚¨åº“ç±»çš„å®ä¾‹æ—¶ï¼Œæ‚¨å°†ä½¿ç”¨å®ƒï¼Œç„¶åä½¿ç”¨ BlocProviderï¼Œæ‚¨å°†åœ¨ </p><pre class="line-numbers language-none"><code class="language-none">context.read&lt;YourRepository&gt;(); <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>çš„å¸®åŠ©ä¸‹è®¿é—®è¯¥å­˜å‚¨åº“ï¼›</p><p>è¿™æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><img src="/Flutter-bloc-for-beginners/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¦‚æœæ‚¨éœ€è¦å¤šä¸ªå­˜å‚¨åº“æä¾›ç¨‹åºï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ MultiRepositoryProvider</p><img src="/Flutter-bloc-for-beginners/6.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="BlocListener"><a href="#BlocListener" class="headerlink" title="BlocListener"></a>BlocListener</h3><p>ä½¿ç”¨è¿™ä¸ªå°éƒ¨ä»¶ï¼Œæ‚¨å°†èƒ½å¤Ÿâ€œç›‘å¬â€ä»æ‚¨çš„blocå‘å‡ºçš„ä¸åŒçŠ¶æ€ï¼Œç„¶åå¯¹å®ƒä»¬åšå‡ºååº”ï¼Œä¾‹å¦‚ï¼Œæ˜¾ç¤ºä¸€ä¸ªå¿«é¤æ ã€å¯¹è¯æ¡†æˆ–å¯¼èˆªåˆ°å¦ä¸€ä¸ªé¡µé¢â€¦â€¦è¿™ä¸ªå°éƒ¨ä»¶ä¸é‡å»ºè§†å›¾ï¼Œå®ƒåªæ˜¯åœ¨å¬ã€‚</p><img src="/Flutter-bloc-for-beginners/7.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="BlocBuilder"><a href="#BlocBuilder" class="headerlink" title="BlocBuilder"></a>BlocBuilder</h3><p>æœ‰äº†è¿™ä¸ªï¼Œä½ å°†èƒ½å¤Ÿæ ¹æ®å®ƒä»¬çš„çŠ¶æ€é‡å»ºä½ çš„å°éƒ¨ä»¶ã€‚</p><img src="/Flutter-bloc-for-beginners/8.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="BlocConsumer"><a href="#BlocConsumer" class="headerlink" title="BlocConsumer"></a>BlocConsumer</h3><p>å½“æ‚¨éœ€è¦æ§åˆ¶å—çš„çŠ¶æ€ä»¥é‡å»ºå°éƒ¨ä»¶ä»¥åŠå¯¼èˆªæˆ–æ˜¾ç¤ºå¯¹è¯æ¡†ç­‰æ—¶ï¼Œæ­¤å°éƒ¨ä»¶éå¸¸æœ‰ç”¨ã€‚æ­¤å°éƒ¨ä»¶å…·æœ‰ä¾¦å¬å™¨å’Œæ„å»ºå™¨åŠŸèƒ½ï¼Œå› æ­¤æ‚¨å¯ä»¥ä¸€èµ·ä½¿ç”¨å®ƒã€‚</p><img src="/Flutter-bloc-for-beginners/9.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="BlocSelector"><a href="#BlocSelector" class="headerlink" title="BlocSelector"></a>BlocSelector</h3><p>æ­¤å°éƒ¨ä»¶å…è®¸å¼€å‘äººå‘˜é€šè¿‡æ ¹æ®å½“å‰åŒºå—çŠ¶æ€é€‰æ‹©æ–°å€¼æ¥è¿‡æ»¤æ›´æ–°ã€‚</p><img src="/Flutter-bloc-for-beginners/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æœ‰å…³æ›´å¤šä¿¡æ¯ï¼Œæ‚¨å¯ä»¥æŸ¥çœ‹æ–‡æ¡£ã€‚<br>ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä»ä¾‹å­å¼€å§‹ğŸ™Œ</p><h2 id="åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨-Flutter-Bloc"><a href="#åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨-Flutter-Bloc" class="headerlink" title="åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ Flutter Bloc"></a>åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨ Flutter Bloc</h2><p>åœ¨è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ¥è‡ªæ¸¸æˆ API çš„æ•°æ®æ¥è·å–æœ‰å…³æ¸¸æˆçš„ä¿¡æ¯å¹¶åœ¨æˆ‘ä»¬çš„è§†å›¾ä¸­æ˜¾ç¤ºå®ƒä»¬ã€‚<br>æˆ‘é€‰æ‹©çš„ API æ˜¯ <a href="https://rawg.io/apidocs">RAWG</a>ã€‚è¦ä½¿ç”¨å®ƒï¼Œæ‚¨éœ€è¦åˆ›å»ºä¸€ä¸ª API å¯†é’¥ã€‚</p><p>åšå¥½çš„ç¨‹åºå¤§æ¦‚å¼ è¿™ä¸ªæ ·å­</p><img src="/Flutter-bloc-for-beginners/11.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸»é¡µæœ‰ä¸åŒçš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ã€‚</p><h3 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h3><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å°éƒ¨ä»¶ï¼Œæ˜¾ç¤ºä¸¤ä¸ªæ–‡æœ¬å’Œä¸€ä¸ªåœ†å½¢å¤´åƒã€‚</p><img src="/Flutter-bloc-for-beginners/12.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="ç±»åˆ«å°éƒ¨ä»¶"><a href="#ç±»åˆ«å°éƒ¨ä»¶" class="headerlink" title="ç±»åˆ«å°éƒ¨ä»¶"></a>ç±»åˆ«å°éƒ¨ä»¶</h3><p>æ˜¾ç¤º API è¿”å›è°ƒç”¨ getGenres çš„ä¸åŒç±»å‹ã€‚è¿™ä¸ªå°éƒ¨ä»¶æœ‰å››ç§å¯èƒ½çš„çŠ¶æ€ï¼š</p><ul><li>æˆåŠŸï¼šæ˜¾ç¤ºç±»åˆ«ï¼ˆç±»å‹ï¼‰åˆ—è¡¨ã€‚</li><li>é”™è¯¯ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</li><li>æ­£åœ¨åŠ è½½ï¼šæ˜¾ç¤ºä¸€ä¸ª CircularProgressIndicatorã€‚</li><li>å·²é€‰ï¼šæ›´æ”¹æ‰€é€‰ç±»åˆ«çš„å¤§å°å’Œé¢œè‰²ã€‚</li></ul><img src="/Flutter-bloc-for-beginners/13.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="åˆ†ç±»ç­›é€‰æ¸¸æˆå°éƒ¨ä»¶"><a href="#åˆ†ç±»ç­›é€‰æ¸¸æˆå°éƒ¨ä»¶" class="headerlink" title="åˆ†ç±»ç­›é€‰æ¸¸æˆå°éƒ¨ä»¶"></a>åˆ†ç±»ç­›é€‰æ¸¸æˆå°éƒ¨ä»¶</h3><p>æ˜¾ç¤º API åœ¨ä½¿ç”¨é¢å¤–çš„ç±»å‹å‚æ•°è°ƒç”¨ getGames æ—¶è¿”å›çš„æŒ‰ç±»å‹è¿‡æ»¤çš„ä¸åŒæ¸¸æˆã€‚å®ƒå…·æœ‰ä¸‰ç§å¯èƒ½çš„çŠ¶æ€ï¼š</p><ul><li>æˆåŠŸï¼šæŒ‰ç±»åˆ«æ˜¾ç¤ºæ¸¸æˆåˆ—è¡¨ã€‚</li><li>é”™è¯¯ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</li><li>æ­£åœ¨åŠ è½½ï¼šæ˜¾ç¤ºä¸€ä¸ª CircularProgressIndicatorã€‚</li></ul><h3 id="å…¨éƒ¨æ¸¸æˆ"><a href="#å…¨éƒ¨æ¸¸æˆ" class="headerlink" title="å…¨éƒ¨æ¸¸æˆ"></a>å…¨éƒ¨æ¸¸æˆ</h3><p>æ˜¾ç¤ºæ²¡æœ‰è¿‡æ»¤å™¨çš„æ¸¸æˆåˆ—è¡¨ã€‚æ­¤å°éƒ¨ä»¶ä»…åœ¨å…¶ bloc å‘å‡º Success çŠ¶æ€å¹¶å…·æœ‰ä¸‰ç§å¯èƒ½çŠ¶æ€æ—¶æ‰ä¼šæ˜¾ç¤ºï¼š</p><ul><li>æˆåŠŸï¼šæ˜¾ç¤ºæ¸¸æˆåˆ—è¡¨ã€‚</li><li>é”™è¯¯ï¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</li><li>æ­£åœ¨åŠ è½½ï¼šæ˜¾ç¤ºä¸€ä¸ª CircularProgressIndicatorã€‚</li></ul><img src="/Flutter-bloc-for-beginners/15.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h3><p>å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œæˆ‘åˆ›å»ºäº†è¿™ä¸ªç»“æ„ï¼š</p><img src="/Flutter-bloc-for-beginners/16.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ­£å¦‚æ‚¨åœ¨ home å°éƒ¨ä»¶æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œæˆ‘æ·»åŠ äº†æˆ‘ä¹‹å‰æåˆ°çš„æ‰€æœ‰å°éƒ¨ä»¶ã€‚æ¯ä¸ªå°éƒ¨ä»¶éƒ½æœ‰è‡ªå·±çš„blocï¼Œå› æ­¤æ›´å¹²å‡€å’Œå¯ç»´æŠ¤ã€‚</p><h3 id="Homeé¡µé¢"><a href="#Homeé¡µé¢" class="headerlink" title="Homeé¡µé¢"></a>Homeé¡µé¢</h3><p>è¿™ä¸ªé¡µé¢éå¸¸é‡è¦ï¼Œå› ä¸ºæˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº†ä¸¤ä¸ª Bloc Widgetï¼šMultiBlocProvider å’Œ RepositoryProviderã€‚<br>è¿™ä¸ªé¡µé¢çš„æƒ³æ³•æ˜¯åœ¨åˆå§‹åŒ–è¿™ä¸ªé¡µé¢æ—¶è®©æ‰€æœ‰çš„å—éƒ½å‡†å¤‡å¥½ä½¿ç”¨ï¼Œæ‰€ä»¥ï¼Œè¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘éœ€è¦ç”¨ RepositoryProvider åŒ…è£…æˆ‘çš„å­ç±»ï¼Œä¸ºæ‰€æœ‰å—æä¾›å­˜å‚¨åº“ï¼Œè€Œä¸”ï¼Œæˆ‘éœ€è¦åˆå§‹åŒ–æ‰€æœ‰å¸¦æœ‰ MultiBlocProvider çš„å—ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/game_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/service/game_service.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/pages/home_layout.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/category/category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/all_games_list_widget/all_games_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/games_by_category/games_by_category.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>      backgroundColor<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>deepOrangeAccent<span class="token punctuation">,</span>      body<span class="token punctuation">:</span> <span class="token class-name">RepositoryProvider</span><span class="token punctuation">(</span>        create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">GameRepository</span><span class="token punctuation">(</span>service<span class="token punctuation">:</span> <span class="token class-name">GameService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        child<span class="token punctuation">:</span> <span class="token class-name">MultiBlocProvider</span><span class="token punctuation">(</span>          providers<span class="token punctuation">:</span> <span class="token punctuation">[</span>            <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AllGamesBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>              create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">AllGamesBloc</span><span class="token punctuation">(</span>                gameRepository<span class="token punctuation">:</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GameRepository</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>                  <span class="token class-name">GetGames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>              create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">CategoryBloc</span><span class="token punctuation">(</span>                gameRepository<span class="token punctuation">:</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GameRepository</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>                  <span class="token class-name">GetCategories</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token class-name">BlocProvider</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GamesByCategoryBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>              create<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">GamesByCategoryBloc</span><span class="token punctuation">(</span>                gameRepository<span class="token punctuation">:</span> context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GameRepository</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">HomeLayout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>äº‹å®ä¸Šï¼Œæ­£å¦‚æ‚¨åœ¨è¿™æ®µä»£ç ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œæœ‰ä¸¤ä¸ªblocåœ¨å¼€å¤´æ·»åŠ äº†ä¸¤ä¸ªäº‹ä»¶ï¼š</p><ul><li>è·å–æ¸¸æˆ</li><li>è·å–ç±»åˆ«<br>è¿™æ˜¯æ·»åŠ æ–°äº‹ä»¶ä»¥é€šçŸ¥å…¶æˆ‘ä»¬éœ€è¦ä¸€äº›æ•°æ®çš„æ–¹æ³•ä¹‹ä¸€ã€‚æ‰€ä»¥æ­¤æ—¶ï¼Œä¸»é¡µæœ‰ä¸‰ä¸ªblocï¼Œè§¦å‘äº†ä¸¤ä¸ªäº‹ä»¶ã€‚ç°åœ¨æ¥çœ‹çœ‹ HomeLayoutã€‚</li></ul><h3 id="HomeLayout"><a href="#HomeLayout" class="headerlink" title="HomeLayout"></a>HomeLayout</h3><p>æ­¤ç±»å…·æœ‰æˆ‘ä¸Šé¢æåˆ°çš„ä¸‰ä¸ªä¸»è¦å°éƒ¨ä»¶ï¼Œè¿˜åŒ…å«è§†å›¾çš„éª¨æ¶ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/all_games_widget/all_games_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/category_widget/categories_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/games_by_category_widget/games_by_category_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/header_title/header_title.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/widgets/container_body.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">HomeLayout</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">HomeLayout</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>      padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">80.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>        crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>        children<span class="token punctuation">:</span> <span class="token punctuation">[</span>          <span class="token class-name">HeaderTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">40.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token class-name">ContainerBody</span><span class="token punctuation">(</span>            children<span class="token punctuation">:</span> <span class="token punctuation">[</span>              <span class="token class-name">CategoriesWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token class-name">GamesByCategoryWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token class-name">AllGamesWidget</span><span class="token punctuation">(</span>title<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'All games'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span>        <span class="token punctuation">]</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‹ä¸€æ­¥æ˜¯æŸ¥çœ‹è¿™äº›å°éƒ¨ä»¶ä¸­çš„æ¯ä¸€ä¸ªï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å¼€å§‹ä½¿ç”¨ CategoriesWidgetã€‚</p><h2 id="CategoriesWidget"><a href="#CategoriesWidget" class="headerlink" title="CategoriesWidget"></a>CategoriesWidget</h2><h3 id="Category-event"><a href="#Category-event" class="headerlink" title="Category event"></a>Category event</h3><p>è¿™æ˜¯æˆ‘æ·»åŠ æ­¤å°éƒ¨ä»¶æ‰€éœ€çš„æ‰€æœ‰äº‹ä»¶çš„åœ°æ–¹ã€‚</p><ul><li>GetCategoriesï¼šè·å–ç±»åˆ«çš„äº‹ä»¶ã€‚</li><li>SelectCategoriesï¼šçŸ¥é“ä½•æ—¶é€‰æ‹©ç±»åˆ«çš„äº‹ä»¶ã€‚</li></ul> <pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"> <span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'category_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CategoryEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">GetCategories</span> <span class="token keyword">extends</span> <span class="token class-name">CategoryEvent</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">SelectCategory</span> <span class="token keyword">extends</span> <span class="token class-name">CategoryEvent</span> <span class="token punctuation">{</span>  <span class="token class-name">SelectCategory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>idSelected<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> int idSelected<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>idSelected<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Category-state"><a href="#Category-state" class="headerlink" title="Category state"></a>Category state</h3><p>åœ¨è¿™ä¸ªç±»é‡Œè¾¹ï¼Œblocå¯ä»¥å‘å‡ºä¸åŒçš„çŠ¶æ€ã€‚æˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ‰©å±•æ¥ä»¥ç®€æ´æ˜äº†çš„æ–¹å¼å¤„ç†è§†å›¾ä¸­æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€ã€‚<br>æˆ‘ä½¿ç”¨ Equatable åº“å’Œ Dart ä¸­çš„å¯¹è±¡ä½œæ¯”è¾ƒï¼Œå¦‚æœä½ ä¸æ˜¯å¾ˆæ¸…æ¥šçš„è¯ï¼Œå¼ºçƒˆå»ºè®®æ‚¨æŸ¥çœ‹<a href="https://pub.dev/packages/equatable">æ–‡æ¡£</a>ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'category_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">enum</span> <span class="token class-name">CategoryStatus</span> <span class="token punctuation">{</span> initial<span class="token punctuation">,</span> success<span class="token punctuation">,</span> error<span class="token punctuation">,</span> loading<span class="token punctuation">,</span> selected <span class="token punctuation">}</span><span class="token keyword">extension</span> <span class="token class-name">CategoryStatusX</span> <span class="token keyword">on</span> <span class="token class-name">CategoryStatus</span> <span class="token punctuation">{</span>  bool <span class="token keyword">get</span> isInitial <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isSuccess <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isError <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>error<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isLoading <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isSelected <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>selected<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">CategoryState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CategoryState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">,</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Genre</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> categories<span class="token punctuation">,</span>    int idSelected <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">:</span> categories <span class="token operator">=</span> categories <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        idSelected <span class="token operator">=</span> idSelected<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Genre</span><span class="token punctuation">&gt;</span></span> categories<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">CategoryStatus</span> status<span class="token punctuation">;</span>  <span class="token keyword">final</span> int idSelected<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> categories<span class="token punctuation">,</span> idSelected<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token class-name">CategoryState</span> <span class="token function">copyWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Genre</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> categories<span class="token punctuation">,</span>    <span class="token class-name">CategoryStatus</span><span class="token operator">?</span> status<span class="token punctuation">,</span>    int<span class="token operator">?</span> idSelected<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">CategoryState</span><span class="token punctuation">(</span>      categories<span class="token punctuation">:</span> categories <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>categories<span class="token punctuation">,</span>      status<span class="token punctuation">:</span> status <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">,</span>      idSelected<span class="token punctuation">:</span> idSelected <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>idSelected<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Category-bloc"><a href="#Category-bloc" class="headerlink" title="Category bloc"></a>Category bloc</h3><p>åœ¨è¿™é‡Œï¼Œæ‚¨éœ€è¦å¤„ç†æ‚¨æ‹¥æœ‰çš„æ‰€æœ‰äº‹ä»¶ã€‚å¦‚æ‚¨æ‰€è§ï¼Œåœ¨ç¬¬ 13 è¡Œå’Œç¬¬ 14 è¡Œï¼Œæˆ‘æ­£åœ¨æ£€æŸ¥äº‹ä»¶æ˜¯å¦æ˜¯ä¸€ä¸ªæˆ–å¦ä¸€ä¸ªä»¥åˆ›å»ºå®ƒçš„æ–¹æ³•ã€‚<br>mapGetCategoriesEventToStateï¼šæ­¤æ–¹æ³•è°ƒç”¨å­˜å‚¨åº“ä»¥ä» API è·å–æ•°æ®ã€‚å½“å­˜å‚¨åº“è¿”å›æ•°æ® o æŠ›å‡ºé”™è¯¯æ—¶ï¼Œè¯¥å—ä¼šå‘å‡ºç›¸åº”çš„çŠ¶æ€ã€‚<br>mapSelectCategoryEventToStateï¼šæ­¤æ–¹æ³•å°†å‘å‡ºâ€œé€‰å®šâ€è¿™æ ·çš„çŠ¶æ€ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/game_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/model_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'category_event.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'category_state.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CategoryBloc</span> <span class="token keyword">extends</span> <span class="token class-name">Bloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryEvent</span><span class="token punctuation">,</span> <span class="token class-name">CategoryState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">CategoryBloc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>gameRepository<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">CategoryState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GetCategories</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_mapGetCategoriesEventToState<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SelectCategory</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_mapSelectCategoryEventToState<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">final</span> <span class="token class-name">GameRepository</span> gameRepository<span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">_mapGetCategoriesEventToState</span><span class="token punctuation">(</span>      <span class="token class-name">GetCategories</span> event<span class="token punctuation">,</span> <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">final</span> genres <span class="token operator">=</span> <span class="token keyword">await</span> gameRepository<span class="token punctuation">.</span><span class="token function">getGenres</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">emit</span><span class="token punctuation">(</span>        state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>          status<span class="token punctuation">:</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">,</span>          categories<span class="token punctuation">:</span> genres<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">,</span> stacktrace<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">print</span><span class="token punctuation">(</span>stacktrace<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token keyword">void</span> <span class="token function">_mapSelectCategoryEventToState</span><span class="token punctuation">(</span>      <span class="token class-name">SelectCategory</span> event<span class="token punctuation">,</span> <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token function">emit</span><span class="token punctuation">(</span>      state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>        status<span class="token punctuation">:</span> <span class="token class-name">CategoryStatus</span><span class="token punctuation">.</span>selected<span class="token punctuation">,</span>        idSelected<span class="token punctuation">:</span> event<span class="token punctuation">.</span>idSelected<span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨â€¦â€¦æˆ‘å¦‚ä½•æ£€æŸ¥è§†å›¾ä¸­çš„çŠ¶æ€ï¼Ÿ<br>å¥½å§ï¼Œå½“å‘å‡ºä¸€ä¸ªçŠ¶æ€æ—¶ï¼Œæˆ‘æƒ³ç”¨ç›¸åº”çš„æ•°æ®é‡å»ºè§†å›¾ã€‚ä¸ºæ­¤ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œæˆ‘æœ‰ä¸€ä¸ª BlocBuilderã€‚<br>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘åªæƒ³åœ¨å½“å‰çŠ¶æ€æˆåŠŸæ—¶é‡å»ºè§†å›¾ï¼Œå› æ­¤æˆ‘ä½¿ç”¨ buildWhen() æ¥å®ç°ï¼ˆç¬¬ 11 è¡Œï¼‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/category_widget/category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CategoriesWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CategoriesWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryBloc</span><span class="token punctuation">,</span> <span class="token class-name">CategoryState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      buildWhen<span class="token punctuation">:</span> <span class="token punctuation">(</span>previous<span class="token punctuation">,</span> current<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> current<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isSuccess<span class="token punctuation">,</span>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">CategoriesSuccessWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¾ˆé…·ï¼Œå½“æ˜¾ç¤ºæ­¤å°éƒ¨ä»¶æ—¶ï¼Œç”¨æˆ·å°†èƒ½å¤Ÿå•å‡»å…¶ä¸­ä¸€ä¸ªç±»åˆ«ï¼Œå½“è¿™äº›å‘ç”Ÿæ—¶ï¼Œæˆ‘å°†æ·»åŠ ä¸¤ä¸ªäº‹ä»¶ï¼š<br>GetGamesByCategory ï¼šæŒ‰ç±»å‹è¿‡æ»¤æ¸¸æˆã€‚è¿™å°†ç”±å¦ä¸€ä¸ªå—å¤„ç†ï¼šGamesByCategoryBlocï¼ˆç¬¬ 26 è¡Œï¼‰ã€‚æˆ‘å¾ˆå¿«å°±ä¼šè°ˆåˆ°è¿™ä¸ªblocã€‚<br>SelectCategoryï¼šåœ¨è§†å›¾ä¸­æ›´æ”¹æ‰€é€‰é¡¹ç›®çš„é¢œè‰²å’Œå¤§å°ã€‚è¿™å°†ä½¿ç”¨ç›¸åŒçš„å—å¤„ç†ï¼šCategoryBlocï¼ˆç¬¬ 32 è¡Œï¼‰ã€‚</p><p>æ¥çœ‹ä¸‹å®Œæ•´çš„ç±»ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/genre.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/category_widget/category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/games_by_category_widget/games_by_category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CategoriesSuccessWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CategoriesSuccessWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryBloc</span><span class="token punctuation">,</span> <span class="token class-name">CategoryState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>          height<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">.15</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">separated</span><span class="token punctuation">(</span>            padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            shrinkWrap<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>            itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token class-name">CategoryItem</span><span class="token punctuation">(</span>                key<span class="token punctuation">:</span> <span class="token class-name">ValueKey</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">state<span class="token punctuation">.</span>categories<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">index</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                category<span class="token punctuation">:</span> state<span class="token punctuation">.</span>categories<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>                callback<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Genre</span> categorySelected<span class="token punctuation">)</span> <span class="token punctuation">{</span>                  context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GamesByCategoryBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>                        <span class="token class-name">GetGamesByCategory</span><span class="token punctuation">(</span>                          idSelected<span class="token punctuation">:</span> categorySelected<span class="token punctuation">.</span>id<span class="token punctuation">,</span>                          categoryName<span class="token punctuation">:</span> categorySelected<span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>                        <span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">;</span>                  context<span class="token punctuation">.</span>read<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryBloc</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>                        <span class="token class-name">SelectCategory</span><span class="token punctuation">(</span>                          idSelected<span class="token punctuation">:</span> categorySelected<span class="token punctuation">.</span>id<span class="token punctuation">,</span>                        <span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">}</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            scrollDirection<span class="token punctuation">:</span> <span class="token class-name">Axis</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">,</span>            separatorBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> __<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>              width<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            itemCount<span class="token punctuation">:</span> state<span class="token punctuation">.</span>categories<span class="token punctuation">.</span>length<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ state.isSelected æ—¶çš„è§†å›¾ï¼ˆé€‰æ‹©ç±»åˆ«æ—¶ï¼‰ã€‚<br>æˆ‘ä½¿ç”¨ BlocSelector æ¥æ§åˆ¶è¿™ç§æƒ…å†µï¼Œå½“ç”¨æˆ·å•å‡»å…¶ä¸­ä¸€ä¸ªç±»åˆ«æ—¶ï¼Œå°†è§¦å‘äº‹ä»¶å¹¶ä¸”è¯¥ bloc å°†å‘å‡ºå¸¦æœ‰æ‰€é€‰ç±»åˆ« id çš„çŠ¶æ€ isSelectedï¼Œå› æ­¤åœ¨ blocé€‰æ‹©å™¨ï¼Œæˆ‘å¿…é¡»æ£€æŸ¥è¿™äº›æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼ˆç¬¬ 24 è¡Œï¼‰ä»¥ä½¿ç”¨æ–°çš„å¤§å°å’Œé¢œè‰²é‡å»ºè§†å›¾ï¼ˆç¬¬ 35ã€36 å’Œ 39 è¡Œï¼‰ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/genre.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/category_widget/category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">typedef</span> <span class="token class-name">CategoryCLicked</span> <span class="token operator">=</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">Genre</span> categorySelected<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">CategoryItem</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">CategoryItem</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>category<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>callback<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Genre</span> category<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">CategoryCLicked</span> callback<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">GestureDetector</span><span class="token punctuation">(</span>      onTap<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">callback</span><span class="token punctuation">(</span>category<span class="token punctuation">)</span><span class="token punctuation">,</span>      child<span class="token punctuation">:</span> <span class="token class-name">BlocSelector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CategoryBloc</span><span class="token punctuation">,</span> <span class="token class-name">CategoryState</span><span class="token punctuation">,</span> bool<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>        selector<span class="token punctuation">:</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>            <span class="token punctuation">(</span>state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isSelected <span class="token operator">&amp;&amp;</span> state<span class="token punctuation">.</span>idSelected <span class="token operator">==</span> category<span class="token punctuation">.</span>id<span class="token punctuation">)</span>                <span class="token operator">?</span> <span class="token boolean">true</span>                <span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>        builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>          <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>            children<span class="token punctuation">:</span> <span class="token punctuation">[</span>              <span class="token class-name">AnimatedContainer</span><span class="token punctuation">(</span>                duration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                curve<span class="token punctuation">:</span> <span class="token class-name">Curves</span><span class="token punctuation">.</span>easeInOutCirc<span class="token punctuation">,</span>                padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">2.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                height<span class="token punctuation">:</span> state <span class="token operator">?</span> <span class="token number">70.0</span> <span class="token punctuation">:</span> <span class="token number">60.0</span><span class="token punctuation">,</span>                width<span class="token punctuation">:</span> state <span class="token operator">?</span> <span class="token number">70.0</span> <span class="token punctuation">:</span> <span class="token number">60.0</span><span class="token punctuation">,</span>                decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>                  shape<span class="token punctuation">:</span> <span class="token class-name">BoxShape</span><span class="token punctuation">.</span>circle<span class="token punctuation">,</span>                  color<span class="token punctuation">:</span> state <span class="token operator">?</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>deepOrangeAccent <span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>amberAccent<span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>                child<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>                  <span class="token class-name">Icons</span><span class="token punctuation">.</span>gamepad_outlined<span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>height<span class="token punctuation">:</span> <span class="token number">4.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token class-name">Container</span><span class="token punctuation">(</span>                width<span class="token punctuation">:</span> <span class="token number">60</span><span class="token punctuation">,</span>                child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>                  category<span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>                  style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                      fontSize<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">,</span>                      fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>                      color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>black87<span class="token punctuation">)</span><span class="token punctuation">,</span>                  textAlign<span class="token punctuation">:</span> <span class="token class-name">TextAlign</span><span class="token punctuation">.</span>center<span class="token punctuation">,</span>                  maxLines<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span>                  overflow<span class="token punctuation">:</span> <span class="token class-name">TextOverflow</span><span class="token punctuation">.</span>ellipsis<span class="token punctuation">,</span>                <span class="token punctuation">)</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span>            <span class="token punctuation">]</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="GameByCategoryWidget"><a href="#GameByCategoryWidget" class="headerlink" title="GameByCategoryWidget"></a>GameByCategoryWidget</h2><h3 id="GameByCategoryEvent"><a href="#GameByCategoryEvent" class="headerlink" title="GameByCategoryEvent"></a>GameByCategoryEvent</h3><p>åœ¨è¿™é‡Œï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶æ¥æŒ‰ç±»åˆ«è¿‡æ»¤æ‰€æœ‰æ¸¸æˆï¼Œå¹¶æ·»åŠ äº†ç±»åˆ«åç§°ä»¥å°†å…¶æ˜¾ç¤ºä¸ºåˆ—è¡¨çš„æ ‡é¢˜ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'games_by_category_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">GamesByCategoryEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">GetGamesByCategory</span> <span class="token keyword">extends</span> <span class="token class-name">GamesByCategoryEvent</span> <span class="token punctuation">{</span>  <span class="token class-name">GetGamesByCategory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>idSelected<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>categoryName<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> int idSelected<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> categoryName<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>idSelected<span class="token punctuation">,</span> categoryName<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="GameByCategoryState"><a href="#GameByCategoryState" class="headerlink" title="GameByCategoryState"></a>GameByCategoryState</h3><p>å’Œä¹‹å‰çš„çŠ¶æ€ç±»ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘æœ‰ä¸€ä¸ªæ‰©å±•æ¥æ£€æŸ¥ä¸åŒçš„çŠ¶æ€ï¼Œè¿˜æœ‰ä¸€ä¸ª copyWith æ–¹æ³•æ¥åˆ›å»ºæ¸¸æˆåˆ—è¡¨å’Œç±»åˆ«åç§°çš„æ–°å‰¯æœ¬ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'games_by_category_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">enum</span> <span class="token class-name">GamesByCategoryStatus</span> <span class="token punctuation">{</span> initial<span class="token punctuation">,</span> success<span class="token punctuation">,</span> error<span class="token punctuation">,</span> loading <span class="token punctuation">}</span><span class="token keyword">extension</span> <span class="token class-name">GamesByCategoryStatusX</span> <span class="token keyword">on</span> <span class="token class-name">GamesByCategoryStatus</span> <span class="token punctuation">{</span>  bool <span class="token keyword">get</span> isInitial <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isSuccess <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isError <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>error<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isLoading <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">GamesByCategoryState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">GamesByCategoryState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">,</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Result</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> games<span class="token punctuation">,</span>    <span class="token class-name">String</span><span class="token operator">?</span> categoryName<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span>  <span class="token punctuation">:</span> games <span class="token operator">=</span> games <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">const</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>        categoryName <span class="token operator">=</span> categoryName <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Result</span><span class="token punctuation">&gt;</span></span> games<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">GamesByCategoryStatus</span> status<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> categoryName<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> games<span class="token punctuation">,</span> categoryName<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token class-name">GamesByCategoryState</span> <span class="token function">copyWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Result</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> games<span class="token punctuation">,</span>    <span class="token class-name">GamesByCategoryStatus</span><span class="token operator">?</span> status<span class="token punctuation">,</span>    <span class="token class-name">String</span><span class="token operator">?</span> categoryName<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">GamesByCategoryState</span><span class="token punctuation">(</span>      games<span class="token punctuation">:</span> games <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>games<span class="token punctuation">,</span>      status<span class="token punctuation">:</span> status <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">,</span>      categoryName<span class="token punctuation">:</span> categoryName <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>categoryName<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="GameByCategoryBloc"><a href="#GameByCategoryBloc" class="headerlink" title="GameByCategoryBloc"></a>GameByCategoryBloc</h3><p>åœ¨è¿™ä¸ªå—ä¸­ï¼Œæˆ‘å°†å¤„ç†è°ƒç”¨å­˜å‚¨åº“çš„äº‹ä»¶ GetGamesByCategory ä»¥è·å–ä¸è¯¥ç±»å‹ ID åŒ¹é…çš„æ‰€æœ‰æ¸¸æˆã€‚å½“å­˜å‚¨åº“è¿”å›æœ‰æ•ˆæ•°æ®æ—¶ï¼Œblocå°†å‘å‡ºæˆåŠŸçš„æ¶ˆæ¯ï¼Œä¾‹å¦‚çŠ¶æ€å’Œåˆ—è¡¨çš„æ–°å‰¯æœ¬ä»¥åŠç±»åˆ«åç§°ï¼Œç›¸åï¼Œå¦‚æœç»“æœæ— æ•ˆï¼Œåˆ™blocå°†å‘å‡ºé”™è¯¯çŠ¶æ€ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/game_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/model_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'games_by_category_event.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'games_by_category_state.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">GamesByCategoryBloc</span>    <span class="token keyword">extends</span> <span class="token class-name">Bloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GamesByCategoryEvent</span><span class="token punctuation">,</span> <span class="token class-name">GamesByCategoryState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">GamesByCategoryBloc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>gameRepository<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">GamesByCategoryState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GetGamesByCategory</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_mapGetGamesByCategoryEventToState<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">final</span> <span class="token class-name">GameRepository</span> gameRepository<span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">_mapGetGamesByCategoryEventToState</span><span class="token punctuation">(</span>      <span class="token class-name">GetGamesByCategory</span> event<span class="token punctuation">,</span> <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GamesByCategoryState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">final</span> gamesByCategory <span class="token operator">=</span>          <span class="token keyword">await</span> gameRepository<span class="token punctuation">.</span><span class="token function">getGamesByCategory</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>idSelected<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">emit</span><span class="token punctuation">(</span>        state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>          status<span class="token punctuation">:</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">,</span>          games<span class="token punctuation">:</span> gamesByCategory<span class="token punctuation">,</span>          categoryName<span class="token punctuation">:</span> event<span class="token punctuation">.</span>categoryName<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">GamesByCategoryStatus</span><span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®Œç¾ï¼Œä¸‹ä¸€æ­¥æ˜¯æ£€æŸ¥è§†å›¾ä¸­çš„çŠ¶æ€ä»¥å¯¹å®ƒä»¬åšå‡ºååº”ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/widgets/error_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'games_by_category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">GamesByCategoryWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">GamesByCategoryWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GamesByCategoryBloc</span><span class="token punctuation">,</span> <span class="token class-name">GamesByCategoryState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isSuccess            <span class="token operator">?</span> <span class="token class-name">GameByCategorySuccessWidget</span><span class="token punctuation">(</span>                categoryName<span class="token punctuation">:</span> state<span class="token punctuation">.</span>categoryName<span class="token punctuation">,</span>                games<span class="token punctuation">:</span> state<span class="token punctuation">.</span>games<span class="token punctuation">,</span>              <span class="token punctuation">)</span>            <span class="token punctuation">:</span> state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isLoading                <span class="token operator">?</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>                    child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span>                <span class="token punctuation">:</span> state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isError                    <span class="token operator">?</span> <span class="token class-name">ErrorGameWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æ‚¨æ‰€è§ï¼Œæˆ‘æ ¹æ®çŠ¶æ€ä½¿ç”¨ä¸‰ä¸ªé€‰é¡¹å¤„ç†è§†å›¾ï¼š</p><ul><li>é”™è¯¯ï¼šæ˜¾ç¤ºå¸¸è§é”™è¯¯å°éƒ¨ä»¶ã€‚</li><li>æ­£åœ¨åŠ è½½ï¼šæ˜¾ç¤º CircularProgressIndicatorã€‚</li><li>æˆåŠŸï¼šæ˜¾ç¤º GameByCategorySuccessWidgetã€‚è¿™ä¸ªå°éƒ¨ä»¶è´Ÿè´£æŒ‰ç±»åˆ«æ˜¾ç¤ºæ¸¸æˆåˆ—è¡¨ã€‚<br> è¿™æ˜¯å°éƒ¨ä»¶ï¼š</li></ul><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/result.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/games_by_category_widget/games_by_category_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">GameByCategorySuccessWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">GameByCategorySuccessWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>categoryName<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>games<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> categoryName<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Result</span><span class="token punctuation">&gt;</span></span> games<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>      crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>start<span class="token punctuation">,</span>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token class-name">Padding</span><span class="token punctuation">(</span>          padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>            left<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">,</span>            bottom<span class="token punctuation">:</span> <span class="token number">16.0</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>            categoryName<span class="token punctuation">,</span>            style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>              fontSize<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Container</span><span class="token punctuation">(</span>          height<span class="token punctuation">:</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>height <span class="token operator">*</span> <span class="token number">.2</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">separated</span><span class="token punctuation">(</span>            padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>              left<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">,</span>              right<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            scrollDirection<span class="token punctuation">:</span> <span class="token class-name">Axis</span><span class="token punctuation">.</span>horizontal<span class="token punctuation">,</span>            itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token class-name">GameByCategoryImage</span><span class="token punctuation">(</span>                name<span class="token punctuation">:</span> games<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>name <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">'No data'</span></span><span class="token punctuation">,</span>                backgroundImage<span class="token punctuation">:</span> games<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>backgroundImage <span class="token operator">?</span><span class="token operator">?</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            separatorBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> __<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>              width<span class="token punctuation">:</span> <span class="token number">25.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            itemCount<span class="token punctuation">:</span> games<span class="token punctuation">.</span>length<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ€åæ˜¯ä¸»å¸ƒå±€çš„æœ€åä¸€éƒ¨åˆ†ï¼ŒAllGamesWidgetã€‚</p><h2 id="AllGamesWidget"><a href="#AllGamesWidget" class="headerlink" title="AllGamesWidget"></a>AllGamesWidget</h2><h3 id="AllGamesEvent"><a href="#AllGamesEvent" class="headerlink" title="AllGamesEvent"></a>AllGamesEvent</h3><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªäº‹ä»¶æ¥ä» API è·å–æ‰€æœ‰æ¸¸æˆã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'all_games_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">AllGamesEvent</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">GetGames</span> <span class="token keyword">extends</span> <span class="token class-name">AllGamesEvent</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="AllGamesState"><a href="#AllGamesState" class="headerlink" title="AllGamesState"></a>AllGamesState</h3><p>å’Œä¹‹å‰ä¸€æ ·ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ‰©å±•æ¥å¤„ç†æ‰€æœ‰å¯èƒ½çš„çŠ¶æ€ï¼Œå¹¶ä¸”æˆ‘è¿˜æœ‰ä¸€ä¸ª copyWith æ–¹æ³•å¯ä»¥åœ¨éœ€è¦æ—¶åˆ›å»ºå¯¹è±¡çš„æ–°å‰¯æœ¬ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">part</span> of <span class="token string-literal"><span class="token string">'all_games_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">enum</span> <span class="token class-name">AllGamesStatus</span> <span class="token punctuation">{</span> initial<span class="token punctuation">,</span> success<span class="token punctuation">,</span> error<span class="token punctuation">,</span> loading <span class="token punctuation">}</span><span class="token keyword">extension</span> <span class="token class-name">AllGamesStatusX</span> <span class="token keyword">on</span> <span class="token class-name">AllGamesStatus</span> <span class="token punctuation">{</span>  bool <span class="token keyword">get</span> isInitial <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isSuccess <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isError <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>error<span class="token punctuation">;</span>  bool <span class="token keyword">get</span> isLoading <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span> <span class="token operator">==</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> <span class="token class-name">AllGamesState</span> <span class="token keyword">extends</span> <span class="token class-name">Equatable</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">AllGamesState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">=</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>initial<span class="token punctuation">,</span>    <span class="token class-name">Game</span><span class="token operator">?</span> games<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> games <span class="token operator">=</span> games <span class="token operator">?</span><span class="token operator">?</span> <span class="token class-name">Game</span><span class="token punctuation">.</span>empty<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">Game</span> games<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">AllGamesStatus</span> status<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> props <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>status<span class="token punctuation">,</span> games<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token class-name">AllGamesState</span> <span class="token function">copyWith</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Game</span><span class="token operator">?</span> games<span class="token punctuation">,</span>    <span class="token class-name">AllGamesStatus</span><span class="token operator">?</span> status<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">AllGamesState</span><span class="token punctuation">(</span>      games<span class="token punctuation">:</span> games <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>games<span class="token punctuation">,</span>      status<span class="token punctuation">:</span> status <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status<span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="AllGamesBloc"><a href="#AllGamesBloc" class="headerlink" title="AllGamesBloc"></a>AllGamesBloc</h3><p>åœ¨è¿™é‡Œï¼Œæˆ‘è°ƒç”¨å­˜å‚¨åº“ï¼Œå½“å®ƒè¿”å›æœ‰æ•ˆæ•°æ®æ—¶ï¼Œbloc å°†é€šè¿‡æ¸¸æˆåˆ—è¡¨çš„å‰¯æœ¬å‘å‡ºæˆåŠŸï¼Œç›¸åï¼Œå¦‚æœå­˜å‚¨åº“è¿”å›æ— æ•ˆæ•°æ®ï¼Œbloc å°†å‘å‡ºé”™è¯¯çŠ¶æ€ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:equatable/equatable.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/game_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/model_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'all_games_event.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">part</span> <span class="token string-literal"><span class="token string">'all_games_state.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">AllGamesBloc</span> <span class="token keyword">extends</span> <span class="token class-name">Bloc</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AllGamesEvent</span><span class="token punctuation">,</span> <span class="token class-name">AllGamesState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token class-name">AllGamesBloc</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>gameRepository<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">AllGamesState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">on</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">GetGames</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_mapGetGamesEventToState<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">final</span> <span class="token class-name">GameRepository</span> gameRepository<span class="token punctuation">;</span>  <span class="token keyword">void</span> <span class="token function">_mapGetGamesEventToState</span><span class="token punctuation">(</span>      <span class="token class-name">GetGames</span> event<span class="token punctuation">,</span> <span class="token class-name">Emitter</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AllGamesState</span><span class="token punctuation">&gt;</span></span> emit<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>loading<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">final</span> games <span class="token operator">=</span> <span class="token keyword">await</span> gameRepository<span class="token punctuation">.</span><span class="token function">getGames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">emit</span><span class="token punctuation">(</span>        state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>          status<span class="token punctuation">:</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>success<span class="token punctuation">,</span>          games<span class="token punctuation">:</span> games<span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token function">emit</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token function">copyWith</span><span class="token punctuation">(</span>status<span class="token punctuation">:</span> <span class="token class-name">AllGamesStatus</span><span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="AllGamesWidget-1"><a href="#AllGamesWidget-1" class="headerlink" title="AllGamesWidget"></a>AllGamesWidget</h3><p>è¿™æ˜¯æ‰€æœ‰æ¸¸æˆå°éƒ¨ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘æœ‰ä¸€ä¸ª BlocBuilder æ¥æ ¹æ®çŠ¶æ€é‡å»ºè§†å›¾ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter_bloc/flutter_bloc.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/all_games_widget/all_games_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/widgets/error_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">AllGamesWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">AllGamesWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">BlocBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">AllGamesBloc</span><span class="token punctuation">,</span> <span class="token class-name">AllGamesState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>      builder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isSuccess            <span class="token operator">?</span> <span class="token class-name">AllGamesSuccessWidget</span><span class="token punctuation">(</span>                title<span class="token punctuation">:</span> title<span class="token punctuation">,</span>                games<span class="token punctuation">:</span> state<span class="token punctuation">.</span>games<span class="token punctuation">.</span>results<span class="token punctuation">,</span>              <span class="token punctuation">)</span>            <span class="token punctuation">:</span> state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isLoading                <span class="token operator">?</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>                    child<span class="token punctuation">:</span> <span class="token class-name">CircularProgressIndicator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span>                <span class="token punctuation">:</span> state<span class="token punctuation">.</span>status<span class="token punctuation">.</span>isError                    <span class="token operator">?</span> <span class="token class-name">ErrorGameWidget</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™äº›æ˜¯ä¸‰ç§çŠ¶æ€ï¼š</p><ul><li>é”™è¯¯ï¼šæ˜¾ç¤ºå¸¸è§é”™è¯¯å°éƒ¨ä»¶ã€‚</li><li>æ­£åœ¨åŠ è½½ï¼šæ˜¾ç¤º CircularProgressIndicatorã€‚</li><li>æˆåŠŸï¼šæ˜¾ç¤º AllGamesSuccessWidgetã€‚è¿™ä¸ªå°éƒ¨ä»¶è´Ÿè´£æ˜¾ç¤ºæ¸¸æˆåˆ—è¡¨ã€‚</li></ul><p>è¿™æ˜¯å°éƒ¨ä»¶ï¼š</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/repository/models/result.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:infogames/ui/home/widgets/all_games_widget/all_games_barrel.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">AllGamesSuccessWidget</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>  <span class="token keyword">const</span> <span class="token class-name">AllGamesSuccessWidget</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>games<span class="token punctuation">,</span>    required <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token punctuation">,</span>  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Result</span><span class="token punctuation">&gt;</span></span> games<span class="token punctuation">;</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> title<span class="token punctuation">;</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">return</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>      crossAxisAlignment<span class="token punctuation">:</span> <span class="token class-name">CrossAxisAlignment</span><span class="token punctuation">.</span>stretch<span class="token punctuation">,</span>      children<span class="token punctuation">:</span> <span class="token punctuation">[</span>        <span class="token class-name">Padding</span><span class="token punctuation">(</span>          padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>left<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>            title<span class="token punctuation">,</span>            style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>              fontWeight<span class="token punctuation">:</span> <span class="token class-name">FontWeight</span><span class="token punctuation">.</span>bold<span class="token punctuation">,</span>              fontSize<span class="token punctuation">:</span> <span class="token number">18.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token class-name">Container</span><span class="token punctuation">(</span>          height<span class="token punctuation">:</span>              <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">100</span> <span class="token operator">*</span> games<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token class-name">MediaQuery</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">24.0</span><span class="token punctuation">,</span>          child<span class="token punctuation">:</span> <span class="token class-name">ListView</span><span class="token punctuation">.</span><span class="token function">separated</span><span class="token punctuation">(</span>            physics<span class="token punctuation">:</span> <span class="token class-name">NeverScrollableScrollPhysics</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>              left<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">,</span>              right<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">,</span>              top<span class="token punctuation">:</span> <span class="token number">24.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            itemBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>              <span class="token keyword">return</span> <span class="token class-name">AllGamesItem</span><span class="token punctuation">(</span>                game<span class="token punctuation">:</span> games<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span><span class="token punctuation">,</span>            separatorBuilder<span class="token punctuation">:</span> <span class="token punctuation">(</span>_<span class="token punctuation">,</span> __<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">SizedBox</span><span class="token punctuation">(</span>              height<span class="token punctuation">:</span> <span class="token number">20.0</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            itemCount<span class="token punctuation">:</span> games<span class="token punctuation">.</span>length<span class="token punctuation">,</span>          <span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>      <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é¢å¤–çš„ä¸œè¥¿ğŸ™Œ"><a href="#é¢å¤–çš„ä¸œè¥¿ğŸ™Œ" class="headerlink" title="é¢å¤–çš„ä¸œè¥¿ğŸ™Œ"></a>é¢å¤–çš„ä¸œè¥¿ğŸ™Œ</h3><p>å¦‚æœä½ æƒ³æœ‰ä¸€ä¸ªæ—¥å¿—æ¥çŸ¥é“å“ªä¸ªæ˜¯å½“å‰çŠ¶æ€ï¼Œå“ªä¸ªæ˜¯ä¸‹ä¸€ä¸ªè¦æ·»åŠ çš„äº‹ä»¶ï¼Œä½ éœ€è¦ä¸€ä¸ª Bloc Observer ç±»ã€‚æ‚¨åº”è¯¥åˆ›å»ºæ­¤ç±»å¹¶å°†å…¶åˆå§‹åŒ–åˆ°æ‚¨çš„ä¸»ç±»ä¸­ã€‚</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">class</span> <span class="token class-name">AppBlocObserver</span> <span class="token keyword">extends</span> <span class="token class-name">BlocObserver</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">onChange</span><span class="token punctuation">(</span><span class="token class-name">BlocBase</span> bloc<span class="token punctuation">,</span> <span class="token class-name">Change</span> change<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onChange</span><span class="token punctuation">(</span>bloc<span class="token punctuation">,</span> change<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span>bloc <span class="token operator">is</span> <span class="token class-name">Cubit</span><span class="token punctuation">)</span> <span class="token function">print</span><span class="token punctuation">(</span>change<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">onTransition</span><span class="token punctuation">(</span><span class="token class-name">Bloc</span> bloc<span class="token punctuation">,</span> <span class="token class-name">Transition</span> transition<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">onTransition</span><span class="token punctuation">(</span>bloc<span class="token punctuation">,</span> transition<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token function">print</span><span class="token punctuation">(</span>transition<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comment">// main class</span><span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>  <span class="token class-name">BlocOverrides</span><span class="token punctuation">.</span><span class="token function">runZoned</span><span class="token punctuation">(</span>    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    blocObserver<span class="token punctuation">:</span> <span class="token class-name">AppBlocObserver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h2><p>å¿…é¡»ä¸ºæ‚¨çš„Flutteråº”ç”¨ç¨‹åºä½¿ç”¨è‰¯å¥½çš„çŠ¶æ€ç®¡ç†ã€‚ Flutter bloc æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„é€‰æ‹©ï¼Œä½ å¯ä»¥çœ‹åˆ°å®ƒä½¿ç”¨èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œè€Œä¸”å¾ˆå®¹æ˜“ç†è§£å¦‚ä½•ä½¿ç”¨å®ƒçš„ä¸»è¦æ¦‚å¿µã€‚æ­¤å¤–ï¼Œå®ƒè¿˜ä¸ºæ‚¨æä¾›äº†å¾ˆå¤šç®¡ç†è§†å›¾æˆ–å°éƒ¨ä»¶çš„æ–¹æ³•ã€‚<br>å°±ä¸ªäººè€Œè¨€ï¼Œæˆ‘å–œæ¬¢åˆ›å»ºå…·æœ‰ç‰¹å®šé€»è¾‘çš„å°å—ï¼Œä»¥ä½¿æˆ‘çš„ä»£ç æ›´æ¸…æ™°å’Œå¯ç»´æŠ¤ï¼Œè€Œä¸æ˜¯ç®¡ç†å¾ˆå¤šäº‹æƒ…çš„å¤§å—ï¼Œä½†å¦‚æœä½ çš„é€»è¾‘éœ€è¦ä½ ä¹Ÿå¯ä»¥è¿™æ ·åšã€‚</p><p>æ„Ÿè°¢æ‚¨é˜…è¯»æœ¬æ–‡ï¼Œæˆ‘å¸Œæœ›æ‚¨ç°åœ¨å¯ä»¥æ›´å¥½åœ°ç†è§£ Flutter bloc çš„å·¥ä½œåŸç†ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ¯«æ— é—®é¢˜åœ°å°†è¿™ä¸ªæƒŠäººçš„åº“æ·»åŠ åˆ°æ‚¨çš„é¡¹ç›®ä¸­ã€‚å¦‚æœè¿™å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œæˆ‘å°†éå¸¸æ„Ÿè°¢æ‚¨çš„åé¦ˆå’Œé¼“æŒï¼ğŸ‘</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Patterns </tag>
            
            <tag> Beginners </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterä¸­çš„æ¶æ„æ¨¡å¼</title>
      <link href="/Architecture-patterns-in-Flutter.html"/>
      <url>/Architecture-patterns-in-Flutter.html</url>
      
        <content type="html"><![CDATA[<img src="/Architecture-patterns-in-Flutter/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Flutter æ‹¥æœ‰ä¸€ä¸ªä¸æ–­å¢é•¿çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆç”Ÿæ€ç³»ç»Ÿã€‚ <a href="https://flutter.dev/docs/development/data-and-backend/state-mgmt/options">Flutteræ–‡æ¡£</a>æœ¬èº«åˆ—å‡ºäº† 10 å¤šä¸ªé€‰é¡¹ï¼å¼„æ¸…æ¥šé€‰æ‹©å“ªç§è§£å†³æ–¹æ¡ˆæ˜¯ä¸€é¡¹è‰°å·¨çš„ä»»åŠ¡ã€‚</p><span id="more"></span><p>åœ¨æˆ‘ä»¬è¿›å…¥æ›´å¤šç»†èŠ‚ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é¦–å…ˆäº†è§£ä¸€ä¸ªéå¸¸åŸºæœ¬çš„æ¦‚å¿µã€‚<br>Flutter æ˜¯ä¸€ä¸ªå£°æ˜å¼ UI æ¡†æ¶ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦å‘ˆç°åœ¨ç‰¹å®šçš„çŠ¶æ€ä¸‹Flutter UIæ•ˆæœã€‚</p><pre class="line-numbers language-none"><code class="language-none">UI = *f(*state*)*<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç‰¢è®°è¿™ä¸€ç‚¹æœ‰åŠ©äºç¼–å†™æ›´å¥½çš„ä¸æ¡†æ¶é…åˆä½¿ç”¨çš„Flutterä»£ç ã€‚</p><p>ç°åœ¨è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æœ€å¹¿æ³›é‡‡ç”¨çš„ä¸¤ç§çŠ¶æ€ç®¡ç†æ¨¡å¼ã€‚</p><ul><li>ä¸šåŠ¡é€»è¾‘ç»„ä»¶ (BLoC) æ¨¡å¼</li><li>æä¾›è€…æ¨¡å¼</li></ul><p>æ³¨æ„ï¼šæœ¬æ–‡å‡è®¾æ‚¨ç†Ÿæ‚‰ Flutter å’Œ dart ç¼–ç¨‹è¯­è¨€ã€‚</p><h2 id="Business-Logic-Component-BLoC"><a href="#Business-Logic-Component-BLoC" class="headerlink" title="Business Logic Component (BLoC)"></a>Business Logic Component (BLoC)</h2><h3 id="ä¸ºä»€ä¹ˆè¦åˆ›å»º-BLoCï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åˆ›å»º-BLoCï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åˆ›å»º BLoCï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åˆ›å»º BLoCï¼Ÿ</h3><p>è°·æ­Œåœ¨ 2018 å¹´è°·æ­Œ I/O å¼€å‘è€…å¤§ä¼šä¸Šä»‹ç»äº† BLoC æ¨¡å¼ã€‚è¿™ç§æ¨¡å¼æœ€åˆæ˜¯ç”± Google Ads å›¢é˜Ÿåœ¨ä»–ä»¬çš„ Flutter åº”ç”¨ä¸­ä½¿ç”¨çš„ã€‚å®ƒçš„åˆ›å»ºæ˜¯ä¸ºäº†å¤„ç†å¤æ‚çš„çŠ¶æ€å˜åŒ–ï¼Œè€Œè¿™åœ¨å½“æ—¶çš„è§£å†³æ–¹æ¡ˆä¸­æ˜¯å¾ˆéš¾åšåˆ°çš„ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯-BLoCï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-BLoCï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ BLoCï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ BLoCï¼Ÿ</h3><p>BLoC æ˜¯ UI = f(state) æ¦‚å¿µçš„ç›´æ¥å®ç°ã€‚å®ƒå°†è¿™ä¸€æ¦‚å¿µä¸ dart è¯­è¨€çš„åŸºæœ¬éƒ¨åˆ† - Streams ç»“åˆåœ¨ä¸€èµ·ã€‚</p><p>æµæ˜¯ä¸€ç³»åˆ—å¼‚æ­¥äº‹ä»¶ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†åº”ç”¨ç¨‹åºä¸­çš„ UI äº¤äº’è§†ä¸ºäº‹ä»¶æµã€‚</p><p>BLoC æ¥æ”¶è¿™äº›äº‹ä»¶ï¼Œå¯¹è¿™äº›äº‹ä»¶è¿›è¡Œä¸€äº›å¤„ç†ï¼Œå¹¶è¾“å‡ºä¸€ä¸ªçŠ¶æ€æµã€‚</p><p>flutter_bloc å°±æ˜¯è¿™æ ·ä¸€ç§çŠ¶æ€ç®¡ç†åŒ…ï¼Œå®ƒå¯ä»¥è½»æ¾å®ç° BLoC æ¨¡å¼ã€‚ç”±äºä¸€åˆ‡éƒ½å»ºç«‹åœ¨ dart æµä¹‹ä¸Šï¼Œå› æ­¤å®ƒå¯¹æµ‹è¯•æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚</p><p>Flutter bloc åŒ…è¿˜æœ‰ä¸€äº›é…å¥—åŒ…ï¼Œå¯ä»¥å¸®åŠ©å®ç°ä¸€äº›å¤æ‚çš„ç”¨ä¾‹ï¼Œä¾‹å¦‚æ¢å¤çŠ¶æ€å’Œæ·»åŠ  undo-redo åŠŸèƒ½ã€‚</p><p>éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼ŒBLoC åªæ˜¯ä¸€ä¸ªæ¶ˆè€—äº‹ä»¶å¹¶å‘å‡ºçŠ¶æ€çš„ç»„ä»¶ã€‚æˆ‘ä»¬ä»ç„¶éœ€è¦ä½¿ç”¨ä¸€äº›ä¸œè¥¿åœ¨å°éƒ¨ä»¶æ ‘ä¸­æä¾›è¿™ä¸ª BLoCã€‚é€šå¸¸ï¼Œæä¾›ç¨‹åºç”¨äºæ­¤ç›®çš„ã€‚</p><h3 id="BLoC-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#BLoC-æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="BLoC æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>BLoC æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3><p>è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª BLoC æ¥æœç´¢åŸå¸‚å¹¶æ˜¾ç¤ºæœç´¢ç»“æœåˆ—è¡¨ã€‚</p><ol><li>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»º BLoC å°†æ¶ˆè´¹çš„äº‹ä»¶ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">abstract class CitiesEvent {}class SearchCities extends CitiesEvent {  String searchTerm;  SearchCities({    required this.searchTerm,  });}class SelectCity extends CitiesEvent {  int cityId;    SelectCity({    required this.cityId,  });}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>åˆ›å»º UI å°†ä½¿ç”¨çš„çŠ¶æ€</li></ol><pre class="line-numbers language-none"><code class="language-none">abstract class CitiesState {}class CitiesLoading extends CitiesState {}class CitiesLoaded extends CitiesState {  List&lt;City&gt; cities;    CitiesLoaded({    required this.cities,  });}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>åˆ›å»º BLoCã€‚è¿™é‡Œæˆ‘ä»¬å¤„ç†ä¼ å…¥çš„äº‹ä»¶å¹¶è¿”å›çŠ¶æ€ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">class CitiesBloc extends Bloc&lt;CitiesEvent, CitiesState&gt; {@overrideStream&lt;CitiesState&gt; mapEventToState(  CitiesEvent event,) async* {  if (event is SearchCities) {          // Set state to Loading    yield CitiesLoading();          // Process the event    final citiesSearchResults = await fetchCities(event.searchTerm);          // Set the state to Loaded with the search results    yield CitiesLoaded(cities: citiesSearchResults);  }  // Handle other states}}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>è¦è®¿é—®å°éƒ¨ä»¶æ ‘ä¸­çš„å—ï¼Œæˆ‘ä»¬æä¾›äº† BlocProvider</li></ol><pre class="line-numbers language-none"><code class="language-none">BlocProvider(  create: (_) =&gt; CitiesBloc(),  child: Column(    children: const [      CitiesSearchBar(),      CitiesListPage(),    ],  ),),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>æˆ‘ä»¬æ£€ç´¢ä¸Šé¢æä¾›çš„ blocã€‚ä» UI å‘ BLoC æ·»åŠ æ–°çŠ¶æ€ã€‚ BLoC å°†å¤„ç†è¿™äº›äº‹ä»¶å¹¶è¿”å›çŠ¶æ€ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">@overrideWidget build(BuildContext context) {  final CitiesBloc citiesBloc = Provider.of&lt;CitiesBloc&gt;(context);  return Padding(    padding: const EdgeInsets.only(left: 10.0),    child: TextFormField(      onChanged: (searchTerm) =&gt;          citiesBloc.add(CitiesEvent.searchCities(searchTerm)),    ),  );}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="6"><li>UI å°†æ¶ˆè´¹è¿™äº›çŠ¶æ€å¹¶æ›´æ–°è§†å›¾</li></ol><pre class="line-numbers language-none"><code class="language-none">BlocBuilder&lt;CitiesBloc, CitiesState&gt;(  builder: (context, state) {    if (state is CitiesLoading) return CircularProgressIndicator()    if (state is CitiesLoaded) return CitiesList(state.cities)  },),<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­å‘ç”Ÿçš„äº‹ä»¶ã€‚æˆ‘ä»¬è¿˜å®šä¹‰äº†åº”ç”¨ç¨‹åºåº”è¯¥æ˜¾ç¤ºçš„çŠ¶æ€ã€‚ç„¶åå½“ç”¨æˆ·ä¸åº”ç”¨ç¨‹åºäº¤äº’æ—¶ï¼Œäº‹ä»¶è¢«æ·»åŠ åˆ°æ‰§è¡Œå¿…è¦æ“ä½œçš„ BLoCã€‚ BLoC ç„¶åå‘å‡ºç”± UI æ¥æ”¶çš„çŠ¶æ€ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼Œäº‹ä»¶è¿›å…¥ BLoCï¼ŒçŠ¶æ€ä» BLoC å‡ºæ¥ã€‚</p><h2 id="Provider"><a href="#Provider" class="headerlink" title="Provider"></a>Provider</h2><h3 id="ä¸ºä»€ä¹ˆè¦åˆ›å»ºæä¾›è€…æ¨¡å¼ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åˆ›å»ºæä¾›è€…æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åˆ›å»ºæä¾›è€…æ¨¡å¼ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åˆ›å»ºæä¾›è€…æ¨¡å¼ï¼Ÿ</h3><p>BLoC å¯¹è®¸å¤šäººæ¥è¯´å¾ˆéš¾ç†è§£ã€‚åœ¨å¤§å¤šæ•°ç”¨ä¾‹ä¸­ï¼Œæ€»æ˜¯ä½¿ç”¨æ•°æ®æµä¼¼ä¹ä¸æ˜¯ä¸€ä¸ªä¼˜é›…çš„è§£å†³æ–¹æ¡ˆã€‚éœ€è¦ä¸€ä¸ªæ›´ç®€å•çš„è§£å†³æ–¹æ¡ˆæ¥å¤„ç†Flutterä¸­çš„çŠ¶æ€ã€‚</p><p>ç¬¬äºŒä¸ªé—®é¢˜æ˜¯ä½¿ç”¨ <strong>InheritedWidget</strong> å¾ˆéš¾åœ¨å°éƒ¨ä»¶æ ‘ä¸‹æä¾›ä¸€äº›æ•°æ®ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯æä¾›è€…æ¨¡å¼ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æä¾›è€…æ¨¡å¼ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æä¾›è€…æ¨¡å¼ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æä¾›è€…æ¨¡å¼ï¼Ÿ</h3><p>è™½ç„¶ï¼Œæˆ‘ä»¬å°†è¿™ç§æ–¹æ³•ç§°ä¸ºæä¾›è€…æ¨¡å¼ï¼Œä½†æä¾›è€…åŒ…æœ¬èº«åªæ˜¯ <strong>InheritedWidget</strong> çš„ä¸€ä¸ªåŒ…è£…å™¨ï¼Œå…·æœ‰ä¸€äº›é™„åŠ åŠŸèƒ½ã€‚å®ƒå¯ä»¥åœ¨å°éƒ¨ä»¶æ ‘ä¸‹æä¾›ä»»ä½•ç±»å‹çš„å¯¹è±¡ã€‚æä¾›è€…æœ¬èº«ä¸ä¿æŒæˆ–æ”¹å˜çŠ¶æ€ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ ChangeNotifierã€‚ ChangeNotifier æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒä¸ºä»»ä½•æ‰©å±•å®ƒæˆ–å°†å…¶ç”¨ä½œ mixin çš„ç±»æä¾›ä¾¦å¬åŠŸèƒ½ã€‚</p><h3 id="ChangeNotifier-çš„æ›¿ä»£æ–¹æ¡ˆ"><a href="#ChangeNotifier-çš„æ›¿ä»£æ–¹æ¡ˆ" class="headerlink" title="ChangeNotifier çš„æ›¿ä»£æ–¹æ¡ˆ"></a>ChangeNotifier çš„æ›¿ä»£æ–¹æ¡ˆ</h3><p>å°†ä¾¦å¬å™¨æ·»åŠ åˆ°æ›´æ”¹é€šçŸ¥å™¨æ˜¯ O(1) æ“ä½œã€‚ç§»é™¤ä¾¦å¬å™¨å¹¶å‘å…¶ä¾¦å¬å™¨å‘é€æ›´æ–°æ˜¯ä¸€ä¸ª O(n) æ“ä½œã€‚</p><p>é™¤äº†æ›´æ”¹é€šçŸ¥å™¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨çŠ¶æ€é€šçŸ¥å™¨ã€‚ state_notifier æ˜¯ç”±åˆ›å»ºæä¾›ç¨‹åºåŒ…çš„åŒä¸€ä½œè€…åˆ›å»ºçš„åŒ…ï¼Œå› æ­¤äºŒè€…çš„é›†æˆéå¸¸å¥½ã€‚å®ƒæ¯”æ›´æ”¹é€šçŸ¥å™¨æ›´æœ‰æ•ˆï¼Œå¹¶ä¸”ä½¿æµ‹è¯•æ›´å®¹æ˜“ã€‚</p><h3 id="æä¾›è€…æ¨¡å¼æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"><a href="#æä¾›è€…æ¨¡å¼æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ" class="headerlink" title="æä¾›è€…æ¨¡å¼æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ"></a>æä¾›è€…æ¨¡å¼æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h3><p>è®©æˆ‘ä»¬å®ç°ç›¸åŒçš„åŸå¸‚æœç´¢ç”¨ä¾‹</p><p>1.é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ‰©å±• <strong>ChangeNotifier</strong> çš„ç±»ã€‚</p><pre class="line-numbers language-none"><code class="language-none">class CitiesSearchModel extends ChangeNotifier {List&lt;City&gt; citiesList = [];void searchCities(String searchTerm) async {citiesList = await fetchCities(searchTerm);notifyListeners();}}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>ä¸ BLoC ç±»ä¼¼ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åœ¨å°éƒ¨ä»¶æ ‘ä¸­æä¾›æ­¤ç±»ã€‚ä¸€ç§ç§°ä¸º <strong>ChangeNotifierProvider</strong> çš„ç‰¹æ®Šç±»å‹çš„æä¾›ç¨‹åºç”¨äºæ­¤ç›®çš„ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">ChangeNotifierProvider&lt;CitiesSearchModel&gt;(  builder: (context) =&gt; CitiesSearchModel(),  child: CitiesListPage(),);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>ç„¶åæˆ‘ä»¬æ£€ç´¢æˆ‘ä»¬éœ€è¦çš„æ¨¡å‹ç±»å¹¶è°ƒç”¨ <strong>searchCities</strong> å‡½æ•°ã€‚è¯¥æ¨¡å‹å°†æ‰§è¡Œå¿…è¦çš„æ•°æ®è·å–ï¼Œç„¶åè°ƒç”¨ **notifyListeners()**ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">@overrideWidget build(BuildContext context) {  final CitiesBloc citiesBloc = Provider.of&lt;CitiesSearchModel&gt;(context);  return Padding(    padding: const EdgeInsets.only(left: 10.0),    child: TextFormField(      onChanged: (searchTerm) =&gt;          citiesBloc.searchCities(searchTerm),    ),  );}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>UI å°†ç›‘å¬æ¨¡å‹å¹¶æ›´æ–°è§†å›¾ã€‚æ¶ˆè´¹è€…å°éƒ¨ä»¶å‘æ¨¡å‹æ·»åŠ äº†ä¸€ä¸ªä¾¦å¬å™¨ã€‚æ¯å½“è°ƒç”¨ notifyListeners() æ—¶ï¼Œéƒ½ä¼šå†æ¬¡è°ƒç”¨æ„å»ºå™¨å¹¶æ›´æ–°è§†å›¾ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">Consumer&lt;CitiesSearchModel&gt;(  builder: (context, model, child) {    return CitiesList(model.citiesList);  },)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆ"><a href="#ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆ"></a>ä»€ä¹ˆæ—¶å€™ç”¨ä»€ä¹ˆ</h2><p>ä»»ä½•å¥½çš„çŠ¶æ€ç®¡ç†è§£å†³æ–¹æ¡ˆéƒ½åº”è¯¥æ»¡è¶³è¿™äº›åŸºæœ¬è¦æ±‚</p><ul><li>åˆ†ç¦» UI å’Œä¸šåŠ¡é€»è¾‘</li><li>è®©ä»£ç æ›´å®¹æ˜“æµ‹è¯•</li><li>ä½¿ä»£ç æ›´å…·å¯è¯»æ€§</li></ul><p>è¿™ä¸¤ç§æ–¹æ³•éƒ½æ»¡è¶³æ‰€æœ‰ä¸‰ä¸ªè¦æ±‚ã€‚ä½†æ¯ä¸ªéƒ½æœ‰è‡ªå·±çš„ç¼ºç‚¹ã€‚</p><p>BLoC æ¨¡å¼å…·æœ‰é™¡å³­çš„å­¦ä¹ æ›²çº¿ã€‚å®ƒä¸ºä»£ç åº“æ·»åŠ äº†å¾ˆå¤šæ ·æ¿ã€‚</p><p>éšç€æˆ‘ä»¬æ·»åŠ æ›´å¤šçš„ä¾¦å¬å™¨ï¼Œæä¾›è€…æ¨¡å¼å˜å¾—æ›´æ…¢ã€‚ç†æƒ³çš„è§£å†³æ–¹æ¡ˆæ˜¯ä¸¤è€…çš„ç»“åˆã€‚æˆ‘ä»¬éœ€è¦ä¸ºæ‰‹å¤´çš„å·¥ä½œé€‰æ‹©æ­£ç¡®çš„å·¥å…·ã€‚</p><p>BLoC éå¸¸å¼ºå¤§ï¼Œä»¥æµä¸ºéª¨å¹²ã€‚ä½†æ˜¯ï¼Œåˆ‡è®°ä¸å¯å¤§æå°ç”¨å“Ÿï¼</p><p>åœ¨éœ€è¦ BLoC æä¾›çš„åŠŸèƒ½çš„æƒ…å†µä¸‹ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼Œä¸€æ¬¡æœ‰ 2-3 ä¸ªä»¥ä¸Šçš„ä¾¦å¬å™¨å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œæˆ–è€…ç»´æŠ¤å’Œæµè§ˆçŠ¶æ€æ›´æ”¹çš„å†å²è®°å½•ï¼Œæˆ–è€…å¯¹ä¼ å…¥äº‹ä»¶è¿›è¡Œå»æŠ–åŠ¨å’Œè½¬æ¢ã€‚</p><p>å°†æä¾›è€…æ¨¡å¼ç”¨äºå¤§å¤šæ•°ï¼ˆå¦‚æœä¸æ˜¯å…¨éƒ¨ï¼‰çŠ¶æ€ç®¡ç†éœ€æ±‚ã€‚è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„è§£å†³æ–¹æ¡ˆï¼Œæ‚¨å¯èƒ½æ°¸è¿œä¸éœ€è¦ä½¿ç”¨ BLoCã€‚</p><h2 id="è¿‘æœŸå‘å±•"><a href="#è¿‘æœŸå‘å±•" class="headerlink" title="è¿‘æœŸå‘å±•"></a>è¿‘æœŸå‘å±•</h2><p>éšç€è¿™ä¸¤ç§æ–¹æ³•åœ¨è¿‡å»å‡ å¹´ä¸­å˜å¾—æ›´åŠ æˆç†Ÿï¼Œå¯¹è¿™äº›æ¨¡å¼è¿›è¡Œäº†ä¸€äº›æ›´æ–°ï¼Œä½¿å…¶æ›´æ˜“äºä½¿ç”¨ã€‚</p><p>BLoC ç°åœ¨æ˜¯ Cubit ç±»çš„å­ç±»ã€‚ Cubit çš„å·¥ä½œæ–¹å¼ä¸ BLoC ç›¸åŒï¼Œä½†å®ƒè¯•å›¾é€šè¿‡ç”¨ç®€å•çš„å‡½æ•°æ›¿æ¢äº‹ä»¶ç±»æ¥å‡å°‘æˆ‘ä»¬éœ€è¦ç”¨ BLoC ç¼–å†™çš„ä¸€äº›æ ·æ¿ã€‚</p><p>æä¾›ç¨‹åºåŒ…çš„åˆ›å»ºè€…åˆ›å»ºäº†ä¸€ä¸ªåä¸ºriverpod çš„æ–°åŒ…ã€‚å…¶ç½‘ç«™ä¸Šçš„æ ‡è¯­ä¸ºâ€œæä¾›è€…ï¼Œä½†ä¸åŒâ€ã€‚å®ƒçš„å·¥ä½œåŸç†ä¸æä¾›ç¨‹åºç›¸åŒï¼Œä½†è¯•å›¾ä¿®å¤åŸå§‹åŒ…çš„ä¸€äº›ç¼ºé™·ã€‚ä½†åŸå§‹çš„ provider åŒ…ä»ç„¶æ˜¯ Flutter å®˜æ–¹æ–‡æ¡£ä¸­æœ€å—æ¬¢è¿å’Œæ¨èçš„è§£å†³æ–¹æ¡ˆã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Patterns </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯»æ‰¾Flutteræ¨¡æ¿çš„5ä¸ªæœ€ä½³ç½‘ç«™</title>
      <link href="/5-Best-Websites-for-Flutter-Templates.html"/>
      <url>/5-Best-Websites-for-Flutter-Templates.html</url>
      
        <content type="html"><![CDATA[<img src="/5-Best-Websites-for-Flutter-Templates/0.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ¨¡æ¿ä½¿ Flutter å¼€å‘å˜å¾—ç®€å•å¿«æ·ã€‚æ‚¨è¿˜å¯ä»¥ä»æ¨¡æ¿ä¸­è·å¾—ä¸€äº›è®¾è®¡çµæ„Ÿã€‚<br>ä»Šå¤©æˆ‘å°†åˆ†äº«ä¸€äº›ä»¤äººæƒŠå¹çš„ç½‘ç«™ï¼Œæ‚¨å¯ä»¥è·å¾—å…è´¹çš„ Flutter æ¨¡æ¿ã€‚</p><span id="more"></span><h3 id="Free-Flutter-Source"><a href="#Free-Flutter-Source" class="headerlink" title="Free Flutter Source"></a>Free Flutter Source</h3><p><a href="https://freefluttersource.com/">Free Flutter Source</a> æ˜¯ä¸€ä¸ªå…è´¹çš„åº”ç”¨ç¨‹åºå’Œæ•™ç¨‹åº“ï¼Œç”¨äºä¸‹è½½æºä»£ç æˆ–å¤åˆ¶ç¤ºä¾‹ã€æ¨¡æ¿ã€‚å®ƒæ˜¯å¼€æºçš„ä¸”æ˜“äºä½¿ç”¨ã€‚</p><img src="/5-Best-Websites-for-Flutter-Templates/1.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="Get-Widget"><a href="#Get-Widget" class="headerlink" title="Get Widget"></a>Get Widget</h3><p><a href="https://www.getwidget.dev/">GetWidget</a> å°†æ‚¨çš„æ•´ä½“åº”ç”¨ç¨‹åºå¼€å‘æ—¶é—´å‡å°‘åˆ°è‡³å°‘ 40%ï¼Œå› ä¸ºå®ƒé¢„å…ˆæ„å»ºäº†å¹²å‡€çš„ UI å°éƒ¨ä»¶ç»„ä»¶ï¼Œæ‚¨å¯ä»¥åœ¨ Flutter åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒã€‚</p><img src="/5-Best-Websites-for-Flutter-Templates/2.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="Fluttermarket-com"><a href="#Fluttermarket-com" class="headerlink" title="Fluttermarket.com"></a>Fluttermarket.com</h3><p><a href="https://fluttermarket.com/">Fluttermarket.com</a> ä¸º iOS å’Œ Android æä¾›å…·æœ‰å®Œæ•´æºä»£ç çš„æ¨¡æ¿å’Œä¸»é¢˜ã€‚</p><img src="/5-Best-Websites-for-Flutter-Templates/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="Flutter-Campus"><a href="#Flutter-Campus" class="headerlink" title="Flutter Campus"></a>Flutter Campus</h3><p><a href="https://www.fluttercampus.com/">FlutterCampus.com</a> æä¾›å…è´¹çš„ Flutter æ•™ç¨‹ã€åº”ç”¨æ¨¡æ¿ã€Flutter åŒ…ã€Flutter æŒ‡å—ã€‚</p><img src="/5-Best-Websites-for-Flutter-Templates/4.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="Start-Flutter"><a href="#Start-Flutter" class="headerlink" title="Start Flutter"></a>Start Flutter</h3><p><a href="https://startflutter.com/">StartFlutter.com</a> æ˜¯ä¸€ä¸ªå…è´¹ä¸‹è½½ Flutter æ¨¡æ¿çš„åº“ã€‚æ‰€æœ‰ä¸»é¢˜éƒ½æ˜¯å¼€æºçš„ï¼Œå¯ç”¨äºä»»ä½•ç”¨é€”ï¼Œç”šè‡³æ˜¯å•†ä¸šç”¨é€”ã€‚ä¸‹è½½æ‚¨å–œæ¬¢çš„å†…å®¹å¹¶å¼€å§‹ä½¿ç”¨ï¼</p><img src="/5-Best-Websites-for-Flutter-Templates/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å¸Œæœ›ä½ è§‰å¾—è¿™å¾ˆæœ‰å¸®åŠ©ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Templates </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯•ä¸€ä¸‹è¿™ä¸ªæä½³çš„æ–‡ä»¶å¤¹ç»“æ„å§</title>
      <link href="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project.html"/>
      <url>/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project.html</url>
      
        <content type="html"><![CDATA[<img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>ä¸€ä¸ªå¿«é€Ÿå‘å±•ä¸”è®¡åˆ’ä¸æ–­å˜åŒ–çš„é¡¹ç›®å¯¹äºæ¯ä¸ªå¼€å‘äººå‘˜æ¥è¯´éƒ½æ˜¯ä¸€åœºå™©æ¢¦ã€‚<br>æ‘†è„±è¿™ç§æƒ…å†µçš„å”¯ä¸€æ–¹æ³•æ˜¯æœ‰ä¸€ä¸ªåˆç†çš„è§„åˆ’ã€‚</p><span id="more"></span><p>ç”±äºæ„šè ¢çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œæˆ‘ä¸€ç›´åœ¨æŒ£æ‰ã€‚è€Œä¸”æˆ‘ä¸å¸Œæœ›ä½ ä»¬å†ç»å†æ‰€æœ‰è¿™äº›æ— è°“çš„æŒ£æ‰ã€‚<br>åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘å°†å‘æ‚¨ä»‹ç»æˆ‘çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ‚¨ä¹Ÿå¯ä»¥åœ¨é¡¹ç›®ä¸­ä½¿ç”¨å®ƒã€‚</p><p>æˆ‘æœŸæœ›å»ºç«‹ä¸€ä¸ªèƒ½å¤Ÿæ»¡è¶³å¦‚ä¸‹éœ€æ±‚çš„ç›®å½•ç»“æ„ï¼š</p><ul><li>å¦‚æœæˆ‘æƒ³æ·»åŠ åŠŸèƒ½ï¼Œæ˜“äºæ‰©å±•ã€‚</li><li>å°†æˆ‘çš„ä¸šåŠ¡é€»è¾‘ä¸æˆ‘çš„è§†å›¾ (UI) åˆ†å¼€ã€‚</li><li>è½»æ¾ç§»é™¤ä»»ä½•æ¨¡å—ã€‚</li><li>æ˜“äºè¯†åˆ«æˆ‘çš„ç»„ä»¶åœ¨å“ªé‡Œã€‚</li><li>å¦‚æœéœ€è¦ï¼Œå¯ä»¥è½»æ¾æ›´æ”¹ä»»ä½•è·¯çº¿ã€‚</li><li>æ˜“äºæ›´æ–°æˆ‘çš„ä¸»é¢˜ã€‚</li><li>å¦‚æœéœ€è¦ï¼Œå¯ä»¥è½»æ¾è¿æ¥åˆ°æ–°çš„åç«¯ã€‚</li></ul><p>å°±æ˜¯è¿™æ ·ï¼Œæˆ‘ä»¬æƒ³è¦ä¸€äº›ç®€å•è€Œçµæ´»çš„ä¸œè¥¿ã€‚æ‰€ä»¥ï¼Œè¯·çœ‹æˆ‘æ¥ä¸‹æ¥çš„è¡¨æ¼”ã€‚</p><h3 id="è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ªæ–¹æ³•"><a href="#è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ªæ–¹æ³•" class="headerlink" title="è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ªæ–¹æ³•"></a>è®©æˆ‘ä»¬è¯•è¯•è¿™ä¸ªæ–¹æ³•</h3><p>æˆ‘åªæ˜¯æƒ³è®©å®ƒå˜å¾—ç®€å•ã€‚æ‰€ä»¥æ²¡æœ‰æŠ€æœ¯æœ¯è¯­ï¼Œåªæœ‰ä¸€ä¸ªç®€å•çš„è§£é‡Šã€‚</p><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/2.png" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>è§†å›¾ï¼šè®©æˆ‘ä»¬å°†æ‰€æœ‰è§†å›¾ï¼ˆå±å¹•ï¼‰åˆ†ç»„åˆ°ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚è¿›ä¸€æ­¥å°†è§†å›¾åˆ†ç»„åˆ°å•ç‹¬çš„æ¨¡å—ä¸­ã€‚æ‚¨å¯èƒ½æœ‰èº«ä»½éªŒè¯ã€ä¸ªäººèµ„æ–™ã€å…¥èŒåŸ¹è®­ç­‰æ¨¡å—â€¦â€¦</li></ul><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/3.png" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>æ§åˆ¶å™¨ï¼šæ‰€æœ‰çš„ä¸šåŠ¡é€»è¾‘å’ŒçŠ¶æ€ç®¡ç†é€»è¾‘éƒ½åœ¨è¿™é‡Œã€‚æ‚¨å¯ä»¥å°†æ‚¨çš„æä¾›è€…ã€å—æˆ–ä»»ä½•å…¶ä»–çŠ¶æ€ç®¡ç†é€»è¾‘çš„é€»è¾‘æ”¾å…¥æ­¤æ–‡ä»¶å¤¹ã€‚æ‚¨ç”šè‡³å¯ä»¥å°†å…¶é‡å‘½åä¸ºæ‚¨çš„çŠ¶æ€ç®¡ç†æ¶æ„ï¼Œå¦‚providersã€ blocsã€â€¦â€¦</li></ul><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/4.png" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>æœåŠ¡ï¼šè¿›å…¥æ‚¨çš„åº”ç”¨ç¨‹åºçš„ä»»ä½•æ•°æ®éƒ½å¿…é¡»æ¥è‡ªè¿™é‡Œã€‚å®ƒå¯èƒ½æ­£åœ¨è¿æ¥ REST API æˆ–ä»»ä½•æ•°æ®åº“è¿æ¥ã€‚</li></ul><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/5.png" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>æ¨¡å‹ï¼šå°†æ‰€æœ‰æ¨¡å‹éƒ½æ”¾åœ¨è¿™é‡Œï¼Œä¾‹å¦‚ user_model.dartã€product_model.dart æˆ–å…¶ä»–ä»»ä½•æ¨¡å‹ã€‚æˆ‘å°†å‘è¡¨å¦ä¸€ç¯‡å…³äºå¦‚ä½•ä½¿ç”¨æ¨¡å‹ä½¿æ‚¨çš„é¡¹ç›®æ›´æœ‰æ¡ç†çš„æ–‡ç« ã€‚</li></ul><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/6.png" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>é…ç½®ï¼šè¿™é‡Œæœ‰æ‰€æœ‰æ§åˆ¶ä½ çš„åº”ç”¨ç¨‹åºçš„ä¸œè¥¿ï¼Œæ¯”å¦‚å¸¸é‡ã€è·¯ç”±ã€ä¸»é¢˜â€¦â€¦</li></ul><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/7.png" class="" title="ç¤ºæ„å›¾ width=400"><ul><li>Assetsï¼šåœ¨é¡¹ç›®çº§åˆ«åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹â€œassetsâ€ã€‚é€šå¸¸å°†å…¶å‘½åä¸ºâ€œassetsâ€ã€‚å½“ç„¶äº†æ²¡æœ‰ä»»ä½•å¼ºåˆ¶å‘½åçš„è¦æ±‚ã€‚ä½†ä¸€å®šè¦åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ä¿æŒä¸€è‡´ã€‚<br> æ­¤å¤–ï¼Œæ‚¨å¯ä»¥æ ¹æ®assetsç±»å‹ï¼ˆå¦‚å›¾åƒã€Htmlã€å­—ä½“â€¦â€¦ï¼‰å¯¹èµ„æºè¿›è¡Œåˆ†ç»„ã€‚</li></ul><img src="/Make-your-flutter-projects-scalable-%E2%80%94-Best-folder-structure-for-your-next-project/8.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="è¿™æ˜¯å”¯ä¸€çš„æ–¹æ³•å—ï¼Ÿ"><a href="#è¿™æ˜¯å”¯ä¸€çš„æ–¹æ³•å—ï¼Ÿ" class="headerlink" title="è¿™æ˜¯å”¯ä¸€çš„æ–¹æ³•å—ï¼Ÿ"></a>è¿™æ˜¯å”¯ä¸€çš„æ–¹æ³•å—ï¼Ÿ</h3><p>ä¸€ç‚¹éƒ½ä¸ï¼</p><p>æ‚¨å¯ä»¥ä½¿ç”¨æœ€é€‚åˆæ‚¨çš„ä»»ä½•æ¶æ„æˆ–æ–‡ä»¶å¤¹ç»“æ„ã€‚</p><p>å› ä¸ºæˆ‘è§‰å¾—è¿™ä¸ªå¯¹æˆ‘æœ‰ç”¨ã€‚æ‰€ä»¥ï¼Œæˆ‘å¸Œæœ›å®ƒä¹Ÿå¯¹ä½ ä»¬æœ‰ç”¨ã€‚</p><p>è¦ä¸è¯•ä¸€è¯•ï¼Ÿ<br>çœ‹çœ‹å®ƒæ˜¯å¦é€‚åˆä½ ã€‚</p><p>éšå¿ƒæ‰€æ¬²åœ°åšå‡ºæ”¹å˜ï¼Œç›´åˆ°æ‰¾åˆ°é€‚åˆè‡ªå·±çš„ä¸œè¥¿ã€‚<br>å¦‚æœä½ å‘ç°äº†æ¯”è¿™æ›´å¥½çš„ä¸œè¥¿ã€‚è¯·ä¸€å®šè¦å‘Šè¯‰æˆ‘ï¼Œå¹¶åˆ†äº«ç»™å…¶ä»–äººå“ˆï¼</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> è®¾è®¡æ¨¡å¼ </tag>
            
            <tag> Structure </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterçš„MVVMè®¾è®¡æ¨¡å¼</title>
      <link href="/Flutter-MVVM-Architecture.html"/>
      <url>/Flutter-MVVM-Architecture.html</url>
      
        <content type="html"><![CDATA[<img src="/Flutter-MVVM-Architecture/1.png" class="" title="ç¤ºæ„å›¾ width=400"><p>æ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ (MVVM) åœ¨è½¯ä»¶å¼€å‘æ–¹é¢æ˜¯ä¸€ç§éå¸¸æˆç†Ÿçš„æ¶æ„æ¨¡å¼ã€‚ MVVM æœ‰ä»€ä¹ˆç‰¹åˆ«ä¹‹å¤„ï¼Ÿ</p><span id="more"></span><img src="/Flutter-MVVM-Architecture/2.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>æˆ‘ä»¬éœ€è¦åœ¨åº”ç”¨ç¨‹åºä¸­æ”¾ç½®ä¸€ç§æ¶æ„ï¼Œåœ¨ UI å’Œä¸šåŠ¡é€»è¾‘ä¹‹é—´è¿›è¡Œé€šä¿¡ã€‚<br>MVVM å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼Œå®ƒèƒ½å¤Ÿå°†ä¸šåŠ¡é€»è¾‘ä¸ UI åˆ†ç¦»ï¼Œè¿™çœ‹èµ·æ¥å¾ˆå®¹æ˜“åšåˆ°ï¼Œä½†è¯·ç›¸ä¿¡æˆ‘ï¼Œå¦‚æœä½ é”™è¯¯çš„ä½¿ç”¨äº†æ¶æ„ä¸­çš„æŸäº›å†…å®¹æˆ–åšä»»ä½•ä¸å‡†ç¡®çš„äº‹æƒ…ï¼Œé‚£ä¹ˆè¯·åšå¥½åœ¨åº”ç”¨ç¨‹åºå¼€å‘çš„åæœŸé˜¶æ®µé‡åˆ°å¤§éº»çƒ¦çš„å‡†å¤‡å§ï¼æœ€ç»ˆæ‚¨å°†åœ¨åº”ç”¨ç¨‹åºä¸­è¿›è¡Œå¾ˆå¤šä»¤äººæŠ“ç‹‚çš„äº‹æƒ…ï¼Œä»¥æ­¤æ¥è¡¥æ•‘ä½ çš„ç¨‹åºã€‚</p><p>åœ¨è¿™é‡Œï¼Œæˆ‘å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥è§£é‡Š MVVMï¼Œå®ƒå°†ä¸ºæ‚¨æä¾›è¶³å¤Ÿçš„çŸ¥è¯†æ¥åœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å®ç°ã€‚</p><p>MVVM å¯¹äºå°†ä¸šåŠ¡é€»è¾‘ä»è§†å›¾ç§»åŠ¨åˆ° ViewModel å’Œ Model å¾ˆæœ‰ç”¨ã€‚ ViewModel æ˜¯ View å’Œ Model ä¹‹é—´çš„ä¸­ä»‹ï¼Œå®ƒæºå¸¦æ‰€æœ‰ç”¨æˆ·äº‹ä»¶å¹¶è¿”å›ç»“æœã€‚</p><p>å…³é”®çš„å¥½å¤„æ˜¯å…è®¸è§†å›¾å’Œæ¨¡å‹ä¹‹é—´çš„çœŸæ­£åˆ†ç¦»ä»¥åŠæ‚¨ä»ä¸­è·å¾—çš„æ›´å¤§æ•ˆç‡çš„å®ç°æ•ˆæœã€‚è¿™å®é™…ä¸Šæ„å‘³ç€å½“æ‚¨çš„æ¨¡å‹éœ€è¦æ›´æ”¹æ—¶ï¼Œå¯ä»¥è½»æ¾æ›´æ”¹å®ƒè€Œæ— éœ€è§†å›¾ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>åº”ç”¨ MVVM ä¼šäº§ç”Ÿä¸‰ä¸ªå…³é”®é—®é¢˜ï¼š</p><ul><li>å¯ç»´æŠ¤æ€§ï¼š- è¡¨ç¤ºå±‚å’Œé€»è¾‘æ¾æ•£è€¦åˆï¼Œå› ä¸ºæ­¤ä»£ç æ˜“äºç»´æŠ¤å’Œé‡ç”¨ã€‚ç”±äºä»£ç åº“ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œå¢åŠ ï¼Œè¿™å°†å¸®åŠ©æ‚¨åŒºåˆ†å®ƒä»¬ã€‚</li><li>å¯æµ‹è¯•æ€§ï¼š- ViewModel æ¯”ä»£ç éšè—æˆ–äº‹ä»¶é©±åŠ¨ä»£ç æ›´å®¹æ˜“è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚æ„Ÿè°¢å…·æœ‰åˆ†ç¦»é€»è¾‘çš„ MVVMğŸ˜€</li><li>å¯æ‰©å±•æ€§ï¼š- æ­¤æ¶æ„ä¸ºæ‚¨æä¾›ä¿è¯ï¼Œä½¿ä»£ç èƒ½å¤Ÿåœ¨ä¸€æ®µæ—¶é—´å†…è·å¾—å¯æ‰©å±•æ€§ã€‚ä½†è¯·è®°ä½ï¼Œä¸€å®šè¦å…ˆä¿æŒç»„ä»¶çš„å¯é‡ç”¨æ€§ã€‚</li></ul><p> å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ†åˆ«æµè§ˆæ¯ä¸ªç»„ä»¶å¹¶å°è¯•äº†è§£å…¶ç”¨é€”ã€‚è¯·åœ¨å‚è€ƒä»¥ä¸‹å‡ ç‚¹çš„åŒæ—¶æŸ¥çœ‹å›¾è¡¨ï¼Œæ‚¨å°†å¯¹æµç¨‹æœ‰ä¸€ä¸ªæ¸…æ™°çš„äº†è§£ã€‚</p><h3 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h3><p>è¯¥æ¨¡å‹ä¸»è¦å·¥ä½œä»»åŠ¡æ˜¯å®æ—¶è·å–æ•°æ®æˆ–ä¸æ•°æ®åº“ç›¸å…³çš„æŸ¥è¯¢ã€‚<br>è¯¥å±‚å¯ä»¥åŒ…å«ä¸šåŠ¡é€»è¾‘ã€ä»£ç éªŒè¯ç­‰ã€‚è¯¥å±‚ä¸ ViewModel äº¤äº’ä»¥è·å–æœ¬åœ°æ•°æ®æˆ–å®æ—¶æ•°æ®ã€‚æ•°æ®æ˜¯å“åº” ViewModel ç»™å‡ºçš„ã€‚</p><h3 id="ViewModel"><a href="#ViewModel" class="headerlink" title="ViewModel"></a>ViewModel</h3><p>ViewModel æ˜¯ View å’Œ Model ä¹‹é—´çš„ä¸­ä»‹ï¼Œå®ƒæ¥å—æ‰€æœ‰ç”¨æˆ·äº‹ä»¶å¹¶å‘ Model è¯·æ±‚æ•°æ®ã€‚ä¸€æ—¦ Model æœ‰æ•°æ®ï¼Œå®ƒå°±ä¼šè¿”å›ç»™ ViewModelï¼Œç„¶å ViewModel å°†è¯¥æ•°æ®é€šçŸ¥ç»™ Viewã€‚<br>ViewModel å¯ä»¥è¢«å¤šä¸ª View ä½¿ç”¨ï¼Œè¿™æ„å‘³ç€å•ä¸ª ViewModel å¯ä»¥ä¸ºå¤šä¸ª View æä¾›æ•°æ®ã€‚</p><img src="/Flutter-MVVM-Architecture/3.png" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>è§†å›¾æ˜¯ç”¨æˆ·ä¸å±å¹•ä¸Šæ˜¾ç¤ºçš„å°éƒ¨ä»¶äº¤äº’çš„åœ°æ–¹ã€‚è¿™äº›ç”¨æˆ·äº‹ä»¶è¯·æ±‚ä¸€äº›å¯¼èˆªåˆ° ViewModel çš„æ“ä½œï¼Œè€Œ ViewModel çš„å…¶ä½™éƒ¨åˆ†å®Œæˆè¿™é¡¹å·¥ä½œã€‚ä¸€æ—¦ ViewModel æ‹¥æœ‰æ‰€éœ€çš„æ•°æ®ï¼Œå®ƒå°±ä¼šæ›´æ–° Viewã€‚</p><p>ç°åœ¨ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ¼”ç¤º MVVM æ¶æ„çš„ç¤ºä¾‹ï¼Œä¸ºäº†é€šçŸ¥æ•°æ®ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ Provider çŠ¶æ€æœºåˆ¶ã€‚</p><img src="/Flutter-MVVM-Architecture/4.png" class="" title="ç¤ºæ„å›¾ width=400"><p>MediaService.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:convert'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'dart:io'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:meta/meta.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:http/http.dart'</span></span> <span class="token operator">as</span> http<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/apis/app_exception.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MediaService</span> <span class="token punctuation">{</span>  <span class="token keyword">final</span> <span class="token class-name">String</span> _baseUrl <span class="token operator">=</span> <span class="token string-literal"><span class="token string">"https://itunes.apple.com/search?term="</span></span><span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">dynamic</span> responseJson<span class="token punctuation">;</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token keyword">await</span> http<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>_baseUrl <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span>      responseJson <span class="token operator">=</span> <span class="token function">returnResponse</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">on</span> <span class="token class-name">SocketException</span> <span class="token punctuation">{</span>      <span class="token keyword">throw</span> <span class="token class-name">FetchDataException</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'No Internet Connection'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">return</span> responseJson<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@visibleForTesting</span>  <span class="token keyword">dynamic</span> <span class="token function">returnResponse</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">http<span class="token punctuation">.</span></span>Response</span> response<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>      <span class="token keyword">case</span> <span class="token number">200</span><span class="token punctuation">:</span>        <span class="token keyword">dynamic</span> responseJson <span class="token operator">=</span> <span class="token function">jsonDecode</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> responseJson<span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">400</span><span class="token punctuation">:</span>        <span class="token keyword">throw</span> <span class="token class-name">BadRequestException</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">401</span><span class="token punctuation">:</span>      <span class="token keyword">case</span> <span class="token number">403</span><span class="token punctuation">:</span>        <span class="token keyword">throw</span> <span class="token class-name">UnauthorisedException</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token keyword">case</span> <span class="token number">500</span><span class="token punctuation">:</span>      <span class="token keyword">default</span><span class="token punctuation">:</span>        <span class="token keyword">throw</span> <span class="token class-name">FetchDataException</span><span class="token punctuation">(</span>            <span class="token string-literal"><span class="token string">'Error occured while communication with server'</span></span> <span class="token operator">+</span>                <span class="token string-literal"><span class="token string">' with status code : </span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">response<span class="token punctuation">.</span>statusCode</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MediaRepository.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/media.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/services/media_service.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MediaRepository</span> <span class="token punctuation">{</span>  <span class="token class-name">MediaService</span> _mediaService <span class="token operator">=</span> <span class="token class-name">MediaService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Media</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">fetchMediaList</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">dynamic</span> response <span class="token operator">=</span> <span class="token keyword">await</span> _mediaService<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">final</span> jsonData <span class="token operator">=</span> response<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'results'</span></span><span class="token punctuation">]</span> <span class="token operator">as</span> <span class="token class-name">List</span><span class="token punctuation">;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Media</span><span class="token punctuation">&gt;</span></span> mediaList <span class="token operator">=</span>        jsonData<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>tagJson<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Media</span><span class="token punctuation">.</span><span class="token function">fromJson</span><span class="token punctuation">(</span>tagJson<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> mediaList<span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MediaViewModel.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/cupertino.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/apis/api_response.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/media.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/media_repository.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">MediaViewModel</span> <span class="token keyword">with</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span>  <span class="token class-name">ApiResponse</span> _apiResponse <span class="token operator">=</span> <span class="token class-name">ApiResponse</span><span class="token punctuation">.</span><span class="token function">loading</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Fetching artist data'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token class-name">Media</span> _media<span class="token punctuation">;</span>  <span class="token class-name">ApiResponse</span> <span class="token keyword">get</span> response <span class="token punctuation">{</span>    <span class="token keyword">return</span> _apiResponse<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token class-name">Media</span> <span class="token keyword">get</span> media <span class="token punctuation">{</span>    <span class="token keyword">return</span> _media<span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token comment">/// Call the media service and gets the data of requested media data of</span>  <span class="token comment">/// an artist.</span>  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token function">fetchMediaData</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>    <span class="token keyword">try</span> <span class="token punctuation">{</span>      <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Media</span><span class="token punctuation">&gt;</span></span> mediaList <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token class-name">MediaRepository</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fetchMediaList</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>      _apiResponse <span class="token operator">=</span> <span class="token class-name">ApiResponse</span><span class="token punctuation">.</span><span class="token function">completed</span><span class="token punctuation">(</span>mediaList<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      _apiResponse <span class="token operator">=</span> <span class="token class-name">ApiResponse</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token keyword">void</span> <span class="token function">setSelectedMedia</span><span class="token punctuation">(</span><span class="token class-name">Media</span> media<span class="token punctuation">)</span> <span class="token punctuation">{</span>    _media <span class="token operator">=</span> media<span class="token punctuation">;</span>    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>HomScreen.dart</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/apis/api_response.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/model/media.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/view/widgets/player_list_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/view/widgets/player_widget.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:mvvm_flutter_app/view_model/media_view_model.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:provider/provider.dart'</span></span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">HomeScreen</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  _HomeScreenState <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_HomeScreenState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">class</span> _HomeScreenState <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomeScreen</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>  <span class="token metadata function">@override</span>  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// TODO: implement initState</span>    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span>  <span class="token metadata function">@override</span>  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">final</span> _inputController <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">ApiResponse</span> apiResponse <span class="token operator">=</span> <span class="token class-name">Provider</span><span class="token punctuation">.</span>of<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MediaViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>response<span class="token punctuation">;</span>    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Media</span><span class="token punctuation">&gt;</span></span> mediaList <span class="token operator">=</span> apiResponse<span class="token punctuation">.</span>data <span class="token operator">as</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Media</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>        appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>          title<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Media Player'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">,</span>        body<span class="token punctuation">:</span> <span class="token class-name">Column</span><span class="token punctuation">(</span>          children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>            <span class="token class-name">Padding</span><span class="token punctuation">(</span>              padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>vertical<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>              child<span class="token punctuation">:</span> <span class="token class-name">Row</span><span class="token punctuation">(</span>                children<span class="token punctuation">:</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Widget</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>                  <span class="token class-name">Expanded</span><span class="token punctuation">(</span>                    child<span class="token punctuation">:</span> <span class="token class-name">Container</span><span class="token punctuation">(</span>                      margin<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">symmetric</span><span class="token punctuation">(</span>horizontal<span class="token punctuation">:</span> <span class="token number">20.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      decoration<span class="token punctuation">:</span> <span class="token class-name">BoxDecoration</span><span class="token punctuation">(</span>                        color<span class="token punctuation">:</span> <span class="token class-name">Theme</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>accentColor<span class="token punctuation">.</span><span class="token function">withAlpha</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                        borderRadius<span class="token punctuation">:</span> <span class="token class-name">BorderRadius</span><span class="token punctuation">.</span><span class="token function">circular</span><span class="token punctuation">(</span><span class="token number">30.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                      <span class="token punctuation">)</span><span class="token punctuation">,</span>                      child<span class="token punctuation">:</span> <span class="token class-name">TextField</span><span class="token punctuation">(</span>                          style<span class="token punctuation">:</span> <span class="token class-name">TextStyle</span><span class="token punctuation">(</span>                            fontSize<span class="token punctuation">:</span> <span class="token number">15.0</span><span class="token punctuation">,</span>                            color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">,</span>                          controller<span class="token punctuation">:</span> _inputController<span class="token punctuation">,</span>                          onChanged<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>                          onSubmitted<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>                            <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>                              <span class="token class-name">Provider</span><span class="token punctuation">.</span>of<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MediaViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>                                  <span class="token punctuation">.</span><span class="token function">setSelectedMedia</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                              <span class="token class-name">Provider</span><span class="token punctuation">.</span>of<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MediaViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>                                      listen<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span>                                  <span class="token punctuation">.</span><span class="token function">fetchMediaData</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                            <span class="token punctuation">}</span>                          <span class="token punctuation">}</span><span class="token punctuation">,</span>                          decoration<span class="token punctuation">:</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>                            border<span class="token punctuation">:</span> <span class="token class-name">InputBorder</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>                            enabledBorder<span class="token punctuation">:</span> <span class="token class-name">InputBorder</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>                            focusedBorder<span class="token punctuation">:</span> <span class="token class-name">InputBorder</span><span class="token punctuation">.</span>none<span class="token punctuation">,</span>                            prefixIcon<span class="token punctuation">:</span> <span class="token class-name">Icon</span><span class="token punctuation">(</span>                              <span class="token class-name">Icons</span><span class="token punctuation">.</span>search<span class="token punctuation">,</span>                              color<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>grey<span class="token punctuation">,</span>                            <span class="token punctuation">)</span><span class="token punctuation">,</span>                            hintText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Enter Artist Name'</span></span><span class="token punctuation">,</span>                          <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token punctuation">]</span><span class="token punctuation">,</span>              <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">)</span><span class="token punctuation">,</span>            mediaList <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> mediaList<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span>                <span class="token operator">?</span> <span class="token class-name">Expanded</span><span class="token punctuation">(</span>                    child<span class="token punctuation">:</span> <span class="token class-name">PlayerListWidget</span><span class="token punctuation">(</span>mediaList<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Media</span> media<span class="token punctuation">)</span> <span class="token punctuation">{</span>                    <span class="token class-name">Provider</span><span class="token punctuation">.</span>of<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MediaViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>                        <span class="token punctuation">.</span><span class="token function">setSelectedMedia</span><span class="token punctuation">(</span>media<span class="token punctuation">)</span><span class="token punctuation">;</span>                  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token punctuation">:</span> <span class="token class-name">Expanded</span><span class="token punctuation">(</span>                    child<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>                      child<span class="token punctuation">:</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Search the song by Artist'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token punctuation">)</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Provider</span><span class="token punctuation">.</span>of<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MediaViewModel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>media <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>              <span class="token class-name">Align</span><span class="token punctuation">(</span>                  alignment<span class="token punctuation">:</span> <span class="token class-name">Alignment</span><span class="token punctuation">.</span>bottomCenter<span class="token punctuation">,</span>                  child<span class="token punctuation">:</span> <span class="token class-name">PlayerWidget</span><span class="token punctuation">(</span>                    function<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span><span class="token punctuation">,</span>                  <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>          <span class="token punctuation">]</span><span class="token punctuation">,</span>        <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MVVM ç°åœ¨è¢«å¤§é‡ä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ”¯æŒäº‹ä»¶é©±åŠ¨çš„æ–¹æ³•ï¼Œè¿™ä¸è®¸å¤šç»„ä»¶æ˜¯åŸºäºäº‹ä»¶æ‰§è¡Œå¯†åˆ‡ç›¸å…³ã€‚</p><p>ä»¥ä¸Šæ‰€æœ‰æºä»£ç ï¼Œæ‚¨å¯ä»¥ç§»æ­¥ï¼š<a href="https://github.com/reasonpun/my_100_goals/tree/main/goals_03">https://github.com/reasonpun/my_100_goals/tree/main/goals_03</a></p><!-- https://medium.com/flutterworld/flutter-mvvm-architecture-f8bed2521958 -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> MVVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç®€å•çš„ä»‹ç»Flutterçš„MVVMè®¾è®¡æ¨¡å¼</title>
      <link href="/An-Introduction-to-MVVM-in-Flutter.html"/>
      <url>/An-Introduction-to-MVVM-in-Flutter.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-none"><code class="language-none">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ MVVM è®¾è®¡æ¨¡å¼æ¥ç¼–å†™ä¸€ä¸ªå®Œæ•´çš„ Flutter åº”ç”¨ç¨‹åº<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><span id="more"></span><img src="/An-Introduction-to-MVVM-in-Flutter/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒFlutter åº”ç”¨ç¨‹åºä¸ä½¿ç”¨ä»»ä½•ç‰¹å®šçš„è®¾è®¡æ¨¡å¼ã€‚<br>è¿™æ„å‘³ç€å¼€å‘äººå‘˜éœ€è¦è‡ªå·±è´Ÿè´£é€‰æ‹©å’Œå®ç°é€‚åˆä»–ä»¬éœ€æ±‚çš„æ¨¡å¼ã€‚<br>ç”±äºFlutterçš„å£°æ˜æ€§ç‰¹æ€§ï¼Œä½¿å¾—å…¶æˆä¸º MVVM è®¾è®¡æ¨¡å¼çš„ç†æƒ³å€™é€‰è€…ã€‚</p><h3 id="äº†è§£-MVVM"><a href="#äº†è§£-MVVM" class="headerlink" title="äº†è§£ MVVM"></a>äº†è§£ MVVM</h3><p>MVVM ä»£è¡¨æ¨¡å‹-è§†å›¾-è§†å›¾æ¨¡å‹ã€‚<br>åŸºæœ¬æ€æƒ³æ˜¯åˆ›å»ºä¸€ä¸ªå‘è§†å›¾æä¾›æ•°æ®çš„è§†å›¾æ¨¡å‹ã€‚è§†å›¾å¯ä»¥ä½¿ç”¨è§†å›¾æ¨¡å‹æä¾›çš„æ•°æ®æ¥å¡«å……è‡ªå·±ã€‚åˆ›å»ºè§†å›¾æ¨¡å‹å±‚å…è®¸æ‚¨ç¼–å†™æ¨¡å—åŒ–ä»£ç ï¼Œè¿™äº›ä»£ç å¯ä»¥è¢«å¤šä¸ªè§†å›¾ä½¿ç”¨ã€‚</p><p>MVVM è®¾è®¡æ¨¡å¼èµ·æºäºå¾®è½¯ã€‚ </p><p>MVVM å¤§é‡ç”¨äºç¼–å†™ Windows Presentation Foundation (WPF) åº”ç”¨ç¨‹åºã€‚ MVVM æ¨¡å¼æ˜¯ PresentationModel çš„ä¸€ä¸ªèŠ±å“¨åç§°ã€‚</p><p>ç”±äºè®¾è®¡æ¨¡å¼ä¸å¹³å°æ— å…³ï¼Œå› æ­¤å®ƒå¯ä»¥ä¸ä»»ä½•æ¡†æ¶ä¸€èµ·ä½¿ç”¨ï¼ŒåŒ…æ‹¬ Flutterã€‚</p><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç”µå½±åº”ç”¨ç¨‹åºï¼Œå®ƒå°†æ ¹æ®è¾“å…¥çš„å…³é”®å­—è·å–ç”µå½±å¹¶å°†å…¶æ˜¾ç¤ºç»™ç”¨æˆ·ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºå°†åŸºäº MVVM åŸåˆ™åˆ›å»ºã€‚<br>åœ¨æ·±å…¥ç ”ç©¶ä»£ç ä¹‹å‰ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢çš„åŠ¨ç”»ä»¥äº†è§£æˆ‘ä»¬å°†è¦æ„å»ºçš„åº”ç”¨ç¨‹åºã€‚</p><img src="/An-Introduction-to-MVVM-in-Flutter/2.gif" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="å®ç°ç½‘ç»œæœåŠ¡"><a href="#å®ç°ç½‘ç»œæœåŠ¡" class="headerlink" title="å®ç°ç½‘ç»œæœåŠ¡"></a>å®ç°ç½‘ç»œæœåŠ¡</h3><p>æˆ‘ä»¬å°†ä½¿ç”¨<a href="http://www.omdbapi.com/">OMDb API</a>æ¥è·å–ç”µå½±ã€‚ç¡®ä¿æ‚¨åœ¨ä»–ä»¬çš„ç½‘ç«™ä¸Šæ³¨å†Œä»¥è·å– API å¯†é’¥ã€‚å¦‚æœæ²¡æœ‰æœ‰æ•ˆçš„ API å¯†é’¥ï¼Œæ‚¨å°†æ— æ³•æˆåŠŸæ‰§è¡Œè¯·æ±‚ã€‚</p><p>ç°åœ¨æ‚¨å·²ç»æ³¨å†Œäº† OMDb æœåŠ¡å¹¶æ”¶åˆ°äº†æ‚¨çš„å¯†é’¥ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­å¼€å‘ Web æœåŠ¡/å®¢æˆ·ç«¯ã€‚ Web æœåŠ¡ä½¿ç”¨ HTTP åŒ…å‘å‡ºç½‘ç»œè¯·æ±‚å¹¶ä¸‹è½½ JSON å“åº”ï¼Œä½†æ‚¨å¯ä»¥éšæ„ä½¿ç”¨ä»»ä½•æ‚¨æƒ³è¦çš„ç½‘ç»œåŒ…ã€‚</p><p>ä¸‹è½½ JSON åï¼Œå°†å…¶çŒå…¥åˆ°ç”µå½±æ¨¡å‹ä»¥è·å–ç”µå½±å¯¹è±¡åˆ—è¡¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">import 'package:movies_app/models/movie.dart';import 'package:http/http.dart' as http; class Webservice {  Future&lt;List&lt;Movie&gt;&gt; fetchMovies(String keyword) async {    final url = "http://www.omdbapi.com/?s=$keyword&amp;apikey=YOURAPIKEYHERE";    final response = await http.get(url);    if(response.statusCode == 200) {       final body = jsonDecode(response.body);        final Iterable json = body["Search"];       return json.map((movie) =&gt; Movie.fromJson(movie)).toList();    } else {      throw Exception("Unable to perform request!");    }  }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”µå½±æ¨¡å‹å®ç°å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">class Movie {  final String title;   final String poster;   Movie({this.title, this.poster});  factory Movie.fromJson(Map&lt;String, dynamic&gt; json) {    return Movie(      title: json["Title"],       poster: json["Poster"]    );  }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”µå½±åªæ˜¯ç”±æ ‡é¢˜å’Œæµ·æŠ¥ç»„æˆã€‚å®ƒè¿˜å…¬å¼€äº†ä¸€ä¸ª fromJson å‡½æ•°ï¼Œå®ƒå…è®¸æˆ‘ä»¬åŸºäºè¿”å›çš„JSONæ ¼å¼æ•°æ®åˆ›å»ºä¸€ä¸ª Movie å¯¹è±¡ã€‚<br>æˆ‘ä»¬ä½¿ç”¨æ¨¡å‹æ¥å®šä¹‰æˆ‘ä»¬çš„ç”µå½±å¯¹è±¡ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒä»¬æ˜¯ç”¨æ¥å®ç°ä¸ºæ•°æ®ä¼ è¾“å¯¹è±¡ (DTO) çš„æœåŠ¡çš„ã€‚<br>è‡³æ­¤ï¼Œæˆ‘ä»¬æ‹¥æœ‰äº†æ‰€æœ‰éœ€è¦çš„æ•°æ®ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯å°†å…¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚åœ¨å°†æ•°æ®æ˜¾ç¤ºåœ¨ç”¨æˆ·ç•Œé¢ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºè´Ÿè´£å‘è§†å›¾æä¾›æ•°æ®çš„è§†å›¾æ¨¡å‹ã€‚</p><h3 id="å®ç°è§†å›¾æ¨¡å‹"><a href="#å®ç°è§†å›¾æ¨¡å‹" class="headerlink" title="å®ç°è§†å›¾æ¨¡å‹"></a>å®ç°è§†å›¾æ¨¡å‹</h3><p>å°½ç®¡æ‚¨å¯ä»¥é€šè¿‡åˆ›å»ºå•ä¸ªè§†å›¾æ¨¡å‹æ¥è·å¾—æ‰€éœ€çš„ç»“æœï¼Œä½†æˆ‘ä»¬å°†åœ¨æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä¸­åˆ›å»ºä¸¤ä¸ªå•ç‹¬çš„è§†å›¾æ¨¡å‹ã€‚</p><p>ä¸€ä¸ªè§†å›¾æ¨¡å‹ MoviesListViewModel å°†ç”¨æ¥è¡¨ç¤ºç”µå½±åˆ—è¡¨æ•°æ®å¹¶æ˜¾ç¤ºåœ¨æ•´ä¸ªå±å¹•ä¸Šã€‚<br>ç¬¬äºŒä¸ªè§†å›¾æ¨¡å‹ MovieViewModel å°†è¡¨ç¤ºä¸€ä¸ªå•ç‹¬çš„ç”µå½±â€”â€”å®ƒå°†æ˜¾ç¤ºåœ¨è§†å›¾ä¸­ã€‚</p><p>è§†å›¾æ¨¡å‹çš„å®ç°å¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">class MovieListViewModel extends ChangeNotifier {  List&lt;MovieViewModel&gt; movies = List&lt;MovieViewModel&gt;();   Future&lt;void&gt; fetchMovies(String keyword) async {   // TODO   }}class MovieViewModel {  final Movie movie;   MovieViewModel({this.movie});  String get title {    return this.movie.title;   }  String get poster {    return this.movie.poster;   }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MovieListViewModel ç”± movies å±æ€§ç»„æˆï¼Œè¯¥å±æ€§å°†è¿”å› MovieViewModel å¯¹è±¡çš„åˆ—è¡¨ã€‚ MovieViewModel æ¥å—ä¸€ä¸ª Movie å¯¹è±¡å¹¶å°†æ ‡é¢˜å’Œæµ·æŠ¥ä½œä¸ºåªè¯»å±æ€§è¿”å›ã€‚ä¸‹ä¸€æ­¥æ˜¯ä½¿ç”¨ Web æœåŠ¡è·å–ç”µå½±ã€‚</p><h3 id="è®¾ç½®-ChangeNotifier-å’Œ-ChangeNotifierProvider"><a href="#è®¾ç½®-ChangeNotifier-å’Œ-ChangeNotifierProvider" class="headerlink" title="è®¾ç½® ChangeNotifier å’Œ ChangeNotifierProvider"></a>è®¾ç½® ChangeNotifier å’Œ ChangeNotifierProvider</h3><p>MovieListViewModel ä¸­çš„ fetchMovies æ–¹æ³•ä¼šé€šè¿‡ä½¿ç”¨WebæœåŠ¡ï¼Œä» OMDb API æ£€ç´¢ç”µå½±ã€‚<br>å®ç°å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">class MovieListViewModel extends ChangeNotifier {  List&lt;MovieViewModel&gt; movies = List&lt;MovieViewModel&gt;();   Future&lt;void&gt; fetchMovies(String keyword) async {    final results =  await Webservice().fetchMovies(keyword);    this.movies = results.map((item) =&gt; MovieViewModel(movie: item)).toList();    print(this.movies);    notifyListeners();   }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬æ›´æ–°äº† MovieListViewModel ä»¥ä» ChangeNotifier ç»§æ‰¿ã€‚ ChangeNotifier å…è®¸æˆ‘ä»¬å‘å¸ƒæ›´æ”¹é€šçŸ¥ï¼Œè§†å›¾å¯ä»¥ä½¿ç”¨å®ƒæ¥æ›´æ–°è‡ªèº«ã€‚<br>åœ¨æˆ‘ä»¬ä½¿ç”¨ç½‘ç»œæœåŠ¡è·å–ç”µå½±åï¼Œæˆ‘ä»¬è°ƒç”¨ notifyListeners å‡½æ•°ï¼Œé€šçŸ¥æ‰€æœ‰è®¢é˜…è€…/å¬ä¼—ã€‚ç›®å‰æ²¡æœ‰äººæ”¶å¬ï¼Œæ‰€ä»¥æ²¡æœ‰äººå¾—åˆ°æ¶ˆæ¯ï¼šç”µå½±å·²ç»ä¸‹è½½å®Œæ¯•ã€‚</p><p>ä¸ºäº†ç”¨æ›´æ–°çš„ MovieListViewModel é€šçŸ¥è§†å›¾ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ ChangeNotifierProviderï¼Œå®ƒæ˜¯ Provider åŒ…çš„ä¸€éƒ¨åˆ†ã€‚é€šè¿‡åœ¨pubspec.yamlæ–‡ä»¶ä¸­æ·»åŠ ä¾èµ–æ¥æ·»åŠ provideråŒ…ï¼Œå¦‚ä¸‹å›¾ï¼š</p><pre class="line-numbers language-none"><code class="language-none">dependencies:  flutter:    sdk: flutter  # The following adds the Cupertino Icons font to your application.  # Use with the CupertinoIcons class for iOS style icons.  cupertino_icons: ^0.1.2  http: ^0.12.0+2  provider: ^3.2.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°ä¸€ä¸ªä»æä¾›è€…é‚£é‡Œæ³¨å…¥å€¼çš„å¥½åœ°æ–¹ã€‚<br>æˆ‘ä»¬æ­£åœ¨è°ˆè®ºçš„å€¼æ˜¯ MovieListViewModel çš„ä¸€ä¸ªå®ä¾‹ï¼Œå› ä¸ºå®ƒæ‰©å±•äº† ChangeNotifier å¹¶å‘ä¾¦å¬å™¨å‘å¸ƒé€šçŸ¥ã€‚</p><p>åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ main.dart æ–‡ä»¶å¹¶å°†å€¼æ³¨å…¥åˆ° MovieListPageã€‚è¿™æ„å‘³ç€ MovieListViewModel å°†å¯ç”¨äº MovieListPage åŠå…¶æ‰€æœ‰å­é¡¹ã€‚</p><pre class="line-numbers language-none"><code class="language-none">void main() =&gt; runApp(App());class App extends StatelessWidget {  @override  Widget build(BuildContext context) {    return MaterialApp(      title: "Movies",      home:       ChangeNotifierProvider(        create: (context) =&gt; MovieListViewModel(),         child: MovieListPage(),      )    );  }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®Œç¾ï¼æœ€åä¸€æ­¥æ˜¯åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ•°æ®ã€‚</p><h3 id="æ˜¾ç¤ºç”µå½±"><a href="#æ˜¾ç¤ºç”µå½±" class="headerlink" title="æ˜¾ç¤ºç”µå½±"></a>æ˜¾ç¤ºç”µå½±</h3><p>å¯¹äºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬å°†è¦æ±‚ç”¨æˆ·è¾“å…¥å…³é”®å­—å¹¶æŒ‰é”®ç›˜ä¸Šçš„æœç´¢é”®ã€‚è¿™å°†è°ƒç”¨ MovieListViewModel ä¸Šçš„ fetchMovies æ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">Container(   padding: EdgeInsets.only(left: 10),   decoration: BoxDecoration(       color: Colors.grey,        borderRadius: BorderRadius.circular(10)   ),   child: TextField(       controller: _controller,       onSubmitted: (value) {       if(value.isNotEmpty) {           vm.fetchMovies(value);           _controller.clear();       }       },<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>fetchMovies å°†æ ¹æ®å…³é”®å­—è·å–æ‰€æœ‰ç”µå½±å¹¶è§¦å‘ notifyListenersã€‚ä¸ºäº†è·å– MovieListViewModel çš„æ›´æ–°å®ä¾‹ï¼Œæˆ‘ä»¬å°†ä»provideråŒ…ä¸­è·å¾—å¸®åŠ©ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">@override Widget build(BuildContext context) { final vm = Provider.of&lt;MovieListViewModel&gt;(context);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>é€šè¿‡åœ¨ build æ–¹æ³•ä¸­æ·»åŠ  Providerï¼Œæˆ‘ä»¬ç¡®ä¿æ— è®ºä½•æ—¶è§¦å‘ notifyListenerï¼Œæˆ‘ä»¬éƒ½å¯ä»¥è®¿é—® MovieListViewModel çš„å®ä¾‹ã€‚</p><p>ç°åœ¨ï¼Œå¦‚æœæ‚¨è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå°†æ ¹æ®å…³é”®å­—è·å–ç”µå½±å¹¶å°†å…¶æ˜¾ç¤ºåœ¨ç”¨æˆ·ç•Œé¢ä¸Šã€‚</p><p>å¦‚æœæ‚¨æƒ³åœ¨é¡µé¢åŠ è½½æ—¶æ‰§è¡Œåˆå§‹æå–ï¼Œåˆ™å¯ä»¥å°† StatelessWidget æ›´æ–°ä¸º StatefulWidget å¹¶ä» initState æ–¹æ³•å†…éƒ¨è°ƒç”¨ fetchMoviesï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">class _MovieListPageState extends State&lt;MovieListPage&gt; {  final TextEditingController _controller = TextEditingController();   @override  void initState() {    super.initState();    // you can uncomment this to get all batman movies when the page is loaded    Provider.of&lt;MovieListViewModel&gt;(context, listen: false).fetchMovies("batman");  }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯·æ³¨æ„ï¼Œæˆ‘ä»¬ä¸º Provider ä¼ é€’äº† listen: false ï¼Œè¿™æ„å‘³ç€è¿™åªæ˜¯ä¸€æ¬¡è°ƒç”¨ï¼Œå¹¶ä¸” Provider ä¸ä¼šè·Ÿè¸ªæ›´æ”¹ã€‚</p><p>ä»¥ä¸Šæ‰€æœ‰æºä»£ç ï¼Œæ‚¨å¯ä»¥ç§»æ­¥ï¼š<a href="https://github.com/reasonpun/my_100_goals/tree/main/goals_02">https://github.com/reasonpun/my_100_goals/tree/main/goals_02</a></p><p>è°¢è°¢é˜…è¯»ï¼</p><!-- https://betterprogramming.pub/mvvm-in-flutter-edd212fd767a -->]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> MVVM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æé«˜ç§»åŠ¨åº”ç”¨å¼€å‘é€Ÿåº¦çš„10å¤§Flutterå·¥å…·</title>
      <link href="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development.html"/>
      <url>/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development.html</url>
      
        <content type="html"><![CDATA[<p>Flutter æ˜¯è®©ä¼ä¸šä¿æŒåœ¨æ•°å­—åŒ–è½¨é“ä¸Šçš„æœ€å…·å¸å¼•åŠ›å’Œæœ€å‡ºè‰²çš„æ¡†æ¶ä¹‹ä¸€ã€‚<br>ä¼ä¸šå¯ä»¥ä»å¤šç§ Flutter åº”ç”¨å¼€å‘å·¥å…·ä¸­è¿›è¡Œé€‰æ‹©æ¥å¼€å‘åº”ç”¨ã€‚è¿™äº›å·¥å…·ä¸­çš„æ¯ä¸€ä¸ªéƒ½æœ‰å¯èƒ½ä½¿å¼€å‘äººå‘˜çš„ç¼–ç æ›´åŠ æ•æ·å’Œç®€å•ã€‚</p><span id="more"></span><p>å°½ç®¡å¾—åˆ°äº†Google çš„å¤§åŠ›æ”¯æŒï¼Œä½†æ˜¯ç”±äºFlutterçš„é¢å‘çš„æ–¹é¢å¾ˆå¤šï¼Œæ‰€ä»¥å¦‚æœä½ æƒ³åšçš„æ›´åŠ ä¼˜ç§€ï¼Œè¿˜æ˜¯éœ€è¦ä¸€äº›ç¬¬ä¸‰æ–¹å¼€å‘å·¥å…·å¸®åŠ©ã€‚ä½œä¸ºå¼€å‘è€…çš„ä½ ï¼Œåº”è¯¥ç†Ÿæ‚‰è®¸å¤šä¼˜ç§€çš„ Flutter å¼€å‘å·¥å…·ã€‚</p><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><h3 id="Crashlytics"><a href="#Crashlytics" class="headerlink" title="Crashlytics:"></a>Crashlytics:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/2.png" class="" title="ç¤ºæ„å›¾ width=400"><p>å³ä½¿æ‚¨å¯ä»¥å¾—åˆ°åº”ç”¨å´©æºƒæ—¶å‘å‡ºçš„é”™è¯¯ä¿¡æ¯ï¼Œä½†æ˜¯ï¼Œç¡®å®šé—®é¢˜çš„åŸå› ä¹Ÿå¯èƒ½éœ€è¦å¾ˆé•¿æ—¶é—´ã€‚<br>ä½¿ç”¨Crashlyticsï¼Œå¹¶å€ŸåŠ©å…¶ä»ªè¡¨æ¿ä¸ä»…å¯ä»¥è®©æ‚¨å…¨é¢è€Œæ¸…æ™°åœ°äº†è§£æ‚¨çš„è½¯ä»¶ç”¨æˆ·æ­£åœ¨ç»å†çš„äº‹æƒ…ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è½¯ä»¶æ”¹è¿›å»ºè®®ä¸ºæ‚¨æä¾›å…³äºå¯èƒ½å¯¼è‡´è‡´å‘½é”™è¯¯çš„å‚è€ƒå»ºè®®ã€‚</p><p>å´©æºƒæ£€æµ‹åŠŸèƒ½åœ¨ä»ªè¡¨æ¿ä¸Šçš„å´©æºƒæŠ¥å‘Šæ—è¾¹ï¼Œå¹¶é€šè¿‡æŒ‡ç¤ºå¯èƒ½çš„æ½œåœ¨åŸå› ï¼ˆä¾‹å¦‚ SDK ç¼ºé™·å’Œ API æ»¥ç”¨ï¼‰æ¥æä¾›æ›´å¤šä¿¡æ¯ï¼Œè¿™äº›åŸå› åœ¨å¤šä¸ªåº”ç”¨ç¨‹åºä¸­æ˜¯ç›¸ä¼¼çš„ã€‚è¿™å¯ä»¥ä½œä¸ºè¿›ä¸€æ­¥è°ƒæŸ¥çš„èµ·ç‚¹ï¼ŒèŠ‚çœæ‚¨çš„æ—¶é—´å¹¶åŠ å¿«æ‚¨çš„æµç¨‹ã€‚</p><h3 id="Firebase"><a href="#Firebase" class="headerlink" title="Firebase:"></a>Firebase:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/3.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>Firebase æ˜¯ä¸€ä¸ªæ¥è‡ª Google çš„ç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘å¹³å°ï¼Œå…·æœ‰å¼ºå¤§çš„å¼€å‘ã€å¤„ç†å’Œå¢å¼ºåº”ç”¨ç¨‹åºçš„åŠŸèƒ½ã€‚<br>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¼€å‘äººå‘˜å¯ä»¥ä¾èµ–çš„å·¥å…·é›†åˆï¼Œå¯ä»¥æ ¹æ®éœ€æ±‚åˆ›å»ºåº”ç”¨ç¨‹åºå¹¶å¯¹å…¶è¿›è¡Œæ‰©å±•ã€‚ </p><p>æ—¨åœ¨ä¸ºå¼€å‘è€…è§£å†³ä¸‰ä¸ªä¸»è¦é—®é¢˜: </p><ul><li>å¿«é€Ÿå¼€å‘åº”ç”¨ </li><li>å……æ»¡ä¿¡å¿ƒåœ°å‘å¸ƒå’Œç›‘æ§åº”ç”¨ç¨‹åº </li><li>å¸å¼•ç”¨æˆ·</li></ul><p>ä¾èµ–è¿™ä¸ªå¹³å°çš„å¼€å‘äººå‘˜å¯ä»¥è®¿é—®ä»–ä»¬å¿…é¡»è‡ªå·±å¼€å‘çš„æœåŠ¡ï¼Œè¿™ä½¿ä»–ä»¬èƒ½å¤Ÿä¸“æ³¨äºæä¾›å¼ºå¤§çš„åº”ç”¨ç¨‹åºä½“éªŒã€‚<br>Google Firebase å¹³å°çš„ä¸€äº›çªå‡ºç‰¹æ€§åŒ…æ‹¬æ•°æ®åº“ã€èº«ä»½éªŒè¯ã€æ¨é€æ¶ˆæ¯ã€åˆ†æã€æ–‡ä»¶å­˜å‚¨ç­‰ç­‰ã€‚<br>ç”±äºè¿™äº›æœåŠ¡åŸºäºäº‘æ‰˜ç®¡ï¼Œå¼€å‘è€…å¯ä»¥é¡ºåˆ©åœ°è¿›è¡ŒæŒ‰éœ€æ‰©å±•ï¼Œè€Œæ²¡æœ‰ä»»ä½•éº»çƒ¦ã€‚Firebase ç›®å‰æ˜¯å…¨çƒå¼€å‘è€…æ‰€ä¾èµ–çš„é¡¶çº§åº”ç”¨å¼€å‘å¹³å°ä¹‹ä¸€ã€‚</p><h3 id="Visual-Studio"><a href="#Visual-Studio" class="headerlink" title="Visual Studio:"></a>Visual Studio:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/4.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><p>Flutter å¼€å‘äººå‘˜ä½¿ç”¨ Visual Studio Code æ¥è¿è¡Œä»»åŠ¡ã€ç‰ˆæœ¬æ§åˆ¶ä»¥åŠåˆ›å»ºã€è°ƒè¯•äº‘å’Œ Web åº”ç”¨ç¨‹åºã€‚<br>Microsoft ä¸º macOSã€Windows å’Œ Linux åˆ›å»ºäº†è¿™ä¸ªå¼€æºå’Œå…è´¹çš„ä»£ç ç¼–è¾‘å™¨ã€‚<br>å®ƒå½’å› äºæ™ºèƒ½ä»£ç å®Œæˆã€è°ƒè¯•æ”¯æŒã€ç‰‡æ®µã€è¯­æ³•é«˜äº®ã€ä»£ç é‡æ„å’ŒåµŒå…¥å¼ GITã€‚</p><p>Visual Studio Code åŠŸèƒ½å¼ºå¤§ä¸”è½»é‡çº§ï¼Œä½†æ— æ³•å¤„ç†åŠŸèƒ½æ›´å…¨é¢çš„ IDEï¼ˆå¦‚ Visual Studio IDEï¼‰æ‰€é‡‡ç”¨çš„å¤æ‚å·¥ä½œæµç¨‹ã€‚<br>å®ƒä¸ C++ å’Œ Python å®Œç¾é…åˆã€‚å®ƒé«˜æ•ˆä¸”æ˜“äºä½¿ç”¨ã€‚</p><h3 id="Screenshot"><a href="#Screenshot" class="headerlink" title="Screenshot:"></a>Screenshot:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/5.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Screenshotæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œå¯ä»¥è®©ä½ æˆªå–å±å¹•æˆªå›¾ï¼Œæ˜¯ Flutter åº”ç”¨å¼€å‘æœ€é«˜æ•ˆçš„ IDE ä¹‹ä¸€ã€‚å®ƒè¿˜å…è®¸æ‚¨ç«‹å³å°†å®ƒä»¬å‘å¸ƒåˆ°çŠ¶æ€æ ã€‚<br>ç„¶åå¯ä»¥è½»æ¾åœ°å°†è¿™äº›å±å¹•æˆªå›¾åŒ…å«åœ¨æ‚¨çš„ Flutter åº”ç”¨ç¨‹åºä¸­ã€‚<br>è¿™äº›é›†æˆçš„å±å¹•æˆªå›¾è¿˜å…¼å®¹ iOS å’Œ Android è®¾å¤‡ã€‚<br>å› æ­¤ï¼Œå®ƒä¼¼ä¹æ˜¯å¼€å‘äººå‘˜ä¸­æœ€å—æ¬¢è¿çš„ Flutter åº”ç”¨ç¨‹åºå¼€å‘å·¥å…·ä¹‹ä¸€ã€‚</p><h3 id="Speech-to-Text"><a href="#Speech-to-Text" class="headerlink" title="Speech to Text:"></a>Speech to Text:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/6.png" class="" title="ç¤ºæ„å›¾ width=400"><p>è¯¥æ’ä»¶åŒ…å«ä¸€ç»„ç±»ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åœ¨ Flutter ä¸­ä½¿ç”¨åº•å±‚å¹³å°çš„è¯­éŸ³è¯†åˆ«åŠŸèƒ½ã€‚<br>å®ƒæ”¯æŒå®‰å“ã€iOSå’Œç½‘ç»œã€‚<br>è¯¥åº“çš„ç›®æ ‡ç”¨ä¾‹æ˜¯å‘½ä»¤å’ŒçŸ­è¯­ï¼Œè€Œä¸æ˜¯æŒç»­çš„å£è¯­è½¬æ¢æˆ–å§‹ç»ˆåœ¨çº¿çš„è†å¬ã€‚</p><h3 id="Android-Studio"><a href="#Android-Studio" class="headerlink" title="Android Studio:"></a>Android Studio:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/android-studio-logo.webp" class="" title="ç¤ºæ„å›¾ width=400"><p>å¤§é‡ä½¿ç”¨ Flutter å¹³å°åˆ›å»ºåº”ç”¨ç¨‹åºçš„å¼€å‘äººå‘˜ä½¿ç”¨ Android Studioã€‚<br>è¿™æ˜¯ç”¨äºåˆ›å»ºæœ‰ç”¨åº”ç”¨ç¨‹åºçš„æœ€é«˜æ•ˆçš„ IDE ä¹‹ä¸€ã€‚<br>å®ƒåŒ…æ‹¬å°éƒ¨ä»¶ç¼–è¾‘ã€è¯­æ³•çªå‡ºæ˜¾ç¤ºå’Œä»£ç å®ŒæˆåŠŸèƒ½ã€‚<br>ä¸‹è½½å’Œå®‰è£…äº†Android Studio ä¹‹åï¼Œä½ å°±ä¸éœ€è¦æœ‰é¢å¤–çš„æ‹…å¿ƒäº†ï¼Œå› ä¸ºå®ƒè¿˜æ”¯æŒæ‚¨åœ¨ Android è®¾å¤‡æˆ–æ¨¡æ‹Ÿå™¨ä¸Šè®¾è®¡å’Œå¯åŠ¨åº”ç”¨ç¨‹åºã€‚</p><h3 id="Push-Notifications"><a href="#Push-Notifications" class="headerlink" title="Push Notifications:"></a>Push Notifications:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/7.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>Push Notificationséå¸¸é€‚åˆæé«˜ç”¨æˆ·å‚ä¸åº¦å¹¶æé†’ç”¨æˆ·å…³æ³¨æœ€æ–°ä¿¡æ¯ã€‚ Google çš„ Firebase Cloud Messaging (FCM) æ˜¯ä¸€é¡¹å…è´¹ï¼ˆæ˜¯çš„ï¼Œå…è´¹ï¼ï¼‰è·¨å¹³å°æ¶ˆæ¯æœåŠ¡ã€‚å®ƒä½¿å¾—å‘ä¸€ç³»åˆ—å¹³å°ä¸Šçš„ç‰¹å®šç”¨æˆ·ç»„å‘é€é€šçŸ¥å˜å¾—ç®€å•ã€‚æˆ‘å°†åœ¨æœ¬æ–‡ä¸­å‘æ‚¨å±•ç¤ºå¦‚ä½•åœ¨ Android å’Œ iOS ä¸Šè®¾ç½®æ¨é€é€šçŸ¥ï¼›å¦‚æœæ‚¨åªæƒ³åœ¨å…¶ä¸­ä¸€ä¸ªå¹³å°ä¸Šè¿›è¡Œè®¾ç½®ï¼Œåˆ™å¯ä»¥è·³è¿‡ç‰¹å®šäºå¹³å°çš„éƒ¨åˆ†ã€‚</p><h3 id="Panache"><a href="#Panache" class="headerlink" title="Panache:"></a>Panache:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/8.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Panache æ˜¯ Flâ€‹â€‹utter çš„materialç¼–è¾‘å™¨ï¼Œå¯è®©æ‚¨ä¸ºåº”ç”¨æ„å»ºmaterialä¸»é¢˜ã€‚æ‚¨å¯ä»¥æ›´æ”¹é¢œè‰²ã€å½¢çŠ¶ã€æ ·å¼å’Œå…¶ä»–ä¸»é¢˜åŠŸèƒ½ï¼Œç„¶åå°† dart æ–‡ä»¶ä¿å­˜åˆ° Drive æ–‡ä»¶å¤¹ã€‚<br>æ‚¨å¯ä»¥è®© Flutter å¼€å‘äººå‘˜ä½¿ç”¨ Panache ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºç”Ÿæˆå®šåˆ¶ä¸”å…·æœ‰è§†è§‰å¸å¼•åŠ›çš„materialå’Œä¸»é¢˜ã€‚<br>Panache æ˜¯å®Œå…¨å…è´¹å’Œå¼€æºçš„ï¼Œå…è®¸æ‚¨è¯„ä¼°ä»£ç ã€‚<br>Panache ç›®å‰è¢«è¶…è¿‡ 4000 ä¸‡å¼€å‘äººå‘˜å’Œæµ‹è¯•äººå‘˜ä½¿ç”¨ã€‚</p><h3 id="Flutter-Stripe"><a href="#Flutter-Stripe" class="headerlink" title="Flutter Stripe:"></a>Flutter Stripe:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/9.jpg" class="" title="ç¤ºæ„å›¾ width=400"><p>Stripe ä¼šä¸ºæ‚¨æ”¶é›†æ‰€æœ‰ä»˜æ¬¾æ•°æ®ã€‚<br>é€šå¸¸ï¼ŒStripeã€Square æˆ– Braintree ç­‰æœåŠ¡ä¼šä¸ºæ‚¨æä¾›å­˜å‚¨åº”ç”¨ç¨‹åºæ”¶é›†çš„æ‰€æœ‰ä»˜æ¬¾ä¿¡æ¯ï¼Œä½†å®ƒä»¬ä¼šå°† UI éƒ¨åˆ†ç•™ç»™å¼€å‘äººå‘˜ã€‚<br>è¿™æ„å‘³ç€å¿…é¡»å¤„ç†æ‰€æœ‰é‚£äº›æ— èŠçš„äº‹æƒ…ï¼Œæ¯”å¦‚å¡ç‰‡éªŒè¯ã€3D èº«ä»½éªŒè¯ç­‰ã€‚</p><h3 id="Pusher"><a href="#Pusher" class="headerlink" title="Pusher:"></a>Pusher:</h3><img src="/Top-10-Flutter-Tools-to-Increase-Speed-of-Mobile-App-Development/10.png" class="" title="ç¤ºæ„å›¾ width=400"><p>Pusher æ˜¯ä¸€é¡¹æ‰˜ç®¡æœåŠ¡ï¼Œå¯è®©æ‚¨è½»æ¾åœ°å°†å®æ—¶æ•°æ®å’ŒåŠŸèƒ½æ·»åŠ åˆ°æ‚¨çš„ç§»åŠ¨å’Œåœ¨çº¿åº”ç”¨ç¨‹åºä¸­ã€‚</p><p>ä½œä¸ºæœ€å—æ¬¢è¿çš„è½¯ä»¶å¼€å‘å·¥å…·åŒ…ä¹‹ä¸€ï¼ŒFlutter åœ¨ç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜ä¸­è¶Šæ¥è¶Šå—æ¬¢è¿ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Tools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iOSå¼€å‘è€…ä»¬ï¼Œä½ ä»¬ä¹Ÿè®¸éœ€è¦è¿™5ä¸ªç¥å¥‡çš„å·¥å…·</title>
      <link href="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7.html"/>
      <url>/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7.html</url>
      
        <content type="html"><![CDATA[<p>ä¸–ä¸Šæœ‰ç€æ•°ä»¥ä¸‡è®¡çš„å·¥å…·ï¼Œè¿™äº›å·¥å…·éƒ½ä¸åŒç¨‹åº¦ä¸Šä¸ºæˆ‘ä»¬çš„å¼€å‘æä¾›äº†å¾ˆå¤§çš„å¸®åŠ©ï¼Œä¹Ÿè®¸ä½ æ­£åœ¨ä½¿ç”¨ç€è¿™æ ·çš„å·¥å…·ï¼Œä¸è¿‡ï¼Œä½ æƒ³ä¸æƒ³æ¥çœ‹çœ‹æˆ‘ä»Šå¤©ç»™ä½ ä»¬æ¨èçš„è¿™5æ¬¾ç›¸å½“ç¥å¥‡çš„å·¥å…·æï¼Ÿ</p><img src="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7/1.jpeg" class="" title="ç¤ºæ„å›¾ width=400"><span id="more"></span><ol><li>Xcodes</li></ol><pre class="line-numbers language-none"><code class="language-none">è¿™æ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨çš„å·¥å…·ï¼Œå®ƒå¯ä»¥éå¸¸ç®€å•çš„ç®¡ç†ä½ å·²ç»å®‰è£…çš„å¤šæ¬¾ä¸åŒç‰ˆæœ¬çš„Xcodeï¼ŒåŒ…æ‹¬ï¼šå®‰è£…å’Œåˆ‡æ¢å“Ÿ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”¨è¿‡çš„äººéƒ½çŸ¥é“ï¼Œæ”¯æŒå¤šä¸ªXcodeç‰ˆæœ¬å¹¶ä¸betasä¿æŒåŒæ­¥ååˆ†æƒ¹äººæ¼æ€’ï¼Œè€Œä¸”è¿˜ä¼šæ¶ˆè€—å¤§é‡ç£ç›˜ç©ºé—´ã€‚æ‰“å¼€å®˜ç½‘ä¸€ä¸ªä¸ªæŸ¥æ‰¾æ‚¨éœ€è¦çš„ä¸€ä¸ª Xcode ç‰ˆæœ¬éå¸¸çƒ¦äººï¼</p><p>ç°åœ¨ï¼Œç¦åˆ©æ¥äº†ï¼Œä½¿ç”¨Xcodesè¿™æ¬¾è½¯ä»¶ï¼Œä½ å¯ä»¥éå¸¸ç®€å•çš„ä¸‹è½½å¹¶ä¸”ç®¡ç†æ‰€æœ‰ä½ éœ€è¦çš„Xcodeçš„ç‰ˆæœ¬ã€‚ä¸ä»…å¯ä»¥æŸ¥çœ‹å·²ç»å®‰è£…çš„ç‰ˆæœ¬ï¼Œè¿˜èƒ½é€šè¿‡ç®€å•çš„ç‚¹å‡»è·å–åˆ°ä¸åŒçš„ç‰ˆæœ¬ï¼Œåªéœ€è¦ç‚¹å‡»ä¸€ä¸‹å“Ÿã€‚</p><p>ä»·æ ¼ï¼Ÿæ˜¯å…è´¹çš„ï¼Œå“ˆï¼<br>å¦‚æœä½ ç°åœ¨å°±åƒå»å°è¯•ï¼Œé‚£ä¹ˆè¯·ç§»æ­¥<a href="https://github.com/RobotsAndPencils/XcodesApp/">GitHub</a>ã€‚</p><img src="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7/2.png" class="" title="ç¤ºæ„å›¾ width=400"><ol start="2"><li>DevCleaner for Xcode</li></ol><pre class="line-numbers language-none"><code class="language-none">å¦‚æœæ‚¨æƒ³å›æ”¶ç”¨äºå„ç§ Xcode ç¼“å­˜çš„æ•°å GB å­˜å‚¨ç©ºé—´ - è¿™ä¸ªå·¥å…·é€‚åˆæ‚¨ï¼<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ—§çš„ Xcode å’Œ iOS ç‰ˆæœ¬ã€æ´¾ç”Ÿæ•°æ®ã€æ–‡æ¡£å’Œæ—¥å¿—â€¦â€¦æˆ‘ä»¬çš„ Mac ä¸Šå †ç§¯äº†å¾ˆå¤šåƒåœ¾ã€‚ DevCleaner ä¼šæ¸…é™¤æ‚¨çš„å¼€å‘äººå‘˜ç›®å½•å¹¶åˆ—å‡ºæ‰€æœ‰ä¸éœ€è¦çš„åƒåœ¾ã€‚ğŸ§¹</p><p>æ‚¨å¯ä»¥é€‰æ‹©è¦ä¿å­˜çš„å†…å®¹ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ä¸€é”®åˆ é™¤ä¸éœ€è¦çš„å†…å®¹ã€‚è¿™æ ·ï¼Œæ‚¨å¯ä»¥åœ¨çŸ­æ—¶é—´å†…èŠ‚çœå¤§é‡çš„ç¡¬ç›˜ç©ºé—´ã€‚ä½¿ç”¨æ­¤å·¥å…·ï¼Œæ‚¨ä¼šçœŸçœŸåˆ‡åˆ‡çš„æ„Ÿå—åˆ°å‡å°‘å¾ˆå¤šç£ç›˜ç©ºé—´çš„å¿«æ„Ÿã€‚</p><p>Price: free</p><p>ä»·æ ¼ï¼Ÿä½¿ç”¨æ˜¯å…è´¹çš„ï¼Œä½†æ˜¯å­˜åœ¨åº”ç”¨å†…ä»˜è´¹æƒ…å†µ</p><p>ç™»å½•<a href="https://apps.apple.com/de/app/devcleaner-for-xcode/id1388020431?mt=12">Mac App Store</a> å»ä¸‹è½½å§</p><img src="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7/3.jpg" class="" title="ç¤ºæ„å›¾ width=400"><ol start="3"><li>ControlRoom</li></ol><pre class="line-numbers language-none"><code class="language-none">æŒæ§ä½ çš„ iOS æ¨¡æ‹Ÿå™¨<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥å¢å¼ºæ‚¨çš„æ¨¡æ‹Ÿå™¨ï¼ ğŸš€</p><p>å®ƒæä¾›å¯¹è¯­è¨€å’Œä½ç½®è®¾ç½®çš„ä¾¿æ·è®¿é—®ï¼Œå¹¶å…è®¸æ›´æ”¹æ—¶é—´ã€ç”µæ± ç”µé‡å’Œç½‘ç»œçŠ¶æ€ã€‚å®ƒè¿˜å¯ä»¥è§¦å‘æ¨é€é€šçŸ¥å¹¶æ¨¡æ‹Ÿä½ç½®å˜åŒ–ã€‚</p><p>ä»·æ ¼ï¼Ÿå…è´¹çš„</p><p>ä¸‹è½½ï¼šå…‹éš† <a href="https://github.com/twostraws/ControlRoom">GitHub</a> é¡¹ç›®å¹¶ä½¿ç”¨ Xcode æ„å»ºé¡¹ç›®ã€‚ä½¿ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºå¯èƒ½ç¨å¾®æœ‰ä¸€äº›éš¾åº¦ï¼Œä½†å¯¹å¼€å‘äººå‘˜çš„ä½ æ¥è¯´åº”è¯¥æ²¡ä»€ä¹ˆé—®é¢˜å§ ğŸ˜‰</p><img src="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7/4.png" class="" title="ç¤ºæ„å›¾ width=400"><ol start="4"><li>SwiftAlyzer</li></ol><pre class="line-numbers language-none"><code class="language-none">ä½¿ç”¨è¿™ä¸ªè½¯ä»¶ä¹‹åï¼Œä½ å¯ä»¥æƒ³çœ‹è°·æ­Œåœ°å›¾ä¸€æ ·æŸ¥çœ‹ä½ çš„Swiftä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>SwiftAlyzerå¯ä»¥åˆ†æå’Œå¯è§†åŒ–æ‚¨çš„é¡¹ç›®ã€‚äº†è§£æ‚¨çš„åº”ç”¨ç¨‹åºçš„ç»“æ„ï¼Œä»¥åŠåŒ…å«å“ªäº›ç±»ã€ç»“æ„ã€åè®®å’Œæšä¸¾ï¼Œä»¥åŠç›¸äº’ä¹‹é—´çš„å…³ç³»ã€‚</p><p>æ²¡äº‹çš„æ—¶å€™ç”¨ç”¨ï¼Œä½ ä¼šå‘ç°è¿™ä¸ªåº”ç”¨ç¨‹åºå’Œæˆ‘ä¸€æ ·æœ‰ç”¨ğŸ˜</p><p>ä»·æ ¼ï¼Ÿå…è´¹</p><p>ä¸‹è½½ï¼šéœ€è¦åœ¨å…¶<a href="https://swiftalyzer.com/">ç½‘ç«™</a>ä¸‹è½½ã€‚</p><img src="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7/5.png" class="" title="ç¤ºæ„å›¾ width=400"><ol start="5"><li>Fireworks</li></ol><pre class="line-numbers language-none"><code class="language-none">Swift çš„ç²’å­æ•ˆæœ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‚¨æ˜¯å¦æ›¾ç»åˆ›å»ºè¿‡ç²’å­æ•ˆæœæ¥ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºæ·»åŠ ç‰¹æ®Šçš„è§¦æ„Ÿï¼Ÿ<br>å¦‚æœæ˜¯è¿™æ ·ï¼Œæ‚¨å°†çŸ¥é“éœ€è¦å¤šå°‘å°è¯•å’Œé”™è¯¯æ‰èƒ½ä»¥æ‚¨æƒ³è¦çš„æ–¹å¼è·å¾— CAEmitterLayer å’Œ CAEmitterCellsã€‚</p><p>Fireworks æ˜¯ä¸€ä¸ªåˆ›å»ºç²’å­æ•ˆæœçš„ç¼–è¾‘å™¨ã€‚æ‚¨å¯ä»¥æ›´æ”¹æ•ˆæœçš„å„ä¸ªæ–¹é¢å¹¶ç«‹å³æŸ¥çœ‹ç»“æœã€‚<br>æœ€æ£’çš„æ˜¯ï¼šå®ƒä¼šç”Ÿæˆ Swift ä»£ç ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨åˆšåˆšé…ç½®çš„æ•ˆæœã€‚</p><p>è¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯æ¯ä¸ªä½¿ç”¨ç²’å­æ•ˆæœçš„äººå¿…å¤‡çš„ï¼ ğŸ†</p><p>ä»·æ ¼: å…è´¹ (ç½‘ç«™), 4.99$ (Mac App Store)</p><p>ä¸‹è½½: å¯ä»¥ä»å…¶<a href="https://www.fireworksapp.xyz/">ç½‘ç«™</a>ä¸‹è½½è¿™ä¸ªappã€‚æ‚¨ä¹Ÿå¯ä»¥ä» [Mac App Store](æ‚¨ä¹Ÿå¯ä»¥ä» Mac App Store è´­ä¹°) è´­ä¹°ã€‚</p><img src="/iOS%E5%BC%80%E5%8F%91%E8%80%85%E4%BB%AC%EF%BC%8C%E4%BD%A0%E4%BB%AC%E4%B9%9F%E8%AE%B8%E9%9C%80%E8%A6%81%E8%BF%995%E4%B8%AA%E7%A5%9E%E5%A5%87%E7%9A%84%E5%B7%A5%E5%85%B7/6.gif" class="" title="ç¤ºæ„å›¾ width=400"><p>æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæˆ‘å¸Œæœ›ï¼Œé€šè¿‡è¿™ç¯‡æ–‡ç« è®©æ‚¨æ‰¾åˆ°äº†ä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºæ¥è¯•ç”¨ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> iOS </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥å…·ç¯‡ </tag>
            
            <tag> iOS </tag>
            
            <tag> Xcode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»0å¼€å§‹ä½¿ç”¨flutterå’Œflameåˆ›å»ºæ‰‹æœºæ¸¸æˆ</title>
      <link href="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F.html"/>
      <url>/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F.html</url>
      
        <content type="html"><![CDATA[<p>ä¸ºå•¥è¦åšæ¸¸æˆå¼€å‘å‘¢ï¼Ÿ<br>ä¸å¾—ä¸æ‰¿è®¤ï¼Œæ¸¸æˆæ˜¯ä¸€ä¸ªéå¸¸è®©äººç€è¿·çš„æ´»åŠ¨ï¼ˆå­©å­ä»¬ä¸è¦æ²‰è¿·å“Ÿï¼‰ã€‚<br>æˆ‘å¾ˆå–œæ¬¢ç©æ¸¸æˆï¼Œè™½ç„¶ä¸æ˜¯éå¸¸éå¸¸ç—´è¿·ï¼Œä½†æ˜¯ä¹Ÿå› æ­¤å…¥æ‰‹äº†å¥½å‡ éƒ¨æ¸¸æˆæœºï¼Œå…¶å®æˆ‘ä¸€ç›´å¿ƒå¿ƒå¿µå¿µçš„å‘å…¥æ‰‹ä¸€éƒ¨å°éœ¸ç‹ï¼ˆæ­¤å¤„å¯ä»¥è®¤ä¸ºæ˜¯è½¯å¹¿ï¼Œå°éœ¸ç‹ä¸è¦å¿˜äº†ç»™æˆ‘å¹¿å‘Šè´¹ï¼Œå“ˆå“ˆï¼‰çº¢ç™½æœºï¼Œå’Œæˆ‘çš„å­©å­ä¸€èµ·æ€€å¿µä¸€ä¸‹æˆ‘å°æ—¶å€™çš„å¿«ä¹ã€‚<br>ä½ ä»¬æ˜¯ä¸æ˜¯ä¹Ÿæœ‰è¿™æ ·çš„æƒ…æ„«å‘¢ï¼Ÿ</p><span id="more"></span><p>æ¸¸æˆä¹‹æ‰€ä»¥è¿™ä¹ˆå¸å¼•äººï¼Œä¹Ÿè®¸æ˜¯å› ä¸ºï¼Œä»–å¯ä»¥ä»ç®€å•å’Œçº¿æ€§çš„æ¸¸æˆç©æ³•åˆ°çœŸæ­£å¤æ‚çš„æ¶‰åŠ 3Dã€å‡ ä¹çœŸå®çš„ç‰©ç†å¼•æ“ã€é€¼çœŸçš„å›¾å½¢ã€ç¨‹åºç”Ÿæˆçš„ä¸–ç•Œä»¥åŠé€‚åº”ç©å®¶é€‰æ‹©çš„æ•…äº‹æƒ…èŠ‚ã€‚</p><p>æœ‰å¾ˆå¤šå¾ˆå¤šçš„äººï¼Œè‚¯å®šéƒ½åƒæœ¨è¾›è€å¸ˆä¸€æ ·ï¼Œæƒ³åšå‡ºå±äºè‡ªå·±çš„ç²¾ç¾ã€å¥½ç©çš„æ¸¸æˆã€‚å¦‚æœä½ åœ¨è¿™ä¸€ç¾¤äººé‡Œè¾¹ï¼Œé‚£ä¹ˆæ­å–œä½ ï¼Œæœ¬ç¯‡å†…å®¹å°†å¸¦é¢†ä½ å…¥é—¨ä¸€æ¬¾ç»å…¸çš„æ¸¸æˆå¼•æ“ã€‚ä¸è¿‡ï¼Œæœ¬ç¯‡æ›´å¤šçš„å…³æ³¨çš„æ˜¯ç†è®ºçŸ¥è¯†ï¼Œæš‚æ—¶æ²¡æœ‰æ¶‰çŒå®é™…å¼€å‘æ•ˆæœï¼Œä¹Ÿå¹¶æ²¡æœ‰è®²åˆ°å¦‚ä½•å‘å¸ƒæ¸¸æˆã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ æƒ³å·©å›ºæ¸¸æˆå¼€å‘è¿‡ç¨‹ä¸­çš„ç†è®ºçŸ¥è¯†ï¼Œå»ºè®®ä½ å¥½å¥½è¯»è¯»è¿™ç¯‡æ–‡ç« å“ˆã€‚</p><p>ç¼–å†™è¿‡ç¨‹ä¸­éš¾å…ä¼šæœ‰çº°æ¼ï¼Œå¦‚æœæ°å·§æ‚¨å‘ç°äº†è¿™äº›é—®é¢˜ï¼Œå¯ä»¥ç»™æˆ‘ç•™è¨€æˆ–è€…ç§ä¿¡å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šä»¥æœ€å¿«çš„é€Ÿåº¦ä¿®æ­£ï¼Œå†æ¬¡éå¸¸æ„Ÿè°¢ï¼</p><h2 id="é˜…å‰å¿…å¤‡æŠ€èƒ½"><a href="#é˜…å‰å¿…å¤‡æŠ€èƒ½" class="headerlink" title="é˜…å‰å¿…å¤‡æŠ€èƒ½"></a>é˜…å‰å¿…å¤‡æŠ€èƒ½</h2><p>æœ¬æ–‡å°†å‡è®¾æ‚¨å·²ç»æ˜¯ä¸€åå¼€å‘äººå‘˜ï¼Œå¹¶ä¸”å¯¹å¼€å‘è½¯ä»¶çš„æ¦‚å¿µæœ‰æ‰å®çš„æŒæ¡ã€‚<br>å½“ç„¶äº†ï¼Œå¦‚æœæ‚¨æ˜¯æ–°æ‰‹ï¼Œé‚£ä¹Ÿæ²¡æœ‰å…³ç³»ï¼Œåªè¦æ‚¨å¯¹æ¸¸æˆå¼€å‘æœ‰è¶³å¤Ÿçš„å…´è¶£ï¼Œè¿™ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>è™½ç„¶ï¼Œå…´è¶£æ˜¯ç¬¬ä¸€è€å¸ˆï¼Œæ˜¯å‚¬åŠ¨ä½ è¿›æ­¥çš„åŠ©åŠ›ï¼Œä½†æ˜¯è¿™è¿˜ä¸ç®—å‡†å¤‡å°±ç»ªã€‚å¼€å§‹æ¸¸æˆï¼Œä½ è¿˜éœ€è¦ä¸€å°ç”µè„‘ï¼Œè¶³å¤Ÿè®©ä½ é…ç½®å¥½å¼€å‘æ‰€éœ€è¦çš„ç¯å¢ƒï¼Œä»¥ä¾¿äºå¯ä»¥ç¼–å†™å’Œç¼–è¯‘ä»£ç ã€‚<br>æ›´å¥½ä¸€äº›çš„ï¼Œå¦‚æœä½ æ°å·§é…å¤‡äº†ä¸€å°Androidæ‰‹æœºï¼Œé‚£ä¹ˆä½ å°±å¯ä»¥åœ¨å…¶ä¸Šè¿›è¡Œè½¯ä»¶çš„æµ‹è¯•å’Œå®é™…çš„ä½¿ç”¨ä½“éªŒå•¦ã€‚<br>SOï¼Œæ¬²å–„å…¶äº‹ï¼Œå…ˆæ¥åˆ©å…¶å™¨å§ï¼</p><p>ä½¿ç”¨Flutterç¼–å†™çš„ç¨‹åºå¯ä»¥è¢«ç¼–è¯‘å’Œæ„å»ºåœ¨Androidæ‰‹æœºå’ŒiOSæ‰‹æœºä¸Šè¾¹ã€‚<br>Androidæ‰‹æœºç”¨çš„ååˆ†å¹¿æ³›ï¼Œæ‰€ä»¥æœ¬ç« èŠ‚ä¼šä¸»è¦ä»¥Androidæ‰‹æœºä¸ºä¾‹ï¼Œä½ å¯ä»¥é€šè¿‡å‡†å¤‡çš„Androidè®¾å¤‡è¿›è¡Œå¼€å‘å’Œè°ƒè¯•ï¼Œä¸€æ—¦ä½ å®Œæˆäº†è¿™ä¸ªç¨‹åºï¼Œå°±å¯ä»¥å¾ˆè½»æ˜“çš„é€šè¿‡ä¸åŒçš„æ„å»ºå‘½ä»¤å®ç°iOSè®¾å¤‡ä¸Šçš„è¿è¡Œã€‚</p><p>å†ä¸€æ¬¡å‡è®¾ï¼Œä½ å·²ç»é¡ºåˆ©å®Œæˆäº†å¦‚ä¸‹æ­¥éª¤ï¼š</p><ol><li>Microsoft Visual Studio Codeï¼šä½¿ç”¨ä»»ä½•IDEæˆ–è€…æ–‡æœ¬ç¼–è¾‘å·¥å…·éƒ½å¯ä»¥ç¼–å†™ç¨‹åºï¼Œå½“ç„¶äº†ï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªæ–°æ‰‹ï¼Œé‚£ä¹ˆå¼ºçƒˆæ¨èä½ ä½¿ç”¨VSCodeï¼Œå®ƒå°†ä¼šç»™ä½ å¸¦æ¥ä¸€ä¸ªä¸ä¼—ä¸åŒçš„æ„Ÿè§‰ã€‚<br>ä¸€å®šè¦ä»å®˜ç½‘ä¸‹è½½è½¯ä»¶å“Ÿï¼Œå¦åˆ™ä¸€ä¸å°å¿ƒä¸‹è½½åˆ°æµæ°“è½¯ä»¶å°±ä¸å¥½äº†ã€‚<br>è¿˜æœ‰ä¸€ä»¶æŒºé‡è¦çš„äº‹æƒ…ï¼Œå®‰è£…å¥½VScodeä¹‹åå¯ä»¥å®‰è£…ä¸€ä¸‹Flutteå’ŒDartçš„æ’ä»¶ï¼Œè™½ç„¶è¿™ä¸ªä¸æ˜¯å¿…é¡»è¦çš„ï¼Œä½†æ˜¯é…ç½®å¥½äº†ä»¥åï¼Œå¯¹ä½ çš„å¼€å‘å·¥ä½œä¼šæœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</li></ol><p>å¦‚ä¸‹ä¸¤ä¸ªå‡†å¤‡ï¼Œå¿…é¡»è¦åšï¼Œä¸€å®šè¦åšï¼Œä¸å¾—ä¸åšå–ã€‚<br>Android SDKï¼šå¦‚æœä½ æƒ³ç¼–å†™Androidç¨‹åºçš„è¯ï¼Œè¿™ä¸ªä¸€å®šè¦æœ‰ã€‚<br>å¦‚æœä½ è§‰å¾—ä¸€æ­¥æ­¥åœ°é…ç½®å¤ªéº»çƒ¦ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½Android Studioå¼€å‘å·¥å…·ï¼Œè¿™æ ·å°±å¯ä»¥ä¸€é”®å®Œæˆæ‰€æœ‰é…ç½®ã€‚<br>å½“ç„¶äº†ï¼Œä¹Ÿæœ‰ä¸€äº›åŒå­¦ä¸æƒ³å®‰è£…è¿™ä¸ªâ€œå·¨å¤§â€çš„å·¥å…·ï¼ŒæŒ‡å‘æœ€å°åŒ–å®‰è£…ï¼Œé‚£ä¹ˆä½ åªéœ€è¦å®‰è£…SDKå°±å¯ä»¥å•¦ã€‚<br>æ¥ä¸‹æ¥çš„è¿™ä¸ªâ€œè£…å¤‡â€ï¼Œä½ æ˜¯å¿…é¡»ã€å¿…é¡»ã€å¿…é¡»ä¸€å®šè¦å®‰è£…çš„ï¼Œå¦åˆ™ä½ å°±æ²¡æœ‰åŠæ³•å¼€å‘Flutterç¨‹åºå•¦ï¼<br>Flutter SDK/Frameworkï¼šé™¤äº†Flutterè¿˜æœ‰Flameè¿™ä¸ªæ’ä»¶ï¼Œè¿™ä¸ªæ‰æ˜¯æˆ‘ä»¬ä»Šå¤©å†…å®¹çš„ä¸»è§’ï¼Œä½¿ç”¨è¿™ä¸¤ä¸ªç©æ„æ‰èƒ½æœ€ç»ˆå®Œæˆæ¸¸æˆçš„å¼€å‘ã€‚</p><h2 id="é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹æ¸¸æˆå¼€å‘ä¹‹æ—…å§"><a href="#é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹æ¸¸æˆå¼€å‘ä¹‹æ—…å§" class="headerlink" title="é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹æ¸¸æˆå¼€å‘ä¹‹æ—…å§!"></a>é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥è®©æˆ‘ä»¬å¼€å§‹æ¸¸æˆå¼€å‘ä¹‹æ—…å§!</h2><p>è®©æˆ‘ä»¬å…ˆä»ä¸€ä¸ªéå¸¸éå¸¸ç®€å•çš„å¼€å§‹ã€‚<br>æˆ‘ä»¬è¿™æ¬¾æ¸¸æˆæ˜¯è¿™æ ·çš„ï¼Œåœ¨ä¸€æ•´ä¸ªé»‘è‰²çš„å±å¹•ä¸­æœ‰ä¸€å—ç™½è‰²çš„æ–¹å—ï¼Œæˆ‘ä»¬æŠŠå®ƒæ”¾ç½®åœ¨å±å¹•çš„æ­£ä¸­é—´ï¼Œå½“ä½ ç‚¹å‡»è¿™ä¸ªç™½è‰²çš„æ–¹å—çš„æ—¶å€™ï¼Œå®ƒå°±ä¼šå˜æˆç»¿è‰²ï¼Œè¿™æ ·ä½ å°±èµ¢äº†ï¼ˆä¸è¦å¤ªç®€å•å•¦ï¼‰ã€‚</p><p>æˆ‘ä»¬æš‚æ—¶å…ˆä¸ç”¨æ¯”è¾ƒå¤æ‚çš„å…ƒç´ ï¼Œæ‰€ä»¥ï¼Œåœ¨è¿™ä¸ªæ¸¸æˆä¸­æˆ‘ä¹ˆä¸ä¼šä½¿ç”¨å›¾ç‰‡æ–‡ä»¶ä»€ä¹ˆçš„ã€‚</p><p>æ‰€ä»¥ï¼Œç°åœ¨æ­£å¼å¼€å§‹ï¼</p><h2 id="ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªFlutterç¨‹åºé¡¹ç›®"><a href="#ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªFlutterç¨‹åºé¡¹ç›®" class="headerlink" title="ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªFlutterç¨‹åºé¡¹ç›®"></a>ç¬¬ä¸€æ­¥ï¼Œåˆ›å»ºä¸€ä¸ªFlutterç¨‹åºé¡¹ç›®</h2><p>æ‰“å¼€ç»ˆç«¯ï¼ˆå°±æ˜¯è®¡ç®—æœºä¸­å¯ä»¥è¾“å…¥å‘½ä»¤è¡Œçš„ä¸œä¸œï¼‰ï¼Œå¹¶ä¸”å®šä½åˆ°ä½ è¦åˆ›å»ºçš„é¡¹ç›®ç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">$ flutter create boxgame<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤ä½¿ç”¨ Flutter å‘½ä»¤è¡Œå·¥å…·ä¸ºæ‚¨åˆå§‹åŒ–å’Œå¼•å¯¼ä¸€ä¸ªåŸºæœ¬çš„ç§»åŠ¨åº”ç”¨ç¨‹åºã€‚</p><p>å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥é€‰æ‹©é™¤ boxgame ä»¥å¤–çš„ä»»ä½•åç§°ã€‚åªéœ€ç¡®ä¿å°†æ‰€æœ‰ boxgame å®ä¾‹æ›¿æ¢ä¸ºæ‚¨åœ¨åç»­æ“ä½œä¸­ä½¿ç”¨çš„ä»»ä½•å†…å®¹ã€‚</p><p>æ­¤æ—¶ï¼Œæ‚¨å¯ä»¥åœ¨ Visual Studio Code ä¸­æ‰“å¼€ç”Ÿæˆçš„ boxgame æ–‡ä»¶å¤¹ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç«‹å³è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼š</p><pre class="line-numbers language-none"><code class="language-none">$ cd boxgame$ flutter run<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€æ¬¡è¿è¡Œæ–°åˆ›å»ºçš„åº”ç”¨ç¨‹åºå¯èƒ½éœ€è¦ä¸€æ®µæ—¶é—´ã€‚å½“ç§»åŠ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š</p><img src="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F/1.png" class="" title="ç¬¬ä¸€æ¬¡è¿è¡Œæ–°é¡¹ç›® width=400"><h2 id="ç¬¬äºŒæ­¥ï¼šå®‰è£…Flameæ’ä»¶å¹¶ä¸”æ¸…ç†ä¸€ä¸‹é¡¹ç›®"><a href="#ç¬¬äºŒæ­¥ï¼šå®‰è£…Flameæ’ä»¶å¹¶ä¸”æ¸…ç†ä¸€ä¸‹é¡¹ç›®" class="headerlink" title="ç¬¬äºŒæ­¥ï¼šå®‰è£…Flameæ’ä»¶å¹¶ä¸”æ¸…ç†ä¸€ä¸‹é¡¹ç›®"></a>ç¬¬äºŒæ­¥ï¼šå®‰è£…Flameæ’ä»¶å¹¶ä¸”æ¸…ç†ä¸€ä¸‹é¡¹ç›®</h2><pre class="line-numbers language-none"><code class="language-none">æ³¨æ„ï¼šä»è¿™é‡Œå¼€å§‹ï¼Œæˆ‘ä»¬å°†é¡¹ç›®ç›®å½•ç§°ä¸º ./ã€‚å¦‚æœä½ çš„æ¸¸æˆé¡¹ç›®åœ¨ ~/boxgame ä¸­ï¼Œ./lib/main.dart æŒ‡çš„æ˜¯ ~/boxgame/lib/main.dart ä¸­çš„æ–‡ä»¶ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯åŠ¨ Visual Studio Code å¹¶æ‰“å¼€ä¸Šä¸€æ­¥åˆ›å»ºçš„ boxgame ç›®å½•ã€‚</p><p>ç”±äºæˆ‘ä»¬å°†ä½¿ç”¨ç®€å•è€Œå¼ºå¤§çš„ Flame æ’ä»¶ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºå°†ä¾èµ–çš„ Dart åŒ…åˆ—è¡¨ä¸­ã€‚åœ¨ IDE çš„å·¦ä¾§ï¼Œæ‚¨å°†çœ‹åˆ°é¡¹ç›®æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶åˆ—è¡¨ã€‚æ‰“å¼€ ./pubspec.yaml å¹¶åœ¨ä¾èµ–é¡¹ä¸‹çš„ cupertino_icons è¡Œä¸‹æ–¹æ·»åŠ ä»¥ä¸‹è¡Œï¼ˆæ³¨æ„ç¼©è¿›ï¼‰ã€‚</p><pre class="line-numbers language-none"><code class="language-none">flame: ^1.0.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½ åº”è¯¥ä¼šçœ‹åˆ°åƒæˆ‘è¿™é‡Œå·®ä¸å¤šçš„æ ·å­ï¼š</p><img src="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F/2.png" class="" title="VSCæ‰“å¼€çš„æ ·å­"><p>å¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ Visual Studio Codeï¼ŒIDE å°†åœ¨ä¿å­˜æ–‡ä»¶æ—¶è‡ªåŠ¨ä¸ºæ‚¨å®‰è£…æ’ä»¶ã€‚</p><p>æ‚¨å¯ä»¥é€šè¿‡æ‰“å¼€ç»ˆç«¯ã€å¯¼èˆªåˆ°é¡¹ç›®æ–‡ä»¶å¤¹å¹¶è¿è¡Œ flutter packages get æ¥æ‰‹åŠ¨å®Œæˆã€‚</p><p>ä¸‹ä¸€æ­¥æ˜¯æ¸…ç†ä¸»ä»£ç ï¼Œåˆ é™¤æ‰Flutter é¡¹ç›®ä¸­./lib/main.dart æ–‡ä»¶ä¸­æ‰€æœ‰å†…å®¹ï¼Œå¹¶å°†å…¶æ›¿æ¢ä¸ºç©ºç¨‹åºã€‚</p><p>ç©ºç¨‹åºåªæœ‰ä¸€è¡Œï¼švoid main() {}ã€‚</p><p>æ‚¨ä¼šæ³¨æ„åˆ°çš„ä¸€ä»¶äº‹æ˜¯ï¼Œæˆ‘ä»¬å°† import è¯­å¥ç•™åœ¨äº†é¡¶éƒ¨ã€‚æˆ‘ä»¬å°†åœ¨ç¨åå¯åŠ¨æ¸¸æˆæ—¶è¿è¡Œ runApp æ–¹æ³•æ—¶ä½¿ç”¨materialåº“ã€‚æ‚¨ç°åœ¨åº”è¯¥æœ‰å¦‚ä¸‹æ‰€ç¤ºçš„å†…å®¹ï¼š</p><img src="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F/3.png" class="" title="æ¸…ç©ºä¸»ç¨‹åºçš„æ ·å­"><p>å¦ä¸€ä»¶äº‹æ˜¯ ./test æ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶æ˜¾ç¤ºé”™è¯¯ã€‚å¦‚æœæ‚¨æ²¡æœ‰ä½¿ç”¨ Visual Studio Codeï¼Œè¿™å¯èƒ½ä¸ä¼šæ˜¾ç¤ºï¼Œä½†æ‚¨çš„åº”ç”¨ç¨‹åºå°†ä¸ä¼šè¿è¡Œã€‚</p><p>æµ‹è¯•ï¼ˆå’Œæµ‹è¯•é©±åŠ¨çš„å¼€å‘ï¼‰è¶…å‡ºäº†æœ¬æ•™ç¨‹çš„èŒƒå›´ï¼Œæ‰€ä»¥è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåªéœ€åˆ é™¤æ•´ä¸ªæµ‹è¯•æ–‡ä»¶å¤¹ã€‚</p><h2 id="ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¸¸æˆå¾ªç¯é€»è¾‘"><a href="#ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¸¸æˆå¾ªç¯é€»è¾‘" class="headerlink" title="ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¸¸æˆå¾ªç¯é€»è¾‘"></a>ç¬¬ä¸‰æ­¥ï¼šè®¾ç½®æ¸¸æˆå¾ªç¯é€»è¾‘</h2><p>ç°åœ¨æˆ‘ä»¬è¦è®¾ç½®æ¸¸æˆå¾ªç¯â€¦â€¦</p><p>ä½†æ˜¯ä»€ä¹ˆæ˜¯æ¸¸æˆå¾ªç¯ï¼Ÿ<br>æ¸¸æˆå¾ªç¯æ˜¯æ¸¸æˆçš„æ ¸å¿ƒã€‚è®¡ç®—æœºåå¤è¿è¡Œçš„ä¸€ç»„æŒ‡ä»¤ã€‚</p><p>æ¸¸æˆä¸­é€šå¸¸æœ‰ä¸ªæ¦‚å¿µå«åšFPSã€‚å®ƒä»£è¡¨æ¯ç§’å¸§æ•°ã€‚è¿™æ„å‘³ç€å¦‚æœæ‚¨çš„æ¸¸æˆä»¥ 60 fps è¿è¡Œï¼Œåˆ™è®¡ç®—æœºæ¯ç§’è¿è¡Œæ‚¨çš„æ¸¸æˆå¾ªç¯ 60 æ¬¡ã€‚</p><p>ç®€è€Œè¨€ä¹‹ï¼šä¸€å¸§ = ä¸€æ¬¡æ¸¸æˆå¾ªç¯ã€‚</p><p>ä¸€ä¸ªåŸºæœ¬çš„æ¸¸æˆå¾ªç¯ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œæ›´æ–°å’Œæ¸²æŸ“ã€‚</p><img src="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F/game-loop.png" class="" title="game_loop"><p>æ›´æ–°éƒ¨åˆ†å¤„ç†å¯¹è±¡çš„ç§»åŠ¨ï¼ˆå¦‚è§’è‰²ã€æ•Œäººã€éšœç¢ç‰©ã€åœ°å›¾æœ¬èº«ï¼‰å’Œå…¶ä»–éœ€è¦æ›´æ–°çš„ä¸œè¥¿ï¼ˆä¾‹å¦‚è®¡æ—¶å™¨ï¼‰ã€‚</p><p>å¤§éƒ¨åˆ†åŠ¨ä½œéƒ½å‘ç”Ÿåœ¨è¿™é‡Œã€‚</p><p>ä¾‹å¦‚ï¼Œè®¡ç®—æ•Œäººæ˜¯å¦è¢«å­å¼¹å‡»ä¸­æˆ–è®¡ç®—æ•Œäººæ˜¯å¦æ¥è§¦ä¸»è§’(ä¸»è§’é€šå¸¸ä¸å–œæ¬¢è¿™æ ·)ã€‚</p><p>æ¸²æŸ“éƒ¨åˆ†åœ¨å±å¹•ä¸Šç»˜åˆ¶æ‰€æœ‰å¯¹è±¡ã€‚è¿™æ˜¯ä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹ï¼Œå› æ­¤ä¸€åˆ‡éƒ½æ˜¯åŒæ­¥çš„ã€‚</p><h2 id="ä¸ºå•¥éœ€è¦åŒæ­¥æï¼Ÿ"><a href="#ä¸ºå•¥éœ€è¦åŒæ­¥æï¼Ÿ" class="headerlink" title="ä¸ºå•¥éœ€è¦åŒæ­¥æï¼Ÿ"></a>ä¸ºå•¥éœ€è¦åŒæ­¥æï¼Ÿ</h2><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ æ­£æ›´æ–°ä¸»è§’çš„ä½ç½®å‘ã€‚å¦‚æœè¿™ä¸ªä¸»è§’æ²¡å•¥â€œå¼‚è®®ï¼ˆæ²¡æœ‰å˜åŒ–ï¼‰â€ï¼Œé‚£ä¹ˆä¸€åˆ‡çš†æ— æ™ã€‚</p><p>ä½†æ˜¯ï¼Œè¯´æ¥ä¸å·§ï¼Œæ­£å¥½æœ‰ä¸€é¢—å­å¼¹å°±åœ¨å‡ ä¸ªåƒç´ ä¹‹å¤–ã€‚æ‚¨æ°å·§æ›´æ–°äº†å­å¼¹ï¼Œå¹¶ä¸”å®ƒå‡»ä¸­äº†æ‚¨çš„è§’è‰²ã€‚</p><p>ç°åœ¨ï¼Œä¸»è§’æ­»äº†ï¼Œæ‰€ä»¥ä½ ä¸è¦æ‹”å‡ºå­å¼¹ã€‚è€Œæ­¤æ—¶ï¼Œæ‚¨ç»˜åˆ¶å®Œè§’è‰²å‚æ­»åŠ¨ç”»çš„ç¬¬ä¸€å¸§ï¼Œåœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸä¸­ï¼Œæ‚¨å°†è·³è¿‡æ›´æ–°è§’è‰²ï¼Œæ”¹ä¸ºæ¸²æŸ“ä»–å‚æ­»åŠ¨ç”»çš„ç¬¬ä¸€å¸§ï¼ˆè€Œä¸æ˜¯ç¬¬äºŒå¸§ï¼‰ã€‚</p><p>è¿™ä¼šç»™ä½ çš„æ¸¸æˆä¸€ç§ç”Ÿæ¶©çš„æ„Ÿè§‰ã€‚æƒ³è±¡ä¸€ä¸‹ç©å°„å‡»æ¸¸æˆï¼Œä½ å°„å‡»ä¸€ä¸ªæ•Œäººï¼Œä»–æ²¡æœ‰å€’ä¸‹ï¼Œä½ å†æ¬¡å°„å‡»ï¼Œä½†åœ¨å­å¼¹å‡»ä¸­ä¹‹å‰ä»–å°±æ­»äº†ï¼Œæ­»äº†ï¼Œæ­»äº†ï¼Œäº†ã€‚ã€‚ã€‚</p><p>éåŒæ­¥æ¸²æŸ“çš„æŠ–åŠ¨æ€§èƒ½å¯èƒ½å¹¶ä¸æ˜æ˜¾ï¼ˆå°¤å…¶æ˜¯åœ¨æ¯ç§’è¿è¡Œ 60 å¸§æ—¶ï¼‰ï¼Œä½†å¦‚æœè¿™ç§æƒ…å†µå‘ç”Ÿå¾—å¤ªé¢‘ç¹ï¼Œç©å®¶å°±ä¼šæ„Ÿè§‰ä½ è¿™æ¬¾æ¸¸æˆæ˜¯ä¸æ˜¯è¿˜æ²¡æå®Œï¼Œç›´æ¥å°±å¼ƒäº†ã€‚</p><p>SOï¼Œæ‚¨æ˜¯çœŸå¸Œæœ›è®¡ç®—æ‰€æœ‰å†…å®¹ï¼Œå¹¶ä¸”å½“æ‰€æœ‰å¯¹è±¡çš„çŠ¶æ€éƒ½è®¡ç®—å¹¶æœ€ç»ˆç¡®å®šä¹‹åï¼Œæ‰ä¼šç»˜åˆ¶å±å¹•ä¸Šã€‚</p><h2 id="ä½¿ç”¨Flame"><a href="#ä½¿ç”¨Flame" class="headerlink" title="ä½¿ç”¨Flame"></a>ä½¿ç”¨Flame</h2><p>Flame å·²ç»æœ‰å¤„ç†è¿™äº›è¾¹è¾¹è§’è§’çš„ä»£ç äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å…³æ³¨ç¼–å†™å®é™…çš„æ›´æ–°å’Œæ¸²æŸ“è¿‡ç¨‹ã€‚</p><p>ä½†é¦–å…ˆï¼Œæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºéœ€è¦åšä¸¤ä¸ªå‡†å¤‡ï¼šä¸€ä¸ªæ˜¯å…¨å±ï¼Œä¸€ä¸ªæ˜¯ç«–å±é”å®šã€‚</p><p>Flame è¿˜ä¸ºè¿™äº›æä¾›äº†å®ç”¨åŠŸèƒ½ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬å°†å®ƒä»¬æ·»åŠ åˆ°æˆ‘ä»¬çš„ä»£ç ä¸­ã€‚</p><p>ä»¥ä¸‹è¿™å‡ è¡Œä»£ç è¯·æ·»åŠ åˆ°æ–‡ä»¶çš„é¡¶éƒ¨ï¼š</p><pre class="line-numbers language-none"><code class="language-none">import 'package:flame/flame.dart';import 'package:flutter/services.dart';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶ååœ¨ main å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨Flame.deviceé™æ€è°ƒç”¨çš„æ–¹å¼ï¼Œä½¿ç”¨ fullscreen å’Œ setOrientation å‡½æ•°ï¼Œä¸€å®šè¦è€å¿ƒç­‰å¾…å“Ÿï¼Œå› ä¸ºè¿™äº›å‡½æ•°è¿”å›ä¸€ä¸ª Futureã€‚</p><pre class="line-numbers language-none"><code class="language-none">await Flame.device.fullScreen();await Flame.device.setOrientation(DeviceOrientation.portraitUp);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šFuturesã€async å’Œ await æ˜¯ç¼–ç å®è·µï¼Œå…è®¸æ‚¨â€œç­‰å¾…â€ä¸€ä¸ªè¾ƒé•¿çš„è¿›ç¨‹å®Œæˆè€Œä¸ä¼šé˜»å¡å…¶ä»–æ‰€æœ‰å†…å®¹ã€‚å¦‚æœæ‚¨æœ‰å…´è¶£äº†è§£å®ƒä»¬ï¼Œ</p><a href="https://www.dartlang.org/tutorials/language/futures" title="å¯ä»¥ä» Dart çš„å®˜æ–¹ç½‘ç«™é˜…è¯»æ­¤é¡µé¢" target=""></a> ã€‚<p>ä¸ºäº†èƒ½å¤Ÿç­‰å¾… Futuresï¼Œä¸Šä¸‹æ–‡å¿…é¡»åœ¨å¼‚æ­¥å‡½æ•°ä¸­ã€‚æ‰€ä»¥è®©æˆ‘ä»¬æŠŠ main å‡½æ•°è½¬æ¢æˆä¸€ä¸ªå¼‚æ­¥å‡½æ•°ã€‚</p><pre class="line-numbers language-none"><code class="language-none">void main() async {<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€åï¼Œæ‚¨åº”è¯¥æœ‰å¦‚ä¸‹æ‰€ç¤ºçš„å†…å®¹ï¼š</p><img src="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F/4.png" class="" title="ä½¿ç”¨flame"><p>è¦åˆ©ç”¨ Flame æ’ä»¶æä¾›çš„æ¸¸æˆå¾ªç¯æœºåˆ¶ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ª Flame çš„ Game ç±»çš„å­ç±»ã€‚ä¸ºæ­¤ï¼Œè¯·åœ¨ ./lib ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶å¹¶å°†å…¶å‘½åä¸º box-game.dartã€‚</p><p>ç„¶åæˆ‘ä»¬å°†ç¼–å†™ä¸€ä¸ªåä¸º BoxGame çš„ç±»ï¼ˆå¦‚æœä½ çŸ¥é“ç±»æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ç±»ï¼‰æ¥æ‰©å±• Flame çš„ Game ç±»ã€‚</p><pre class="line-numbers language-none"><code class="language-none">import 'dart:ui';import 'package:flame/game.dart';class BoxGame extends Game {  void render(Canvas canvas) {    // TODO: implement render  }  void update(double t) {    // TODO: implement update  }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è®©æˆ‘ä»¬åˆ†è§£ä¸€ä¸‹ï¼šæˆ‘ä»¬å¯¼å…¥ Dart çš„ ui åº“ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ Canvas ç±»ï¼Œç„¶åä½¿ç”¨ Size ç±»ã€‚<br>æˆ‘ä»¬å¯¼å…¥ Flame çš„æ¸¸æˆåº“ï¼Œå…¶ä¸­åŒ…æ‹¬æ­£åœ¨æ‰©å±•çš„ Game ç±»ã€‚å…¶ä»–æ‰€æœ‰å†…å®¹éƒ½æ˜¯å…·æœ‰ä¸¤ç§æ–¹æ³•çš„ç±»å®šä¹‰ï¼šæ›´æ–°å’Œæ¸²æŸ“ã€‚è¿™äº›æ–¹æ³•ä¼šè¦†ç›–çˆ¶ç±»ï¼ˆä¹Ÿç§°ä¸ºè¶…ç±»ï¼‰çš„åŒåæ–¹æ³•ã€‚</p><pre class="line-numbers language-none"><code class="language-none">æ³¨æ„ï¼š@override æ³¨é‡Šåœ¨ Dart 2 ä¸­æ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä½ æ‰¾ä¸åˆ°å®ƒä¹Ÿä¸æ‰¾ç€æ€¥ï¼Œè¿™æ˜¯æ­£å¸¸çš„ã€‚ new å…³é”®å­—ä¹Ÿæ˜¯å¯é€‰çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿä¸ä¼šä½¿ç”¨å®ƒã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸‹ä¸€æ­¥æ˜¯åˆ›å»ºæ­¤ BoxGame ç±»çš„å®ä¾‹å¹¶å°†å…¶å°éƒ¨ä»¶å±æ€§ä¼ é€’ç»™ runAppã€‚</p><p>è®©æˆ‘ä»¬å›åˆ° ./lib/main.dart å¹¶åœ¨æ–‡ä»¶çš„æœ€é¡¶éƒ¨æ’å…¥ä»¥ä¸‹è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">import 'package:boxgame/box-game.dart';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¯¥è¡Œç¡®ä¿ BoxGame ç±»å¯ä»¥åœ¨ main.dart ä¸­ä½¿ç”¨ã€‚<br>æ¥ä¸‹æ¥ï¼Œåˆ›å»º BoxGame ç±»çš„å®ä¾‹å¹¶å°†å…¶å°éƒ¨ä»¶å±æ€§ä¼ é€’ç»™ runApp å‡½æ•°ã€‚<br>åœ¨ main å‡½æ•°çš„æœ«å°¾ï¼ˆå³å¤§æ‹¬å· } ä¸Šæ–¹ï¼‰æ’å…¥ä»¥ä¸‹è¡Œã€‚</p><pre class="line-numbers language-none"><code class="language-none">BoxGame game = BoxGame();runApp(game.widget);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç°åœ¨æˆ‘ä»¬çš„ç§»åŠ¨åº”ç”¨ç¨‹åºå°±å¯ä»¥ç§°ä½œæ˜¯ä¸€ä¸ªæ¸¸æˆå•¦ï¼</p><p>å¦‚æœä½ è¿è¡Œæ¸¸æˆï¼Œä½ åªä¼šçœ‹åˆ°ä¸€ä¸ªç©ºç™½/é»‘å±ï¼Œå› ä¸ºå±å¹•ä¸Šè¿˜æ²¡æœ‰ç»˜åˆ¶ä»»ä½•ä¸œè¥¿ã€‚</p><p>æ‚¨çš„ main.dart æ–‡ä»¶åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p><img src="/%E4%BB%8E0%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8flutter%E5%92%8Cflame%E5%88%9B%E5%BB%BA%E6%89%8B%E6%9C%BA%E6%B8%B8%E6%88%8F/5.png" class="" title="run_app"><h2 id="ç¬¬å››æ­¥ï¼šç»˜åˆ¶ç•Œé¢"><a href="#ç¬¬å››æ­¥ï¼šç»˜åˆ¶ç•Œé¢" class="headerlink" title="ç¬¬å››æ­¥ï¼šç»˜åˆ¶ç•Œé¢"></a>ç¬¬å››æ­¥ï¼šç»˜åˆ¶ç•Œé¢</h2><p>åœ¨å±å¹•ä¸Šç»˜å›¾ä¹‹å‰ï¼Œæˆ‘ä»¬å¿…é¡»æå‰çŸ¥é“å±å¹•çš„å¤§å°ã€‚<br>Flutter åœ¨å±å¹•ä¸Šç»˜å›¾æ—¶ä½¿ç”¨é€»è¾‘åƒç´ ï¼Œå› æ­¤æ‚¨ä¸å¿…æ‹…å¿ƒè°ƒæ•´æ¸¸æˆå¯¹è±¡çš„å¤§å°ã€‚</p><p>ä¸€è‹±å¯¸çš„è®¾å¤‡åŒ…å«å¤§çº¦ 96 ä¸ªé€»è¾‘åƒç´ ã€‚å› æ­¤ï¼Œå‡è®¾æˆ‘ä»¬å°†æ‰‹æœºä½œä¸ºæˆ‘ä»¬çš„å‘å¸ƒå¹³å°ã€‚å¤§å¤šæ•°ç°ä»£å’Œä¸»æµæ‰‹æœºçš„å°ºå¯¸éƒ½å·®ä¸å¤šï¼Œå› ä¸ºæˆ‘ä»¬çš„æ¸¸æˆéå¸¸ç®€å•ï¼Œæˆ‘ä»¬ä¸å¿…æ‹…å¿ƒå°ºå¯¸ã€‚</p><p>Flame å»ºç«‹åœ¨è¿™ä¸ªå¤§å°ç³»ç»Ÿä¹‹ä¸Šï¼Œè€Œ Game ç±»å®é™…ä¸Šæœ‰ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥è¦†ç›–çš„è°ƒæ•´å¤§å°çš„å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°æ¥å—ä¸€ä¸ª Size å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°ç¡®å®šå±å¹•çš„å¤§å°ï¼ˆä»¥é€»è¾‘åƒç´ ä¸ºå•ä½ï¼‰ã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬åœ¨ç±»çº§åˆ«å£°æ˜ä¸€ä¸ªå˜é‡ã€‚è¿™ä¸ªå˜é‡ï¼ˆä¹Ÿç§°ä¸ºå®ä¾‹å˜é‡ï¼‰å°†ä¿å­˜å±å¹•çš„å¤§å°ï¼Œå¹¶ä¸”ä»…åœ¨å±å¹•æ”¹å˜å¤§å°æ—¶æ›´æ–°ï¼ˆå¯¹äºæˆ‘ä»¬çš„æ¸¸æˆåº”è¯¥åªå‘ç”Ÿä¸€æ¬¡ï¼‰ã€‚è¿™ä¹Ÿæ˜¯åœ¨å±å¹•ä¸Šç»˜åˆ¶å¯¹è±¡æ—¶çš„åŸºç¡€ã€‚è¿™ä¸ªå˜é‡çš„ç±»å‹åº”è¯¥æ˜¯ Sizeã€‚ä¸ä¼ é€’ç»™ resize å‡½æ•°çš„å†…å®¹ç›¸åŒã€‚</p><pre class="line-numbers language-none"><code class="language-none">class BoxGame extends Game {  Size screenSize;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>screenSize å˜é‡å°†è¢«åˆå§‹åŒ–ä¸º nullã€‚åœ¨æ£€æŸ¥æˆ‘ä»¬æ˜¯å¦çŸ¥é“æ¸²æŸ“è¿‡ç¨‹ä¸­çš„å±å¹•å¤§å°æ—¶ï¼Œè¿™å°†å¾ˆæœ‰å¸®åŠ©ã€‚ç¨åå†è°ˆã€‚</p><p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬åœ¨ ./lib/box-game.dart ä¸­æ·»åŠ é‡è½½å‡½æ•°resize()ã€‚</p><pre class="line-numbers language-none"><code class="language-none">void resize(Size size) {  screenSize = size;  super.resize(size);}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„ï¼šè¶…ç±»çš„ resize å‡½æ•°å®é™…ä¸Šæ˜¯ç©ºçš„ï¼Œä½†è°ƒç”¨æˆ‘ä»¬è¦è¦†ç›–çš„è¶…ç±»çš„è¶…å‡½æ•°æ˜¯ä¸ªå¥½ä¸»æ„ã€‚é™¤éæˆ‘ä»¬å®Œå…¨æƒ³é‡å†™è¯¥å‡½æ•°ã€‚æ‰€ä»¥ï¼Œè®©æˆ‘ä»¬å…ˆæŠŠå®ƒç•™åœ¨è¿™é‡Œå§ã€‚</p><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼šå®ä¾‹å˜é‡æ˜¯å¯ä»¥ä»ç±»çš„æ‰€æœ‰æ–¹æ³•/å‡½æ•°è®¿é—®çš„å˜é‡ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯ä»¥åœ¨è°ƒæ•´å¤§å°æ—¶è®¾ç½®å®ƒï¼Œç„¶ååœ¨æ¸²æŸ“æ—¶è·å–å®ƒçš„å€¼ã€‚</p><p>æ‚¨çš„ä»£ç åº”å¦‚ä¸‹æ‰€ç¤ºï¼š</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Flutter </tag>
            
            <tag> Flame </tag>
            
            <tag> Game </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>I am Back</title>
      <link href="/I-am-Back.html"/>
      <url>/I-am-Back.html</url>
      
        <content type="html"><![CDATA[<p>æˆ‘å›æ¥å•¦ï¼ä»¥åä¼šæ—¶ä¸æ—¶æ›´æ–°ä¸€ä¸‹å“ˆã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>è¯» å´å†›ã€Šè°·æ­Œæ–¹æ³•è®ºã€‹- ä¸ºä»€ä¹ˆå­¦ä¹ è¯­æ–‡</title>
      <link href="/2019-03-22-%E5%90%B4%E5%86%9B-%E8%B0%B7%E6%AD%8C%E6%96%B9%E6%B3%95%E8%AE%BA-%E8%AF%AD%E6%96%87%E5%AD%A6%E4%B9%A0%E7%9A%84%E6%84%8F%E4%B9%89.html"/>
      <url>/2019-03-22-%E5%90%B4%E5%86%9B-%E8%B0%B7%E6%AD%8C%E6%96%B9%E6%B3%95%E8%AE%BA-%E8%AF%AD%E6%96%87%E5%AD%A6%E4%B9%A0%E7%9A%84%E6%84%8F%E4%B9%89.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸ºä»€ä¹ˆè¦å­¦ä¹ è¯­æ–‡ã€‚"><a href="#ä¸ºä»€ä¹ˆè¦å­¦ä¹ è¯­æ–‡ã€‚" class="headerlink" title="ä¸ºä»€ä¹ˆè¦å­¦ä¹ è¯­æ–‡ã€‚"></a>ä¸ºä»€ä¹ˆè¦å­¦ä¹ è¯­æ–‡ã€‚</h3><p>æ€è€ƒå¦‚ä¸‹ä¸¤ä¸ªé—®é¢˜ï¼š</p><ul><li>å¦‚æœæŠŠè¯­æ–‡æ”¾åœ¨æ‰€æœ‰çš„è¯¾ç¨‹ä¸­ï¼Œå¦‚ä½•çœ‹å¾…å®ƒçš„æ„ä¹‰ï¼Ÿ</li><li>å¯¹æ¯”å»å¹´çš„è¯­æ–‡æ°´å¹³ï¼Œä½ è§‰å¾—å­¦ä¹ è¯­æ–‡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ</li></ul><!--more--><p>é€šè¿‡ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜çš„æ€è€ƒï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä»¥ä¸‹å››ä¸ªç»“è®ºï¼š</p><ul><li>å­¦ä¹ è¯­æ–‡çš„ç›®çš„æ˜¯å°†å…¶ä»–å­¦ç§‘ï¼ˆå¦‚æ•°å­¦ï¼Œå†å²å’Œç§‘å­¦å­¦ç§‘ï¼‰èä¼šè´¯é€šï¼Œå¢åŠ è‡ªå·±åœ¨è¿™äº›å­¦ç§‘çš„ç†è§£æ·±åº¦ï¼›</li><li>é€šè¿‡è¯­æ–‡çš„å­¦ä¹ ï¼Œå¯ä»¥æå‡è‡ªå·±å¯¹å·²ä¹ å¾—çŸ¥è¯†è¡¨è¿°çš„å‡†ç¡®æ€§ï¼›é€šä¿—çš„è®²å°±æ˜¯å¢å¼ºè‡ªå·±çš„è¡¨è¾¾èƒ½åŠ›ï¼›</li><li>è¯­æ–‡æ°´å¹³çš„æé«˜ï¼Œè‡ªå·±åšçš„äº‹æƒ…æ›´åŠ èŒä¸šåŒ–ã€ä¸“ä¸šåŒ–ï¼Œå…¶ä»–äººæ›´å®¹æ˜“æ¥å—è‡ªå·±çš„è§è§£ï¼›</li><li>è¯­æ–‡çš„å­¦ä¹ ï¼Œå¯ä»¥æé«˜ä¸ªäººçš„ç´ å…»ï¼Œæå‡ä¸ªäººçš„æ°”è´¨ã€‚</li></ul><p>ä¸€è¨€ä»¥è”½ä¹‹ï¼Œè¯­æ–‡çš„å­¦ä¹ ä¸ä»…èƒ½å¢åŠ ç†è§£èƒ½åŠ›ï¼Œè¿˜èƒ½å¢å¼ºè¡¨è¿°èƒ½åŠ›ï¼Œæå‡ä¸ªäººå¯¹å…¶ä»–å­¦ç§‘çš„å­¦ä¹ èƒ½åŠ›ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> è¯»åæ„Ÿ </tag>
            
            <tag> è°·æ­Œæ–¹æ³•è®º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å†…ç”°å…‰å­-å…³äºä¸€æµæ°´å‡†çš„æ€è€ƒ</title>
      <link href="/2019-03-14-%E5%86%85%E7%94%B0%E5%85%89%E5%AD%90-%E5%85%B3%E4%BA%8E%E4%B8%80%E6%B5%81%E6%B0%B4%E5%87%86%E7%9A%84%E6%80%9D%E8%80%83.html"/>
      <url>/2019-03-14-%E5%86%85%E7%94%B0%E5%85%89%E5%AD%90-%E5%85%B3%E4%BA%8E%E4%B8%80%E6%B5%81%E6%B0%B4%E5%87%86%E7%9A%84%E6%80%9D%E8%80%83.html</url>
      
        <content type="html"><![CDATA[<iframe allow="autoplay *; encrypted-media *;" frameborder="0" height="150" style="width:100%;max-width:660px;overflow:hidden;background:transparent;" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-storage-access-by-user-activation allow-top-navigation-by-user-activation" src="https://embed.music.apple.com/cn/album/piano-sonata-no-16-in-c-k-545-sonata-facile-i-allegro/83736233?i=83736570"></iframe><blockquote><p>å†…ç”°å…‰å­ä»å°å­¦ä¹ é’¢ç´ï¼Œåæ¥å› ä¸ºçˆ¶äº²åœ¨å¥¥åœ°åˆ©æ‹…ä»»å¤–äº¤å®˜ï¼Œå…¨å®¶ç§»å±…ç»´ä¹Ÿçº³ï¼Œå¥¹è€ƒå…¥äº†ç»´ä¹Ÿçº³éŸ³ä¹å­¦é™¢ï¼Œå¸ˆä»ç†æŸ¥Â·è±ªç‘Ÿï¼ˆRichard Hauserï¼‰ã€å¨å»‰Â·è‚¯æ™®å¤«ï¼ˆWilhelm Kempffï¼‰å’Œé˜¿ä»€è‚¯çº³é½ï¼ˆVladimir Ashkenazyï¼‰ç­‰äººï¼Œ14 å²æ—¶é¦–æ¬¡åœ¨ç»´ä¹Ÿçº³é‡‘è‰²å¤§å…ç™»å°è¡¨æ¼”ã€‚20 å²æ—¶è·å¾—è´å¤šèŠ¬é’¢ç´æ¯”èµ›å† å†›ï¼Œç¬¬äºŒå¹´è·å¾—è‚–é‚¦å›½é™…é’¢ç´æ¯”èµ›äºšå†›ï¼Œéšåæˆä¸ºä¸–ç•Œä¸Šä¸ºæ•°ä¸å¤šçš„é’¢ç´ç‹¬å¥å®¶ã€‚<br>å†…ç”°å…‰å­ä¸€ç”ŸæŠŠæ‰€æœ‰çš„æ—¶é—´éƒ½èŠ±åœ¨äº†ç»ƒä¹ éŸ³ä¹å’Œåœ¨ä¸–ç•Œå„åœ°å·¡å›è¡¨æ¼”ä¸Šï¼Œä»¥è‡³äºä¸€è¾ˆå­æœªå©šï¼Œå¥¹è‡ªå·±è®²ï¼Œå¥¹çš„å·¥ä½œæ€§è´¨ä¹Ÿä¸é€‚åˆç»„æˆå®¶åº­ï¼Œå¯ä»¥è®²å¥¹æŠŠè‡ªå·±çŒ®ç»™äº†éŸ³ä¹ã€‚2009 å¹´è‹±å›½å¥³ç‹æˆäºˆå¥¹å¥³çˆµå£«çš„å°å·ã€‚</p></blockquote><p>å…ˆè¯´ä¸€ä¸‹æ–‡ç« ä¸­çš„è¿™é¦–æ›²å­ï¼Œæ˜¯å¥¹æ¼”å¥çš„è«æ‰ç‰¹éå¸¸ç®€å•çš„ã€Šç¬¬ 16 å·é’¢ç´å¥é¸£æ›²ã€‹ï¼ˆK.545ï¼‰ï¼ˆè¿™é¦–æ›²å­æœ‰ä¸ªå‰¯æ ‡é¢˜ Sonata facile æ„æ€æ˜¯â€œå•çº¯çš„å¥é¸£æ›²â€ï¼‰ã€‚</p><p>è¿™é¦–å¥é¸£æ›²æœ‰å¤šç®€å•å‘¢ï¼Ÿå¤§çº¦é’¢ç´è€ƒè¿‡ 7 çº§çš„å­©å­éƒ½èƒ½å¼¹ï¼Œä½†æ˜¯å°±æ˜¯è¿™æ ·ä¸€é¦–ç®€å•çš„æ›²å­ï¼Œå†…ç”°å…‰å­å´èƒ½å¼¹å‡ºç²¾å½©ã€‚</p><h4 id="é‚£ä¹ˆæ¼”å¥å®¶æ˜¯æ€ä¹ˆåˆ’åˆ†çš„å‘¢ï¼Ÿ"><a href="#é‚£ä¹ˆæ¼”å¥å®¶æ˜¯æ€ä¹ˆåˆ’åˆ†çš„å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¹ˆæ¼”å¥å®¶æ˜¯æ€ä¹ˆåˆ’åˆ†çš„å‘¢ï¼Ÿ"></a>é‚£ä¹ˆæ¼”å¥å®¶æ˜¯æ€ä¹ˆåˆ’åˆ†çš„å‘¢ï¼Ÿ</h4><blockquote><p>éŸ³ä¹æ¼”å¥å®¶çš„åˆ’åˆ†æ–¹æ³•<br>ä¸€èˆ¬äººæ¼”å¥é’¢ç´ï¼Œç¬¬ä¸€æ­¥æ˜¯åšåˆ°æ¼”å¥å‡†ç¡®ï¼Œè¿™æ˜¯å¯¹åˆå­¦è€…çš„è¦æ±‚ï¼Œåšåˆ°è¿™ä¸€ç‚¹å°±è¾¾åˆ°äº†è®¡ç®—æœºå·¥ç¨‹å¸ˆä¸­â€œç å†œâ€çš„æ°´å¹³ã€‚<br>ç¬¬äºŒæ­¥åˆ™æ˜¯åšåˆ°å¼¹å‡ºæ¥å¥½å¬ï¼Œè¿™é‡Œé¢å°±è¦æ±‚æœ‰æ¯”è¾ƒå¨´ç†Ÿçš„æ‰‹æ³•ï¼Œå’Œä¸€ç‚¹ç®€å•çš„ä¸“ä¸šæŠ€å·§äº†ï¼Œç‰¹åˆ«æ˜¯å¯¹æŸäº›éŸ³ç¬¦çš„ç‰¹æ®Šå¤„ç†ã€‚åˆ°è¿™ä¸ªæ°´å¹³ï¼Œå¤§çº¦ç›¸å½“äºé’¢ç´è€ƒè¿‡ 10 çº§çš„æ°´å¹³ï¼Œå’Œç¬¬äº”çº§çš„å·¥ç¨‹å¸ˆç›¸å½“ã€‚<br>å†å¾€ä¸Šï¼Œæ¼”å¥è€…å°±è¦èƒ½å¼¹å¥å¾—å¦‚è¡Œäº‘æµæ°´ä¸€èˆ¬æµç•…åŠ¨å¬ï¼Œè¿™å°±è¿›å…¥åˆ°ä¸“ä¸šå…¥é—¨çš„æ°´å¹³ã€‚åœ¨ç¾å›½é’¢ç´åçº§ä¹‹ä¸Šè¿˜æœ‰ä¸“ä¸šçº§çš„è€ƒè¯•ï¼Œè¦æƒ³é€šè¿‡ä¸“ä¸šçº§çš„è€ƒè¯•å°±éœ€è¦è¾¾åˆ°è¿™æ ·çš„æ°´å‡†ã€‚<br>å¦‚æœæƒ³åœ¨è‰ºæœ¯ä¸Šæ›´ä¸Šä¸€å±‚æ¥¼ï¼Œéœ€è¦æŠŠéŸ³ä¹å¼¹å‡ºå±‚æ¬¡æ„Ÿï¼Œè¿™æ—¶ä¸€æ¶é’¢ç´å‘å‡ºçš„éŸ³ä¹åƒæ˜¯å‡ å±‚ä¸åŒçš„æ—‹å¾‹å åŠ åœ¨ä¸€èµ·çš„ï¼Œå¬ä¼—ä¼šå¬å¾—å¦‚ç—´å¦‚é†‰ï¼Œè¿™ç›¸å½“äºä¸‰çº§å·¥ç¨‹å¸ˆã€‚<br>å½“ç„¶ï¼Œè‰ºæœ¯æ²¡æœ‰æ­¢å¢ƒï¼Œå†å¾€ä¸Šå°±éœ€è¦è¶…å‡ºæŠ€å·§çš„èŒƒç•´ï¼Œéœ€è¦å¯¹éŸ³ä¹å’Œäººç”Ÿæœ‰æ·±åˆ»çš„ç†è§£äº†ï¼Œåˆ°äº†è¿™ä¸ªæ°´å¹³å°±èƒ½å¾ˆå¥½åœ°è¯ é‡ŠéŸ³ä¹äº†ï¼Œè¿™æ—¶çš„æ¼”å¥å®¶å¯ä»¥è¢«ç§°ä¸ºå½“ä»£ä¸€æµçš„æ¼”å¥å®¶æˆ–è€…å†å²ä¸ŠäºŒæµçš„ï¼Œå†…ç”°å…‰å­å¤§çº¦åœ¨è¿™ä¸ªæ°´å¹³ï¼Œæˆ–è€…ç•¥é«˜ä¸€ç‚¹ã€‚<br>å†å¾€ä¸Šï¼Œåˆ™æ˜¯è¢«ç§°ä¸ºå‡ åå¹´å‡ºä¸€ä¸ªçš„å¥‡æ‰ï¼Œä»–ä»¬æ”¾åˆ°å†å²çš„é•¿æ²³ä¸­ä¹Ÿå ªç§°ä¸€æµï¼Œæ¯”å¦‚ 19 ä¸–çºªçš„æ¼”å¥å®¶è‚–é‚¦ã€ææ–¯ç‰¹ï¼ˆFranz Lisztï¼‰å’Œå…‹æ‹‰æ‹‰ï¼ˆClaraï¼Œèˆ’æ›¼çš„å¦»å­ï¼‰ï¼Œ20 ä¸–çºªçš„é²å®¾æ–¯å¦ï¼ˆArthur Rubinsteinï¼‰æˆ–è€…å¼—æ‹‰åŸºç±³å°”Â·éœæ´›ç»´èŒ¨ï¼ˆVladimir Horowitzï¼‰ã€‚</p></blockquote><p>å¯ä»¥è¯´ï¼ŒçœŸæ­£ä¸€æµçš„å¤§å¸ˆæ˜¯åœ¨ä»»ä½•å°äº‹æƒ…ä¸Šéƒ½èƒ½ä½“ç°ä¸€æµæ°´å‡†çš„äººã€‚å¾ˆå¤šäººä¼šè§‰å¾—ï¼ŒæŸä»¶äº‹æƒ…å¤ªç®€å•ï¼Œå®ƒä½“ç°ä¸å‡ºæˆ‘çš„æ°´å¹³ï¼Œå…¶å®åå€’æ˜¯å°äº‹æƒ…èƒ½å¤Ÿè§çœŸåŠŸå¤«ã€‚å¾ˆå¤šäººè®² iPhone è®¾è®¡å¾—å¥½ï¼Œåœ¨å®ƒç®€å•çš„è®¾è®¡èƒŒåï¼Œä½“ç°å‡ºè®¾è®¡è€…çš„åŒ å¿ƒç‹¬è¿ï¼Œäº§å“ç»ç†å’Œå·¥ç¨‹å¸ˆä»¬ç²¾ç›Šæ±‚ç²¾çš„ç‰¹ç‚¹ã€‚è¿™æ‰æ˜¯ä¸€æµçš„æœ¬è´¨ã€‚</p><h4 id="æ€»ç»“ä¸€ä¸‹ä¸€æµå’ŒäºŒæµã€ä¸‰æµçš„åŒºåˆ«"><a href="#æ€»ç»“ä¸€ä¸‹ä¸€æµå’ŒäºŒæµã€ä¸‰æµçš„åŒºåˆ«" class="headerlink" title="æ€»ç»“ä¸€ä¸‹ä¸€æµå’ŒäºŒæµã€ä¸‰æµçš„åŒºåˆ«"></a>æ€»ç»“ä¸€ä¸‹ä¸€æµå’ŒäºŒæµã€ä¸‰æµçš„åŒºåˆ«</h4><pre class="line-numbers language-none"><code class="language-none">1. åŒºåˆ†ä¸€æµå’ŒäºŒæµã€ä¸‰æµå¹¶ä¸éœ€è¦é€šè¿‡ä»€ä¹ˆå¤æ‚éš¾åšçš„å¤§äº‹ï¼Œä¸€æµçš„äººå¯ä»¥ä»å¹³å‡¡ä¸­æ˜¾ç¤ºå‡ºä¼Ÿå¤§ã€‚é€šä¿—åœ°è®²ï¼Œå°±æ˜¯èƒ½ç‚’å¥½åœŸè±†ä¸ã€‚2. ä¿„ç½—æ–¯æœ‰å¥è°šè¯­ï¼Œâ€œè™½ç„¶é›„é¹°æœ‰æ—¶é£å¾—æ¯”éº»é›€è¿˜ä½ï¼Œä½†æ˜¯éº»é›€æ°¸è¿œé£ä¸åˆ°é›„é¹°èƒ½è¾¾åˆ°çš„é«˜åº¦â€ã€‚å› æ­¤ï¼Œä¸€æµèƒ½è¾¾åˆ°çš„é«˜åº¦æ˜¯äºŒæµã€ä¸‰æµæ‰€è¾¾ä¸åˆ°çš„ã€‚3. å³ä¾¿æ˜¯å¤©èµ‹å¾ˆå¥½ï¼Œæœ‰è´µäººç›¸åŠ©çš„äººï¼Œæœ€ç»ˆæˆä¸ºå¤§å®¶å…¬è®¤çš„ä¸€æµäººç‰©ï¼Œä¹Ÿéœ€è¦èŠ±å¾ˆé•¿æ—¶é—´ï¼Œå¹¶ä¸”éœ€è¦ä¸æ–­åŠªåŠ›ã€‚æœ‰äº›äººå°‘å¹´ä¸€æœæˆåï¼Œä¾¿å¿˜ä¹æ‰€ä»¥ï¼Œå…¶å®ä»–ä»¬è·ç¦»ä¸€æµçš„æ°´å‡†è¿˜å·®å¾—è¿œå‘¢ã€‚å¾ˆå¤šçœå¸‚çš„é«˜è€ƒå‰å‡ åï¼Œä¸è¿‡æ˜¯ç°ä»£çš„æ–¹ä»²æ°¸ç½¢äº†ã€‚4.ç”±äºä¸€æµäººæ‰ç«™çš„é«˜åº¦æ¯”å¸¸äººé«˜ï¼Œå› æ­¤ä»–ä»¬çš„èŒä¸šç”Ÿæ¶¯å¯ä»¥ç‰¹åˆ«é•¿ã€‚5. æœ€åï¼Œä¹Ÿæ˜¯æœ€å…³é”®çš„ä¸€ç‚¹ã€‚æ­£å¦‚ç½—æ›¼Â·ç½—å…°ï¼ˆRomain Rollandï¼‰æ‰€è¯´ï¼Œäººè¦æˆä¸ºä¼Ÿå¤§ï¼Œè€Œä¸æ˜¯æ˜¾å¾—ä¼Ÿå¤§ã€‚å¯¹å¤§å®¶æ¥è®²ï¼Œè¦æˆä¸ºä¸€æµï¼Œè€Œä¸æ˜¯æ˜¾å¾—åƒä¸€æµã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœ€åï¼Œç®€å•åœ°æ¦‚æ‹¬ä¸€æµçš„å‡ ä¸ªç‰¹ç‚¹ï¼šé¦–å…ˆä»–ä»¬èƒ½å°†çœ‹ä¼¼å¹³å‡¡çš„äº‹æƒ…åšå¾—ä¸å¹³å‡¡ï¼Œå…¶æ¬¡ä»–ä»¬éƒ½å…·æœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œä¸‰æµçš„äººæ˜¯å¯ä»¥äº’ç›¸æ›¿ä»£çš„ï¼Œä½†æ˜¯ä¸€æµçš„äººåˆ™ä¸èƒ½ã€‚"><a href="#æœ€åï¼Œç®€å•åœ°æ¦‚æ‹¬ä¸€æµçš„å‡ ä¸ªç‰¹ç‚¹ï¼šé¦–å…ˆä»–ä»¬èƒ½å°†çœ‹ä¼¼å¹³å‡¡çš„äº‹æƒ…åšå¾—ä¸å¹³å‡¡ï¼Œå…¶æ¬¡ä»–ä»¬éƒ½å…·æœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œä¸‰æµçš„äººæ˜¯å¯ä»¥äº’ç›¸æ›¿ä»£çš„ï¼Œä½†æ˜¯ä¸€æµçš„äººåˆ™ä¸èƒ½ã€‚" class="headerlink" title="æœ€åï¼Œç®€å•åœ°æ¦‚æ‹¬ä¸€æµçš„å‡ ä¸ªç‰¹ç‚¹ï¼šé¦–å…ˆä»–ä»¬èƒ½å°†çœ‹ä¼¼å¹³å‡¡çš„äº‹æƒ…åšå¾—ä¸å¹³å‡¡ï¼Œå…¶æ¬¡ä»–ä»¬éƒ½å…·æœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œä¸‰æµçš„äººæ˜¯å¯ä»¥äº’ç›¸æ›¿ä»£çš„ï¼Œä½†æ˜¯ä¸€æµçš„äººåˆ™ä¸èƒ½ã€‚"></a>æœ€åï¼Œç®€å•åœ°æ¦‚æ‹¬ä¸€æµçš„å‡ ä¸ªç‰¹ç‚¹ï¼šé¦–å…ˆä»–ä»¬èƒ½å°†çœ‹ä¼¼å¹³å‡¡çš„äº‹æƒ…åšå¾—ä¸å¹³å‡¡ï¼Œå…¶æ¬¡ä»–ä»¬éƒ½å…·æœ‰è‡ªå·±çš„ç‰¹ç‚¹ï¼Œä¸‰æµçš„äººæ˜¯å¯ä»¥äº’ç›¸æ›¿ä»£çš„ï¼Œä½†æ˜¯ä¸€æµçš„äººåˆ™ä¸èƒ½ã€‚</h3><blockquote><p>è¦æœ‰æœ¬äº‹æŠŠå°äº‹æƒ…åšå¥½ï¼Œå¹¶ä¸”ä¸€è¾ˆå­éƒ½è¦ä¸æ–­åŠªåŠ›ã€‚</p></blockquote>]]></content>
      
      
      
        <tags>
            
            <tag> ç¡…è°·æ¥ä¿¡ </tag>
            
            <tag> è‰ºæœ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯»å´å†›ã€Šç¡…è°·æ¥ä¿¡ã€‹å¿ƒå¾—ç¬”è®° - ç¬¬ä¸€ç¯‡</title>
      <link href="/2019-03-11-%E5%90%B4%E5%86%9B-%E7%A1%85%E8%B0%B7%E6%9D%A5%E4%BF%A1-%E7%AC%94%E8%AE%B0-01.html"/>
      <url>/2019-03-11-%E5%90%B4%E5%86%9B-%E7%A1%85%E8%B0%B7%E6%9D%A5%E4%BF%A1-%E7%AC%94%E8%AE%B0-01.html</url>
      
        <content type="html"><![CDATA[<p>Googleèƒ½å¤Ÿä»ä¸€ä¸ªå°å…¬å¸æˆé•¿ä¸ºå…¨çƒå·¨æ— éœ¸çš„ITï¼Œ<strong>ä¼ä¸šåˆ›å§‹äºº</strong>çš„ä½œç”¨éå¸¸å¤§ã€‚</p><!--more--><p>*** é¦–è¦æŒæ¡çš„æŠ€èƒ½ï¼šåˆ‡å¿Œå›ºå®ˆåœ¨è‡ªå·±æ ¹æ·±è’‚å›ºçš„æ€ç»´æ¨¡å¼ä¸­ï¼ ***</p><p>åˆ›å§‹äººå¯ä»¥ä»å¦‚ä¸‹ä¸‰æ­¥å…¥æ‰‹ï¼š</p><h3 id="ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯æ‹›äººã€‚"><a href="#ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯æ‹›äººã€‚" class="headerlink" title="ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯æ‹›äººã€‚"></a>ç¬¬ä¸€ä»¶äº‹æƒ…æ˜¯æ‹›äººã€‚</h3><p><strong>æ‰¾åˆé€‚çš„äººï¼ŒæŠŠé‡è¦çš„äº‹æƒ…äº¤ç»™ä»–ä»¬åšï¼Œè€Œä¸æ˜¯äº‹å¿…èº¬äº²ï¼Œå³ä¸è¦åšå¤ªå¤šçš„ç»†èŠ‚ç®¡ç†ï¼ˆMicro Managementï¼‰ã€‚</strong></p><blockquote><p>ä½œä¸ºä¸€ä¸ªå…¬å¸çš„åˆ›å§‹äººï¼Œä»–éœ€è¦èŠ±å¾ˆå¤šæ—¶é—´æ‰¾åˆ°å„ä¸ªå…³é”®å²—ä½æœ€é‡è¦çš„äººï¼Œä¸€æ—¦æ‰¾åˆ°é‚£æ ·çš„äººï¼Œå°±ç›¸ä¿¡é‚£äº›äººçš„èƒ½åŠ›å¥½äº†ã€‚Googleåˆ°2002å¹´å·²ç»æœ‰å››ç™¾äººçš„æ—¶å€™ï¼ŒåŒ…æ‹¬åˆ›å§‹äººåœ¨å†…çš„å‡ ä¸ªé«˜ç®¡è¿˜è¦é¢è¯•æ¯ä¸€ä½HRå·²ç»å†³å®šå½•å–çš„å‘˜å·¥ï¼Œå› ä¸ºæ‹›äººå®åœ¨å¤ªé‡è¦äº†ï¼Œé¢è¯•å æ‰äº†ä»–ä»¬å››åˆ†ä¹‹ä¸€çš„æ—¶é—´ã€‚</p></blockquote><blockquote><p>äººæ‹›ä¸å¥½ï¼Œä¸ä»…è€½è¯¯äº‹æƒ…ï¼Œè€Œä¸”å¸¸å¸¸æ˜¯è¯·ç¥å®¹æ˜“é€ç¥éš¾ï¼Œæ—©å»çš„å‘˜å·¥å¸¸å¸¸å æ®äº†å¾ˆé‡è¦çš„ä½ç½®ï¼Œé™¤éä»–ä»¬èƒ½å¤Ÿå’Œå…¬å¸ä¸€åŒæˆé•¿ï¼Œå¦åˆ™å…¬å¸é•¿å¤§ä¹‹åï¼Œä»–ä»¬çš„å·¥ä½œå¾ˆéš¾å®‰æ’ã€‚è®©ä»–ä»¬å½“ä¸»ç®¡å§ï¼Œä»–ä»¬åˆä¸å…·æœ‰ç›¸åº”çš„èƒ½åŠ›å’Œæ½œåŠ›ï¼›ç»§ç»­è®©ä»–ä»¬åšéå¸¸å…·ä½“çš„å·¥ä½œå§ï¼Œä»–ä»¬ä¼šè§‰å¾—åˆ›å§‹äººå¤ªè–„æƒ…ï¼Œç”šè‡³ä¼šçº é›†ä¸€äº›è€å‘˜å·¥å¯¹æŠ—æ–°æ¥çš„ä¸»ç®¡ã€‚</p></blockquote><pre class="line-numbers language-none"><code class="language-none">1. å°å…¬å¸æ‹›äººçš„ä¸€ä¸ªé‡è¦çš„åŸåˆ™ï¼Œå°±æ˜¯å¯¹æ–¹é™¤äº†èƒ½åŠ›å’Œå“æ€§èƒ½å¤Ÿèƒœä»»å·¥ä½œä¹‹å¤–ï¼Œè¿˜å¿…é¡»å…·æœ‰éå¸¸å¼ºçš„ä¸»åŠ¨æ€§ã€‚2. å½•ç”¨çš„äººåº”è¯¥é«˜å‡ºç°æœ‰å‘˜å·¥çš„å¹³å‡æ°´å¹³ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="ç¬¬äºŒä»¶äº‹æƒ…æ˜¯èµ·åˆ°åˆ¹è½¦çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯å¼•æ“çš„ä½œç”¨ã€‚"><a href="#ç¬¬äºŒä»¶äº‹æƒ…æ˜¯èµ·åˆ°åˆ¹è½¦çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯å¼•æ“çš„ä½œç”¨ã€‚" class="headerlink" title="ç¬¬äºŒä»¶äº‹æƒ…æ˜¯èµ·åˆ°åˆ¹è½¦çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯å¼•æ“çš„ä½œç”¨ã€‚"></a>ç¬¬äºŒä»¶äº‹æƒ…æ˜¯èµ·åˆ°åˆ¹è½¦çš„ä½œç”¨ï¼Œè€Œä¸æ˜¯å¼•æ“çš„ä½œç”¨ã€‚</h3><p><strong>ä¸€ä¸ªç®¡ç†æœ‰åºçš„å…¬å¸ï¼ŒåŠ¨åŠ›åº”è¯¥æ¥è‡ªäºåº•å±‚ï¼Œåˆ¹è½¦åº”è¯¥æ¥è‡ªäºé«˜å±‚ï¼Œè¿™æ ·å…¬å¸æ—¢æœ‰æ´»åŠ›ï¼Œä¹Ÿæœ‰ç§©åºã€‚</strong></p><blockquote><p>Googleå…¬å¸åœ¨å‘å±•åˆ°ä¸€ç™¾äººçš„è§„æ¨¡æ—¶ï¼Œåˆ›å§‹äººã€CEOå’Œå‡ ä¸ªå…¶ä»–é«˜ç®¡ï¼Œæ¯å‘¨è¦èŠ±ä¸€å¤©çš„æ—¶é—´å¬ä¸‹é¢å‘˜å·¥ä»‹ç»è‡ªå·±çš„é¡¹ç›®ã€‚ä»–ä»¬åªè´Ÿè´£ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯ç¡®å®šå‘˜å·¥åšçš„äº‹æƒ…æ˜¯è¯¥åšçš„äº‹æƒ…ï¼Œè€Œä¸è‡³äºè®©å…¬å¸çš„ä¸šåŠ¡å¤ªåˆ†æ•£ã€‚è‡³äºè¯¥æ€ä¹ˆåšï¼Œä»–ä»¬ä»æ¥ä¸å‘è¡¨ä»€ä¹ˆå»ºè®®ï¼Œå› ä¸ºæ—¢ç„¶æ˜¯ç²¾å¿ƒæŒ‘é€‰å‡ºæ¥çš„å‘˜å·¥ï¼Œå°±ç›¸ä¿¡ä»–ä»¬æœ‰èƒ½åŠ›å°†è¦åšçš„äº‹æƒ…åšå¥½ã€‚å¦‚æœç”¨ä¸€ä¸ªè¯æ¦‚æ‹¬è¿™äº›é«˜ç®¡ä»¬åœ¨å®¡æ ¸é¡¹ç›®æ—¶çš„ä½œç”¨ï¼Œå°±æ˜¯åˆ¹è½¦ã€‚</p></blockquote><h3 id="ç¬¬ä¸‰ä»¶äº‹æƒ…æ˜¯ç¡®ç«‹å…¬å¸çš„ä»·å€¼è§‚å’Œä¼ä¸šæ–‡åŒ–ã€‚"><a href="#ç¬¬ä¸‰ä»¶äº‹æƒ…æ˜¯ç¡®ç«‹å…¬å¸çš„ä»·å€¼è§‚å’Œä¼ä¸šæ–‡åŒ–ã€‚" class="headerlink" title="ç¬¬ä¸‰ä»¶äº‹æƒ…æ˜¯ç¡®ç«‹å…¬å¸çš„ä»·å€¼è§‚å’Œä¼ä¸šæ–‡åŒ–ã€‚"></a>ç¬¬ä¸‰ä»¶äº‹æƒ…æ˜¯ç¡®ç«‹å…¬å¸çš„ä»·å€¼è§‚å’Œä¼ä¸šæ–‡åŒ–ã€‚</h3><p><strong>ä¸€ä¸ªå…¬å¸ä»·å€¼è§‚çš„ç¡®ç«‹ï¼Œä¼ä¸šæ–‡åŒ–çš„ç¡®ç«‹ï¼Œæ˜¯åœ¨å®ƒæˆç«‹çš„åˆæœŸã€‚</strong></p><pre class="line-numbers language-none"><code class="language-none">åˆ›å§‹äººè‡ªå·±çš„ä»»åŠ¡å°±æ˜¯ï¼šæ‰¾åˆ°é€‚åˆå…¬å¸è‡ªå·±çš„å•†ä¸šæ¨¡å¼ï¼Œåœ¨æ—©æœŸè®©æ•´ä¸ªå…¬å¸éƒ½è®¤å¯å®ƒçš„ä»·å€¼è§‚ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä¸€ä¸ªåˆ›å§‹äººå¦‚æœèƒ½åšå¥½è¿™æ ·ä¸‰ä»¶äº‹æƒ…ï¼Œå·²ç»ä¸å®¹æ˜“äº†ï¼Œå…·ä½“çš„äº‹æƒ…åº”è¯¥è®©ä¸‹é¢çš„äººåšï¼Œè‡ªå·±ä¸è¦å¹²é¢„å¤ªå¤šã€‚å½“ä¸€ä¸ªåˆ›å§‹äººèƒ½å¤Ÿæ‰¾åˆ°ç§°èŒçš„ä¸»ç®¡å·¥ç¨‹ã€é”€å”®å’Œè¡Œæ”¿çš„è´Ÿè´£äººï¼Œå¹¶ä¸”è¶³å¤Ÿä¿¡ä»»ä»–ä»¬ï¼Œé‚£ä¹ˆå…¬å¸å°±æ­¥å…¥æ­£è½¨äº†ã€‚å¦‚æœåˆ›å§‹äººåƒè¯¸è‘›äº®é‚£æ ·äº‹å¿…èº¬äº²ï¼Œä¸ä»…ä¼šæŠŠè‡ªå·±ç´¯æ­»ï¼Œè¿˜ä¼šæŠŠå…¬å¸åšæ­»ã€‚</p>]]></content>
      
      
      
        <tags>
            
            <tag> ç¡…è°·æ¥ä¿¡ </tag>
            
            <tag> è¯»åæ„Ÿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Emacs STEP-1</title>
      <link href="/2017-01-21-Emacs-STEP-1.html"/>
      <url>/2017-01-21-Emacs-STEP-1.html</url>
      
        <content type="html"><![CDATA[<h2 id="Emacså­¦ä¹ å…¥é—¨-STEPï¼1"><a href="#Emacså­¦ä¹ å…¥é—¨-STEPï¼1" class="headerlink" title="Emacså­¦ä¹ å…¥é—¨ STEPï¼1"></a>Emacså­¦ä¹ å…¥é—¨ STEPï¼1</h2><p>æ‘˜è‡ªï¼ˆ <a href="http://blog.csdn.net/redguardtoo/article/details/7222501">ä¸€å¹´æˆä¸ºEmacsé«˜æ‰‹ï¼ˆåƒç¥ä¸€æ ·ä½¿ç”¨ç¼–è¾‘å™¨ï¼‰</a> ï¼‰</p><!--more--><h3 id="å¼€ç«¯"><a href="#å¼€ç«¯" class="headerlink" title="å¼€ç«¯"></a>å¼€ç«¯</h3><ul><li><p>ä¸è¦ç€æ€¥ä»Lispå…¥æ‰‹ï¼Œå…ˆç€æ‰‹çŸ­å°ç»ƒä¹ ï¼ŒåŸ¹å…»å…´è¶£ï¼Œé€æ­¥æé«˜ï¼ï¼ä»¥å®é™…é—®é¢˜ä½œä¸ºåˆ‡å…¥ç‚¹</p></li><li><p>ç«™åœ¨å·¨äººçš„è‚©è†€ä¸Š</p><ul><li>Copyé«˜æ‰‹çš„é…ç½®æ–‡ä»¶ <a href="http://www.sanityinc.com/">ä¸–ç•Œçº§å¤§å¸ˆ Steve Purcell</a>çš„<a href="https://github.com/purcell/emacs.d">Emacs é…ç½®</a></li><li>å…³é”®æ˜¯è¦å®å¹².ä¸€ä¸ªå¾ˆå¥½çš„æ²»æ„ˆæ–¹æ³•å°±æ˜¯æŠŠ<a href="http://planet.emacsen.org/">http://planet.emacsen.org/</a> ä¸Šçº¦4000ç¯‡æ–‡ç« é€šè¯»ä¸€é</li><li>åŠ å…¥ç¤¾åŒºæ›´ä¸Šä¸€å±‚æ¥¼<ul><li><a href="https://www.reddit.com/r/emacs/">https://www.reddit.com/r/emacs/</a></li><li><a href="https://www.youtube.com/watch?feature=player_embedded&amp;v=oJTwQvgfgMM">https://www.youtube.com/watch?feature=player_embedded&amp;v=oJTwQvgfgMM</a></li></ul></li><li>å¤šè¯»ä¹¦<ul><li><a href="https://www.emacswiki.org/">https://www.emacswiki.org/</a></li><li>Bob Glicksteinçš„<a href="https://www.amazon.com/Writing-GNU-Emacs-Extensions-Glickstein/dp/1565922611">Writing GNU Emacs Extensions</a></li><li><a href="http://ergoemacs.org/emacs/buy_xah_emacs_tutorial.html">Xah Lee æä¾›ä»˜è´¹Lispæ•™ç¨‹</a></li><li><a href="http://steve-yegge.blogspot.com.au/2008/01/emergency-elisp.html">Steve Yeggeçš„Emacs Lispæ•™ç¨‹</a></li></ul></li></ul></li><li><p>ç¬¬ä¸‰æ–¹æ’ä»¶</p><ul><li><a href="https://www.emacswiki.org/emacs/Evil">Evil</a>: å°† Emacså˜ä¸ºVim</li><li><a href="http://orgmode.org/">Org</a>: org-mode,å…¨èƒ½çš„ç¬”è®°å·¥å…·</li><li><a href="https://github.com/company-mode/company-mode">company-mode</a> :è‡ªåŠ¨å®Œæˆè¾“å…¥,æ”¯æŒå„ç§è¯­è¨€å’Œåç«¯</li><li><a href="https://github.com/magnars/expand-region.el">expand-region</a>å¿«æ·é”®é€‰ä¸­æ–‡æœ¬,å¯å°†é€‰æ‹©åŒºåŸŸä¼¸ç¼©</li><li><a href="https://github.com/nonsequitur/smex">smex</a> :è®©è¾“å…¥å‘½ä»¤å˜å¾—é£å¿«</li><li><a href="https://github.com/joaotavora/yasnippet">yasnippet</a> :å¼ºå¤§çš„æ–‡æœ¬æ¨¡æ¿è¾“å…¥å·¥å…·</li><li><a href="https://www.emacswiki.org/emacs/FlyMake">flymake</a> :å¯¹ä¸åŒè¯­è¨€åšè¯­æ³•æ£€æŸ¥</li><li><a href="https://github.com/abo-abo/swiper/blob/master/ivy.el">ivy</a> or <a href="https://github.com/emacs-helm/helm">helm</a> :è‡ªåŠ¨å®Œæˆ,åœ¨å…¶ä¸Šæœ‰æ’ä»¶å®Œæˆå…·ä½“åŠŸèƒ½</li><li><a href="https://www.emacswiki.org/emacs/InteractivelyDoThings">ido</a>å’Œhelmç±»ä¼¼,helmå’Œidoå¯åŒæ—¶ç”¨</li><li><a href="https://github.com/mooz/js2-mode">js2-mode</a> :javascriptçš„ä¸»æ¨¡å¼,è‡ªå¸¦è¯­æ³•è§£é‡Šå™¨</li><li><a href="https://www.emacswiki.org/emacs/emacs-w3m">w3m</a> :ç½‘ç»œæµè§ˆå™¨(éœ€å®‰è£…å‘½ä»¤è¡Œå·¥å…·w3m)</li><li><a href="https://github.com/skeeto/emacs-web-server">simple-httpd</a>: Lisp å†™çš„ Web æœåŠ¡å™¨</li><li><a href="https://github.com/nschum/window-numbering.el">window-numbering.el</a> :è·³è½¬åˆ°ä¸åŒçš„å­çª—å£</li><li><a href="https://github.com/fxbois/web-mode">web-mode</a> :æ”¯æŒå„ç§ HTML æ–‡ä»¶</li><li><a href="https://github.com/magit/magit">magit</a> :ç©è½¬git</li><li><a href="https://github.com/syohex/emacs-git-gutter">git-gutter.el</a> :æ ‡è®°ç‰ˆæœ¬æ§åˆ¶çš„diff(æ”¯æŒsubversion)</li></ul></li><li><p>å­¦ä¹ org-mode : <a href="http://www.cnblogs.com/Open_Source/archive/2011/07/17/2108747.html">http://www.cnblogs.com/Open_Source/archive/2011/07/17/2108747.html</a></p></li><li><p>è¡ŒåŠ¨ è¡ŒåŠ¨ è¡ŒåŠ¨</p></li></ul><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><ul><li>ä¸éœ€è¦åˆ»æ„çš„å»è®°å¿«æ·é”®ï¼Œéšç”¨éšè®°</li><li>ç”¨ <a href="https://www.emacswiki.org/emacs/Smex">Smex</a>,å¯é£å¿«è¾“å…¥å‘½ä»¤,å¿«æ·é”®å®é™…ä¸Šä¸éœ€è¦äº†</li><li>å¦‚ä¸‹è½½äº†ç¬¬ä¸‰æ–¹æ’ä»¶,å¦‚æœå‘è§‰å…¶æœ‰é—®é¢˜,å¯ä»¥åœ¨<a href="https://www.gnu.org/software/emacs/manual/html_node/elisp/Advising-Functions.html">ä¸ç¢°è¯¥æ’ä»¶åŸå§‹ä»£ç çš„æƒ…å†µä¸‹ä¿®å¤</a>.</li><li>æ’ä»¶æœåŠ¡å™¨å…³é—­äº†,åº”å¯ä»¥åœ¨<a href="https://github.com/redguardtoo/elpa-mirror">è‡ªå¸¦çš„Uç›˜ä¸Šå¿«é€Ÿå»ºç«‹é•œåƒ</a>.</li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>å®˜æ–¹æ’ä»¶ä»“åº“<a href="https://elpa.gnu.org/">https://elpa.gnu.org</a>ä¸‹è½½å®‰è£…æ’ä»¶</p>]]></content>
      
      
      
        <tags>
            
            <tag> Emacs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨Vagrantéƒ¨ç½²Railsé¡¹ç›®</title>
      <link href="/2016-11-04-Using-Vagrant-for-Rails-Development.html"/>
      <url>/2016-11-04-Using-Vagrant-for-Rails-Development.html</url>
      
        <content type="html"><![CDATA[<h2 id="ç®€è¿°"><a href="#ç®€è¿°" class="headerlink" title="ç®€è¿°"></a>ç®€è¿°</h2><p>Vagrant æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å·¥å…·ï¼Œå¯ä»¥åœ¨ä½ çš„ç”µè„‘çš„è™šæ‹Ÿæœºé‡Œè‡ªåŠ¨æ­å»ºä¸€ä¸ªå¼€å‘ç¯å¢ƒã€‚è¿™å°±æ„å‘³ç€ä½ æœ¬åœ°å¼€å‘ç¯å¢ƒå¯ä»¥å®Œå…¨ä¸ç”Ÿäº§æœåŠ¡å™¨ä¸Šä¿æŒä¸€è‡´ï¼Œä½ çš„åˆä½œå°ä¼™ä¼´ä¹Ÿå¯ä»¥å’Œä½ ä¿æŒé«˜åº¦ä¸€è‡´çš„è¿è¡Œç¯å¢ƒã€‚</p><!--more--><p>è‡ªä¸ªå„¿çš„Railsçš„å¼€å‘ç¯å¢ƒä¹Ÿä¸ä¼šéšç€ä½ å¼€å‘æœºçš„å˜åŒ–è€Œå˜åŒ–ã€‚å¦å¤–ï¼Œä½ å¯ä»¥åœ¨åˆ†åˆ†é’Ÿå†…å¯åŠ¨ä¸€ä¸ªå¯èƒ½éœ€è¦åœ¨12ä¸ªæœˆä»¥åé‡æ–°è®¿é—®çš„é¡¹ç›®ï¼Œé‚£æ—¶ä½ ä¼šæ„Ÿè°¢è‡ªå·±åœ¨é¡¹ç›®åˆæœŸä½¿ç”¨äº†è¿™ä¸ªå·¥å…·ã€‚</p><p>æˆ‘ä»¬ä¼šä½¿ç”¨<a href="https://www.chef.io/chef/">Chef</a>å®Œæˆè™šæ‹Ÿæœºå¼€å‘ç¯å¢ƒçš„è‡ªåŠ¨éƒ¨ç½²ã€‚chefä¼šè´Ÿè´£ä¸ºæˆ‘ä»¬çš„ç³»ç»Ÿé…ç½®Rubyå’Œæ‰€æœ‰ä¾èµ–çš„åŒ…ã€‚éå¸¸é€‚åˆå¿«é€Ÿå¼€å‘ï¼ˆItâ€™s pretty RADï¼‰ã€‚</p><p>BBçš„å¤Ÿå¤šçš„äº†ï¼Œè®©æˆ‘ä»¬å¼€å§‹å§ï¼</p><h2 id="é…ç½®Vagrant"><a href="#é…ç½®Vagrant" class="headerlink" title="é…ç½®Vagrant"></a>é…ç½®Vagrant</h2><p>é¦–å…ˆï¼Œå¼€å§‹æ‰§è¡Œä¹‹å‰ç¡®è®¤ä¸‹æœ¬æœºè‡³å°‘æœ‰1Gçš„ç©ºé—²å†…å­˜ï¼Œå› ä¸ºVagrantä¼šåœ¨ä½ çš„è™šæ‹Ÿæœºä¸­å¯åŠ¨ä¸€ä¸ªå®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œç”¨æ¥æ‰§è¡ŒRailsç¨‹åºã€‚</p><p>ç¬¬ä¸€æ­¥ï¼Œåœ¨æœ¬æœºå®‰è£…Vagrantå’ŒVirtualBoxã€‚</p><ul><li><a href="https://www.vagrantup.com/downloads.html">ç§»æ­¥è¿™é‡Œä¸‹è½½å®‰è£…Vagrant</a></li><li><a href="https://www.virtualbox.org/wiki/Downloads">ç§»æ­¥è¿™é‡Œä¸‹è½½å®‰è£…VirtualBox</a></li></ul><p>è™šæ‹Ÿæœºæ˜¯è¿è¡Œåœ¨VirtualBoxé‡Œçš„ï¼Œè¿™äº›éƒ½æ˜¯åå°è¿è¡Œçš„ç¨‹åºï¼Œåªèƒ½é€šè¿‡SSHè¿›è¡Œäº¤äº’ã€‚</p><p>å…¶æ¬¡ï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…Vagrantçš„ä¸¤ä¸ªæ’ä»¶ã€‚</p><ul><li>vagrant-vbguest è‡ªåŠ¨å®‰è£…å„ç§Guestæ‰©å±•ç¨‹åº</li><li>vagrant-librarian-chef è®©æˆ‘ä»¬å¯ä»¥åœ¨æœºå™¨å¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨æ‰§è¡Œchef</li></ul><pre class="line-numbers language-none"><code class="language-none">vagrant plugin install vagrant-vbguestvagrant plugin install vagrant-librarian-chef-nochef<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¸ªå¯èƒ½éœ€è¦äº›æ—¶é—´æ‰èƒ½æ‰§è¡Œå®Œæ¯•ã€‚</p><pre class="line-numbers language-none"><code class="language-none">âœ  ds git:(dev) vagrant plugin install vagrant-vbguestInstalling the 'vagrant-vbguest' plugin. This can take a few minutes...Installed the plugin 'vagrant-vbguest (0.13.0)'!âœ  ds git:(dev) vagrant plugin install vagrant-librarian-chef-nochefInstalling the 'vagrant-librarian-chef-nochef' plugin. This can take a few minutes...Installed the plugin 'vagrant-librarian-chef-nochef (0.2.0)'!âœ  ds git:(dev)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="åˆ›å»ºVagranté…ç½®æ–‡ä»¶"><a href="#åˆ›å»ºVagranté…ç½®æ–‡ä»¶" class="headerlink" title="åˆ›å»ºVagranté…ç½®æ–‡ä»¶"></a>åˆ›å»ºVagranté…ç½®æ–‡ä»¶</h2><p>é¦–è¦çš„ï¼Œè¿›å…¥éœ€è¦é…ç½®chefçš„Railsé¡¹ç›®ç›®å½•ï¼Œå¹¶æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤ã€‚</p><pre class="line-numbers language-none"><code class="language-none">âœ  ds git:(dev) vagrant initA `Vagrantfile` has been placed in this directory. You are nowready to `vagrant up` your first virtual environment! Please readthe comments in the Vagrantfile as well as documentation on`vagrantup.com` for more information on using Vagrant.âœ  ds git:(dev) âœ— touch Cheffileâœ  ds git:(dev) âœ— lsCheffile     README.md    app          config.ru    log          tmpGemfile      Rakefile     bin          db           public       vendorGemfile.lock Vagrantfile  config       lib          test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç”±æ­¤ä¼šç”ŸæˆVagrantfileå’ŒCheffileä¸¤ä¸ªæ–‡ä»¶ã€‚</p><h2 id="Cheffile"><a href="#Cheffile" class="headerlink" title="Cheffile"></a>Cheffile</h2><p>ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®Chefæ–‡ä»¶äº†ã€‚è¿™ä¸ªæ–‡ä»¶å’Œæˆ‘ä»¬çš„Railsçš„gem æ–‡ä»¶ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯ç”¨äºChefçš„ã€‚è¿™ä¸ªæ–‡ä»¶ä¸­ä¼šå®šä¹‰å¾ˆå¤šChef cookbooksç”¨æ¥åœ¨ç¨åçš„Vagrantfileä¸­æŒ‡æŒ¥Vagranté…ç½®æˆ‘ä»¬çš„ç¯å¢ƒçš„å…·ä½“å†…å®¹ã€‚</p><p>æˆ‘ä»¬ä»…ä»…åªéœ€è¦é»è´´å¦‚ä¸‹ä»£ç åˆ°Cheffileä¸­ï¼š</p><pre class="line-numbers language-none"><code class="language-none">site "http://community.opscode.com/api/v1"cookbook 'apt'cookbook 'build-essential'cookbook 'mysql', '5.5.3'cookbook 'ruby_build'cookbook 'nodejs'cookbook 'rbenv', git: 'https://github.com/aminin/chef-rbenv'cookbook 'vim'<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Vagrantfile"><a href="#Vagrantfile" class="headerlink" title="Vagrantfile"></a>Vagrantfile</h2><p>Vagrantfile å®šä¹‰äº†è™šæ‹Ÿæœºä¸­çš„æ“ä½œç³»ç»Ÿå’ŒChefçš„é…ç½®é¡¹ã€‚</p><p>æˆ‘ä»¬ä¼šä½¿ç”¨Ubuntu 16.04 xenial 64-bitå’Œ4Gçš„å†…å­˜è¿™ä¸ªç‰ˆæœ¬é…ç½®ï¼ˆå¦‚æœä½ ç”¨çš„32ä½çš„ç³»ç»Ÿï¼Œåªéœ€è¦æ”¹æˆxenial32å³å¯ï¼‰ã€‚è¿˜éœ€è¦æ‰“å¼€è™šæ‹Ÿæœºçš„3000ç«¯å£ï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬é€šè¿‡æœ¬åœ°æµè§ˆå™¨å°±å¯ä»¥è®¿é—®è™šæ‹Ÿæœºä¸Šçš„RailsæœåŠ¡äº†ã€‚ä¸è¿‡è‡³å°‘åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»åœ¨è™šæ‹Ÿæœºä¸­é€šè¿‡Chefé…ç½®å¥½äº†Ruby2.3.1å’ŒMySQLã€‚</p><p>Vagrantfileæ–‡ä»¶çš„å†…å®¹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none"># -*- mode: ruby -*-# vi: set ft=ruby :VAGRANTFILE_API_VERSION = "2"Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|  # Use Ubuntu 16.04 Xenial Xerus 64-bit as our operating system  config.vm.box = "ubuntu/xenial64"  # Configurate the virtual machine to use 4GB of RAM  config.vm.provider :virtualbox do |vb|    vb.customize ["modifyvm", :id, "--memory", "4048"]  end  # Forward the Rails server default port to the host  config.vm.network :forwarded_port, guest: 3000, host: 3000  # Use Chef Solo to provision our virtual machine  config.vm.provision :chef_solo do |chef|    chef.cookbooks_path = ["cookbooks", "site-cookbooks"]    chef.add_recipe "apt"    chef.add_recipe "nodejs"    chef.add_recipe "ruby_build"    chef.add_recipe "rbenv::user"    chef.add_recipe "rbenv::vagrant"    chef.add_recipe "vim"    chef.add_recipe "mysql::server"    chef.add_recipe "mysql::client"    # Install Ruby 2.3.1 and Bundler    # Set an empty root password for MySQL to make things simple    chef.json = {      rbenv: {        user_installs: [{          user: 'vagrant',          rubies: ["2.3.1"],          global: "2.3.1",          gems: {            "2.3.1" =&gt; [              { name: "bundler" }            ]          }        }]      },      mysql: {        server_root_password: ''      }    }  endend<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ‰§è¡ŒVagrant"><a href="#æ‰§è¡ŒVagrant" class="headerlink" title="æ‰§è¡ŒVagrant"></a>æ‰§è¡ŒVagrant</h2><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å·²ç»é…ç½®å¥½äº†Vagrantå’ŒChefã€‚æˆ‘ä»¬å°†å¯åŠ¨Vagrantè™šæ‹Ÿä¸»æœºï¼Œå¹¶é€šè¿‡sshç™»é™†è¿›å»ï¼</p><pre class="line-numbers language-none"><code class="language-none"># The commented lines are the output you should see when you run these commandsvagrant up#==&gt; default: Checking if box 'ubuntu/xenial64' is up to date...#==&gt; default: Clearing any previously set forwarded ports...#==&gt; default: Installing Chef cookbooks with Librarian-Chef...#==&gt; default: The cookbook path '/Users/chris/code/test_app/site-cookbooks' doesn't exist. Ignoring...#==&gt; default: Clearing any previously set network interfaces...#==&gt; default: Preparing network interfaces based on configuration...#    default: Adapter 1: nat#==&gt; default: Forwarding ports...#    default: 3000 =&gt; 3000 (adapter 1)#    default: 22 =&gt; 2222 (adapter 1)#==&gt; default: Running 'pre-boot' VM customizations...#==&gt; default: Booting VM...#==&gt; default: Waiting for machine to boot. This may take a few minutes...#    default: SSH address: 127.0.0.1:2222#    default: SSH username: vagrant#    default: SSH auth method: private key#    default: Warning: Connection timeout. Retrying...#==&gt; default: Machine booted and ready!#==&gt; default: Checking for guest additions in VM...#==&gt; default: Mounting shared folders...#    default: /vagrant =&gt; /Users/chris/code/test_app#   default: /tmp/vagrant-chef-1/chef-solo-1/cookbooks =&gt; /Users/chris/code/test_app/cookbooks#==&gt; default: VM already provisioned. Run `vagrant provision` or use `--provision` to force itvagrant ssh#Welcome to Ubuntu 16.04 LTS (GNU/Linux 3.13.0-24-generic x86_64)## * Documentation:  https://help.ubuntu.com/## System information disabled due to load higher than 1.0##  Get cloud support with Ubuntu Advantage Cloud Guest:#    http://www.ubuntu.com/business/services/cloud###vagrant@vagrant-ubuntu-xenial-64:~$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–æ¬¡å¯åŠ¨vagrantéœ€è¦å¾ˆé•¿å¾ˆé•¿å¾ˆé•¿æ—¶é—´ï¼Œå› ä¸ºéœ€è¦å‡†å¤‡chefæ–‡ä»¶ä¸­è®¾ç½®çš„è¯¸å¤šé…ç½®é¡¹ï¼Œä¹‹åå†æ¬¡æ‰§è¡Œçš„è¯ï¼Œä¸å†æ‰§è¡ŒChefå°±ä¼šå¿«å¾ˆå¤šäº†ã€‚</p><p>å¦‚æœä¿®æ”¹äº†Vagrantfileå’ŒCheffileæ–‡ä»¶ï¼Œä½ éœ€è¦ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤é‡æ–°ä½¿æœºå™¨é…ç½®ç”Ÿæ•ˆ</p><pre class="line-numbers language-none"><code class="language-none">vagrant provision<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="åœ¨Vagrantä¸­ä½¿ç”¨Rails"><a href="#åœ¨Vagrantä¸­ä½¿ç”¨Rails" class="headerlink" title="åœ¨Vagrantä¸­ä½¿ç”¨Rails"></a>åœ¨Vagrantä¸­ä½¿ç”¨Rails</h2><p>Vagrantä¼šåˆ›å»ºä¸€ä¸ªåå­—ä¸º/vagrantçš„å…±äº«æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ˜¯è™šæ‹Ÿæœºå’Œæœ¬æœºä¹‹é—´åšæ–‡ä»¶å…±äº«ã€‚å¦‚æœè¿›å…¥/vagrantç›®å½•ä¸‹å¹¶æ‰§è¡Œlså‘½ä»¤ï¼Œä¼šçœ‹åˆ°Railsé¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶ã€‚</p><pre class="line-numbers language-none"><code class="language-none">bundle<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è™šæ‹Ÿæœºä¸­å®‰è£…æ‰€æœ‰éœ€è¦çš„gemã€‚</p><pre class="line-numbers language-none"><code class="language-none">rbenv rehash<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç¡®ä¿æˆ‘ä»¬åˆšåˆšå®‰è£…çš„gemæ˜¯å¯ç”¨çš„ã€‚</p><pre class="line-numbers language-none"><code class="language-none">rake db:create &amp;&amp; rake db:migrate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ›å»ºå’Œè¿ç§»æ•°æ®åº“ã€‚</p><p>è¯¥ç›®å½•ä¸‹çš„RailsæœåŠ¡å™¨é€šè¿‡3000ç«¯å£å¯¹å¤–æä¾›æœåŠ¡ã€‚å¯ä»¥é€šè¿‡localhost:3000è®¿é—®Railsã€‚</p><h2 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h2><p>Vagrantæ˜¯ä¸€ä¸ªéå¸¸Diaoçš„å·¥å…·ï¼Œéå¸¸æ–¹ä¾¿ï¼Œé€šè¿‡è§å¾—çš„Chefé…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥éšæ—¶éšåœ°ä½¿ç”¨ã€‚<br>å¦‚æœä½ éœ€è¦å†æ¬¡é…ç½®ä¸€ä¸ªVagrantæœºå™¨ï¼Œæˆ–è€…æ˜¯ä½ çš„åˆä½œå°ä¼™ä¼´éœ€è¦é…ç½®ä¸€ä¸ªçš„è¯ï¼Œä½ ä»¬åªéœ€è¦æ‰§è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">vagrant up<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å³å¯ã€‚</p><p>Q&amp;A</p><ul><li><p>æ‰§è¡Œvagrant upå‘½ä»¤å¤±è´¥<br>Aï¼šè¯·æ£€æŸ¥ VirtualBoxçš„ç‰ˆæœ¬æ˜¯å¦ä¸Vagrantä¸‹è½½æ‰©å±•çš„ç‰ˆæœ¬ä¸€è‡´ï¼Œæˆ‘æœ¬åœ°ä½¿ç”¨çš„æ˜¯5.0.24 ã€‚</p><pre class="line-numbers language-none"><code class="language-none">==&gt; default: Machine booted and ready![default] GuestAdditions versions on your host (4.3.28) and guest (5.0.24) do not match.mesg: ttyname failed: Inappropriate ioctl for devicemesg: ttyname failed: Inappropriate ioctl for device<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¦å¤–Vagrant 1.8.4ä¸ VirtualBox5.1.xç‰ˆæœ¬ä¸å…¼å®¹ã€‚</p><pre class="line-numbers language-none"><code class="language-none">âœ  ds git:(dev) âœ— vagrant up --provider=virtualboxNo usable default provider could be found for your system.Vagrant relies on interactions with 3rd party systems, known as"providers", to provide Vagrant with resources to run developmentenvironments. Examples are VirtualBox, VMware, Hyper-V.The easiest solution to this message is to install VirtualBox, whichis available for free on all major platforms.If you believe you already have a provider available, make sure itis properly installed and configured. You can see more details aboutwhy a particular provider isn't working by forcing usage with`vagrant up --provider=PROVIDER`, which should give you a more specificerror message for that particular provider.âœ  ds git:(dev) âœ— cat /etc/profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>éœ€è¦å®‰è£…ruby-dev</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install ruby-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li><li><p>PostgresSQL å¤´æ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">sudo apt-get install libpq-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Vagrant </tag>
            
            <tag> Rails </tag>
            
            <tag> Ruby </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oryx2 ç»ˆç«¯ç”¨æˆ·æ–‡æ¡£</title>
      <link href="/2016-04-06-Oryx2-end-user-doc.html"/>
      <url>/2016-04-06-Oryx2-end-user-doc.html</url>
      
        <content type="html"><![CDATA[<h3 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h3><p>æ³¨æ„ï¼šä½ å¿…é¡»å·²ç»æŒ‰ç…§<a href="http://reasonpun.com/2015/12/21/Oryx2-Admin-Docs/">ç®¡ç†å‘˜æ–‡æ¡£</a>ä¸­æåˆ°çš„é…ç½®å¥½äº†ä½ çš„é›†ç¾¤ã€‚</p><p>ä¸‹è½½æœ€æ–°çš„Oryxç‰ˆæœ¬ï¼ŒåŒ…æ‹¬æ‰¹å¤„ç†å±‚ï¼Œå®æ—¶è®¡ç®—å±‚å’ŒæœåŠ¡å±‚çš„jaræ–‡ä»¶å’Œshè„šæœ¬ã€‚</p><p>æˆ–è€…ï¼Œæºç ç¼–è¯‘ä»–ä»¬å¹¶ä»deploy/bin/è·å–æœ€æ–°çš„è„šæœ¬ã€‚</p><span id="more"></span><p>æ‹·è´äºŒè¿›åˆ¶å’Œè„šæœ¬åˆ°hadoopé›†ç¾¤çš„æœºå™¨ä¸Šã€‚ä»–ä»¬å¯ä»¥ä¼šè¢«éƒ¨ç½²åˆ°ä¸åŒçš„æœºå™¨ï¼Œæˆ–è€…æ˜¯è¢«éƒ¨ç½²åˆ°ä¸€ä¸ªæµ‹è¯•æœºå™¨ä¸Šã€‚å®æ—¶å’Œæ‰¹å¤„ç†å±‚åº”è¯¥è¿è¡Œä¸”åªèƒ½è¿è¡Œåœ¨ä¸€å°æœºå™¨ä¸Šï¼ˆThe Speed and Batch Layers should run on at most one machine, eachï¼‰ï¼ŒæœåŠ¡å±‚åˆ™å¯ä»¥è¿è¡Œäºå¤šä¸ªèŠ‚ç‚¹ä¸Šã€‚</p><p>åˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥ç®€å•çš„æ‹·è´ä¾‹å­ä¸­çš„conf/als-example.confã€‚å¹¶ä¿®æ”¹hoståç§°ï¼Œç«¯å£å’Œç›®å½•ã€‚å®é™…ä¸Šï¼Œé€‰æ‹©hdfsä¸Šå·²ç»å­˜åœ¨çš„æ•°æ®å’Œæ¨¡å‹ç›®å½•ä¾¿äºç”¨æˆ·è¿è¡ŒOryx äºŒè¿›åˆ¶å‘½ä»¤ã€‚</p><p>æ‹·è´è¯¥é…ç½®æ–‡ä»¶ï¼Œå¹¶é‡å‘½åä¸ºoryx.confï¼Œå°†ä»–æ”¾åˆ°æ¯ä¸ªæœºå™¨çš„ä¸ŠäºŒè¿›åˆ¶å‘½ä»¤å’Œè„šæœ¬ç›¸åŒçš„ç›®å½•ä¸‹ã€‚</p><p>æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤å¼€å§‹è¿™3ä¸ªå±‚çš„è¿è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">./oryx-run.sh batch./oryx-run.sh speed./oryx-run.sh serving<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å‚æ•°â€“layer-jar your-layer.jar and â€“conf your-config.confå¯ä»¥æŒ‡å®šæŸä¸€å±‚ç‰¹å®šä½ç½®çš„jaræ–‡ä»¶å’Œé…ç½®æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨â€“jvm-argsç›´æ¥ä¼ é€’æ›´å¤šçš„å‚æ•°ç»™Sparké©±åŠ¨ç¨‹åºï¼Œæ¯”å¦‚ï¼šâ€“jvm-args=â€-Dkey=valueâ€</p><p>è¿™éƒ½ä¸éœ€è¦åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼Œä½†æ˜¯ä¹Ÿä¸ä¸€å®šï¼ˆå¦‚æœé…ç½®ç‰¹æ®ŠæŒ‡å®šæ‰¹å¤„ç†å’Œå®æ—¶å¤„ç†å±‚ï¼ŒæœåŠ¡å±‚APIä¸åŒçš„ç«¯å£ï¼‰ã€‚æœåŠ¡å±‚å¯ä»¥è¿è¡Œåœ¨å¤šä¸ªæœºå™¨ä¸Šã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ‰¹å¤„ç†å±‚SparkUIè¿è¡Œåœ¨å¯åŠ¨è„šæœ¬æ‰€åœ¨çš„æœºå™¨çš„4040ç«¯å£ï¼ˆé™¤éé€šè¿‡é…ç½®æ›´æ”¹ï¼‰ã€‚ä¸€ä¸ªç®€å•çš„åŸºäºwebç«¯çš„æ§åˆ¶å°çš„æœåŠ¡å±‚é»˜è®¤æ˜¯è¿è¡Œåœ¨8080ç«¯å£çš„ã€‚</p><p>å®Œç¾ï¼</p><h3 id="å°è¯•ä¸‹ALSçš„ä¾‹å­å§"><a href="#å°è¯•ä¸‹ALSçš„ä¾‹å­å§" class="headerlink" title="å°è¯•ä¸‹ALSçš„ä¾‹å­å§"></a>å°è¯•ä¸‹ALSçš„ä¾‹å­å§</h3><p>å¦‚æœä½ å·²ç»ä½¿ç”¨äº†ä¸Šè¿°çš„é…ç½®ï¼Œä½ å°±å·²ç»å¯ä»¥è¿è¡Œä¸€ä¸ªåŸºäºALSçš„æ¨èç¨‹åºå®ä¾‹ã€‚<br>è‡ªè·å–GroupLens 100Kçš„æ•°æ®é›†ï¼Œå¹¶ä¸”æ‰¾åˆ°u.dataæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶çš„å†…å®¹éœ€è¦è½¬æ¢æˆcsvæ ¼å¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">tr '\t' ',' &lt; u.data &gt; data.csv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å°†è¿™äº›æ•°æ®æ”¾å…¥æœåŠ¡å±‚ï¼Œä½¿ç”¨æœ¬åœ°çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">wget --quiet --post-file data.csv --output-document - \  --header "Content-Type: text/csv" \  http://your-serving-layer:8080/ingest<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ ä½¿ç”¨tailå‘½ä»¤æŸ¥çœ‹è¾“å…¥çš„å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ•°æ®ï¼š</p><pre class="line-numbers language-none"><code class="language-none">196,242,3.0,881250949186196,242,3.0,881250949186,302,3.0,89171774222,377,1.0,878887116244,51,2.0,880606923166,346,1.0,886397596298,474,4.0,884182806...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¾ˆå¿«çš„ï¼Œä½ ä¹Ÿå¯ä»¥çœ‹åˆ°æ‰¹å¤„ç†å±‚å·²ç»å¼€å§‹è§¦å‘ä¸€ä¸ªæ–°çš„è®¡ç®—äº†ã€‚è¿™ä¸ªä¾‹å­è¢«é…ç½®ä¸º5åˆ†é’Ÿä¸€ä¸ªå‘¨æœŸã€‚</p><p>æ•°æ®é¦–å…ˆä¼šè¢«å†™å…¥HDFSã€‚é»˜è®¤é…ç½®è¢«å†™å…¥hdfs:///user/example/Oryx/data/ç›®å½•ä¸‹ã€‚ä¸”ç›®å½•ä»¥æ—¶é—´æˆ³å‘½åï¼Œæ¯ä¸€éƒ¨åˆ†éƒ½åŒ…å«Hadoop part-r-* æ–‡ä»¶ï¼Œéƒ½æ˜¯ä»¥æ–‡æœ¬çš„åºåˆ—è¯æ–‡ä»¶çš„æ–¹å¼å­˜å‚¨ã€‚è™½ç„¶ä¸æ˜¯çº¯æ–‡æœ¬ï¼Œæ‰“å°å‡ºæ¥çš„è¯ï¼Œè¿˜æ˜¯æœ‰ä¸€éƒ¨åˆ†æ˜¯å¯ä»¥è¯†åˆ«çš„ï¼Œå› ä¸ºè¿™å…¶å®çœŸçš„æ˜¯æ–‡æœ¬ã€‚</p><pre class="line-numbers language-none"><code class="language-none">SEQorg.apache.hadoop.io.Textorg.apache.hadoop.io.Textï¿½ï¿½ï¿½ï¿½^ï¿½]ï¿½XØ³Nï¿½22,377,1.0,87888711662...<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¨¡å‹è®¡ç®—å¼€å§‹ã€‚è¿™äº›æ‰¹å¤„ç†å±‚ä¼šä»¥å¤§é‡çš„æ–°çš„åˆ†å¸ƒå¼çš„ä½œä¸šå½¢å¼å±•ç°ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒSpark UIå¯ä»¥é€šè¿‡<a href="http://your-batch-layer:4040è®¿é—®ã€‚">http://your-batch-layer:4040è®¿é—®ã€‚</a></p><p>æ¨¡å‹è®¡ç®—æ˜¯éå¸¸å¿«çš„ï¼Œæ‰§è¡Œå®Œæ¯•ä»¥åä¼šåˆå¹¶PMMLå’Œæ”¯æŒæ•°æ®æ–‡ä»¶å¹¶å­˜å‚¨åˆ°ç›®å½•hdfs:///user/example/Oryx/model/ä¸‹ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œmodel.pmml çš„å†…å®¹å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;&lt;PMML xmlns="http://www.dmg.org/PMML-4_2" version="4.2.1"&gt;    &lt;Header&gt;        &lt;Application name="Oryx"/&gt;        &lt;Timestamp&gt;2014-12-18T04:48:54-0800&lt;/Timestamp&gt;    &lt;/Header&gt;    &lt;Extension name="X" value="X/"/&gt;    &lt;Extension name="Y" value="Y/"/&gt;    &lt;Extension name="features" value="10"/&gt;    &lt;Extension name="lambda" value="0.001"/&gt;    &lt;Extension name="implicit" value="true"/&gt;    &lt;Extension name="alpha" value="1.0"/&gt;    &lt;Extension name="XIDs"&gt;56 168 222 343 397 ...     ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>The X/ and Y/ subdirectories next to it contain feature vectors, like:</p><pre class="line-numbers language-none"><code class="language-none">[56,[0.5746282834154238,-0.08896614131333057,-0.029456222765775263,  0.6039821219690552,0.1497901814774658,-0.018654312114339863,  -0.37342063488340266,-0.2370768843521807,1.148260034028485,  1.0645643656769153]][168,[0.8722769882777296,0.4370416943031704,0.27402044461549885,  -0.031252701117490456,-0.7241385753098256,0.026079081002582338,  0.42050973702065714,0.27766923396205817,0.6241033215856671,  -0.48530795198811266]]...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½¿ç”¨tailå‘½ä»¤æŸ¥çœ‹æ›´æ–°çš„å†…å®¹ã€‚<br>è¿™äº›æ•°æ®ä¼šå¾ˆå¿«æ”¾å…¥æœåŠ¡å±‚ï¼Œæ­¤æ—¶è®¿é—®/readyä¼šè¿”å›200 OKã€‚</p><pre class="line-numbers language-none"><code class="language-none">wget --quiet --output-document - --server-response \  http://your-serving-layer:8080/ready...  HTTP/1.1 200 OK  Content-Length: 0  Date: Tue, 1 Sep 2015 13:26:53 GMT  Server: Oryx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">wget --quiet --output-document -  http://your-serving-layer:8080/recommend/17...50,0.7749542842056966275,0.7373013861581563258,0.731818692628511181,0.7049967175706345127,0.704518989947498121,0.701463102979374115,0.6954683387287907288,0.677488971102402225,0.6663619887033064285,0.6398968471343595<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­å–œï¼å®æ—¶æ¨èç³»ç»Ÿæ­å»ºå®Œæ¯•ï¼å¯ä»¥é€šè¿‡Ctrl-Cå…³é—­ã€‚</p><h3 id="APIæ‰‹å†Œ"><a href="#APIæ‰‹å†Œ" class="headerlink" title="APIæ‰‹å†Œ"></a>APIæ‰‹å†Œ</h3><p>Oryx æ”¯æŒå¤šç§ç«¯åˆ°ç«¯çš„ç¨‹åºï¼ŒåŒ…æ‹¬æœåŠ¡å±‚çš„REST æ¥å£ã€‚</p><h3 id="ååŒè¿‡æ»¤å’Œæ¨è"><a href="#ååŒè¿‡æ»¤å’Œæ¨è" class="headerlink" title="ååŒè¿‡æ»¤å’Œæ¨è"></a>ååŒè¿‡æ»¤å’Œæ¨è</h3><ul><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Recommend.html">/recommend</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/RecommendToMany.html">/recommendToMany</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/RecommendToAnonymous.html">/recommendToAnonymous</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/RecommendWithContext.html">/recommendWithContext</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Similarity.html">/similarity</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/SimilarityToItem.html">/similarityToItem</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/KnownItems.html">/knownItems</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Estimate.html">/estimate</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/EstimateForAnonymous.html">/estimateForAnonymous</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Because.html">/because</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/MostSurprising.html">/mostSurprising</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/PopularRepresentativeItems.html">/popularRepresentativeItems</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/MostActiveUsers.html">/mostActiveUsers</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/MostPopularItems.html">/mostPopularItems</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/MostActiveUsers.html">/mostActiveUsers</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/AllItemIDs.html">/item/allIDs</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Ready.html">/ready</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Preference.html">/pref</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/als/Ingest.html">/ingest</a></li></ul><h3 id="åˆ†ç±»-å›å½’"><a href="#åˆ†ç±»-å›å½’" class="headerlink" title="åˆ†ç±» / å›å½’"></a>åˆ†ç±» / å›å½’</h3><ul><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/rdf/Predict.html">/predict</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/rdf/ClassificationDistribution.html">/classificationDistribution</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/rdf/Ready.html">/ready</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/rdf/Train.html">/train</a></li></ul><h3 id="èšç±»"><a href="#èšç±»" class="headerlink" title="èšç±»"></a>èšç±»</h3><ul><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/kmeans/Assign.html">/assign</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/kmeans/DistanceToNearest.html">/distanceToNearest</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/kmeans/Ready.html">/ready</a></li><li><a href="http://oryx.io/apidocs/com/cloudera/oryx/app/serving/kmeans/Add.html">/add</a></li></ul><h3 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h3><ul><li><a href="https://github.com/OryxProject/oryx/blob/master/app/conf/als-example.conf">app/conf/als-example.conf</a></li><li><a href="https://github.com/OryxProject/oryx/blob/master/app/conf/kmeans-example.conf">app/conf/kmeans-example.conf</a></li><li><a href="https://github.com/OryxProject/oryx/blob/master/app/conf/rdf-example.conf">app/conf/rdf-example.conf</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>ç©è½¬ Oryx2 ï¼ˆä¸€ï¼‰</title>
      <link href="/2016-04-08-set-up-oryx-env.html"/>
      <url>/2016-04-08-set-up-oryx-env.html</url>
      
        <content type="html"><![CDATA[<h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><h3 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h3><ul><li>CDH 5.5.2, Parcel<ul><li>HDFS</li><li>YARN</li><li>Zookeeper</li><li>Kafka</li><li>Spark (on YARN)</li></ul></li></ul><span id="more"></span><h3 id="ä¸‹è½½æœ€æ–°ç‰ˆæœ¬"><a href="#ä¸‹è½½æœ€æ–°ç‰ˆæœ¬" class="headerlink" title="ä¸‹è½½æœ€æ–°ç‰ˆæœ¬"></a>ä¸‹è½½æœ€æ–°ç‰ˆæœ¬</h3><ul><li><p>è¿›å…¥<a href="https://github.com/OryxProject/oryx/releases/tag/oryx-2.1.2">ä¸‹è½½é¡µé¢</a>ï¼Œåˆ†åˆ«ä¸‹è½½</p><ul><li>compute-classpath.sh</li><li>oryx-batch-2.1.2.jar</li><li>oryx-run.sh</li><li>oryx-serving-2.1.2.jar</li><li>oryx-speed-2.1.2.jar</li></ul></li><li><p>ä¸‹è½½confæ–‡ä»¶</p><ul><li><p>ä»¥ALSä¸ºä¾‹ï¼Œåœ¨æºç ç›®å½•oryx/app/confä¸‹<a href="https://github.com/OryxProject/oryx/blob/master/app%2Fconf%2Fals-example.conf">als-example.conf</a></p></li><li><p>å¹¶å°†å…¶é‡å‘½åä¸ºoryx.confï¼ˆæ³¨ï¼šæ–‡ä»¶éœ€è¦å’Œæ¯ä¸ªå±‚çš„JARæ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼‰</p></li><li><p>ä¿®æ”¹confæ–‡ä»¶</p></li></ul></li></ul><pre class="line-numbers language-none"><code class="language-none"># ç°é˜¶æ®µåªéœ€è¦ä¿®æ”¹è¿™ä¹ˆå‡ ä¸ªå­—æ®µå°±OKäº†kafka-brokers = "data-mining-46.slave:9092,data-mining-47.slave:9092,data-mining-48.slave:9092,data-mining-49.master:9092"zk-servers = "data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka"hdfs-base = "hdfs:///Oryx"oryx {id = "ALSExample"als {  rescorer-provider-class = null}input-topic {  broker = ${kafka-brokers}  lock = {    master = ${zk-servers}  }...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h3><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 oryx]# ./oryx-run.sh kafka-setupInput   ZK      data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        Kafka   data-mining-46.slave:9092,data-mining-47.slave:9092,data-mining-48.slave:9092,data-mining-49.master:9092        topic   OryxInputUpdate  ZK      data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        Kafka   data-mining-46.slave:9092,data-mining-47.slave:9092,data-mining-48.slave:9092,data-mining-49.master:9092        topic   OryxUpdateAll available topics:Input topic OryxInput does not exist. Create it? yCreating topic OryxInputError while executing topic command : org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /brokers/ids[2016-04-08 16:53:09,383] ERROR org.I0Itec.zkclient.exception.ZkNoNodeException: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode =NoNode for /brokers/ids        at org.I0Itec.zkclient.exception.ZkException.create(ZkException.java:47)        at org.I0Itec.zkclient.ZkClient.retryUntilConnected(ZkClient.java:995)        at org.I0Itec.zkclient.ZkClient.getChildren(ZkClient.java:675)        at org.I0Itec.zkclient.ZkClient.getChildren(ZkClient.java:671)        at kafka.utils.ZkUtils.getChildren(ZkUtils.scala:537)        at kafka.utils.ZkUtils.getSortedBrokerList(ZkUtils.scala:172)        at kafka.admin.AdminUtils$.createTopic(AdminUtils.scala:243)        at kafka.admin.TopicCommand$.createTopic(TopicCommand.scala:107)        at kafka.admin.TopicCommand$.main(TopicCommand.scala:60)        at kafka.admin.TopicCommand.main(TopicCommand.scala)Caused by: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /brokers/ids        at org.apache.zookeeper.KeeperException.create(KeeperException.java:111)        at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)        at org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1468)        at org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1496)        at org.I0Itec.zkclient.ZkConnection.getChildren(ZkConnection.java:114)        at org.I0Itec.zkclient.ZkClient$4.call(ZkClient.java:678)        at org.I0Itec.zkclient.ZkClient$4.call(ZkClient.java:675)        at org.I0Itec.zkclient.ZkClient.retryUntilConnected(ZkClient.java:985)        ... 8 more (kafka.admin.TopicCommand$)Status of topic OryxInput:yUpdate topic OryxUpdate does not exist. Create it?Creating topic OryxUpdateError while executing topic command : org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /brokers/ids[2016-04-08 16:53:11,094] ERROR org.I0Itec.zkclient.exception.ZkNoNodeException: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /brokers/ids        at org.I0Itec.zkclient.exception.ZkException.create(ZkException.java:47)        at org.I0Itec.zkclient.ZkClient.retryUntilConnected(ZkClient.java:995)        at org.I0Itec.zkclient.ZkClient.getChildren(ZkClient.java:675)        at org.I0Itec.zkclient.ZkClient.getChildren(ZkClient.java:671)        at kafka.utils.ZkUtils.getChildren(ZkUtils.scala:537)        at kafka.utils.ZkUtils.getSortedBrokerList(ZkUtils.scala:172)        at kafka.admin.AdminUtils$.createTopic(AdminUtils.scala:243)        at kafka.admin.TopicCommand$.createTopic(TopicCommand.scala:107)        at kafka.admin.TopicCommand$.main(TopicCommand.scala:60)        at kafka.admin.TopicCommand.main(TopicCommand.scala)Caused by: org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /brokers/ids        at org.apache.zookeeper.KeeperException.create(KeeperException.java:111)        at org.apache.zookeeper.KeeperException.create(KeeperException.java:51)        at org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1468)        at org.apache.zookeeper.ZooKeeper.getChildren(ZooKeeper.java:1496)        at org.I0Itec.zkclient.ZkConnection.getChildren(ZkConnection.java:114)        at org.I0Itec.zkclient.ZkClient$4.call(ZkClient.java:678)        at org.I0Itec.zkclient.ZkClient$4.call(ZkClient.java:675)        at org.I0Itec.zkclient.ZkClient.retryUntilConnected(ZkClient.java:985)        ... 8 more (kafka.admin.TopicCommand$)Error while executing topic command : Topic OryxUpdate does not exist on ZK path data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka[2016-04-08 16:53:11,833] ERROR java.lang.IllegalArgumentException: Topic OryxUpdate does not exist on ZK path data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        at kafka.admin.TopicCommand$.alterTopic(TopicCommand.scala:119)        at kafka.admin.TopicCommand$.main(TopicCommand.scala:62)        at kafka.admin.TopicCommand.main(TopicCommand.scala) (kafka.admin.TopicCommand$)Status of topic OryxUpdate:[root@data-mining-49 oryx]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ­¤æ—¶å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼š"><a href="#æ­¤æ—¶å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼š" class="headerlink" title="æ­¤æ—¶å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼š"></a>æ­¤æ—¶å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼š</h3><pre class="line-numbers language-none"><code class="language-none">Error while executing topic command : org.apache.zookeeper.KeeperException$NoNodeException: KeeperErrorCode = NoNode for /brokers/ids<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™ä¸ªé—®é¢˜åº”è¯¥æ˜¯ï¼šCDHæ²¡æœ‰å¯åŠ¨KafkaæœåŠ¡æ²¡æœ‰å¯åŠ¨ã€‚é€šè¿‡CDHåå°å¯åŠ¨KafkaæœåŠ¡ï¼ˆå¦‚æœæ²¡æœ‰æ·»åŠ KafkaæœåŠ¡ï¼Œåˆ™éœ€è¦å…ˆæ·»åŠ ï¼‰ã€‚</p><p>![Kafka Service](/assets/images/posts/oryx/add-kafka-service.png)</p><p>æ­¤æ—¶é‡æ–°æ‰§è¡Œsetupå‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 oryx]# ./oryx-run.sh kafka-setupInput   ZK      data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        Kafka   data-mining-47.slave:9092,data-mining-48.slave:9092        topic   OryxInputUpdate  ZK      data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        Kafka   data-mining-47.slave:9092,data-mining-48.slave:9092        topic   OryxUpdateAll available topics:Input topic OryxInput does not exist. Create it? yCreating topic OryxInputCreated topic "OryxInput".Status of topic OryxInput:Topic:OryxInput PartitionCount:4        ReplicationFactor:1     Configs:        Topic: OryxInput        Partition: 0    Leader: 140     Replicas: 140   Isr: 140        Topic: OryxInput        Partition: 1    Leader: 141     Replicas: 141   Isr: 141        Topic: OryxInput        Partition: 2    Leader: 140     Replicas: 140   Isr: 140        Topic: OryxInput        Partition: 3    Leader: 141     Replicas: 141   Isr: 141Update topic OryxUpdate does not exist. Create it? yCreating topic OryxUpdateCreated topic "OryxUpdate".Updated config for topic "OryxUpdate".Status of topic OryxUpdate:Topic:OryxUpdate        PartitionCount:1        ReplicationFactor:1     Configs:retention.ms=86400000,max.message.bytes=16777216        Topic: OryxUpdate       Partition: 0    Leader: 140     Replicas: 140   Isr: 140[root@data-mining-49 oryx]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OKï¼</p><h3 id="éœ€è¦å°†å¦‚ä¸Šçš„äºŒè¿›åˆ¶è„šæœ¬éƒ½åŒæ­¥åˆ°å…¶ä»–é›†ç¾¤çš„èŠ‚ç‚¹ä¸Šäº†"><a href="#éœ€è¦å°†å¦‚ä¸Šçš„äºŒè¿›åˆ¶è„šæœ¬éƒ½åŒæ­¥åˆ°å…¶ä»–é›†ç¾¤çš„èŠ‚ç‚¹ä¸Šäº†" class="headerlink" title="éœ€è¦å°†å¦‚ä¸Šçš„äºŒè¿›åˆ¶è„šæœ¬éƒ½åŒæ­¥åˆ°å…¶ä»–é›†ç¾¤çš„èŠ‚ç‚¹ä¸Šäº†"></a>éœ€è¦å°†å¦‚ä¸Šçš„äºŒè¿›åˆ¶è„šæœ¬éƒ½åŒæ­¥åˆ°å…¶ä»–é›†ç¾¤çš„èŠ‚ç‚¹ä¸Šäº†</h3><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 data]# scp -r oryx/ root@192.168.1.48:/data/compute-classpath.sh    100% 1893     1.9KB/s   00:00oryx-run.sh             100%   13KB  13.2KB/s   00:00oryx-batch-2.1.2.jar    100%   26MB  26.0MB/s   00:00oryx-serving-2.1.2.jar  100%   33MB  33.0MB/s   00:01oryx-speed-2.1.2.jar    100%   26MB  26.0MB/s   00:00oryx.conf               100%   1884  1.8KB/s    00:00<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ªå¯ç”¨çš„æ•°æ®é›†ï¼š"><a href="#æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ªå¯ç”¨çš„æ•°æ®é›†ï¼š" class="headerlink" title="æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ªå¯ç”¨çš„æ•°æ®é›†ï¼š"></a>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦æ‰¾ä¸€ä¸ªå¯ç”¨çš„æ•°æ®é›†ï¼š</h3><p><a href="http://files.grouplens.org/datasets/movielens/ml-100k.zip">MovieLens 100K Dataset</a>ï¼Œ</p><p>å°†è¿™ä¸ªæ•°æ®é›†çš„æ ¼å¼ä¿®æ”¹ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 ml-100k]# tr '\t' ',' &lt; u.data &gt; data.csv[root@data-mining-49 ml-100k]# tail data.csv806,421,4,882388897676,538,4,892685437721,262,3,877137285913,209,2,881367150378,78,3,880056976880,476,3,880175444716,204,5,879795543276,1090,1,87479579513,225,2,88239915612,203,3,879959583[root@data-mining-49 ml-100k]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ•°æ®å‡†å¤‡å®Œæ¯•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡</p><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 oryx]# ./oryx-run.sh kafka-input --input-file data.csv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‘½ä»¤å¯¼å…¥ç³»ç»Ÿï¼Œ åŒæ—¶æ‰“å¼€å¦ä¸€ä¸ªç»ˆç«¯çª—å£ï¼Œé€šè¿‡å‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 oryx]# ./oryx-run.sh kafka-tailInput   ZK      data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        Kafka   data-mining-47.slave:9092,data-mining-48.slave:9092        topic   OryxInputUpdate  ZK      data-mining-46.slave:2181,data-mining-47.slave:2181,data-mining-48.slave:2181/kafka        Kafka   data-mining-47.slave:9092,data-mining-48.slave:9092        topic   OryxUpdate279,64,1,875308510646,750,3,888528902654,370,2,887863914617,582,4,883789294913,690,3,880824288660,229,2,891406212421,498,4,892241344495,1091,4,888637503806,421,4,882388897676,538,4,892685437721,262,3,877137285913,209,2,881367150378,78,3,880056976880,476,3,880175444716,204,5,879795543276,1090,1,87479579513,225,2,88239915612,203,3,879959583<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®æ—¶è·Ÿè¸ªè¾“å…¥å¯¼å…¥æƒ…å†µï¼Œå½“æ•°æ®å…¨éƒ¨å¯¼å…¥å®Œæ¯•åï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨çš„é€šè¿‡Ctrl-Cå…³é—­è¿™ä¸ªå‘½ä»¤ã€‚</p><p>å¦‚æœä»¥ä¸Šå…¨éƒ¨æˆåŠŸäº†ï¼Œå¯ä»¥å…³é—­è¿™äº›è¿›ç¨‹ã€‚é›†ç¾¤è‡³æ­¤å·²ç»å‡†å¤‡å¥½è¿è¡ŒOryxäº†ã€‚</p><h3 id="å¯åŠ¨æœåŠ¡"><a href="#å¯åŠ¨æœåŠ¡" class="headerlink" title="å¯åŠ¨æœåŠ¡"></a>å¯åŠ¨æœåŠ¡</h3><pre class="line-numbers language-none"><code class="language-none">./oryx-run.sh batch./oryx-run.sh speed./oryx-run.sh serving<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>blablablaâ€¦..å¥½å¤šè¾“å‡ºï¼Œå…ˆä¸è¦ç®¡ä»–ã€‚</p><p>ç¡®è®¤æœåŠ¡å±‚å¯åŠ¨æˆåŠŸä»¥åï¼Œå¯ä»¥å¯¼å…¥æ•°æ®ï¼ˆéš¾é“åˆšæ‰å¯¼æ•°æ®æ˜¯æµ‹è¯•ç”¨çš„ï¼Ÿï¼‰</p><pre class="line-numbers language-none"><code class="language-none">wget --quiet --post-file data.csv --output-document -  --header "Content-Type: text/csv" http://192.168.1.49:8080/ingest<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰¹å¤„ç†å±‚å·²ç»å¼€å§‹è§¦å‘ä¸€ä¸ªæ–°çš„è®¡ç®—äº†ã€‚</p><p>æ­¤æ—¶çœ‹çœ‹HDFSä¸­çš„æ•°æ®æ˜¯è¿™æ ·çš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 oryx]# hdfs dfs -ls /OryxFound 2 itemsdrwxr-xr-x   - hdfs supergroup          0 2016-04-08 18:40 /Oryx/datadrwxr-xr-x   - hdfs supergroup          0 2016-04-08 18:40 /Oryx/model^[[A[root@data-mining-49 oryx]# hdfs dfs -ls /Oryx/dataFound 1 itemsdrwxr-xr-x   - hdfs supergroup          0 2016-04-08 18:40 /Oryx/data/oryx-1460112000000.data[root@data-mining-49 oryx]# hdfs dfs -ls /Oryx/modelFound 3 itemsdrwxr-xr-x   - hdfs supergroup          0 2016-04-08 18:41 /Oryx/model/.checkpointdrwxr-xr-x   - hdfs supergroup          0 2016-04-08 18:40 /Oryx/model/.temporarydrwxr-xr-x   - hdfs supergroup          0 2016-04-08 18:40 /Oryx/model/1460112018440[root@data-mining-49 oryx]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¡¨æ˜æ•°æ®å·²ç»okäº†ï¼Œé€šè¿‡APIç¡®è®¤è®¡ç®—æ˜¯å¦å®Œæˆ</p><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 ~]# wget --quiet --output-document - --server-response http://192.168.1.49:8080/ready  HTTP/1.1 200 OK  Content-Length: 0  Date: Fri, 08 Apr 2016 10:43:27 GMT  Server: Oryx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OKï¼</p><h3 id="æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸‹æ¨èç»“æœ"><a href="#æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸‹æ¨èç»“æœ" class="headerlink" title="æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸‹æ¨èç»“æœ"></a>æˆ‘ä»¬æ¥æŸ¥çœ‹ä¸‹æ¨èç»“æœ</h3><pre class="line-numbers language-none"><code class="language-none">[root@data-mining-49 ~]# wget --quiet --output-document -  http://192.168.1.49:8080/recommend/1750,0.8234792673029006127,0.7889597890898585181,0.7442612769082189275,0.7263787714764476258,0.7164891492575407121,0.700639194343239115,0.697495789732784288,0.6787936894688755285,0.669647410511970525,0.6603603088587988[root@data-mining-49 ~]# wget --quiet --output-document -  http://192.168.1.49:8080/recommend/806173,1.08470471354667164,1.01426794147118937,0.9939510896801949183,0.991823517833836422,0.964462065137922869,0.945814429782331202,0.942016797140240711,0.9270770070143044135,0.9227914617804345191,0.9215727103874087[root@data-mining-49 ~]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®Œç¾ç»“æŸã€‚</p><p>è¿™è²Œä¼¼æ˜¯èµ°çš„æ‰¹å¤„ç†é€»è¾‘ï¼Œä¸­é€”å®æ—¶è®¡ç®—å±‚æŒ‚é¸Ÿ</p><pre class="line-numbers language-none"><code class="language-none">16/04/08 18:42:38 INFO SparkContext: Successfully stopped SparkContext16/04/08 18:42:38 INFO OutputCommitCoordinator$OutputCommitCoordinatorEndpoint: OutputCommitCoordinator stopped!Exception in thread "main" org.apache.spark.SparkException: Job aborted due to stage failure: Task 0 in stage 0.0 failed 4 times, most recent failure: Lost task 0.3 in stage 0.0 (TID 3, data-mining-47.slave): java.io.IOException: org.apache.spark.SparkException: Failed to get broadcast_0_piece0 of broadcast_0        at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1177)        at org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock(TorrentBroadcast.scala:165)        at org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute(TorrentBroadcast.scala:64)        at org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast.scala:64)        at org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast.scala:88)        at org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70)        at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:62)        at org.apache.spark.scheduler.Task.run(Task.scala:88)        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:214)        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)        at java.lang.Thread.run(Thread.java:745)Caused by: org.apache.spark.SparkException: Failed to get broadcast_0_piece0 of broadcast_0        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$broadcast$TorrentBroadcast$$readBlocks$1$$anonfun$2.apply(TorrentBroadcast.scala:138)        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$org$apache$spark$broadcast$TorrentBroadcast$$readBlocks$1$$anonfun$2.apply(TorrentBroadcast.scala:138)        at scala.Option.getOrElse(Option.scala:120)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å’±ä»¬ä¸‹ä¸€ç¯‡å†æ‰¾æ‰¾åŸå› å§ã€‚</p><h2 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h2><ul><li><a href="http://oryx.io/docs/admin.html">http://oryx.io/docs/admin.html</a></li><li><a href="http://oryx.io/docs/endusers.html">http://oryx.io/docs/endusers.html</a></li><li><a href="http://oryx.io/docs/developer.html">http://oryx.io/docs/developer.html</a></li><li><a href="http://oryx.io/docs/performance.html">http://oryx.io/docs/performance.html</a></li><li><a href="http://oryx.io/apidocs/index.html">http://oryx.io/apidocs/index.html</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Oryx2 å¼€å‘è€…æ–‡æ¡£</title>
      <link href="/2016-04-06-Oryx2-developer-doc.html"/>
      <url>/2016-04-06-Oryx2-developer-doc.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç¯å¢ƒéœ€æ±‚"><a href="#ç¯å¢ƒéœ€æ±‚" class="headerlink" title="ç¯å¢ƒéœ€æ±‚"></a>ç¯å¢ƒéœ€æ±‚</h3><ul><li><a href="http://git-scm.com/">git</a>, æˆ–è€…ä¸€ä¸ªæ”¯æŒgitçš„IDE</li><li><a href="http://maven.apache.org/">Apache Maven</a> 3.2.1 æˆ–è€…æ›´æ–°ç‰ˆæœ¬</li><li><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">Java JDK</a> (ä¸èƒ½åªæœ‰JRE) 7 æˆ–è€…æ›´æ–°ç‰ˆæœ¬</li></ul><p>ä»¥ä¸Šéœ€è¦å·²ç»å®‰è£…åˆ°äº†ä½ çš„å¼€å‘ç¯å¢ƒä¸­ã€‚</p><span id="more"></span><h2 id="Building"><a href="#Building" class="headerlink" title="Building"></a>Building</h2><p>å…‹éš†ä»£ç åˆ°ä½ æœ¬åœ°ï¼Œå¹¶ä¸”ç¼–è¯‘ï¼š</p><pre class="line-numbers language-none"><code class="language-none">git clone https://github.com/OryxProject/oryx.git oryxcd oryxmvn -DskipTests package<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä¼šç¼–è¯‘å‡ºå¦‚ä¸‹çš„äºŒè¿›åˆ¶çš„jaræ–‡ä»¶ï¼š</p><ul><li>æ‰¹å¤„ç†å±‚: deploy/oryx-batch/target/oryx-batch-2.1.2.jar</li><li>å®æ—¶å¤„ç†å±‚: deploy/oryx-speed/target/oryx-speed-2.1.2.jar</li><li>æœåŠ¡å±‚: deploy/oryx-serving/target/oryx-serving-2.1.2.jar</li></ul><p>å‹æƒ…æé†’ï¼Œå¦‚æœä½ å¯¹å¼€å‘Oryxæ„Ÿå…´è¶£ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ª<a href="https://help.github.com/articles/fork-a-repo">åˆ†æ”¯</a>å…‹éš†è‡ªå·±çš„åˆ†æ”¯ï¼Œç„¶åå°±å¯ä»¥æäº¤ä¿®æ”¹äº†ã€‚</p><h3 id="Java-8"><a href="#Java-8" class="headerlink" title="Java 8"></a>Java 8</h3><p>å¦‚æœä½¿ç”¨Java8ç¼–è¯‘ï¼Œéœ€è¦æ·»åŠ å‚æ•°-Pjava8 å¹¶ä¸”æµ‹è¯•è¿™é‡Œçš„æŒ‡ä»¤ã€‚</p><h3 id="Platform-Only"><a href="#Platform-Only" class="headerlink" title="Platform Only"></a>Platform Only</h3><p>é»˜è®¤çš„ç¼–è¯‘åŒ…æ‹¬åŸºäºSpark MLlibå’Œå…¶ä»–åº“çš„ç«¯åˆ°ç«¯çš„MLç¨‹åºã€‚å¦‚æœåªæ˜¯ç¼–è¯‘lambdaå’ŒMLå±‚ï¼Œéœ€è¦é€šè¿‡å‚æ•°-P!app-tierå…³é—­å…¶ä»–çš„é€‰é¡¹ã€‚æ³¨æ„ï¼Œåœ¨bashä¸­ï¼Œï¼éœ€è¦è½¬ä¹‰ï¼š -P!app-tierã€‚</p><h3 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h3><p>mvn æµ‹è¯•ä¼šæ‰§è¡Œæ‰€æœ‰çš„ä½†æ„¿æµ‹è¯•ç”¨ä¾‹ã€‚ä¹ŸåŒæ—¶ä¼šæ‰§è¡Œæ‰€æœ‰çš„é›†æˆæµ‹è¯•ï¼Œè¿™ä¸ªå¯èƒ½ä¼šéœ€è¦ç¨å¾®é•¿ç‚¹çš„æ—¶é—´ã€‚</p><h2 id="æ¨¡å‹å¯¹åº”è¡¨"><a href="#æ¨¡å‹å¯¹åº”è¡¨" class="headerlink" title="æ¨¡å‹å¯¹åº”è¡¨"></a>æ¨¡å‹å¯¹åº”è¡¨</h2><p>ä¸»è¦çš„æ¨¡å‹å’Œä»–ä»¬å¯¹åº”çš„å±‚ï¼š</p><table><thead><tr><th></th><th>Serving</th><th>Speed</th><th>Batch</th></tr></thead><tbody><tr><td>Binary</td><td>oryx-serving</td><td>oryx-speed</td><td>oryx-batch</td></tr><tr><td>App</td><td>oryx-app-serving</td><td>oryx-app-mllib oryx-app</td><td>oryx-app-mllib oryx-app</td></tr><tr><td>ML</td><td></td><td>oryx-ml</td><td>oryx-ml</td></tr><tr><td>Lambda</td><td>oryx-lambda-serving</td><td>oryx-lambda</td><td>oryx-lambda</td></tr></tbody></table><p>æ”¯æŒçš„æ¨¡å‹ï¼Œæ¯”å¦‚ï¼š<a href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-common">oryx-common</a>, <a href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-common">oryx-app-common</a>, <a href="https://github.com/OryxProject/oryx/tree/master/framework/oryx-api">oryx-api</a>, and <a href="https://github.com/OryxProject/oryx/tree/master/app/oryx-app-api">oryx-app-api</a> æ²¡æœ‰åœ¨è¿™é‡Œåˆ—å‡ºäº†ã€‚</p><h2 id="å®ç°ä¸€ä¸ªOryx-ç¨‹åº"><a href="#å®ç°ä¸€ä¸ªOryx-ç¨‹åº" class="headerlink" title="å®ç°ä¸€ä¸ªOryx ç¨‹åº"></a>å®ç°ä¸€ä¸ªOryx ç¨‹åº</h2><p>Oryx ä¸­çš„â€œapp å±‚â€ï¼Œæ˜¯å®ç°äº†æ¨èçš„çœŸå®çš„æ‰¹å¤„ç†ï¼Œå®æ—¶ï¼ŒæœåŠ¡å±‚é€»è¾‘ï¼Œé›†ç¾¤å’Œåˆ†ç±»ã€‚ç„¶è€Œï¼Œä»»ä½•å®ç°éƒ½éœ€è¦ä½¿ç”¨åˆ°Oryxã€‚ä»–ä»¬ä¹Ÿå¯ä»¥æ··åˆå’ŒåŒ¹é…ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥é‡æ–°å®ç°ALS-relatedæ¨èçš„æ‰¹å¤„ç†å±‚ï¼Œä½†æ˜¯ä»ç„¶ä½¿ç”¨åŸæ¥çš„ALSçš„æœåŠ¡å±‚å’Œå®æ—¶è®¡ç®—å±‚ã€‚</p><h3 id="åˆ›å»ºä¸€ä¸ªç¨‹åº"><a href="#åˆ›å»ºä¸€ä¸ªç¨‹åº" class="headerlink" title="åˆ›å»ºä¸€ä¸ªç¨‹åº"></a>åˆ›å»ºä¸€ä¸ªç¨‹åº</h3><p>åœ¨æ¯ä¸ªä¾‹å­ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰çš„æ‰¹å¤„ç†å±‚ï¼Œå®æ—¶è®¡ç®—å±‚æˆ–è€…æœåŠ¡å±‚çš„ç¨‹åºéƒ½éœ€è¦å®ç°com.cloudera.oryx.apiä¸­çš„å‡ ä¸ªå…³é”®çš„Javaæ¥å£æˆ–è€…Scalaçš„ç‰¹æ€§ã€‚è¿™äº›æ¥å£/ç‰¹æ€§å¯ä»¥åœ¨é¡¹ç›®çš„oryx-apiæ¨¡å‹ä¸­æ‰¾åˆ°ã€‚</p><table><thead><tr><th></th><th>Java</th><th>Scala</th></tr></thead><tbody><tr><td>Batch</td><td>batch.BatchLayerUpdate</td><td>batch.ScalaBatchLayerUpdate</td></tr><tr><td>Speed</td><td>speed.SpeedModelManager</td><td>speed.ScalaSpeedModelManager</td></tr><tr><td>Serving</td><td>serving.ServingModelManager</td><td>serving.ScalaServingModelManager</td></tr></tbody></table><p>com.cloudera.oryx.apiä¹ŸåŒ…å«å¤§é‡çš„å…³é”®çš„ç±»å’Œæ¥å£ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œ<a href="https://github.com/OryxProject/oryx/blob/master/framework/oryx-api/src/main/java/com/cloudera/oryx/api/serving/OryxResource.java">serving.OryxResource</a>  æ˜¯ä¸€ä¸ªå…¥å£ï¼Œç”¨æ¥ç¼–è¯‘è‡ªå®šä¹‰çš„JAX-RS ç«¯ç‚¹ï¼Œä½†æ˜¯ä¸éœ€è¦ä½¿ç”¨ã€‚</p><h3 id="ç¼–è¯‘ç¨‹åº"><a href="#ç¼–è¯‘ç¨‹åº" class="headerlink" title="ç¼–è¯‘ç¨‹åº"></a>ç¼–è¯‘ç¨‹åº</h3><p>è¿›å…¥ä½ çš„ç¨‹åºçš„è¿™äº›æ¥å£/ç‰¹æ€§ï¼Œæ·»åŠ ä¸€ä¸ªcom.cloudera.oryx:oryx-apiçš„ä¾èµ–ï¼Œscopeå­—æ®µéœ€è¦å¡«å†™â€œprovidedâ€ï¼Œåœ¨Mavenä¸­ï¼Œéœ€è¦æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼š<br>In Maven, this would mean adding a dependency like:</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependencies&gt;  &lt;dependency&gt;    &lt;groupId&gt;com.cloudera.oryx&lt;/groupId&gt;    &lt;artifactId&gt;oryx-api&lt;/artifactId&gt;    &lt;scope&gt;provided&lt;/scope&gt;    &lt;version&gt;2.1.2&lt;/version&gt;  &lt;/dependency&gt;&lt;/dependencies&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™äº›artifactsè¢«æ”¾åœ¨äº†<a href="https://repository.cloudera.com/artifactory/cloudera-repos/">Cloudera</a>è¿™ä¸ªåˆ†æ”¯ä¸‹ï¼Œå› æ­¤åœ¨ç¼–è¯‘çš„æ—¶å€™éœ€è¦å¼•ç”¨è¿™ä¸ªåˆ†æ”¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&lt;repositories&gt;  &lt;repository&gt;    &lt;id&gt;cloudera&lt;/id&gt;    &lt;url&gt;https://repository.cloudera.com/artifactory/cloudera-repos/&lt;/url&gt;  &lt;/repository&gt;&lt;/repositories&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸€ä¸ªæœ€å°çš„å®ä¾‹å¯ä»¥è®¿é—®<a href="https://github.com/OryxProject/oryx/tree/master/app/example">example/</a> è¿™é‡Œã€‚</p><p>â€Word Countâ€ è¿™ä¸ªç¨‹åºæ˜¯æŒ‰ç…§ç©ºæ ¼å°†è¡Œåˆ†å‰²æˆç‹¬ç«‹çš„å•è¯ï¼Œç„¶åç»Ÿè®¡å‡ºæ’é‡åçš„å•è¯å‡ºç°çš„æ¬¡æ•°ã€‚</p><p>ç¼–è¯‘ä»£ç åç”Ÿæˆä¸€ä¸ªJARæ–‡ä»¶ï¼ŒåŒ…å«äº†ç¨‹åºå®ç°å’Œæ‰€æœ‰ç¬¬ä¸‰æ–¹çš„diamï¼Œå¦‚æœä½¿ç”¨Mavenï¼Œå¯ä»¥é€šè¿‡mvn packageå‘½ä»¤ã€‚</p><h3 id="ç¼–è¯‘-Word-Count-ä¾‹å­"><a href="#ç¼–è¯‘-Word-Count-ä¾‹å­" class="headerlink" title="ç¼–è¯‘ Word Count ä¾‹å­"></a>ç¼–è¯‘ Word Count ä¾‹å­</h3><p>ä¸¾ä¾‹ï¼šç¼–è¯‘æ ·ä¾‹ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">cd app/examplemvn package<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç”Ÿæˆçš„JARåŒ…åœ¨target/example-2.1.2.jarã€‚</p><h3 id="è‡ªå®šä¹‰Oryxç¨‹åº"><a href="#è‡ªå®šä¹‰Oryxç¨‹åº" class="headerlink" title="è‡ªå®šä¹‰Oryxç¨‹åº"></a>è‡ªå®šä¹‰Oryxç¨‹åº</h3><p>å½“å‘å¸ƒä¸€ä¸ªæºè‡ªOryxçš„é¢„æ‰“åŒ…ç¨‹åºï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæœ‰å¯èƒ½ä¼šæä¾›ä¸€ä¸ªæ‰©å±•çš„å®ç°ï¼Œä»è€Œå¯ä»¥è‡ªå®šä¹‰ä»–ä»¬çš„è¡Œä¸ºã€‚ä¸¾ä¾‹ï¼ŒALSæ¨èç¨‹åºæš´éœ²äº†com.cloudera.oryx.app.als.RescorerProvideræ¥å£ã€‚è¿™äº›ç‰¹å®šç¨‹åºAPIç±»å¯ä»¥åœ¨æ¨¡å—oryx-app-apiä¸­æ‰¾åˆ°ã€‚è¿™äº›æ¥å£çš„å®ç°ä¹Ÿå¯ä»¥åœ¨ç‹¬ç«‹æ¨¡å¼ä¸‹è¢«ç¼–è¯‘ï¼Œæ‰“åŒ…ï¼Œéƒ¨ç½²ã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependencies&gt;  &lt;dependency&gt;    &lt;groupId&gt;com.cloudera.oryx&lt;/groupId&gt;    &lt;artifactId&gt;oryx-app-api&lt;/artifactId&gt;    &lt;scope&gt;provided&lt;/scope&gt;    &lt;version&gt;2.1.2&lt;/version&gt;  &lt;/dependency&gt;&lt;/dependencies&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="å‘å¸ƒç¨‹åº"><a href="#å‘å¸ƒç¨‹åº" class="headerlink" title="å‘å¸ƒç¨‹åº"></a>å‘å¸ƒç¨‹åº</h2><p>æ‹·è´ç”Ÿæˆçš„JARæ–‡ä»¶â€“myapp.jarï¼Œæ”¾åˆ°éœ€è¦æ‰§è¡Œçš„Oryx äºŒè¿›åˆ¶JARæ–‡ä»¶ç›¸åŒçš„ç›®å½•ä¸‹ã€‚</p><p>ä¿®æ”¹Oryxçš„é…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿äºå¼•ç”¨è‡ªå®šä¹‰çš„æ‰¹å¤„ç†ï¼Œå®æ—¶è®¡ç®—å’ŒæœåŠ¡å±‚çš„å®ç°ã€‚<br>å½“æ‰§è¡Œæ‰¹å¤„ç†ï¼Œå®æ—¶è®¡ç®—å’ŒæœåŠ¡å±‚æ—¶ï¼Œéœ€è¦æ·»åŠ â€“app-jar myapp.jaråˆ°oryx-run.shå‘½ä»¤è¡Œä¸­ã€‚</p><h3 id="å‘å¸ƒ-Word-Count-ä¾‹å­"><a href="#å‘å¸ƒ-Word-Count-ä¾‹å­" class="headerlink" title="å‘å¸ƒ Word Count ä¾‹å­"></a>å‘å¸ƒ Word Count ä¾‹å­</h3><p>ä¸¾ä¾‹ï¼Œå¦‚æœå·²ç»ç¼–è¯‘å¥½äº†ä¸Šè¿°çš„â€œword countâ€çš„ç¨‹åºï¼Œä½ å¯ä»¥æ‰§è¡Œè¿™ä¸ªç¨‹åºï¼Œç›´æ¥å¼•ç”¨wordcount-example.confè¿™ä¸ªé…ç½®æ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">./oryx-run.sh batch --conf wordcount-example.conf --app-jar example-2.1.2.jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>â€¦ å¯¹äºå®æ—¶è®¡ç®—å’ŒæœåŠ¡å±‚ä¹Ÿæ˜¯åŒæ ·çš„ã€‚</p><pre class="line-numbers language-none"><code class="language-none">curl -X POST http://.../add/foo%20bar%20baz...curl http://.../distinct{"foo":2,"bar":2,"baz":2}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>é…ç½®æ–‡ä»¶æœ¬èº«å·²ç»é…ç½®å¥½äº†ä¸»æœºåç§°å’Œ<a href="http://www.cloudera.com/content/www/en-us/downloads/quickstart_vms.html">Cloudera Quickstart VM</a>çš„å‚æ•°ã€‚äº‹å®ä¸Šï¼Œè¿™ä¸ªä¾‹å­å¯ä»¥ä½œä¸ºä¸€ä¸ªé›†ç¾¤é…ç½®çš„ä¾‹å­ï¼š<a href="http://oryx.io/docs/admin.html#cloudera_quickstart_vm_setup">Cloudera Quickstart VM Setup</a>ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Oryx2 æ€§èƒ½ä¼˜åŒ–æ–‡æ¡£</title>
      <link href="/2016-04-07-Oryx2-performance-doc.html"/>
      <url>/2016-04-07-Oryx2-performance-doc.html</url>
      
        <content type="html"><![CDATA[<p>è¿™é‡Œæ”¶é›†äº†å„ç§æ„è§ï¼Œç»éªŒæ³•åˆ™å’ŒåŸºå‡†æµ‹è¯•ç›¸å…³çš„æ€§èƒ½ï¼šåšè¿™äº›ä¸åŒçš„å·¥ä½œéœ€è¦å¤šå°‘èµ„æºã€‚</p><span id="more"></span><h2 id="ç¡¬ä»¶å’Œé›†ç¾¤è®¾è®¡"><a href="#ç¡¬ä»¶å’Œé›†ç¾¤è®¾è®¡" class="headerlink" title="ç¡¬ä»¶å’Œé›†ç¾¤è®¾è®¡"></a>ç¡¬ä»¶å’Œé›†ç¾¤è®¾è®¡</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹ç¡¬ä»¶æˆ–è€…é›†ç¾¤æ²¡æœ‰ç‰¹åˆ«çš„è¦æ±‚ã€‚é›†ç¾¤èµ„æºçš„éœ€æ±‚ä¸»è¦å–å†³äºåŸºäºSparkçš„ä½œä¸šï¼Œè¿™äº›å¾€å¾€æ˜¯å†…å­˜å¯†é›†å‹å’ŒCPUå¯†é›†å‹çš„ï¼Œä½†æ˜¯ä¸€èˆ¬ä¸ä¼šæ˜¯I/Oç»‘å®šçš„ã€‚å¦‚æœæ•°æ®çš„é‡‡é›†ç‡éå¸¸çš„é«˜ï¼ŒKafkaå¯èƒ½éœ€è¦ä¸€äº›ç‰¹æ®Šçš„è€ƒè™‘ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œé’ˆå¯¹å…¶ä»–ä»»ä½•çš„Kafkaæˆ–è€…Sparkä½œä¸šå¹¶æ²¡æœ‰ä¸åŒçš„æ ‡å‡†ã€‚</p><h3 id="æ•°æ®ä¼ è¾“"><a href="#æ•°æ®ä¼ è¾“" class="headerlink" title="æ•°æ®ä¼ è¾“"></a>æ•°æ®ä¼ è¾“</h3><p>å› ä¸ºKafkaæ˜¯åº•å±‚ä¼ è¾“æ•°æ®çš„ï¼Œå­˜å‚¨è¦æ±‚çš„é‡‡é›†å’Œå­˜æ”¾æ•°æ®å¯¹äºKafkaä¹Ÿå°±æ˜¯è¿™æ ·çš„ã€‚æŸ¥çœ‹<a href="http://kafka.apache.org/performance.html">Kafka æ€§èƒ½</a>ä¸­æåˆ°çš„å†…å®¹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼ŒKafkaå¹¶ä¸ä¼šæ¥è¿‘ç“¶é¢ˆï¼Œä¹Ÿèƒ½å¤Ÿåƒå…¶ä»–Kafkaçš„ä½¿ç”¨ä¸€æ ·è°ƒæ•´èµ„æºå ç”¨å¤§å°ã€‚</p><h3 id="æ‰¹å¤„ç†å±‚"><a href="#æ‰¹å¤„ç†å±‚" class="headerlink" title="æ‰¹å¤„ç†å±‚"></a>æ‰¹å¤„ç†å±‚</h3><p>æ‰¹å¤„ç†å±‚ç‹¬ç‰¹çš„åœ°æ–¹æ˜¯æ¨¡å‹çš„æ„å»º, and the element that is of most interest to benchmark are likely the model building processes implemented in the app tier, on top of MLlib. Here again, the resources required to build a model over a certain amount of data are just that of the underlying MLlib implementations of ALS, k-means and decision forests.</p><p>MLlibçš„ä»»ä½•æ€§èƒ½ä¼˜åŒ–æˆ–è€…æ˜¯åŸºå‡†æµ‹è¯•éƒ½é€‚ç”¨äºè¿™äº›åŸºäºMLlibé¢„åˆ¶çš„å®ç°çš„æ‰¹å¤„ç†å±‚ï¼Œè¿™å¯¹äºOryxä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><h3 id="JVM-ä¼˜åŒ–"><a href="#JVM-ä¼˜åŒ–" class="headerlink" title="JVM ä¼˜åŒ–"></a>JVM ä¼˜åŒ–</h3><p>Choosing the number of Spark executors, cores and memory is a topic in its own right.</p><p>å¾ˆè‡ªç„¶çš„ï¼Œæ›´å¤šçš„executorsæ„å‘³ç€æ›´å¤šçš„æ ¸å¿ƒå’Œå†…å­˜ã€‚ä½†æ˜¯æ•°é‡æ˜¯ä¸èƒ½è¶…å¤šé›†ç¾¤ä¸Šæœºå™¨çš„æ€»æ•°é‡çš„ï¼›è¯·æŸ¥çœ‹ï¼šoryx.batch.streaming.num-executorsã€‚</p><p>æ›´å¤šçš„æ ¸ï¼Œæ„å‘³ç€å¯èƒ½ä¼šæœ‰æ›´å¤šçš„å¹¶å‘è¿›ç¨‹ã€‚åœ¨å…¸å‹çš„æ¨¡å‹æ„å»ºè¿›ç¨‹ä¸­ï¼Œå¦‚æœèƒ½è¾¾åˆ°ä»»åŠ¡æ€»æ•°çš„ä¸‰åˆ†ä¹‹ä¸€æˆ–è€…2åˆ†ä¹‹ä¸€çš„è¯ï¼Œè¿™å°†æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚ä½ å¯ä»¥è§‚å¯Ÿåˆ°ä»»åŠ¡çš„æ•°é‡ï¼Œä»¥åŠSpark UIä¸­æ‰¹å¤„ç†å±‚å›ºæœ‰çš„å¹¶å‘æƒ…å†µã€‚åœ¨è¿™æ•°é‡ä¹‹ä¸‹ï¼Œæ ¸æ•°å†å¤šä¹Ÿæ— æ³•å¢åŠ æ›´å¤šçš„å¹¶å‘äº†ã€‚å°‘ä¸€äº›æ˜¯å¯ä»¥çš„ï¼Œæ— éå°±æ˜¯å¢åŠ äº†ç‚¹è¿è¡Œæ—¶é—´ã€‚å½“ç„¶ï¼Œåœ¨æ‰¹å¤„ç†çš„æ—¶é—´é—´éš”å†…ï¼Œå……è¶³çš„æ ¸æ•°å¯ä»¥ä¿è¯æ‰¹å¤„ç†çš„é¡ºåˆ©å®Œæˆã€‚æ ¸çš„æ•°é‡å¯ä»¥é€šè¿‡oryx.batch.streaming.executor-coresè¿›è¡Œé…ç½®ã€‚</p><p>å¦‚æœä½ çš„ä½œä¸šå‘ç”Ÿäº†å†…å­˜æº¢å‡ºï¼Œé©±åŠ¨å™¨å’Œexecutorså¯èƒ½éœ€è¦æ›´å¤šçš„å†…å­˜ã€‚å¦‚æœä½ æ³¨æ„åˆ°åœ¨æ‰¹å¤„ç†å±‚çš„â€å­˜å‚¨â€æ ‡ç­¾é¡µä¸­å¹¶ä¸æ˜¯100%çš„RDDè¢«ç¼“å­˜ä½äº†ï¼Œé‚£ä¹ˆæ›´å¤šçš„å†…å­˜å¯èƒ½ä¼šæœ‰æ‰€å¸®åŠ©ã€‚æŸ¥çœ‹ï¼šoryx.batch.streaming.executor-memoryã€‚</p><p>oryx-run.shè„šæœ¬çš„â€“jvm-argså‚æ•°æ˜¯ç”¨æ¥ä¸ºæ‰€æœ‰çš„JVMè¿›ç¨‹è®¾ç½®å†…å­˜å‚æ•°çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œé€šè¿‡è®¾ç½® -XX:+UseG1GC ï¼Œä¼šè¾¾åˆ°ä¸€ä¸ªæ¯”è¾ƒåˆç†çš„æ•ˆæœã€‚</p><h3 id="æœåŠ¡å±‚"><a href="#æœåŠ¡å±‚" class="headerlink" title="æœåŠ¡å±‚"></a>æœåŠ¡å±‚</h3><p>REST API åç«¯æœåŠ¡å™¨æ˜¯Tomcatã€‚é…ç½®æ–‡ä»¶æ˜¯æ²¡æœ‰æš´éœ²ç»™ç”¨æˆ·çš„ï¼Œä½†æ˜¯å¯¹äºä»–çš„è´Ÿè½½å·²ç»åšäº†åˆç†çš„è°ƒæ•´ã€‚Tomcatå®¹å™¨æœ¬èº«å¼€é”€å¾ˆå°ï¼Œä¸éœ€è¦æ‹…å¿ƒæ€§èƒ½é—®é¢˜ã€‚</p><p>æœ€å¯èƒ½æ„Ÿå…´è¶£çš„æ˜¯é¡¹ç›®ä¸­æä¾›çš„å…³äºCPUå¯†é›†å‹ç¨‹åºå®ç°çš„æ€§èƒ½é—®é¢˜ï¼Œè€Œä¸æ˜¯æ¡†æ¶æœ¬èº«ã€‚</p><h3 id="åŸºå‡†æµ‹è¯•-äº¤æ›¿æœ€å°äºŒä¹˜æ³•æ¨è"><a href="#åŸºå‡†æµ‹è¯•-äº¤æ›¿æœ€å°äºŒä¹˜æ³•æ¨è" class="headerlink" title="åŸºå‡†æµ‹è¯•: äº¤æ›¿æœ€å°äºŒä¹˜æ³•æ¨è"></a>åŸºå‡†æµ‹è¯•: äº¤æ›¿æœ€å°äºŒä¹˜æ³•æ¨è</h3><p>ç”±äºALSå®ç°çš„ç¨‹åºçš„æœåŠ¡å±‚çš„å¤§å¤šæ•°çš„æ“ä½œæ˜¯ï¼Œä¼šåœ¨å†…å­˜ä¸­å®æ—¶çš„è®¡ç®—ä¸€ä¸ªéå¸¸å¤§çš„çŸ©é˜µï¼Œæ‰€ä»¥è¿™ä¸ªç¨‹åºæ˜¯æœ€å…·æœ‰æŒ‘æˆ˜æ€§çš„äº†ã€‚å¤§æ¦‚å…¶çš„è§„åˆ™å¦‚ä¸‹ï¼š</p><p>å¦‚æœéœ€è¦è¿è¡Œç±»ä¼¼çš„åŸºå‡†æµ‹è¯•ï¼Œå¯ä»¥ä½¿ç”¨LoadBenchmarkï¼Œå¯ä»¥æŒ‰ç…§å¦‚ä¸‹çš„é…ç½®ï¼š</p><pre class="line-numbers language-none"><code class="language-none">mvn -DskipTests clean installcd app/oryx-app-serving...mvn -Pbenchmark \ -Doryx.test.als.benchmark.users=1000000 \ -Doryx.test.als.benchmark.items=5000000 \ -Doryx.test.als.benchmark.features=250 \ -Doryx.test.als.benchmark.lshSampleRate=0.3 \ -Doryx.test.als.benchmark.workers=2 \ integration-test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å†…å­˜"><a href="#å†…å­˜" class="headerlink" title="å†…å­˜"></a>å†…å­˜</h3><ul><li>å†…å­˜éœ€æ±‚æ˜¯æˆçº¿æ€§çš„ï¼š(users + items) x features</li><li>-XX:+UseStringDeduplication åœ¨ Java 8ä¸­æ˜¯éå¸¸æœ‰ç”¨çš„ (reflected below)</li><li>At scale, 1M users or items ~= 500-1000M of heap required, depending on features</li></ul><p>  Example steady-state heap usage (Java 8):</p><table><thead><tr><th>Features</th><th>Users+Items (M)</th><th>Heap (MB)</th></tr></thead><tbody><tr><td>50</td><td>2</td><td>1400</td></tr><tr><td>50</td><td>6</td><td>2600</td></tr><tr><td>50</td><td>21</td><td>7500</td></tr><tr><td>250</td><td>2</td><td>3000</td></tr><tr><td>250</td><td>6</td><td>7500</td></tr><tr><td>250</td><td>21</td><td>25800</td></tr></tbody></table><h3 id="è¯·æ±‚å»¶è¿Ÿï¼Œååé‡"><a href="#è¯·æ±‚å»¶è¿Ÿï¼Œååé‡" class="headerlink" title="è¯·æ±‚å»¶è¿Ÿï¼Œååé‡"></a>è¯·æ±‚å»¶è¿Ÿï¼Œååé‡</h3><ul><li>Recommend and similarity computation time scales linearly with items x features</li><li>A single request is parallelized across CPUs; max throughput and minimum latency is already achieved at about 1-2 concurrent requests</li><li>Locality sensitive hashing decreases processing time roughly linearly; 0.33 ~= 1/0.33 ~= 3x faster (setting too low adversely affects result quality)</li></ul><p>  Below are representative throughput / latency measurements for the /recommend endpoint using<br>  a 32-core Intel Xeon 2.3GHz (Haswell), OpenJDK 8 and flags -XX:+UseG1GC -XX:+UseStringDeduplication. Heap size was comfortably large enough for the data set in each case. The tests were run with 1-3 concurrent request at a time, as necessary to achieve near-full CPU utilization.</p><p><em>With LSH (sample rate = 0.3)</em></p><table><thead><tr><th>Features</th><th>Items (M)</th><th>Throughput (qps)</th><th>Latency (ms)</th></tr></thead><tbody><tr><td>50</td><td>1</td><td>437</td><td>7</td></tr><tr><td>250</td><td>1</td><td>151</td><td>13</td></tr><tr><td>50</td><td>5</td><td>84</td><td>24</td></tr><tr><td>250</td><td>5</td><td>36</td><td>56</td></tr><tr><td>50</td><td>20</td><td>14</td><td>69</td></tr><tr><td>250</td><td>20</td><td>6</td><td>162</td></tr></tbody></table><p><em>Without LSH (sample rate = 1.0)</em></p><table><thead><tr><th>Features</th><th>Items (M)</th><th>Throughput (qps)</th><th>Latency (ms)</th></tr></thead><tbody><tr><td>50</td><td>1</td><td>74</td><td>27</td></tr><tr><td>250</td><td>1</td><td>23</td><td>44</td></tr><tr><td>50</td><td>5</td><td>13</td><td>80</td></tr><tr><td>250</td><td>5</td><td>5</td><td>191</td></tr><tr><td>50</td><td>20</td><td>4</td><td>282</td></tr><tr><td>250</td><td>20</td><td>1</td><td>708</td></tr></tbody></table><h3 id="JVM-ä¼˜åŒ–-1"><a href="#JVM-ä¼˜åŒ–-1" class="headerlink" title="JVM ä¼˜åŒ–"></a>JVM ä¼˜åŒ–</h3><p>æœºå™¨ä¸Šè¿è¡Œï¼ˆå¤šä¸ªï¼‰æœåŠ¡å±‚ï¼Œä½¿ç”¨è¶Šå¤šçš„å¯ç”¨çš„æ ¸ï¼Œæ„å‘³ç€å¯ä»¥æä¾›æ›´å¤šçš„å¹¶å‘è¯·æ±‚å¤„ç†èƒ½åŠ›ã€‚åœ¨ALSä¸­ï¼Œä¸€äº›è¯·æ±‚ï¼Œæ¯”å¦‚/recommend å¯ä»¥åœ¨ä¸€ä¸ªè¯·æ±‚ä¸­é€šè¿‡å¤šæ ¸è®¡ç®—å®Œæˆã€‚</p><p>å†…å­˜çš„éœ€æ±‚ä¸»è¦æ˜¯ç”±åŠ è½½è¿›å†…å­˜çš„æ¨¡å‹çš„éœ€æ±‚æ§åˆ¶çš„ã€‚å¯¹äºå¤§çš„æ¨¡å‹ï¼Œæ¯”å¦‚ALSï¼Œè¿™å°±æ„å‘³ç€éœ€è¦ç¡®ä¿æœåŠ¡å±‚æœ‰è¶³å¤Ÿçš„å†…å­˜ä»¥ä¿è¯ä¸ä¼šå¯¼è‡´GCå´©æºƒã€‚æŸ¥çœ‹oryx.serving.memoryã€‚</p><p>-XX:+UseG1GC remains a good garbage collection setting to supply with â€“jvm-args. In Java 8, -XX:+UseStringDeduplication can reduce memory requirements by about 20%.</p><h3 id="å®æ—¶è®¡ç®—å±‚"><a href="#å®æ—¶è®¡ç®—å±‚" class="headerlink" title="å®æ—¶è®¡ç®—å±‚"></a>å®æ—¶è®¡ç®—å±‚</h3><p>å®æ—¶è®¡ç®—å±‚é©±åŠ¨è¿›ç¨‹ç±»ä¼¼æœåŠ¡å±‚é‚£æ ·ä¹Ÿæ˜¯éœ€è¦å¤§é‡å†…å­˜çš„ï¼Œå› ä¸ºä»–ä¹Ÿæ˜¯éœ€è¦åŠ è½½ä¸€ä¸ªæ¨¡å‹åˆ°å†…å­˜ä¸­çš„ã€‚é©±åŠ¨è¿›ç¨‹çš„å†…å­˜æ˜¯é€šè¿‡oryx.speed.streaming.driver-memoryæ§åˆ¶çš„ï¼Œä¹Ÿéœ€è¦å’ŒæœåŠ¡å±‚å†…å­˜ä¸€æ ·è®¾ç½®ï¼Œå¹¶ä¸”ä¹Ÿéœ€è¦JVMçš„ä¸€äº›flagsæ”¯æŒã€‚</p><p>è¿™ä¹Ÿæ˜¯ä¸€ä¸ªSpark Streaming ä½œä¸šï¼Œä¹Ÿéœ€è¦æƒ³æ‰¹å¤„ç†å±‚é‚£æ ·é…ç½®executorsã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œéœ€è¦æ›´å°‘çš„å¤„ç†å’Œæ›´ä½çš„æ—¶é—´å»¶è¿Ÿã€‚</p><p>Executors will have to be sized to consume input Kafka partitions fully in parallel; the number of cores times number of executors should be at least the number of Kafka partitions.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…³é”®å­—volatile</title>
      <link href="/2016-03-08-Java-keyword-volatile.html"/>
      <url>/2016-03-08-Java-keyword-volatile.html</url>
      
        <content type="html"><![CDATA[<p>ç¿»è¯‘è‡ªï¼š<a href="http://tutorials.jenkov.com/java-concurrency/volatile.html">http://tutorials.jenkov.com/java-concurrency/volatile.html</a></p><h3 id="Java-Volatile-å…³é”®å­—"><a href="#Java-Volatile-å…³é”®å­—" class="headerlink" title="Java Volatile å…³é”®å­—"></a>Java Volatile å…³é”®å­—</h3><p>Javaå…³é”®å­—volatileæ ‡è¯†ä¸€ä¸ªå˜é‡â€œè¢«å­˜å‚¨åœ¨ä¸»å†…å­˜ä¸­â€ã€‚æ›´å‡†ç¡®çš„è¯´æ³•æ˜¯ï¼šæ¯æ¬¡volatileå˜é‡ä¼šä»ä¸»å†…å­˜ä¸­è¯»å–ï¼Œè€Œä¸æ˜¯ä»CPUç¼“å­˜ï¼›æ¯æ¬¡volatileå˜é‡çš„å†™æ“ä½œä¼šå†™å…¥ä¸»å†…å­˜ï¼Œè€Œä¸ä»…ä»…æ˜¯CPUç¼“å­˜ã€‚</p><p>å®é™…ä¸Šï¼Œè‡ªJava5å¼€å§‹ï¼Œvolatileå…³é”®å­—ä¿è¯çš„æ˜¯volatileå£°æ˜çš„å˜é‡éƒ½æ˜¯å†™å…¥å’Œè¯»å–è‡ªä¸»å†…å­˜çš„ã€‚ä»¥ä¸‹å°†ä¼šè¯¦ç»†è®²è§£ã€‚</p><!--more--><h3 id="Java-volatileä¿è¯å¯è§æ€§"><a href="#Java-volatileä¿è¯å¯è§æ€§" class="headerlink" title="Java volatileä¿è¯å¯è§æ€§"></a>Java volatileä¿è¯å¯è§æ€§</h3><p>Javaä¸­volatileå…³é”®å­—ä¿è¯äº†çº¿ç¨‹ä¹‹é—´å˜é‡ä¿®æ”¹çš„å¯è§æ€§ã€‚è¿™ä¸ªå¯èƒ½ä¼šæœ‰ç‚¹æŠ½è±¡ï¼Œå› æ­¤è®©æˆ‘è¯¦ç»†è®²è§£ä¸‹ã€‚</p><p>åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­ï¼Œç”±äºæ€§èƒ½çš„åŸå› ï¼Œåœ¨æ“ä½œévolatileå˜é‡çš„æ—¶å€™ï¼Œæ¯ä¸ªçº¿ç¨‹ä¼šå°†å˜é‡è‡ªä¸»å†…å­˜æ‹·è´ğŸˆ¯ï¸CPUç¼“å­˜ã€‚å¦‚æœä½ çš„è®¡ç®—æœºæ˜¯å¤šæ ¸çš„ï¼Œæ¯ä¸ªçº¿ç¨‹å°±ä¼šè¿è¡Œåœ¨ä¸åŒçš„CPUä¸Šã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªçº¿ç¨‹ä¼šæ‹·è´å˜é‡åˆ°ä¸åŒçš„CPUç¼“å­˜ä¸­ã€‚è§æ’å›¾ï¼š</p><p>![volatile](/assets/images/posts/volatile/java-volatile-1.png)</p><p>ä½¿ç”¨évolatileå˜é‡ï¼Œå½“JVMè‡ªä¸»å†…å­˜è¯»å–æ•°æ®åˆ°CPUç¼“å­˜ï¼Œæˆ–è€…è‡ªCPUç¼“å­˜å†™å…¥ä¸»å†…å­˜æ—¶ï¼Œæ˜¯æ²¡æœ‰ä¿è¯çš„ã€‚è¿™å¯èƒ½ä¼šå¼•èµ·å¾ˆå¤šé—®é¢˜ï¼Œæ¥ä¸‹æ¥ç« èŠ‚ä¸­ä¼šé™åˆ°ã€‚</p><p>è®¾æƒ³ä¸€ç§æƒ…å†µï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥è®¿é—®ç±»ä¼¼å¦‚ä¸‹çš„åŒä¸€ä¸ªå…±äº«å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«ä¸€ä¸ªè®¡æ•°å™¨å˜é‡ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharedObject</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¦ä¸€ä¸ªè®¾æƒ³ï¼Œåªæœ‰çº¿ç¨‹1æ”¹å˜è®¡æ•°å˜é‡ï¼Œä½†æ˜¯çº¿ç¨‹1å’Œçº¿ç¨‹2éƒ½å¯èƒ½ç»å¸¸è¯»å–è¿™ä¸ªè®¡æ•°å˜é‡ã€‚</p><p>å¦‚æœè®¡æ•°å˜é‡æ²¡æœ‰è¢«å£°æ˜ä¸ºvolatileï¼Œé‚£ä¹ˆè‡ªCPUç¼“å­˜å›å†™åˆ°ä¸»å†…å­˜çš„è¿‡ç¨‹ä¸­ï¼Œå°±æ— æ³•ä¿è¯è¿™ä¸ªè®¡æ•°å˜é‡çš„å€¼äº†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŠ€æœ¯å˜é‡çš„å€¼åœ¨é€šè¿‡CPUç¼“å­˜å†™ä¼šä¸»å†…å­˜çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†æ”¹å˜ã€‚å¦‚å›¾ï¼š</p><p>![volatile 2](/assets/images/posts/volatile/java-volatile-2.png)</p><p>è¿™ä¸ªé—®é¢˜æ˜¯å› ä¸ºçº¿ç¨‹å¹¶æ²¡æœ‰å¾—åˆ°æœ€æ–°çš„å€¼ï¼Œå¦å¤–é‚£ä¸ªçº¿ç¨‹å¹¶æ²¡æœ‰å°†æœ€æ–°çš„å˜é‡å†™å›ä¸»å†…å­˜ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œå¯è§â€é—®é¢˜ã€‚æŸä¸€ä¸ªçº¿ç¨‹çš„æ›´æ–°å¹¶æ²¡æœ‰è¢«å¦å¤–çš„çº¿ç¨‹è·å–ã€‚</p><p>é€šè¿‡å£°æ˜è®¡æ•°å˜é‡ä¸ºvolatileï¼Œé‚£ä¹ˆè¿™ä¸ªè®¡æ•°å˜é‡æ‰€æœ‰çš„æ›´æ–°éƒ½ä¼šç«‹å³è¢«å†™å›ä¸»å†…å­˜ã€‚åŒæ—¶ï¼Œæ‰€æœ‰çš„è¯»æ“ä½œéƒ½ä¼šç›´æ¥é€šè¿‡ä¸»å†…å­˜ã€‚å¦‚ä¸‹æ—¢æ˜¯å¦‚ä½•å£°æ˜è®¡æ•°å˜é‡ä¸ºvolatileç±»å‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SharedObject</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">volatile</span> <span class="token keyword">int</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å£°æ˜ä¸€ä¸ªå˜é‡ä¸ºvolatileç”±æ­¤å¯ä»¥ä¿è¯äº†å˜é‡çš„å†™æ“ä½œå¯¹äºå…¶ä»–çº¿ç¨‹éƒ½æ˜¯å¯è§çš„ã€‚</p><h3 id="The-Java-volatile-Happens-Before-Guarantee"><a href="#The-Java-volatile-Happens-Before-Guarantee" class="headerlink" title="The Java volatile Happens-Before Guarantee"></a>The Java volatile Happens-Before Guarantee</h3><p>è‡ªJava5å¼€å§‹ï¼Œvolatileå…³é”®å­—ä¿è¯çš„ä¸æ­¢æ˜¯å˜é‡çš„ä¸»å†…å­˜è¯»å’Œå†™ï¼Œå®é™…ä¸Šè¿˜åŒ…å«ï¼š</p><ul><li><p>å¦‚æœçº¿ç¨‹Aå†™å…¥ä¸€ä¸ªvolatileå˜é‡ï¼Œæ­¤æ—¶çº¿ç¨‹Bè¯»å–äº†ç›¸åŒçš„volatileå˜é‡ï¼Œé‚£ä¹ˆæ­¤æ—¶æ‰€æœ‰çš„å˜é‡åœ¨å†™å…¥volatileå˜é‡å‰å¯¹çº¿ç¨‹Aæ˜¯å¯è§çš„ï¼ŒåŒæ—¶ä¹Ÿå¯¹çº¿ç¨‹Båœ¨è¯»å–äº†volatileå˜é‡åä¹Ÿæ˜¯å¯è§çš„ã€‚</p></li><li><p>volatileå˜é‡çš„è¯»å†™æŒ‡ä»¤ä¸èƒ½ä¿ƒä½¿JVMé‡æ–°æ’åºï¼ˆåªè¦JVMå‘ç°æ’åºä¸ä¼šæ”¹å˜ç¨‹åºçš„è¡Œä¸ºï¼ŒåŸºäºæ€§èƒ½çš„åŸå› ï¼ŒJVMä¼šè¿›è¡Œæ’åºï¼‰ã€‚å‰åçš„æŒ‡ä»¤ä¼šè¢«æ’åºï¼Œä½†æ˜¯volatileå¾—è¯»å†™ä¸ä¼šæ··å…¥è¿™äº›æŒ‡ä»¤ã€‚æ— è®ºå¦‚ä½•ï¼ŒæŒ‡ä»¤éƒ½ä¼šfollowä¸€ä¸ªvolatileå˜é‡çš„è¯»å†™ï¼Œå¹¶ä¸”ä¿è¯è¿™ç§æ“ä½œå‘ç”Ÿåœ¨è¯»æˆ–è€…å†™ä¹‹åã€‚</p></li></ul><p>è¿™ä¸ªéœ€è¦æ›´æ·±å…¥çš„è§£é‡Šã€‚</p><p>å½“ä¸€ä¸ªçº¿ç¨‹å†™å…¥ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼Œå¹¶ä¸æ­¢è¿™ä¸ªvolatileå˜é‡è‡ªå·±å†™å…¥äº†ä¸»å†…å­˜ã€‚åŒæ—¶æ‰€æœ‰è¢«çº¿ç¨‹ä¿®æ”¹çš„å˜é‡åœ¨å†™å…¥volatileå˜é‡ä¹‹å‰éƒ½ä¼šè¢«å›å†™åˆ°ä¸»å†…å­˜ã€‚å½“ä¸€ä¸ªçº¿ç¨‹è¯»å–ä¸€ä¸ªvolatileå˜é‡æ—¶ï¼Œä»–ä¼šåŒæ—¶è¯»å–ä¸»å†…å­˜ä¸­æ‰€æœ‰å…¶ä»–çš„å˜é‡ï¼Œè¿™äº›å˜é‡éƒ½æ˜¯å’Œvolatileå˜é‡ä¸€åŒå†™å…¥ä¸»å†…å­˜çš„ã€‚</p><p>çœ‹ä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Thread A:</span>    sharedObject<span class="token punctuation">.</span>nonVolatile <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>    sharedObject<span class="token punctuation">.</span>counter     <span class="token operator">=</span> sharedObject<span class="token punctuation">.</span>counter <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">// Thread B:</span>    <span class="token keyword">int</span> counter     <span class="token operator">=</span> sharedObject<span class="token punctuation">.</span>counter<span class="token punctuation">;</span>    <span class="token keyword">int</span> nonVolatile <span class="token operator">=</span> sharedObject<span class="token punctuation">.</span>nonVolatile<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å› ä¸ºçº¿ç¨‹Aåœ¨å†™å…¥volatileå˜é‡sharedObject.counterä¹‹å‰å†™å…¥äº†évolatileå˜é‡sharedObject.nonVolatileï¼Œé‚£ä¹ˆå½“çº¿ç¨‹Aå†™å…¥sharedObject.counteræ—¶ï¼ŒsharedObject.nonVolatile å’Œ sharedObject.counter éƒ½ä¼šè¢«å†™å…¥ä¸»å†…å­˜ã€‚</p><p>ç”±äºçº¿ç¨‹Bå¼€å§‹çš„æ—¶å€™è¯»å–volatileç±»å‹çš„sharedObject.counterï¼Œé‚£ä¹ˆsharedObject.counter and sharedObject.nonVolatileéƒ½ä¼šä½¿ç”¨çº¿ç¨‹Bè‡ªä¸»å†…å­˜è¯»å–åˆ°CPUç¼“å­˜ã€‚ç­‰åˆ°çº¿ç¨‹Bè¯»å–sharedObject.nonVolatileæ—¶ï¼Œå°±ä¼šçœ‹åˆ°çº¿ç¨‹Aå†™å…¥çš„å€¼ã€‚</p><p>å¼€å‘è€…å¯èƒ½ä¼šä½¿ç”¨è¿™ç§æ‰©å±•çš„å¯è§æ€§ï¼Œä¿è¯äº†çº¿ç¨‹ä¹‹é—´å˜é‡çš„å¯è§æ€§ã€‚åªéœ€è¦å£°æ˜ä¸€ä¸ªæˆ–è€…éå¸¸å°‘çš„volatileå˜é‡æ›¿æ¢æ‰æ¯ä¸ªå˜é‡éƒ½å£°æ˜ä¸ºvolatileã€‚å¦‚ä¸‹æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Exchanger</span> <span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token class-name">Object</span>   object       <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">volatile</span> hasNewObject <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Object</span> newObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">while</span><span class="token punctuation">(</span>hasNewObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token comment">//wait - do not overwrite existing new object</span>        <span class="token punctuation">}</span>        object <span class="token operator">=</span> newObject<span class="token punctuation">;</span>        hasNewObject <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//volatile write</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">take</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>hasNewObject<span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//volatile read</span>            <span class="token comment">//wait - don't take old object (or null)</span>        <span class="token punctuation">}</span>        <span class="token class-name">Object</span> obj <span class="token operator">=</span> object<span class="token punctuation">;</span>        hasNewObject <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//volatile write</span>        <span class="token keyword">return</span> obj<span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çº¿ç¨‹Aé€šè¿‡è°ƒç”¨put()æŒç»­çš„å†™å…¥å¯¹è±¡ã€‚çº¿ç¨‹Bé€šè¿‡take()æŒç»­çš„è·å–å¯¹è±¡ã€‚è¿™ä¸ªç±»åªæœ‰åœ¨çº¿ç¨‹Aè°ƒç”¨put()å’Œçº¿ç¨‹Bè°ƒç”¨take()æ—¶ï¼Œé€šè¿‡ä½¿ç”¨volatileå˜é‡æ‰èƒ½å·¥ä½œæ­£å¸¸ã€‚</p><p>å¦‚æœJVMåœ¨ä¸æ”¹å˜æ’åºæŒ‡ä»¤çš„è¯­ä¹‰çš„åŸºç¡€ä¸Šå®ç°ï¼Œé‚£ä¹ˆJVMåˆ™ä¼šé€šè¿‡è®°å½•JAVAæŒ‡ä»¤ä¼˜åŒ–æ€§èƒ½ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">while</span><span class="token punctuation">(</span>hasNewObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">//wait - do not overwrite existing new object</span><span class="token punctuation">}</span>hasNewObject <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//volatile write</span>object <span class="token operator">=</span> newObject<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„åˆ°volatileå˜é‡hasNewObjectåœ¨è¢«å®é™…è®¾ç½®å‰å·²ç»è¢«æ‰§è¡Œã€‚å¯¹äºJVMï¼Œè¿™çœ‹ä¸Šå»å®Œå…¨åˆæ³•ã€‚è¿™ä¸¤ä¸ªå†™å…¥å˜é‡çš„å€¼ç›¸å¯¹äºå¦å¤–ä¸€ä¸ªæ˜¯ç‹¬ç«‹çš„ã€‚</p><p>ç„¶è€Œï¼Œæ’åºæ‰§è¡Œçš„æŒ‡ä»¤ä¼šæœ‰æŸå¯¹è±¡å˜é‡çš„å¯è§æ€§ã€‚é¦–å…ˆï¼Œçº¿ç¨‹Bå¯èƒ½åœ¨çº¿ç¨‹Aè®¾ç½®æ–°å€¼ä¹‹å‰å°†hasNewObjectè®¾ç½®ä¸ºtrueã€‚å…¶æ¬¡ï¼Œç”šè‡³æ²¡æ³•ä¿è¯å½“æ–°å€¼å†™å…¥å¯¹è±¡åå›å†™åˆ°ä¸»å†…å­˜ã€‚</p><p>ä¸ºäº†é˜²æ­¢å¦‚ä¸Šè¿°æƒ…å†µçš„å‘ç”Ÿï¼Œvolatileå…³é”®å­—é‡‡ç”¨â€œå‘ç”Ÿå‰ä¿è¯â€æœºåˆ¶ã€‚â€å‘ç”Ÿå‰ä¿è¯â€œæœºåˆ¶ä¿è¯è¯»å’Œå†™volatileå˜é‡çš„æŒ‡ä»¤ä¸èƒ½è¢«æ’åºã€‚å‰åæŒ‡ä»¤å¯ä»¥è¢«æ’åºï¼Œä½†æ˜¯volatileè¯»æˆ–è€…å†™æŒ‡ä»¤å‘ç”Ÿå‰åä¸èƒ½è¢«æ’åºã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">sharedObject<span class="token punctuation">.</span>nonVolatile1 <span class="token operator">=</span> <span class="token number">123</span><span class="token punctuation">;</span>sharedObject<span class="token punctuation">.</span>nonVolatile2 <span class="token operator">=</span> <span class="token number">456</span><span class="token punctuation">;</span>sharedObject<span class="token punctuation">.</span>nonVolatile3 <span class="token operator">=</span> <span class="token number">789</span><span class="token punctuation">;</span>sharedObject<span class="token punctuation">.</span><span class="token keyword">volatile</span>     <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//a volatile variable</span><span class="token keyword">int</span> someValue1 <span class="token operator">=</span> sharedObject<span class="token punctuation">.</span>nonVolatile4<span class="token punctuation">;</span><span class="token keyword">int</span> someValue2 <span class="token operator">=</span> sharedObject<span class="token punctuation">.</span>nonVolatile5<span class="token punctuation">;</span><span class="token keyword">int</span> someValue3 <span class="token operator">=</span> sharedObject<span class="token punctuation">.</span>nonVolatile6<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>JVMä¼šæ’åºå‰3ä¸ªæŒ‡ä»¤ï¼Œåªè¦ä»–ä»¬åœ¨volatileå†™æŒ‡ä»¤ä¹‹å‰ã€‚</p><p>åŒæ ·çš„ï¼Œåªè¦volatileå†™å…¥è´¨é‡å‘ç”Ÿåœ¨åä¸‰ä¸ªæŒ‡ä»¤ä¹‹å‰ï¼Œé‚£ä¹ˆåä¸‰ä¸ªæŒ‡ä»¤å°±ä¼šè¢«æ’åºã€‚åœ¨æ­¤ä¹‹å‰ï¼Œè¿™ä¸‰ä¸ªæŒ‡ä»¤ä¸­ä»»ä½•ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¸ä¼šè¢«æ’åºã€‚<br>That is basically the meaning of the Java volatile happens before guarantee.</p><h3 id="volatile-å¹¶ä¸æ€»æ˜¯é€‚ç”¨çš„"><a href="#volatile-å¹¶ä¸æ€»æ˜¯é€‚ç”¨çš„" class="headerlink" title="volatile å¹¶ä¸æ€»æ˜¯é€‚ç”¨çš„"></a>volatile å¹¶ä¸æ€»æ˜¯é€‚ç”¨çš„</h3><p>å³ä½¿volatileå…³é”®å­—ä¿è¯äº†æ‰€æœ‰çš„volatileå˜é‡ç›´æ¥ä»ä¸»å†…å­˜è¯»å–ï¼Œæ‰€æœ‰çš„å†™æ“ä½œéƒ½æ˜¯ç›´æ¥å†™å…¥ä¸»å†…å­˜ï¼Œä½†æ˜¯å­˜åœ¨å£°æ˜äº†volatileè€Œä»ç„¶ä¸å¤Ÿçš„æƒ…å†µã€‚</p><p>ä¹‹å‰æè¿‡çš„ï¼Œåªæœ‰çº¿ç¨‹1å†™å…¥å…±äº«çš„counterå˜é‡ï¼Œå£°æ˜ä¸ºvolatileçš„æ—¶å€™æ‰èƒ½ç¡®ä¿çº¿ç¨‹2æ€»æ˜¯èƒ½è·å–æœ€æ–°çš„å†™å…¥å€¼ã€‚</p><p>äº‹å®ä¸Šï¼Œå¤šçº¿ç¨‹ç”šè‡³èƒ½å†™å…¥ä¸€ä¸ªå…±äº«çš„volatileå˜é‡ï¼Œå¦‚æœè¿™ä¸ªæ–°å†™å…¥çš„å€¼ä¸ä¾èµ–äºæ—§æ•°æ®çš„è¯å°±å°†æ­£ç¡®çš„å€¼å­˜å…¥ä¸»å†…å­˜ã€‚æ¢å¥è¯è¯´, å¦‚æœä¸€ä¸ªçº¿ç¨‹å†™å…¥ä¸€ä¸ªå€¼åˆ°å…±äº«çš„volatileå˜é‡ï¼Œå¹¶ä¸ä¼šé©¬ä¸Šå°†è¯»å–çš„å€¼ç”¨äºä¸‹ä¸€ä¸ªå€¼å¾—è¯ã€‚</p><p>ä¸€æ—¦ä¸€ä¸ªçº¿ç¨‹é¦–æ¬¡è¯»å–ä¸€ä¸ªvolatileå˜é‡çš„å€¼ï¼Œå¹¶ä¸”éœ€è¦åŸºäºè¿™ä¸ªå€¼ç”Ÿæˆä¸€ä¸ªæ–°çš„å…±äº«volatileå˜é‡å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªvolatileå˜é‡å°±ä¸èƒ½ä¿è¯æ­£ç¡®çš„å¯è§æ€§ã€‚è¯»å–volatileå˜é‡çš„å€¼å¹¶ä¸”å†™å…¥æ–°å€¼å¾—å¾ˆçŸ­çš„é—´éš™ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªç«äº‰çš„æ¡ä»¶ï¼šå¤šä¸ªçº¿ç¨‹ä¼šè¯»å–åŒä¸€ä¸ªvolatileå˜é‡çš„å€¼ï¼Œå¹¶ä¸”ç”Ÿæˆä¸€ä¸ªæ–°çš„å€¼ï¼Œå½“å›å†™è¿›ä¸»å†…å­˜åå°±ä¼šè¦†ç›–æ‰å…¶ä»–çš„å€¼ã€‚</p><p>å¤šçº¿ç¨‹å¢åŠ ç›¸åŒçš„è®¡æ•°å™¨å€¼å¾—è¿™ç§æƒ…å†µï¼Œå‡†ç¡®çš„è¯´å¯¹äºvolatileå˜é‡æ˜¯ä¸é€‚ç”¨çš„ã€‚ä¸€ä¸‹ç‰‡æ®µè®²è¯è¯¦ç»†è®²è¿°è¿™ç§æƒ…å†µã€‚</p><p>è®¾æƒ³ï¼Œå¦‚æœçº¿ç¨‹1è¯»å–å…±äº«è®¡æ•°å˜é‡ï¼Œä»–çš„å€¼æ˜¯0ï¼Œå¹¶æ”¾å…¥CPUçš„ç¼“å­˜ï¼Œä½¿å…¶åŠ 1ï¼Œä½†æ˜¯è¿™æ ·çš„æ”¹å˜å¹¶ä¸ä¼šå›å†™å¦‚ä¸»å†…å­˜ã€‚çº¿ç¨‹2æ­¤æ—¶å¯ä»¥è‡ªä¸»å†…å­˜è¯»å–ç›¸åŒçš„è®¡æ•°å™¨å˜é‡ï¼Œä½†æ˜¯è¯»åˆ°çš„å€¼ä»ç„¶æ˜¯0ï¼Œå¹¶å°†è¿™ä¸ªå€¼æ”¾å…¥äº†è‡ªå·±çš„CPUç¼“å­˜ã€‚çº¿ç¨‹2ä¹Ÿå¯ä»¥å¯¹å…¶åŠ 1ï¼Œå¹¶ä¸”å¯ä»¥å›å†™åˆ°ä¸»å†…å­˜ã€‚è¿™ç§æƒ…å†µè¯¦è§ä¸‹å›¾ï¼š</p><p>![volatile 3](/assets/images/posts/volatile/java-volatile-3.png)</p><p>çº¿ç¨‹1å’Œçº¿ç¨‹2æ­¤æ—¶å¹¶ä¸æ˜¯åŒæ­¥çš„ã€‚è¿™ä¸ªå…±äº«è®¡æ•°å™¨çš„å€¼åº”è¯¥æ˜¯2ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹åœ¨è‡ªå·±çš„CPUç¼“å­˜ä¸­å­˜æ”¾çš„å€¼å´æ˜¯1ï¼Œåœ¨ä¸»å†…å­˜ä¸­çš„å€¼æ˜¯0.è¿™å·²ç»å®Œå…¨ä¹±äº†ï¼å³ä½¿æœ€åæ¯ä¸ªçº¿ç¨‹å›å†™è¿™ä¸ªå…±äº«è®¡æ•°å˜é‡çš„å€¼åˆ°ä¸»å†…å­˜ï¼Œè¿™ä¸ªå€¼ä¹Ÿæ˜¯é”™è¯¯çš„ã€‚</p><h3 id="volatileåœ¨ä»€ä¹ˆæ—¶å€™æ˜¯é€‚ç”¨çš„"><a href="#volatileåœ¨ä»€ä¹ˆæ—¶å€™æ˜¯é€‚ç”¨çš„" class="headerlink" title="volatileåœ¨ä»€ä¹ˆæ—¶å€™æ˜¯é€‚ç”¨çš„?"></a>volatileåœ¨ä»€ä¹ˆæ—¶å€™æ˜¯é€‚ç”¨çš„?</h3><p>å°±åƒä¹‹å‰æåˆ°è¿‡çš„ï¼Œå¦‚æœæ˜¯ä¸¤ä¸ªçº¿ç¨‹éƒ½éœ€è¦è¯»å–å’Œå†™å…¥ä¸€ä¸ªå…±äº«å˜é‡ï¼Œé‚£ä¹ˆæ­¤æ—¶é€‚ç”¨volatileå…³é”®å­—æ˜¯ä¸é€‚ç”¨çš„ã€‚é‚£ä¹ˆå°±éœ€è¦ä½¿ç”¨synchronizedæ¥ä¿è¯è¯»å’Œå†™çš„åŸå­æ€§ã€‚è¯»å†™volatileå˜é‡ä¸ä¼šé˜»å¡çº¿ç¨‹çš„è¯»å†™ã€‚ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œä½ å¿…é¡»ä½¿ç”¨synchronizedå…³é”®å­—ã€‚</p><p>ä½œä¸ºsynchronizedå¯ä¾›é€‰æ‹©ï¼Œéœ€è¦é‡‡ç”¨java.util.concurrentåŒ…ä¸­çš„æŸä¸€ä¸ªã€‚æ¯”å¦‚AtomicLongï¼ŒAtomicReferenceæˆ–è€…å…¶ä»–çš„ä»»æ„ä¸€ä¸ªã€‚</p><p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹è¯»å†™volatileå˜é‡çš„å€¼ï¼Œå…¶ä»–çº¿ç¨‹åªæ˜¯è¯»å–å˜é‡ï¼Œé‚£ä¹ˆè¯»å–çº¿ç¨‹å°±å¯ä»¥é€šè¿‡volatileå˜é‡ä¿è¯å¯ä»¥è¯»å–åˆ°æœ€æ–°çš„å†™å…¥å€¼ã€‚å¦‚æœæ²¡æœ‰volatileå˜é‡ï¼Œåˆ™è¿™ä¸ªè¿‡ç¨‹å°±ä¸èƒ½è¢«ä¿è¯ã€‚</p><p>volatileå…³é”®å­—å¯ä»¥è¢«ç”¨åœ¨32å’Œ64ä½å˜é‡ä¸­ã€‚</p><h3 id="volatile-æ€§èƒ½æ³¨æ„äº‹é¡¹"><a href="#volatile-æ€§èƒ½æ³¨æ„äº‹é¡¹" class="headerlink" title="volatile æ€§èƒ½æ³¨æ„äº‹é¡¹"></a>volatile æ€§èƒ½æ³¨æ„äº‹é¡¹</h3><p>volatileå˜é‡çš„è¯»å†™ä¼šè§¦å‘å˜é‡åœ¨ä¸»å†…å­˜ä¸­çš„è¯»å†™ã€‚ä¸»å†…å­˜ä¸­çš„è¯»å†™ä¼šæ¯”CPUç¼“å­˜æ¶ˆè€—çš„ä»£ä»·é«˜ã€‚ä½¿ç”¨volatileå˜é‡åŒæ ·ä¼šé˜»æ­¢æ™®é€šæ€§èƒ½å¢å¼ºæŒ‡ä»¤çš„æ’åºã€‚å› æ­¤ï¼Œåªèƒ½åœ¨ç¡®å®éœ€è¦å¢åŠ å˜é‡å¯è§æ€§åŸºç¡€ä¸Šä½¿ç”¨volatileå˜é‡ã€‚</p><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul><li><a href="http://www.ibm.com/developerworks/cn/java/j-jtp06197.html">http://www.ibm.com/developerworks/cn/java/j-jtp06197.html</a></li><li><a href="http://www.infoq.com/cn/articles/ftf-java-volatile">http://www.infoq.com/cn/articles/ftf-java-volatile</a></li><li><a href="http://www.infoq.com/cn/articles/java-memory-model-4">http://www.infoq.com/cn/articles/java-memory-model-4</a></li><li><a href="http://sakyone.iteye.com/blog/668091">http://sakyone.iteye.com/blog/668091</a></li><li><a href="https://zh.wikipedia.org/wiki/Volatile%E5%8F%98%E9%87%8F">https://zh.wikipedia.org/wiki/Volatile%E5%8F%98%E9%87%8F</a></li><li><a href="http://www.cnblogs.com/aigongsi/archive/2012/04/01/2429166.html">http://www.cnblogs.com/aigongsi/archive/2012/04/01/2429166.html</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼å¤„ç†Nginx</title>
      <link href="/2016-01-24-Reg-Nginx.html"/>
      <url>/2016-01-24-Reg-Nginx.html</url>
      
        <content type="html"><![CDATA[<h1 id="Nginx-æ—¥å¿—é…ç½®æ ¼å¼"><a href="#Nginx-æ—¥å¿—é…ç½®æ ¼å¼" class="headerlink" title="Nginx æ—¥å¿—é…ç½®æ ¼å¼"></a>Nginx æ—¥å¿—é…ç½®æ ¼å¼</h1><pre class="line-numbers language-none"><code class="language-none">log_format  main        '[$upstream_addr] $remote_addr [$time_local] "$request" $status '        '"$request_body" $body_bytes_sent "$http_referer" "$http_user_agent" '        'RESP:$upstream_response_time '        'REQ:$request_time';<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><span id="more"></span><h1 id="æ ·ä¾‹"><a href="#æ ·ä¾‹" class="headerlink" title="æ ·ä¾‹"></a>æ ·ä¾‹</h1><pre class="line-numbers language-none"><code class="language-none">[192.168.1.5:80] 19.78.22.51 [31/Dec/2015:13:59:02 +0800] "POST /api/mbbb/dup_msg_send?pallow_dubbing=0&amp;partner_msgs_id=279&amp;roles_id=23&amp;score=6700&amp;section_id=512&amp;whole_audio=200.m4a&amp;device_id=112222f0fc3&amp;lang=zh-CN&amp;trigger=user&amp;user_id=516487&amp;v=ios_7.0.3 HTTP/1.1" 200 "audio_fragment=00280%22%3A%7B%22pitch%22%3A47%2C%22rhythm%22%3A95%2C%22tone%22%3A75%7D%2C%226800278%22%3A%7B%22pitch%22%3A70%2C%22rhythm%22%3A90%2%7D%2C%226800276%22%3A%7B%22pitch%22%3A60%2C%22rhythm%22%3A82%2C%22tone%22D&amp;content=hhhhhh%E5%B0%8F%E5%AB%A9%E8%8D%89" 51 "-" "paipao/7.0.3 (iPhone; iOS 9.2; Scale/2.00)" RESP:0.166 REQ:0.167[192.168.1.5:80, 192.169.1.33:88] 60.12.246.5 [31/Dec/2015:23:59:02 +0800] "GET /api/mppb/notice/list?device_id=112233fe6a6d991f&amp;lang=zh-CN&amp;user_id=6120&amp;v=ios_7.0.3 HTTP/1.1" 200 "-" 54 "-" "paipao/7.0.3 (iPhone; iOS 9.2; Scale/2.00)" RESP:0.006 REQ:0.006<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><h2 id="Pythonç‰ˆæœ¬"><a href="#Pythonç‰ˆæœ¬" class="headerlink" title="Pythonç‰ˆæœ¬"></a>Pythonç‰ˆæœ¬</h2><pre class="line-numbers language-none"><code class="language-none">p = re.compile(            r"\[\-?[\d.\:]*[\ \,]*?.*?\]\ [\d.\:]*\ \[(\d+)/(\w+)/(\d+)\:(\S+)\ [\S]+\]\ \"(\S+)\ (\S+)\ .*?\"\ (\d+)\ \"(.*?)\"\ (\d+)\ \"([^\"]*)\"\ \".*?\" .*?")m = re.findall(p, line)day = m[0][0]month = m[0][1]year = m[0][2]ttime = m[0][3]method = m[0][4]request = m[0][5]status = m[0][6]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Scalaç‰ˆæœ¬"><a href="#Scalaç‰ˆæœ¬" class="headerlink" title="Scalaç‰ˆæœ¬"></a>Scalaç‰ˆæœ¬</h2><pre class="line-numbers language-none"><code class="language-none">val regex = new Regex( """\[\-?[\d.\:]*[\ \,]*?.*?\]\ [\d.\:]*\ \[(\d+)/(\w+)/(\d+)\:(\S+)\ [\S]+\]\ \"(\S+)\ (\S+)\ .*?\"\ (\d+)\ \"(.*?)\"\ (\d+)\ \"([^\"]*)\"\ \".*?\" .*?""")val regex(day, month, year, time, method, request, status, postData, bytes, refer) = line<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h1 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h1><ul><li><a href="http://www.jianshu.com/p/5d8c802be13d">http://www.jianshu.com/p/5d8c802be13d</a></li><li><a href="https://segmentfault.com/a/1190000002727070">https://segmentfault.com/a/1190000002727070</a></li><li><a href="http://desert3.iteye.com/blog/1001568">http://desert3.iteye.com/blog/1001568</a></li><li><a href="http://stackoverflow.com/questions/996536/regex-in-python">http://stackoverflow.com/questions/996536/regex-in-python</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Sparkä¼˜åŒ–</title>
      <link href="/2016-01-04-Spark-tuning.html"/>
      <url>/2016-01-04-Spark-tuning.html</url>
      
        <content type="html"><![CDATA[<h2 id="Spark-ä¼˜åŒ–"><a href="#Spark-ä¼˜åŒ–" class="headerlink" title="Spark ä¼˜åŒ–"></a>Spark ä¼˜åŒ–</h2><p>ç”±äºSparkå†…å­˜è®¡ç®—ç‰¹æ€§ï¼ŒSparkç¨‹åºä¼šç”±é›†ç¾¤ä¸Šçš„å¦‚ä¸‹å› ç´ å†³å®šå…¶æ€§èƒ½</p><ul><li>CPU</li><li>ç½‘ç»œå¸¦å®½</li><li>å†…å­˜</li></ul><p>é€šå¸¸æ¥è¯´ï¼Œå¦‚æœé…ç½®é€‚å½“çš„å†…å­˜ï¼Œé‚£ä¹ˆç“¶é¢ˆå°±æ˜¯å¸¦å®½ã€‚ä½†æ˜¯æœ‰äº›æ—¶å€™ï¼Œæœ‰éœ€è¦åšäº›ä¼˜åŒ–ï¼Œæ¯”å¦‚ä»¥åºåˆ—åŒ–çš„å½¢å¼å­˜å‚¨RDDï¼Œä»è€Œé™ä½å†…å­˜çš„å ç”¨ã€‚</p><span id="more"></span><p>æ­¤ä¼šä»ä¸¤æ–¹é¢åˆ†æ</p><ul><li>æ•°æ®åºåˆ—åŒ–</li><li>å†…å­˜ä¼˜åŒ–</li></ul><h3 id="Data-Serialization"><a href="#Data-Serialization" class="headerlink" title="Data Serialization"></a>Data Serialization</h3><p>åºåˆ—åŒ–åœ¨åˆ†å¸ƒå¼è®¡ç®—ç¨‹åºä¸­å æœ‰éå¸¸é‡è¦çš„åœ°ä½ã€‚è¿Ÿç¼“çš„åºåˆ—åŒ–æ ¼å¼ï¼Œæˆ–è€…æ¶ˆè´¹ä¸€ä¸ªè¶…å¤§çš„å­—èŠ‚æ•°æ®ï¼Œéƒ½ä¼šå¤§å¤§çš„å‡ç¼“è®¡ç®—é€Ÿåº¦ã€‚æ‰€ä»¥ï¼Œç¬¬ä¸€ä»¶äº‹åº”è¯¥å…ˆå°è¯•ä¼˜åŒ–Sparkç¨‹åºã€‚Sparkè¯•å›¾è¾¾åˆ°åœ¨æ˜“ç”¨æ€§ï¼ˆå…è®¸ä½ å®šä¹‰ä»»ä½•çš„Javaç±»å‹ï¼‰å’Œæ€§èƒ½ä¸¤æ–¹é¢è¾¾åˆ°ä¸€ç§å¹³è¡¡ï¼Œå¹¶ä¸”æä¾›ä¸¤ç§åºåˆ—åŒ–åº“ï¼š</p><ul><li><p>Javaåºåˆ—åŒ–ï¼šç¼ºçœæƒ…å†µä¸‹ï¼ŒSparkä½¿ç”¨Javaçš„ObjectOutputStreamæ¡†æ¶åºåˆ—åŒ–å¯¹è±¡ï¼Œ<br>  ä»è€Œå¯ä»¥å’Œä»»ä½•å®ç°äº†java.io.Serializableæ¥å£çš„ç±»ä¸€èµ·ç©è€ã€‚ä¹Ÿå¯ä»¥æ›´ç´§å¯†çš„æ§åˆ¶æ‰©å±•äº†java.io.Externalizableçš„åºåˆ—åŒ–çš„æ€§èƒ½ã€‚Javaçš„åºåˆ—åŒ–æ˜¯éå¸¸ä¸°å¯Œçš„ï¼Œä½†æ˜¯é€Ÿåº¦å¥‡æ…¢ï¼Œå¹¶ä¸”ä¼šå¯¼è‡´å¾ˆå¤šç±»äº§ç”Ÿå¤§é‡çš„åºåˆ—åŒ–æ ¼å¼ã€‚</p></li><li><p>Kryoåºåˆ—åŒ–ï¼šSparkä¹Ÿå¯ä»¥ä½¿ç”¨Kryoåº“ï¼ˆVersion2ï¼‰éå¸¸è¿…é€Ÿçš„åºåˆ—åŒ–å¯¹è±¡ã€‚Kryoæ¯”Javaåºåˆ—åŒ–å¿«å¾ˆå¤šå¹¶ä¸”æ›´å¤§çš„å‹ç¼©ç‡ï¼ˆé€šå¸¸æ˜¯10xï¼‰ï¼Œä½†æ˜¯å¹¶ä¸æ”¯æŒæ‰€æœ‰çš„ç±»å‹ï¼Œå¦å¤–ä¹Ÿéœ€è¦ä½ åœ¨ç¨‹åºä¸­æ³¨å†Œç±»ä»¥è·å¾—æœ€å¥½çš„æ€§èƒ½ã€‚</p></li></ul><p>ä½ å¯ä»¥é€‰æ‹©é€šè¿‡è®¾ç½®SparkConfæˆ–è€…è°ƒç”¨conf.set(â€œspark.serializerâ€, â€œorg.apache.spark.serializer.KryoSerializerâ€)æ¥ä½¿ç”¨Kryoåˆå§‹åŒ–Jobã€‚è¿™æ ·è®¾ç½®çš„è¯ï¼Œä¸ä»…å¯ä»¥é…ç½®é€šè¿‡workerèŠ‚ç‚¹é—´shufflingæ•°æ®ï¼Œè¿˜èƒ½å°†RDDåºåˆ—åŒ–åˆ°ç£ç›˜ä¸Šã€‚Kryoä¸æ˜¯ç¼ºçœé…ç½®çš„åŸå› æ˜¯ç”±äºè‡ªå®šä¹‰æ³¨å†Œçš„è¦æ±‚å†³å®šçš„ï¼ŒåŒæ—¶æˆ‘ä»¬ä¹Ÿæƒ³åœ¨ç½‘ç»œå¯†é›†å‹åº”ç”¨ä¸­ä½¿ç”¨å®ƒã€‚</p><p>Spark automatically includes Kryo serializers for the many commonly-used core Scala classes covered in the AllScalaRegistrar from the Twitter chill library.</p><p>ä½¿ç”¨Kryoæ³¨å†Œè‡ªå®šä¹‰ç±»ï¼Œéœ€è¦ä½¿ç”¨registerKryoClassesæ–¹æ³•ã€‚</p>  <pre class="line-numbers language-none"><code class="language-none">val conf = new SparkConf().setMaster(...).setAppName(...)conf.registerKryoClasses(Array(classOf[MyClass1], classOf[MyClass2]))val sc = new SparkContext(conf)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>Kryoæ–‡æ¡£æè¿°äº†æ›´å¤šé«˜çº§çš„æ³¨å†Œé€‰é¡¹ï¼Œæ¯”å¦‚æ·»åŠ è‡ªå®šä¹‰åºåˆ—ä»£ç ã€‚</p><p>å¦‚æœä½ çš„å¯¹è±¡éå¸¸å¤§ï¼Œåˆ™éœ€è¦å¢åŠ spark.kryoserializer.bufferé…ç½®å‚æ•°ã€‚è¿™ä¸ªå€¼ç¼ºçœä¸º2ï¼Œä½†æ˜¯è¿™ä¸ªå€¼éœ€è¦è¶³å¤Ÿå¤§è¶³ä»¥ä¿å­˜åºåˆ—å·çš„å¯¹è±¡ã€‚</p><p>æœ€åï¼Œå¦‚æœä½ æ²¡æœ‰æ³¨å†Œè‡ªå®šä¹‰ç±»ï¼ŒKryoä»ç„¶ä¼šèµ·ä½œç”¨ï¼Œä½†æ˜¯å®ƒä¸å¾—ä¸å­˜å‚¨æ¯ä¸ªå¯¹è±¡çš„å…¨éƒ¨ç±»ï¼Œè¿™æ ·æ˜¯éå¸¸æµªè´¹çš„ã€‚</p><h3 id="å†…å­˜ä¼˜åŒ–"><a href="#å†…å­˜ä¼˜åŒ–" class="headerlink" title="å†…å­˜ä¼˜åŒ–"></a>å†…å­˜ä¼˜åŒ–</h3><p>å†…å­˜ä¼˜åŒ–çš„æ–¹æ³•æœ‰3ä¸ªæ–¹é¢éœ€è¦è€ƒè™‘çš„ï¼šä½ çš„å¯¹è±¡ä½¿ç”¨çš„æ€»å†…å­˜é‡ï¼ˆä½ å¯èƒ½å¸Œæœ›å…¨éƒ¨æ•°æ®éƒ½æ”¾åˆ°å†…å­˜é‡Œï¼‰ï¼Œå¯¹è±¡å­˜å–æˆæœ¬ï¼ŒGCçš„å¼€é”€ï¼ˆå¦‚æœä½ æœ‰éå¸¸é«˜çš„å¯¹è±¡äº¤æ¢é¢‘ç‡ï¼‰</p><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJavaå¯¹è±¡å¯ä»¥è¢«å¿«é€Ÿçš„è®¿é—®ï¼Œä½†æ˜¯ä¼šè½»æ˜“çš„è€—å°½å®ƒä»¬å­—æ®µä¸­æ¯”â€œrawâ€æ•°æ®å¤š2åˆ°5å€çš„ç©ºé—´çš„å› å­ã€‚è¿™å–å†³äºå¤šä¸ªå› ç´ ï¼š</p><ul><li>æ¯ä¸ªç‹¬ç«‹çš„Javaå¯¹è±¡åŒ…å«ä¸€ä¸ªâ€œå¯¹è±¡å¤´â€ï¼Œ16å­—èŠ‚é•¿åº¦å¹¶åŒ…å«è¯¸å¦‚åªæƒ³å®ƒçš„ç±»çš„ä¸€äº›ä¿¡æ¯ã€‚<br>  å¯¹äºä¸€ä¸ªéå¸¸å°çš„æ•°æ®æ¥è¯´ï¼ˆæ¯”å¦‚Intï¼‰ï¼Œè¿™ä¸ªå¯èƒ½æ¯”æ•°æ®æœ¬èº«éƒ½è¦å¤§ä¸€äº›ã€‚</li><li>Javaå­—ç¬¦ä¸²æœ‰å¤§çº¦40å­—èŠ‚çš„å¯¹è±¡å¤´ï¼Œæ¯”â€œrawâ€æ•°æ®è¦å¤šï¼ˆå› ä¸ºå®ƒä»¬æŒ‰ç…§å­—ç¬¦ä¸²æ•°ç»„çš„å½¢å¼ä¿å­˜ï¼Œå¹¶ä¸”è¿˜åŒ…å«æ‰©å±•æ•°æ®ï¼Œæ¯”å¦‚è¯´æ•°æ®çš„é•¿åº¦ï¼‰ï¼Œ<br>  ç”±äºé‡‡ç”¨äº†UTF-16ç¼–ç æ ¼å¼ï¼Œæ‰€ä»¥åœ¨å­—ç¬¦ä¸²å†…éƒ¨ï¼Œå­˜å‚¨ä¸€ä¸ªå­—ç¬¦éœ€è¦å ç”¨2ä¸ªå­—èŠ‚çš„ç©ºé—´ã€‚å› æ­¤10ä¸ªå­—ç¬¦å°±å¯ä»¥è½»æ˜“çš„æ¶ˆè€—æ‰60å­—èŠ‚ç©ºé—´ã€‚</li><li>æ™®é€šçš„é›†åˆå¯¹è±¡ï¼Œæ¯”å¦‚è¯´HashMapå’ŒLinkedListï¼Œä½¿ç”¨çš„æ˜¯é“¾å¼æ•°æ®ç»“æ„ï¼Œå¯¹äºæ¯ä¸ªå®ä½“éƒ½å­˜åœ¨ä¸€ä¸ªâ€œwrapperâ€å¯¹è±¡ï¼ˆæ¯”å¦‚ Map.Entryï¼‰ã€‚è¿™ä¸ªå¯¹è±¡ä¸ä»…åŒ…å«å¤´ï¼Œé“¾è¡¨ä¸­è¿˜æœ‰æŒ‡å‘ä¸‹ä¸€ä¸ªå¯¹è±¡çš„æŒ‡é’ˆï¼ˆé€šå¸¸éœ€è¦8ä¸ªå­—èŠ‚ï¼‰ã€‚</li><li>ç§æœ‰ç±»å‹çš„é›†åˆç»å¸¸ä»¥â€œè£…ç®±â€å¯¹è±¡çš„å½¢å¼å­˜å‚¨ï¼Œæ¯”å¦‚java.lang.Integerã€‚</li></ul><p>è¿™ä¸€ç« è®¨è®ºçš„æ˜¯å¦‚ä½•ç¡®å®šå¯¹è±¡çš„å†…å­˜å ç”¨æƒ…å†µï¼Œå’Œæ”¹è¿›çš„æ–¹æ³•ï¼ä¸æ­¢ä¿æŠ¤æ”¹å˜ä½ çš„æ•°æ®ç»“æ„ï¼Œå¦å¤–è¿˜éœ€è¦ä»¥ä¸€ç§åºåˆ—å·çš„å½¢å¼å­˜å‚¨æ•°æ®ã€‚ç„¶åæˆ‘ä»¬å°±å¯ä»¥è¦†ç›–åˆ°ä¼˜åŒ–Sparkç¼“å­˜å’ŒJava GCçš„çŸ¥è¯†äº†ã€‚</p><h4 id="ææ¸…æ¥šå†…å­˜æ¶ˆè€—"><a href="#ææ¸…æ¥šå†…å­˜æ¶ˆè€—" class="headerlink" title="ææ¸…æ¥šå†…å­˜æ¶ˆè€—"></a>ææ¸…æ¥šå†…å­˜æ¶ˆè€—</h4><p>æµ‹è¯•ä¸€ä¸ªæ•°æ®é›†æ¶ˆè€—å†…å­˜çš„æ€»é‡æœ€å¥½çš„æ–¹å¼åˆ›å»ºä¸€ä¸ªRDDï¼Œå¹¶æ”¾åˆ°ç¼“å†²ä¸­ï¼Œé€šè¿‡webé¡µé¢æŸ¥çœ‹å­˜å‚¨æƒ…å†µã€‚è¿™ä¸ªé¡µé¢çš„å†…å®¹å¯ä»¥æ˜¾ç¤ºRDDåˆ°åº•å æœ‰äº†å¤šå°‘å†…å­˜ã€‚</p><p>ä¼°ç®—ä¸€ä¸ªåˆ†åŒºæ•°æ®æ¶ˆè€—çš„å†…å­˜ï¼Œå¯ä»¥ä½¿ç”¨SizeEstimatorâ€™s estimateçš„æ–¹æ³•ï¼Œè¿™æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„æ–¹å¼å»è¯•éªŒä¸åŒçš„æ•°æ®ç»“æ„å»å‡å°‘å†…å­˜çš„ä½¿ç”¨ï¼Œå³å¯ä»¥ç¡®å®šå¹¿æ’­å˜é‡å ç”¨ç©ºé—´å¯ä»¥æ¶ˆè€—æ¯ä¸ªå¯æ‰§è¡Œå †çš„æƒ…å†µã€‚</p><h4 id="ä¼˜åŒ–æ•°æ®ç»“æ„"><a href="#ä¼˜åŒ–æ•°æ®ç»“æ„" class="headerlink" title="ä¼˜åŒ–æ•°æ®ç»“æ„"></a>ä¼˜åŒ–æ•°æ®ç»“æ„</h4><p>é¦–é€‰çš„é™ä½å†…å­˜æ¶ˆè€—çš„æ–¹æ³•æ˜¯é¿å…ä½¿ç”¨å…·æœ‰Javaçš„ç‰¹æ€§å¯¼è‡´çš„å¼€é”€ï¼Œæ¯”å¦‚åŸºäºæŒ‡é’ˆçš„æ•°æ®ç»“æ„æ ¸åŒ…è£…ç±»ã€‚æœ‰å¤šç§æ–¹å¼å¯ä»¥åšåˆ°ï¼š</p><ul><li>è®¾è®¡ä½ çš„æ•°æ®ç»“æ„ä»¥æå‡å¯¹è±¡æ•°ç»„å’ŒåŸå§‹ç±»å‹ï¼Œç”¨æ¥æ›¿æ¢æ ‡å‡†çš„Javaæˆ–è€…Scalaçš„é›†åˆç±»ï¼ˆæ¯”å¦‚ï¼šHashMapï¼‰ã€‚<br>  fastutilç±»åº“ä¸ºåŸå§‹ç±»å‹æä¾›äº†é€‚å½“çš„é›†åˆç±»å‹ï¼Œå¯ä»¥å…¼å®¹Javaçš„æ ‡å‡†åº“ã€‚</li><li>å°½é‡é¿å…åŒ…å«å¤§é‡å°å¯¹è±¡æ ¸æŒ‡é’ˆçš„åµŒå¥—æ•°æ®ç»“æ„ã€‚</li><li>è€ƒè™‘ä½¿ç”¨æ•°å­—ç±»å‹çš„IDæˆ–è€…æšä¸¾å¯¹è±¡æ¥æ›¿ä»£å­—ç¬¦ä¸²è¡Œçš„keyã€‚</li><li>å¦‚æœä½ çš„RAMä¸è¶³32GBï¼Œå¯ä»¥é€šè¿‡è®¾ç½®JVMçš„-XX:+UseCompressedOopså‚æ•°ï¼Œä¿®æ”¹æŒ‡é’ˆé»˜è®¤å ç”¨8å­—èŠ‚ä¸º4ä¸ªå­—èŠ‚ã€‚ä¹Ÿå¯ä»¥è®²è¿™äº›å‚æ•°åŠ åˆ°spaspark-env.shä¸­ã€‚</li></ul><h4 id="åºåˆ—åŒ–çš„RDDå­˜å‚¨"><a href="#åºåˆ—åŒ–çš„RDDå­˜å‚¨" class="headerlink" title="åºåˆ—åŒ–çš„RDDå­˜å‚¨"></a>åºåˆ—åŒ–çš„RDDå­˜å‚¨</h4><p>é€šè¿‡ä»¥ä¸Šçš„ä¼˜åŒ–ï¼Œä½ çš„å¯¹è±¡ä»ç„¶å¾ˆå¤§ä»è€Œå½±å“åˆ°é«˜æ•ˆçš„å­˜å‚¨çš„è¯ï¼Œä¸€ç§æ›´åŠ ç®€å•çš„å‡å°‘å†…å­˜ä½¿ç”¨çš„æ–¹æ³•æ˜¯é€šè¿‡RDDçš„æŒä¹…åŒ–APIåºåˆ—åŒ–StorageLevelsï¼Œä»è€Œä½¿ä»–ä»¬ä»¥åºåˆ—åŒ–çš„æ–¹å¼å­˜å‚¨ï¼Œæ¯”å¦‚MEMORY_ONLY_SERã€‚Sparkè¿™æ—¶å°±å¯ä»¥å°†æ¯ä¸ªRDDä½œä¸ºä¸€ä¸ªå¤§å­—èŠ‚æ•°ç»„åˆ†åŒºå­˜å‚¨ã€‚å”¯ä¸€çš„ä¸è¶³æ˜¯ï¼Œåºåˆ—åŒ–å­˜å‚¨çš„æ•°æ®æ¯æ¬¡è¯»å–çš„æ—¶å€™ä¼šå¾ˆæ…¢ï¼Œè¿™ä¸ªå–å†³äºæ¯ä¸ªå¯¹è±¡çš„ååºåˆ—åŒ–ï¼ˆon the flyï¼‰ã€‚æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½¿ç”¨Kryoä½œä¸ºç¼“å­˜åºåˆ—åŒ–æ•°æ®çš„æ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥æ¯”Javaåºåˆ—åŒ–å ç”¨æ›´å°‘çš„ç©ºé—´ï¼ˆç”šè‡³æ˜¯åŸå§‹çš„Javaå¯¹è±¡ï¼‰</p><h4 id="GCä¼˜åŒ–"><a href="#GCä¼˜åŒ–" class="headerlink" title="GCä¼˜åŒ–"></a>GCä¼˜åŒ–</h4><p>JVM çš„GCå¯èƒ½ä¼šæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå½“ä½ çš„ç¨‹åºåœ¨å­˜å‚¨ä¸€ä¸ªRDDæ–¹é¢å­˜åœ¨ä¸€ä¸ªå¾ˆå¤§çš„ã€churnã€ã€‚ï¼ˆä»–ä¸ä¼šæ˜¯ä¸€ä¸ªå¤§é—®é¢˜ï¼Œå¦‚æœåªæ˜¯æ¯æ¬¡è¯»å–ä¸€ä¸ªRDDï¼Œå¹¶å¤šæ¬¡æ“ä½œï¼‰å½“Javaéœ€è¦é€æ¸çš„ç”¨æ–°å¯¹è±¡æ›¿æ¢æ—§å¯¹è±¡æ—¶ï¼ŒGCå°±ä¼šè¿½è¸ªä½ çš„æ‰€æœ‰Javaå¯¹è±¡ï¼Œæ‰¾åˆ°å¹¶æ›¿æ¢æ‰ã€‚è¿™é‡Œçš„é‡ç‚¹æŒ‡å‡ºçš„ï¼ŒGCçš„æ‰§è¡Œæˆæœ¬æ˜¯ä¸Javaå¯¹è±¡çš„ä¸ªæ•°æˆæ­£æ¯”çš„ï¼Œå› æ­¤ä½¿ç”¨æ›´å°‘å¯¹è±¡çš„æ•°æ®ç»“æ„å¯ä»¥å¤§å¤§é™ä½GCçš„æˆæœ¬ï¼ˆæ¯”å¦‚ä¸€ä¸ªIntç±»å‹çš„æ•°ç»„æ›¿æ¢LinkedListçš„æ•°ç»„ï¼‰ã€‚æ›´å¥½çš„æ–¹æ³•æ˜¯æŒä¹…åŒ–è¢«åºåˆ—åŒ–ä¹‹åçš„å¯¹è±¡ï¼Œå¦‚ä¸Šè¿°ï¼Œåœ¨æ¯ä¸ªRDDåˆ†åŒºé‡Œåªä¼šå­˜åœ¨ä¸€ä¸ªå¯¹è±¡ï¼ˆä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼‰ã€‚åœ¨å°è¯•å…¶ä»–æŠ€æœ¯ä¹‹å‰ï¼Œå¦‚æœGCæ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ä¹ˆç¬¬ä¸€ä»¶äº‹å°±æ˜¯å°è¯•åºåˆ—åŒ–çš„ç¼“å­˜ã€‚</p><p>ä½ çš„ä»»åŠ¡çš„å ç”¨çš„æ´»åŠ¨å†…å­˜æ ¸ç¼“å­˜åœ¨ä½ èŠ‚ç‚¹ä¸Šçš„RDDä¹‹é—´çš„å¹²æ‰°ä¹Ÿä¼šå¯¼è‡´GCå‡ºç°é—®é¢˜ï¼ˆéœ€è¦æ‰§è¡Œä»»åŠ¡æ‰€éœ€çš„å†…å®¹æ€»é‡ï¼‰ã€‚æˆ‘ä»¬å°†ä¼šè®¨è®ºæ€æ ·æ§åˆ¶åˆ†é…ç»™RDDç¼“å­˜çš„ç©ºé—´ä»¥å‡å°‘è¿™ç§å½±å“ã€‚</p><h5 id="è¡¡é‡GCçš„å½±å“"><a href="#è¡¡é‡GCçš„å½±å“" class="headerlink" title="è¡¡é‡GCçš„å½±å“"></a>è¡¡é‡GCçš„å½±å“</h5><p>GCä¼˜åŒ–çš„ç¬¬ä¸€æ­¥éœ€è¦å…ˆæ‰‹æœºç»Ÿè®¡æ•°æ®ï¼šGCå‘ç”Ÿçš„é¢‘ç‡å’Œå‘è´¹çš„æ—¶é—´ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡æ·»åŠ è®¾ç½®javaå‚æ•°-verbose:gc -XX:+PrintGCDetails -XX:+PrintGCTimeStampså®ç°ã€‚ï¼ˆè¯¦æƒ…è§ä¼ é€’Javaå‚æ•°åˆ°Sparkä»»åŠ¡çš„æŒ‡å—ï¼‰ä¸‹ä¸€æ¬¡ä½ çš„Sparkä»»åŠ¡æ‰§è¡Œæ—¶ï¼Œä½ å°±å¯ä»¥åœ¨æ¯ä¸ªworkerçš„æ—¥å¿—ä¸­çœ‹åˆ°å…³äºGCäº‹ä»¶çš„ä¿¡æ¯ã€‚æ³¨æ„ï¼Œè¿™äº›æ—¥å¿—æ—¶å­˜æ”¾åˆ°workerèŠ‚ç‚¹ä¸Šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨driver ç¨‹åºä¸Šã€‚</p><h5 id="ç¼“å†²å¤§å°ä¼˜åŒ–"><a href="#ç¼“å†²å¤§å°ä¼˜åŒ–" class="headerlink" title="ç¼“å†²å¤§å°ä¼˜åŒ–"></a>ç¼“å†²å¤§å°ä¼˜åŒ–</h5><p>GCä¸€ä¸ªé‡è¦çš„é…ç½®å‚æ•°æ˜¯åˆ†é…ç»™ç¼“å­˜RDDä½¿ç”¨çš„å†…å­˜æ€»é‡ã€‚ç¼ºçœæƒ…å†µä¸‹ï¼ŒSparkä¼šä½¿ç”¨é…ç½®ç»™executor memory (spark.executor.memory) 60%çš„å†…å­˜é‡ç¼“å†²RDDã€‚ä¹Ÿå°±æ˜¯è¯´40%çš„å†…å­˜æ˜¯ç”¨äºåœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ä»»ä½•å…¶å®ƒçš„å¯¹è±¡ã€‚</p><p>å½“ä½ çš„ä»»åŠ¡é€Ÿåº¦ç¼“æ…¢ï¼Œå¹¶ä¸”å‘ç°JVM GCé¢‘ç‡ç‰¹åˆ«é¢‘ç¹æˆ–è€…å‡ºç°å†…å­˜æº¢å‡ºçš„é—®é¢˜æ—¶ï¼Œé™ä½è¿™ä¸ªå€¼ä¼šå¯¹é™ä½å†…å­˜æ¶ˆè€—æä¾›å¸®åŠ©ã€‚ä¿®æ”¹è¿™ä¸ªå€¼å¯ä»¥é€šè¿‡è®¾ç½®spark.storage.memoryFractionï¼Œæ¯”å¦‚ä¿®æ”¹æˆ50%ï¼Œåˆ™å¯ä»¥conf.set(â€œspark.storage.memoryFractionâ€, â€œ0.5â€)ã€‚ç»“åˆä½¿ç”¨åºåˆ—åŒ–ç¼“å­˜ï¼Œä½¿ç”¨æ›´å°‘çš„ç¼“å­˜å°±å¯ä»¥å……åˆ†çš„å‡è½»å¤§éƒ¨åˆ†çš„GCé—®é¢˜ã€‚</p><h5 id="é«˜çº§GCä¼˜åŒ–"><a href="#é«˜çº§GCä¼˜åŒ–" class="headerlink" title="é«˜çº§GCä¼˜åŒ–"></a>é«˜çº§GCä¼˜åŒ–</h5><p>æ›´è¿›ä¸€æ­¥çš„GCä¼˜åŒ–ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦ç†è§£ä¸€äº›åŸºæœ¬çš„JVMç®¡ç†å†…å­˜ç®¡ç†çŸ¥è¯†ï¼š</p><ul><li>Javaå †ç©ºé—´è¢«åˆ’åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†Young å’Œ Oldã€‚Young generationç”¨æ¥ä¿å­˜çŸ­å‘¨æœŸçš„å¯¹è±¡ï¼ŒåŒæ—¶Old generationæ˜¯ç”¨æ¥ä¿æŒé•¿å‘¨æœŸå¯¹è±¡ã€‚</li><li>Young generationè¢«è¿›ä¸€æ­¥åˆ’åˆ†ä¸º3éƒ¨åˆ†ï¼šEden, Survivor1, Survivor2ã€‚</li><li>ä¸€ä¸ªç®€å•çš„å…³äºåƒåœ¾å›æ”¶ç¨‹åºçš„æè¿°ï¼šå½“Edenæ»¡äº†çš„æ—¶å€™ï¼Œa minor GC is run on Eden and objects that are alive from Eden and Survivor1 are copied to Survivor2ã€‚Survivoréƒ¨åˆ†æ˜¯å¯ä»¥äº¤æ¢çš„ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡å·²ç»æ—§äº†æˆ–è€…Survivor2æ»¡äº†ï¼Œä»–å°±ä¼šè¢«ç§»åŠ¨åˆ°æ—§çš„éƒ¨åˆ†ã€‚æœ€åï¼Œå½“æ—§çš„éƒ¨åˆ†æ¥è¿‘æ»¡çš„æ—¶å€™ï¼Œä¸€ä¸ªæ»¡çš„GCå°±ä¼šè¢«å”¤èµ·ã€‚</li></ul><p>Sparkä¸­GCä¼˜åŒ–çš„ç›®æ ‡æ˜¯ç¡®ä¿åªæœ‰éœ€è¦é•¿ä¹…å­˜åœ¨çš„RDDæ‰ä¼šè¢«å­˜å‚¨åœ¨Old generationï¼ŒYoung generationæœ‰è¶³å¤Ÿçš„ç©ºé—´å¤„å¤„çŸ­å‘¨æœŸçš„å¯¹è±¡ã€‚è¿™å°±å¯ä»¥å¸®åŠ©é¿å…full GCsåœ¨ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­æ”¶é›†ä¸´æ—¶ä»»åŠ¡ã€‚è¿™é‡Œçš„ä¸€äº›æ­¥éª¤å¯èƒ½ä¼šæ¯”è¾ƒæœ‰ç”¨ï¼š</p><ul><li>é€šè¿‡æ£€æŸ¥GCçš„çŠ¶æ€æ£€æŸ¥æ˜¯å¦å­˜åœ¨å¤šä¸ªåƒåœ¾å›æ”¶ã€‚å¦‚æœä¸€ä¸ªfull GCåœ¨ä¸€ä¸ªä»»åŠ¡ç»“æŸä¹‹å‰è¢«å¤šæ¬¡å”¤é†’ï¼Œè¿™å°±æ„å‘³ç€æ²¡æœ‰è¶³å¤Ÿçš„å¯ç”¨å†…å­˜æ¶Œæ¥æ‰§è¡Œä»»åŠ¡ã€‚</li><li>In the GC stats that are printedï¼Œå¦‚æœOldGenæ¥è¿‘æ»¡çš„çŠ¶æ€çš„è¯ï¼Œå°±å‡å°‘ç¼“å­˜çš„å†…å­˜æ€»é‡ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡è®¾ç½®spark.storage.memoryFraction propertyæ¥è¾¾æˆã€‚ç¼“å­˜æ›´å°‘çš„å¯¹è±¡æ€»æ¯”å‡æ…¢ä»»åŠ¡æ‰§è¡Œé€Ÿåº¦è¦å¥½çš„å¤šï¼</li><li>å¦‚æœå­˜åœ¨å¾ˆå¤šçš„æ¬¡è¦collectionsè€Œä¸æ˜¯å¾ˆå¤šçš„ä¸»è¦çš„GCsï¼Œç»™Edenåˆ†é…æ›´å¤šçš„å†…å­˜ä¼šæœ‰æ‰€å¸®åŠ©ã€‚ä½ å¯ä»¥è®¾ç½®Edenç¨å¾®é«˜äº›çš„å†…å­˜ç»™æ¯ä¸ªä»»åŠ¡ã€‚å¦‚æœEdenè¡¨ç¤ºæˆEï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡è®¾ç½®Young generationçš„å‚æ•°å¤§å°ä¸º-Xmn=4/3*Eã€‚ï¼ˆThe scaling up by 4/3 is to account for space used by survivor regions as well.ï¼‰</li><li>ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœä½ çš„ä»»åŠ¡æ­£åœ¨ä»HDFSä¸­è¯»å–æ•°æ®ï¼Œä»»åŠ¡ä½¿ç”¨çš„å†…å­˜è¢«æ ‡è®°ä¸ºæ•°æ®çš„å—å¤§å°ã€‚<br>  æ³¨æ„ï¼Œè§£å‹åçš„æ•°æ®å—å¤§çº¦æ˜¯ä¹‹å‰æ•°æ®çš„2ï½3å€ã€‚å› æ­¤æˆ‘ä»¬å¸Œæœ›æœ‰3æˆ–è€…4ä¸ªä»»åŠ¡çš„å·¥ä½œç©ºé—´ï¼Œå¹¶ä¸”HDFSå—çš„å¤§å°æ˜¯64Mï¼Œæˆ‘ä»¬å°±å¯ä»¥ä¼°ç®—å‡ºEdenå¤§å°å¤§çº¦æ˜¯4<em>3</em>64MBã€‚</li><li>é€šè¿‡ä¿®æ”¹æ–°çš„è®¾ç½®æ¥ç›‘æµ‹åƒåœ¾å›æ”¶çš„é¢‘ç‡å’Œæ—¶é—´</li></ul><p>æˆ‘çš„ç»éªŒå¾—å‡ºGCä¼˜åŒ–çš„æ”¹è¿›å–å†³äºä½ çš„ç¨‹åºå’Œå¯ç”¨çš„å†…å­˜æ€»é‡ã€‚åœ¨ç½‘ä¸Šæœ‰å¾ˆå¤šä¼˜åŒ–é€‰é¡¹çš„æè¿°ï¼Œä½†æ˜¯å†è¿›ä¸€æ­¥ï¼Œç®¡ç†full GCçš„é¢‘ç‡å¯ä»¥æœ‰åŠ©äºé™ä½é¡¶å±‚é™åˆ¶ã€‚</p><h3 id="å…¶å®ƒéœ€è¦è€ƒè™‘çš„äº‹æƒ…"><a href="#å…¶å®ƒéœ€è¦è€ƒè™‘çš„äº‹æƒ…" class="headerlink" title="å…¶å®ƒéœ€è¦è€ƒè™‘çš„äº‹æƒ…"></a>å…¶å®ƒéœ€è¦è€ƒè™‘çš„äº‹æƒ…</h3><h4 id="å¹¶è¡Œçš„æ°´å¹³"><a href="#å¹¶è¡Œçš„æ°´å¹³" class="headerlink" title="å¹¶è¡Œçš„æ°´å¹³"></a>å¹¶è¡Œçš„æ°´å¹³</h4><p>èŠ‚ç‚¹ä¸ä¼šè¢«å……åˆ†åˆ©ç”¨ï¼Œé™¤éå–‚æ¯ä¸ªæ“ä½œè®¾ç½®äº†è¶³å¤Ÿé«˜çš„å¹¶è¡Œæ°´å¹³ã€‚Sparkä¼šè‡ªåŠ¨è®¾ç½®â€œmapâ€ä»»åŠ¡çš„æ•°é‡æ‰§è¡Œæ¯ä¸ªæ–‡ä»¶ä»¥å’Œä»–çš„å¤§å°ä¿æŒä¸€è‡´ï¼ˆå°½ç®¡ä½ å¯ä»¥é€šè¿‡SparkContext.textFileçš„å¯é€‰å‚æ•°æ§åˆ¶ï¼‰ï¼Œå¹¶ä¸”å¯¹äºåˆ†å¸ƒå¼çš„â€œreduceâ€æ“ä½œï¼Œæ¯”å¦‚groupByKey å’Œ reduceByKeyï¼Œä¼šä½¿ç”¨æœ€å¤§çš„çˆ¶RDDçš„åˆ†åŒºæ•°ã€‚ä½ å¯ä»¥ä¼ é€’å¹¶è¡Œçš„levelä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ï¼Œæ´»ç€è®¾ç½®spark.default.parallelismé…ç½®å±æ€§æ”¹å˜é»˜è®¤å€¼ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å»ºè®®åœ¨èŠ‚ç‚¹ä¸Šæ¯ä¸ªCPUå†…æ ¸æ‰§è¡Œ2ï½3ä¸ªä»»åŠ¡ã€‚</p><h4 id="é™ä½ä»»åŠ¡çš„å†…å­˜ä½¿ç”¨"><a href="#é™ä½ä»»åŠ¡çš„å†…å­˜ä½¿ç”¨" class="headerlink" title="é™ä½ä»»åŠ¡çš„å†…å­˜ä½¿ç”¨"></a>é™ä½ä»»åŠ¡çš„å†…å­˜ä½¿ç”¨</h4><p>æœ‰æ—¶ï¼Œä½ å¯èƒ½å¾—åˆ°OutOfMemoryErroré”™è¯¯ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯å› ä¸ºä½ çš„Rddä¸é€‚åˆä½ çš„å†…å­˜ï¼Œè€Œæ˜¯å› ä¸ºä»»åŠ¡ä¸­çš„å…¶ä¸­ä¸€ä¸ªçš„è®¾ç½®ï¼Œæ¯”å¦‚å…¶ä¸­ä¸€ä¸ªreduceä»»åŠ¡æ‰§è¡ŒgroupByKeyæ—¶å¤ªå¤§ã€‚Sparkçš„shuffleæ“ä½œï¼ˆsortByKey, groupByKey, reduceByKey, joinç­‰ï¼‰ä¼šåˆ›å»ºä¸€ä¸ªå“ˆå¸Œè¡¨å¹¶ä¸”æ¯ä¸ªä»»åŠ¡ä¼šæ‰§è¡Œgroupingæ“ä½œï¼Œè¿™ä¸ªé€šå¸¸æƒ…å†µä¸‹ä¹Ÿä¼šå¾ˆå¤§ã€‚æ­¤æ—¶æœ€ç®€å•çš„è§£å†³åŠæ³•æ˜¯å¢åŠ å¹¶è¡Œçš„æ°´å¹³ï¼Œä»¥é™ä½ä»»åŠ¡çš„è¾“å…¥é›†å¤§å°ã€‚Sparkå¯ä»¥é«˜æ•ˆçš„æ”¯æŒä»»åŠ¡ï¼Œå› ä¸ºå®ƒå¯ä»¥é‡å¤åˆ©ç”¨ä¸€ä¸ªexecutor JVMï¼Œå¹¶ä¸”æœ‰å¾ˆä½çš„ä»»åŠ¡åŠ è½½æ¶ˆè€—ï¼Œæ‰€ä»¥ä½ å¯ä»¥å®‰å…¨çš„å¢åŠ å¹¶å‘æ°´å¹³ï¼Œç”šè‡³è¶…è¿‡ä½ èŠ‚ç‚¹ä¸Šæ ¸å¿ƒçš„æ•°ç›®ã€‚</p><h4 id="å¹¿æ’­å¤§å˜é‡"><a href="#å¹¿æ’­å¤§å˜é‡" class="headerlink" title="å¹¿æ’­å¤§å˜é‡"></a>å¹¿æ’­å¤§å˜é‡</h4><p>ä½¿ç”¨SparkContextä¸Šå¯ç”¨çš„å¹¿æ’­åŠŸèƒ½å¯ä»¥æ˜æ˜¾çš„å‡å°‘æ¯ä¸ªåºåˆ—åŒ–ä»»åŠ¡çš„å¤§å°ï¼Œå’Œé€šè¿‡èŠ‚ç‚¹åŠ è½½ä»»åŠ¡çš„æ¶ˆè€—ã€‚å¦‚æœä½ çš„ä»»åŠ¡ä½¿ç”¨æ¥è‡ªdriverç¨‹åºçš„å¤§çš„å¯¹è±¡ï¼ˆæ¯”å¦‚ï¼šé™æ€æŸ¥æ‰¾è¡¨ï¼‰ï¼Œè¯•ç€è½¬åŒ–æˆä¸€ä¸ªå¹¿æ’­å˜é‡ã€‚Sparkæ‰“å°å‡ºä¸»èŠ‚ç‚¹ä¸Šæ¯ä¸ªä»»åŠ¡çš„åºåˆ—åŒ–åçš„å¤§å°ï¼Œä»è€Œä½ å¯ä»¥é€šè¿‡è¿™ä¸ªå†³å®šä½ çš„ä»»åŠ¡æ˜¯å¦è¿‡å¤§ï¼›é€šå¸¸çš„ä»»åŠ¡å¤§äº20KBå°±å€¼å¾—ä¼˜åŒ–äº†ã€‚</p><h4 id="æ•°æ®çš„ä½ç½®"><a href="#æ•°æ®çš„ä½ç½®" class="headerlink" title="æ•°æ®çš„ä½ç½®"></a>æ•°æ®çš„ä½ç½®</h4><p>æ•°æ®çš„ä½ç½®å¯èƒ½æ˜¯å½±å“Sparkä½œä¸šçš„æœ€ä¸»è¦çš„ä¸€ä¸ªå½±å“å› ç´ ã€‚å¦‚æœæ•°æ®å’Œä»£ç è¢«æ”¾ç½®åœ¨ä¸€èµ·çš„è¯ï¼Œè®¡ç®—é€Ÿåº¦ä¼šæ˜æ˜¾åŠ å¿«ã€‚ä½†æ˜¯å¦‚æœä»£ç å’Œæ•°æ®æ˜¯åˆ†å¼€çš„ï¼Œä¸åŒçš„ä¸¤å—æ•°æ®ä¼šè¢«ç§»åŠ¨åˆ°ä¸€èµ·ã€‚ç‰¹åˆ«æ˜¯ï¼Œä¼ è¾“åºåˆ—åŒ–çš„ä»£ç æ¯”æ•°æ®å—è¦å¿«å¾ˆå¤šï¼Œè¿™æ˜¯å› ä¸ºä»£ç çš„å¤§å°æ¯”æ•°æ®å°å¾ˆå¤šã€‚Sparkæ„å»ºè°ƒåº¦çš„ä¸»è¦åŸåˆ™å°±æ˜¯ç”±æ•°æ®çš„ä½ç½®å†³å®šçš„ã€‚</p><p>æ•°æ®çš„ä½ç½®åˆ°åº•è·ç¦»æ“ä½œä»–çš„ä»£ç å¤šè¿‘çš„è·ç¦»æ‰åˆé€‚å‘¢ï¼Ÿè¿™é‡Œå­˜åœ¨å¤šä¸ªçº§åˆ«ï¼ˆè‡ªè¿‘åŠè¿œï¼‰ï¼š</p><ul><li>PROCESS_LOCAL  æ•°æ®å’Œä»£ç åœ¨åŒä¸€ä¸ªJVMä¸­ï¼Œè¿™ç§æ–¹å¼æ˜¯æœ€å¥½çš„ä¸€ç§æƒ…å†µ</li><li>NODE_LOCAL æ•°æ®åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ã€‚æ¯”å¦‚è¯´åœ¨HDFSçš„åŒä¸€ä¸ªèŠ‚ç‚¹ï¼Œæˆ–è€…ç›¸åŒèŠ‚ç‚¹çš„ä¸åŒexecutorã€‚<br>  è¿™ç§æ–¹å¼æ¯”PROCESS_LOCALç¨å¾®æ…¢äº›ï¼Œå› ä¸ºè¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®éœ€è¦åœ¨ä¸åŒè¿›ç¨‹ä¸­ä¼ è¾“</li><li>NO_PREF data is accessed equally quickly from anywhere and has no locality preference</li><li>RACK_LOCAL æ•°æ®åœ¨åŒä¸€ä¸ªæœåŠ¡å™¨æœºæ¶ã€‚æ•°æ®åœ¨åŒä¸€ä¸ªæœºæ¶çš„ä¸åŒçš„æœåŠ¡å™¨ä¸Šçš„è¯ï¼Œæ•°æ®éœ€è¦é€šè¿‡ç½‘ç»œè¿›è¡Œä¼ è¾“ï¼Œtypically through a single switch</li><li>ANY æ•°æ®åˆ†å¸ƒåœ¨ç½‘ç»œçš„å„ä¸ªåœ°æ–¹ï¼Œå¹¶ä¸”ä¸åœ¨åŒä¸€ä¸ªæœºæ¶</li></ul><p>Sparkæ›´å€¾å‘äºè°ƒåº¦æœ€å¥½çš„localityçº§åˆ«çš„æ‰€æœ‰ä»»åŠ¡ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯ç»å¸¸å‘ç”Ÿçš„ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸åœ¨å¤„ç†æ•°æ®çš„ä»»ä½•ç©ºé—²executorï¼ŒSparkéƒ½ä¼šé€‰æ‹©æ›´ä½çš„localityçº§åˆ«ã€‚è¿™æœ‰ä¸¤ç§é€‰æ‹©ï¼š</p><ul><li>ç­‰å¾…åŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šçš„ä»»åŠ¡ï¼Œç›´åˆ°å¯¹åº”çš„CPUé—²ä¸‹æ¥æ‰æ‰§è¡Œ</li><li>ç«‹å³æ‰§è¡Œä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œå¹¶é€šè¿‡ç§»åŠ¨æ•°æ®åˆ°æ›´è¿œçš„èŠ‚ç‚¹æ‰§è¡Œ</li></ul><p>Sparké€šå¸¸ä¼šç¨å¾®ç­‰ä¸€ä¸‹ï¼Œä»¥ç­‰å¾…CPUæ‰§è¡Œå®Œæ¯•ã€‚ä¸€æ—¦è¶…æ—¶ï¼Œä»–å°±ä¼šå°†è¿œç«¯çš„æ•°æ®ä¼ é€’ç»™ç©ºé—²çš„CPUã€‚ä¸åŒçº§åˆ«çš„ç­‰å¾…è¶…æ—¶å›é€€å¯ä»¥å•ç‹¬é…ç½®ï¼Œæˆ–è€…åœ¨ä¸€ä¸ªå‚æ•°ä¸­é›†ä¸­ä¿®æ”¹ï¼›å‰å¾€é…ç½®é¡µæŸ¥çœ‹spark.localityå‚æ•°è¯¦æƒ…ã€‚å¦‚æœä½ çš„ä»»åŠ¡are long and see poor localityï¼Œä½ ä¹Ÿå¯ä»¥ä¿®æ”¹è®¾ç½®ï¼Œä½†æ˜¯ç¼ºçœå€¼æ˜¯å®Œå…¨å¯ä»¥æ»¡è¶³è¦æ±‚çš„ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>è¿™æ˜¯ä¸€ä¸ªç®€çŸ­çš„ä»‹ç»ï¼Œå…¶ä¸­æŒ‡å‡ºäº†ä½ å¯èƒ½éœ€è¦äº†è§£çš„ä¼˜åŒ–Sparkåº”ç”¨çš„æœ€ä¸»è¦çš„è¦ç‚¹ï¼Œæ•°æ®åºåˆ—åŒ–å’Œå†…å­˜ä¼˜åŒ–ã€‚å¯¹äºå¤§å¤šæ•°çš„ç¨‹åºæ¥è¯´ï¼Œé€‰æ‹©Kryoåºåˆ—åŒ–ï¼Œå¹¶ä¸”ä»¥åºåˆ—åŒ–å½¢å¼ä¿å­˜æ•°æ®å¯ä»¥è§£å†³å¤§éƒ¨åˆ†ä¸€èˆ¬çš„æ€§èƒ½é—®é¢˜ã€‚Feel free to ask on the Spark mailing list about other tuning best practices.</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Pythonå…³é”®å­—:yield</title>
      <link href="/2016-01-02-Python-keyword-yield.html"/>
      <url>/2016-01-02-Python-keyword-yield.html</url>
      
        <content type="html"><![CDATA[<p>æ³¨ï¼šä»¥ä¸‹ä»£ç å®éªŒç¯å¢ƒå‡ä¸º</p><pre class="line-numbers language-none"><code class="language-none">âœ  ~  pythonPython 2.7.10 (default, Oct 23 2015, 18:05:06)[GCC 4.2.1 Compatible Apple LLVM 7.0.0 (clang-700.0.59.5)] on darwinType "help", "copyright", "credits" or "license" for more information.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><span id="more"></span><h3 id="Yieldå…³é”®å­—"><a href="#Yieldå…³é”®å­—" class="headerlink" title="Yieldå…³é”®å­—"></a>Yieldå…³é”®å­—</h3><p>ç†è§£yieldå…³é”®å­—ä¹‹å‰éœ€è¦å…ˆæ˜ç™½ä»€ä¹ˆæ˜¯è¿­ä»£ã€‚</p><h4 id="å¯è¿­ä»£å¯¹è±¡"><a href="#å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="å¯è¿­ä»£å¯¹è±¡"></a>å¯è¿­ä»£å¯¹è±¡</h4><p>å»ºç«‹ä¸€ä¸ªåˆ—è¡¨ä¹‹åï¼Œå¯ä»¥é€é¡¹çš„è¯»å–åˆ—è¡¨ä¸­çš„å…ƒç´ ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; list = [1, 2, 3, 4]&gt;&gt;&gt; for i in list:...     print i...1234&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå™¨å»ºç«‹ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒæ ·ä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ªå¯è¿­ä»£çš„å¯¹è±¡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; list = [x * 2 for x in range(3)]&gt;&gt;&gt; list[0, 2, 4]&gt;&gt;&gt; for i in list:...     print i...024&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥ä½¿ç”¨for .. in .. çš„æ–¹å¼å¤„ç†ï¼šé“¾è¡¨ï¼Œå­—ç¬¦ä¸²ç­‰ï¼Œè¿™å°±å«åšä¸€ä¸ªè¿­ä»£å™¨ã€‚ä½†æ˜¯è¿™æ ·ä¼šå°†æ•°æ®å­˜æ”¾åˆ°å†…å­˜ä¸­ï¼Œå¦‚æœæ•°æ®é‡è¿‡å¤§çš„è¯ï¼Œå°±éå¸¸ä¸é€‚åˆäº†ã€‚</p><h4 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h4><p><a href="http://pyzh.readthedocs.org/en/latest/the-python-yield-keyword-explained.html">ç”Ÿæˆå™¨æ˜¯å¯ä»¥è¿­ä»£çš„ï¼Œä½†æ˜¯ä½  åªå¯ä»¥è¯»å–å®ƒä¸€æ¬¡ ï¼Œå› ä¸ºå®ƒå¹¶ä¸æŠŠæ‰€æœ‰çš„å€¼æ”¾åœ¨å†…å­˜ä¸­ï¼Œå®ƒæ˜¯å®æ—¶åœ°ç”Ÿæˆæ•°æ®</a></p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; g = (x * 2 for x in range(3))&gt;&gt;&gt; g&lt;generator object &lt;genexpr&gt; at 0x10978ca00&gt;&gt;&gt;&gt; for i in g:...     print i...024&gt;&gt;&gt; for i in g:...     print i...&gt;&gt;&gt;&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="yieldå…³é”®å­—"><a href="#yieldå…³é”®å­—" class="headerlink" title="yieldå…³é”®å­—"></a>yieldå…³é”®å­—</h4><p>yield æ˜¯ä¸€ä¸ªç±»ä¼¼returnçš„å…³é”®å­—ï¼Œä½†æ˜¯è¿™ä¸ªå‡½æ•°è¿”å›çš„æ˜¯ç”Ÿæˆå™¨ã€‚</p><p>åŒæ—¶æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ isgeneratorfunction åˆ¤æ–­ä¸€ä¸ªç‰¹æ®Šçš„ generator å‡½æ•°</p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; mg = createGenerator()&gt;&gt;&gt; print (mg)&lt;generator object createGenerator at 0x10978c9b0&gt;&gt;&gt;&gt; for i in mg:...     print i...024&gt;&gt;&gt; from inspect import isgeneratorfunction&gt;&gt;&gt; isgeneratorfunction(mg)False&gt;&gt;&gt; isgeneratorfunction(createGenerator)True&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<em>å½“ä½ è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œå‡½æ•°å†…éƒ¨çš„ä»£ç å¹¶ä¸ç«‹é©¬æ‰§è¡Œ</em> ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚åªæœ‰å½“ä½¿ç”¨forè¿›è¡Œè¿­ä»£çš„æ—¶å€™ï¼Œå‡½æ•°å†…çš„ä»£ç æ‰ä¼šæ‰§è¡Œã€‚</p><h4 id="æ§åˆ¶èµ„æºè®¿é—®"><a href="#æ§åˆ¶èµ„æºè®¿é—®" class="headerlink" title="æ§åˆ¶èµ„æºè®¿é—®"></a>æ§åˆ¶èµ„æºè®¿é—®</h4><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; class Bank():...     crisis = False...     def createAtm(self):...             while not self.crisis:...                     yield "$100"...&gt;&gt;&gt;&gt;&gt;&gt; bank = Bank()&gt;&gt;&gt; atm = bank.createAtm()&gt;&gt;&gt; print(atm.next())$100&gt;&gt;&gt; print(atm.next())$100&gt;&gt;&gt; print(atm.next())$100&gt;&gt;&gt; print(atm.next())$100&gt;&gt;&gt; atm.crisis = TrueTraceback (most recent call last):  File "&lt;stdin&gt;", line 1, in &lt;module&gt;AttributeError: 'generator' object has no attribute 'crisis'&gt;&gt;&gt; bank.crisis = True&gt;&gt;&gt; print (atm.next())Traceback (most recent call last):  File "&lt;stdin&gt;", line 1, in &lt;module&gt;StopIteration&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä¸ä½¿ç”¨yieldçš„è¯ï¼Œè¿™ä¸ªç±»æ‰§è¡ŒcreateAtmä¹‹åå°±ä¼šå¯¼è‡´ç³»ç»Ÿèµ„æºè€—å°½ï¼ˆæˆ–è€…è¯´æ˜¯æ— é™å¾ªç¯ï¼‰</p><h4 id="ä½¿ç”¨yieldå¯ä»¥æ˜¯ç¨‹åºéå¸¸ä¼˜ç¾ï¼Œè™½ç„¶pythonç¨‹åºæœ¬èº«å°±ä¼šå¾ˆä¼˜ç¾"><a href="#ä½¿ç”¨yieldå¯ä»¥æ˜¯ç¨‹åºéå¸¸ä¼˜ç¾ï¼Œè™½ç„¶pythonç¨‹åºæœ¬èº«å°±ä¼šå¾ˆä¼˜ç¾" class="headerlink" title="ä½¿ç”¨yieldå¯ä»¥æ˜¯ç¨‹åºéå¸¸ä¼˜ç¾ï¼Œè™½ç„¶pythonç¨‹åºæœ¬èº«å°±ä¼šå¾ˆä¼˜ç¾"></a>ä½¿ç”¨yieldå¯ä»¥æ˜¯ç¨‹åºéå¸¸ä¼˜ç¾ï¼Œè™½ç„¶pythonç¨‹åºæœ¬èº«å°±ä¼šå¾ˆä¼˜ç¾</h4><h5 id="ç”Ÿæˆæ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—"><a href="#ç”Ÿæˆæ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—" class="headerlink" title="ç”Ÿæˆæ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—"></a>ç”Ÿæˆæ–æ³¢é‚£å¥‘ï¼ˆFibonacciï¼‰æ•°åˆ—</h5><p>è®¸å¤šåˆå­¦è€…éƒ½ä¼šè¿™ä¹ˆå†™</p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; def fab(max):...     n, a, b = 0, 0, 1...     while n &lt; max:...             print b...             a, b = b, a + b...             n = n + 1...&gt;&gt;&gt; fab(5)11235&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨yieldæ”¹å†™ä¸€ä¸ªç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; def fab(max):...     n, a, b = 0, 0, 1...     while n &lt; max:...             yield b...             a, b = b, a + b...             n = n + 1...&gt;&gt;&gt;&gt;&gt;&gt; for n in fab(5):...     print n...11235&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç®€å•æè¿°ä¸‹"><a href="#ç®€å•æè¿°ä¸‹" class="headerlink" title="ç®€å•æè¿°ä¸‹"></a>ç®€å•æè¿°ä¸‹</h4><p>for è¯­å¥åœ¨ç¢°åˆ°ç”Ÿæˆå™¨ generator çš„æ—¶å€™ï¼Œ</p><p>è°ƒç”¨</p><pre class="line-numbers language-none"><code class="language-none">generator.__next__()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è·å–ç”Ÿæˆå™¨çš„è¿”å›å€¼ã€‚</p><pre class="line-numbers language-none"><code class="language-none">__next__()<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä»¥Fibonacciä¸ºä¾‹ï¼šforæ¯æ¬¡è°ƒç”¨ï¼Œå¯ä»¥ç†è§£ä¸ºæ‰§è¡Œäº†ä¸€æ¬¡generator() æ‰§è¡Œåˆ° yield çš„æ—¶å€™ï¼Œç”Ÿæˆå™¨è¿”å›äº†nçš„å€¼å¹¶åœæ­¢ã€‚<br>è¿™å°±åƒæ™®é€šå‡½æ•°ç¢°åˆ° return æ—¶ä¸€æ ·ï¼Œå‰©ä¸‹çš„ä»£ç éƒ½è¢«å¿½ç•¥äº†ã€‚</p><p>ä¸åŒçš„åœ°æ–¹åœ¨äºï¼Œpython ä¼šè®°å½•è¿™ä¸ªåœæ­¢çš„ä½ç½®ã€‚ å½“å†æ¬¡æ‰§è¡Œgenerator()çš„æ—¶å€™ï¼Œpython ä»è¿™ä¸ªåœæ­¢ä½ç½®å¼€å§‹æ‰§è¡Œè€Œä¸æ˜¯å¼€å¤´ï¼Œ ä¹Ÿå°±æ˜¯è¯´è¿™æ¬¡è¿”å›äº†1ã€‚å†æ‰§è¡Œgenerator()ï¼Œåˆ™è¿”å›2ï¼Œå½“æ‰§è¡Œåˆ°è¿”å›5çš„æ—¶å€™ï¼Œå·²ç»æ²¡æœ‰ yield è¯­å¥äº†ï¼Œ å°±æŠ›å‡ºäº† StopIteration ã€‚è¿™å’Œå…¶ä»–è¿­ä»£å™¨æ˜¯ç±»ä¼¼çš„ï¼Œå½“ç„¶åœ¨forä¸­æ˜¯ä¸ä¼šæŠ›å‡ºå¼‚å¸¸çš„ã€‚</p><h4 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶"></a>è¿›é˜¶</h4><p>åœ¨<a href="https://www.python.org/dev/peps/pep-0342/">PEP 342</a>ä¸­åŠ å…¥äº†å°†å€¼ä¼ ç»™ç”Ÿæˆå™¨çš„æ”¯æŒã€‚PEP 342åŠ å…¥äº†æ–°çš„ç‰¹æ€§ï¼Œèƒ½è®©ç”Ÿæˆå™¨åœ¨å•ä¸€è¯­å¥ä¸­å®ç°ï¼Œç”Ÿæˆä¸€ä¸ªå€¼ï¼ˆåƒä»å‰ä¸€æ ·ï¼‰ï¼Œæ¥å—ä¸€ä¸ªå€¼ï¼Œæˆ–åŒæ—¶ç”Ÿæˆä¸€ä¸ªå€¼å¹¶æ¥å—ä¸€ä¸ªå€¼ã€‚<br>æˆ‘ä»¬ç”¨å‰é¢é‚£ä¸ªå…³äºç´ æ•°çš„å‡½æ•°æ¥å±•ç¤ºå¦‚ä½•å°†ä¸€ä¸ªå€¼ä¼ ç»™ç”Ÿæˆå™¨ã€‚è¿™ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä¸å†ç®€å•åœ°ç”Ÿæˆæ¯”æŸä¸ªæ•°å¤§çš„ç´ æ•°ï¼Œè€Œæ˜¯æ‰¾å‡ºæ¯”æŸä¸ªæ•°çš„ç­‰æ¯”çº§æ•°å¤§çš„æœ€å°ç´ æ•°ï¼ˆä¾‹å¦‚10ï¼Œ æˆ‘ä»¬è¦ç”Ÿæˆæ¯”10ï¼Œ100ï¼Œ1000ï¼Œ10000 â€¦ å¤§çš„æœ€å°ç´ æ•°ï¼‰ã€‚</p><pre class="line-numbers language-none"><code class="language-none">&gt;&gt;&gt; import math&gt;&gt;&gt; def getPrimes(number):...     while True:...             if isPrime(number):&gt;&gt;&gt;                     '''...                     yieldå…³é”®å­—è¿”å›numberçš„å€¼ï¼Œ...                     è€Œother = yield foo "è¿”å›fooçš„å€¼ï¼Œ...                     è¿™ä¸ªå€¼è¿”å›ç»™è°ƒç”¨è€…çš„åŒæ—¶ï¼Œå°†otherçš„å€¼ä¹Ÿè®¾ç½®ä¸ºé‚£ä¸ªå€¼"ã€‚...                     å¯ä»¥é€šè¿‡sendæ–¹æ³•æ¥å°†ä¸€ä¸ªå€¼â€å‘é€â€œç»™ç”Ÿæˆå™¨ã€‚&gt;&gt;&gt;                     '''...                     number = yield number...             number += 1...&gt;&gt;&gt; def printSuccessivePrimes(iterations, base=10):...     printGenerator = getPrimes(base)&gt;&gt;&gt;     '''...     ç”¨sendæ¥â€œå¯åŠ¨â€ä¸€ä¸ªç”Ÿæˆå™¨æ—¶ï¼ˆå°±æ˜¯ä»ç”Ÿæˆå™¨å‡½æ•°çš„ç¬¬ä¸€è¡Œä»£ç æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ªyieldè¯­å¥çš„ä½ç½®ï¼‰ï¼Œå¿…é¡»å‘é€Noneã€‚å› ä¸ºæ­¤æ—¶ç”Ÿæˆå™¨è¿˜æ²¡æœ‰èµ°åˆ°ç¬¬ä¸€ä¸ªyieldè¯­å¥ï¼Œå¦‚æœsendä¸€ä¸ªçœŸå®çš„å€¼ï¼Œè¿™æ—¶æ˜¯æ²¡æœ‰äººå»â€œæ¥æ”¶â€å®ƒçš„ã€‚ä¸€æ—¦ç”Ÿæˆå™¨å¯åŠ¨äº†ï¼Œæˆ‘ä»¬å°±å¯ä»¥åƒä¸Šé¢é‚£æ ·å‘é€æ•°æ®äº†&gt;&gt;&gt;     '''...     printGenerator.send(None)...     for power in range(iterations):&gt;&gt;&gt;             '''...             æ‰“å°çš„æ˜¯generator.sendçš„ç»“æœï¼Œsendåœ¨å‘é€æ•°æ®ç»™ç”Ÿæˆå™¨çš„åŒæ—¶è¿˜è¿”å›ç”Ÿæˆå™¨é€šè¿‡yieldç”Ÿæˆçš„å€¼&gt;&gt;&gt;             '''...             print(printGenerator.send(base ** power))...&gt;&gt;&gt; def isPrime(number):...     if number &gt; 1:...             if number == 2:...                     return True...             if number % 2 == 0:...                     return False...             for current in range(3, int(math.sqrt(number) + 1), 2):...                     if number % current == 0:...                             return False...             return True...     return False...&gt;&gt;&gt;&gt;&gt;&gt; printSuccessivePrimes(10)2111011009100071000031000003100000191000000071000000007&gt;&gt;&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Python ä½¿ç”¨yieldçš„å…³é”®æ€æƒ³</p><ul><li>generatoræ˜¯ç”¨æ¥äº§ç”Ÿä¸€ç³»åˆ—å€¼çš„</li><li>yieldåˆ™åƒæ˜¯generatorå‡½æ•°çš„è¿”å›ç»“æœ</li><li>yieldå”¯ä¸€æ‰€åšçš„å¦ä¸€ä»¶äº‹å°±æ˜¯ä¿å­˜ä¸€ä¸ªgeneratorå‡½æ•°çš„çŠ¶æ€</li><li>generatorå°±æ˜¯ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„è¿­ä»£å™¨ï¼ˆiteratorï¼‰</li><li>å’Œè¿­ä»£å™¨ç›¸ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨next()æ¥ä»generatorä¸­è·å–ä¸‹ä¸€ä¸ªå€¼</li><li>é€šè¿‡éšå¼åœ°è°ƒç”¨next()æ¥å¿½ç•¥ä¸€äº›å€¼</li></ul><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul><li><a href="http://pyzh.readthedocs.org/en/latest/the-python-yield-keyword-explained.html">http://pyzh.readthedocs.org/en/latest/the-python-yield-keyword-explained.html</a></li><li><a href="http://www.dabeaz.com/coroutines/index.html">http://www.dabeaz.com/coroutines/index.html</a></li><li><a href="https://docs.python.org/2/tutorial/classes.html">https://docs.python.org/2/tutorial/classes.html</a></li><li><a href="http://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do-in-python">http://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do-in-python</a></li><li><a href="http://www.pydanny.com/python-yields-are-fun.html">http://www.pydanny.com/python-yields-are-fun.html</a></li><li><a href="http://dhcmrlchtdj.github.io/sia/post/2012-11-20/python_yield.html">http://dhcmrlchtdj.github.io/sia/post/2012-11-20/python_yield.html</a></li><li><a href="http://www.oschina.net/translate/improve-your-python-yield-and-generators-explained">http://www.oschina.net/translate/improve-your-python-yield-and-generators-explained</a></li><li><a href="http://www.pythonclub.org/python-basic/yield">http://www.pythonclub.org/python-basic/yield</a></li><li><a href="https://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/">https://www.ibm.com/developerworks/cn/opensource/os-cn-python-yield/</a></li><li><a href="https://www.jeffknupp.com/blog/2013/04/07/improve-your-python-yield-and-generators-explained/">https://www.jeffknupp.com/blog/2013/04/07/improve-your-python-yield-and-generators-explained/</a></li><li><a href="http://pythontips.com/2013/09/29/the-python-yield-keyword-explained/">http://pythontips.com/2013/09/29/the-python-yield-keyword-explained/</a></li><li><a href="http://blog.jobbole.com/28506/">http://blog.jobbole.com/28506/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> yield </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Oryx2 ç®€ä»‹</title>
      <link href="/2015-12-21-Oryx2-Overview.html"/>
      <url>/2015-12-21-Oryx2-Overview.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>![Oryx2](/assets/images/posts/oryx/OryxLogoMedium.png)</p><p>Oryx2æ˜¯ä¸“æ³¨äºè¿›è¡Œå¤§è§„æ¨¡ï¼Œå®æ—¶æœºå™¨å­¦ä¹ æ¡†æ¶ï¼Œéµå¾ªlambdaè§„åˆ™ï¼ŒåŸºäºApache Sparkå’ŒApache Kafkaæ„å»ºã€‚</p><p>Oryx ä¸ä»…æ˜¯æ„å»ºåº”ç”¨ç¨‹åºçš„æ¡†æ¶ï¼Œè€Œä¸”åŒ…å« ååŒè¿‡æ»¤ï¼Œåˆ†ç±»ï¼Œå›å½’å’Œèšç±»çš„æ‰“åŒ…çš„ç«¯åˆ°ç«¯çš„åº”ç”¨ã€‚</p><span id="more"></span><p>åŒ…å«3å±‚</p><ul><li>lambdaå±‚<ul><li>æ‰¹é‡å¤„ç†</li><li>å¿«é€Ÿå¤„ç†</li><li>æœåŠ¡</li></ul></li><li>MLæŠ½è±¡å±‚</li><li>ç«¯åˆ°ç«¯å®ç°å±‚</li></ul><p>ä»å¦ä¸€ä¸ªè§’åº¦ï¼Œå¯ä»¥çœ‹æˆæ˜¯ä¸€ç³»åˆ—é“¾æ¥çš„å…ƒç´ </p><ul><li>æ‰¹å¤„ç†å±‚ï¼šä¾æ®å†å²æ•°æ®è¿›è¡Œç¦»çº¿å¤„ç†</li><li>å®æ—¶å¤„ç†å±‚ï¼šé€šè¿‡å¢é‡æ•°æ®æµï¼Œå®æ—¶æ›´æ–°ç»“æœ</li><li>æœåŠ¡å±‚ï¼šé€šè¿‡æ¨¡å‹çš„ä¼ é€’å®ç°å¼‚æ­¥æŸ¥è¯¢API</li><li>æ•°æ®ä¼ è¾“å±‚ï¼šåœ¨å¤–éƒ¨æ•°æ®æºä¸å¤„ç†å±‚ä¹‹é—´ä¼ è¾“æ•°æ®</li></ul><p>The project</p><ul><li>may be reused tier by tier for example, the packaged app tier can be ignored, and it can be a framework for building new ML applications.</li><li>It can be reused layer by layer too: for example, the Speed Layer can be omitted if a deployment does not need incremental updates.</li><li>It can be modified piece-by-piece too: the collaborative filtering applicationâ€™s model-building batch layer could be swapped for a custom implementation based on a new algorithm outside Spark MLlib while retaining the serving and speed layer implementations.</li></ul><p>![Architecture](/assets/images/posts/oryx/Architecture.png)</p><h3 id="Lambdaå±‚å®ç°"><a href="#Lambdaå±‚å®ç°" class="headerlink" title="Lambdaå±‚å®ç°"></a>Lambdaå±‚å®ç°</h3><h4 id="æ•°æ®ä¼ è¾“"><a href="#æ•°æ®ä¼ è¾“" class="headerlink" title="æ•°æ®ä¼ è¾“"></a>æ•°æ®ä¼ è¾“</h4><p>  æ•°æ®ä¼ è¾“æœºåˆ¶å…¶å®å°±æ˜¯ä¸€ä¸ªKafkaçš„Topicã€‚ä»»ä½•ä¸€ä¸ªè¿›ç¨‹ï¼ˆåŒ…å«ä¸”ä¸å±€é™ä¸æœåŠ¡å±‚ï¼‰éƒ½å¯ä»¥å‘topicä¸­å†™å…¥æ•°æ®ï¼Œå¹¶é€šè¿‡å®æ—¶å¤„ç†å’Œæ‰¹å¤„ç†å±‚æŸ¥çœ‹ã€‚<br>  Kafka Topicä¹Ÿå¯ä»¥ç”¨æ¥æ¨¡å‹å’Œæ¨¡å‹ä¹‹é—´çš„æ›´æ–°ï¼Œå¹¶è¢«å®æ—¶å¤„ç†å±‚å’ŒæœåŠ¡å±‚æ¶ˆè´¹ã€‚</p><h4 id="æ‰¹å¤„ç†å±‚"><a href="#æ‰¹å¤„ç†å±‚" class="headerlink" title="æ‰¹å¤„ç†å±‚"></a>æ‰¹å¤„ç†å±‚</h4><p>  æ‰¹å¤„ç†å±‚æ˜¯ä»¥Spark Streamingè¿›ç¨‹çš„æ–¹å¼å®ç°çš„ï¼Œè¿è¡Œåœ¨Hadoop ClusterèŠ‚ç‚¹ä¸Šï¼Œå¹¶è¯»å–æ¥è‡ªKafka topicçš„è¾“å…¥æ•°æ®ã€‚ Streaming è¿›ç¨‹ä¼šæœ‰ä¸€ä¸ªå¾ˆé•¿çš„è¿è¡Œå‘¨æœŸ-è‹¥å¹²å°æ—¶ç”šè‡³ä¸€å¤©ã€‚ä¼šä½¿ç”¨Sparkå­˜å‚¨å½“å‰ä¼šè¯æ•°æ®åˆ°HDFSä¸­ï¼Œç„¶ååˆå¹¶HDFSä¸Šçš„æ‰€æœ‰å†å²æ•°æ®ï¼Œä¹‹åé‡æ–°åˆå§‹åŒ–æ„å»ºæ–°çš„ç»“æœæ•°æ®ã€‚å¹¶å°†æ–°çš„ç»“æœé‡æ–°å†™å…¥HDFSï¼ŒåŒæ—¶å‘ä¸åˆ°Kafkaæ›´æ–°topicä¸­ã€‚</p><h4 id="å®æ—¶å¤„ç†å±‚"><a href="#å®æ—¶å¤„ç†å±‚" class="headerlink" title="å®æ—¶å¤„ç†å±‚"></a>å®æ—¶å¤„ç†å±‚</h4><p>  å®æ—¶å¤„ç†å±‚ä¹Ÿæ˜¯ç”±Spark Streamingè¿›ç¨‹å®ç°çš„ï¼ŒåŒæ ·è¯»å–Kafka topicè¾“å…¥æ•°æ®ã€‚ä½†æ˜¯ä»–å­˜åœ¨æ¯”è¾ƒçŸ­çš„è¿è¡Œå‘¨æœŸï¼Œæ¯”å¦‚ç§’çº§åˆ«ã€‚ä¼šæŒç»­æ¶ˆè´¹æ›´æ–°topicä¸­çš„æ–°æ¨¡å‹ï¼Œå¹¶ç”Ÿäº§æ–°çš„æ¨¡å‹ã€‚ä¹Ÿä¼šå›å†™æ›´æ–°topicã€‚</p><h4 id="æœåŠ¡å±‚"><a href="#æœåŠ¡å±‚" class="headerlink" title="æœåŠ¡å±‚"></a>æœåŠ¡å±‚</h4><p>  æœåŠ¡å±‚ç›‘å¬æ›´æ–°topicä¸Šçš„æ¨¡å‹ä»¥åŠæ¨¡å‹æ›´æ–°ã€‚åœ¨å†…å­˜ä¸­æŒä¹…åŒ–æ¨¡å‹çŠ¶æ€ã€‚<br>  ä¼šæš´éœ²é¡¶å±‚æ–¹æ³•çš„ HTTP REST API ç”¨äºæŸ¥è¯¢å†…å­˜ä¸­çš„æ¨¡å‹ã€‚å¤§éƒ¨åˆ†æ¥å£éƒ½æ”¯æŒå¤§è§„æ¨¡çš„éƒ¨ç½²ã€‚<br>  æ¯ä¸ªæ¥å£éƒ½å¯ä»¥æ¥æ”¶æ–°çš„æ•°æ®å¹¶å†™å…¥Kafkaï¼Œä»¥æ­¤åœ¨å®æ—¶å¤„ç†å±‚å’Œæ‰¹å¤„ç†å±‚å¯è§ã€‚</p><h4 id="é…ç½®å’Œéƒ¨ç½²"><a href="#é…ç½®å’Œéƒ¨ç½²" class="headerlink" title="é…ç½®å’Œéƒ¨ç½²"></a>é…ç½®å’Œéƒ¨ç½²</h4><p>  ç¨‹åºæ˜¯åŸºäºJavaå®ç°çš„ï¼Œä¾èµ–<br>    * Spark 1.3.x+<br>    * Hadoop 2.6.x+<br>    * Tomcat 8.x+<br>    * Kafka 0.8.2+<br>    * Zookeeper ç­‰ã€‚</p><p>  é…ç½®æ–‡ä»¶é€šè¿‡ <a href="https://github.com/typesafehub/config">Typesafe Config</a> çš„æ–¹å¼å®ç°æ•´ä¸ªç³»ç»Ÿçš„éƒ¨ç½²é…ç½®ã€‚<br>  åŒ…æ‹¬ï¼š æ‰¹å¤„ç†ï¼Œå®æ—¶å¤„ç†ï¼ŒæœåŠ¡å±‚é€»è¾‘å…³é”®çš„æ¥å£ç±»çš„å®ç°</p><p>  æ¯ä¸ªå±‚çš„äºŒè¿›åˆ¶å½¢å¼åˆ†å¼€è¿›è¡Œæ‰“åŒ…å’Œéƒ¨ç½²çš„ï¼Œæ¯ä¸ªéƒ½æ˜¯ä»¥å¯æ‰§è¡Œçš„Javaçš„jaråŒ…çš„å½¢å¼å­˜åœ¨å¹¶åŒ…å«æ‰€æœ‰å¿…é¡»çš„æœåŠ¡ã€‚</p><h3 id="MLå±‚å®ç°"><a href="#MLå±‚å®ç°" class="headerlink" title="MLå±‚å®ç°"></a>MLå±‚å®ç°</h3><p>  MLå±‚å¯¹ä¸Šè¿°é€šç”¨æ¥å£æ–¹æ³•åšäº†ç®€å•çš„ä¸“ä¸€è¯çš„å®ç°ï¼Œå®ç°äº†é€šç”¨MLéœ€æ±‚ï¼Œå¹¶ä¸”å¯¹åº”ç”¨æš´éœ²äº†æœºå™¨å­¦ä¹ ç‰¹æœ‰çš„æ¥å…¥æ¥å£ã€‚</p><p>  ä¸¾ä¸ªä¾‹å­ï¼Œå®ç°äº†æ‰¹é‡å¤„ç†å±‚ï¼Œç”¨äºè‡ªåŠ¨æ›´æ–°æµ‹è¯•é›†å’Œè®­ç»ƒé›†è¿›ç¨‹ã€‚å¯ä»¥è°ƒç”¨åº”ç”¨æä¾›çš„å‡½æ•°æ¥è¯„ä¼°æµ‹è¯•æœºæ¨¡å‹ã€‚é€šè¿‡å°è¯•ä¸åŒçš„è¶…å‚æ•°å€¼ï¼Œé€‰æ‹©å‡ºæœ€ä½³ç»“æœã€‚é€šè¿‡PMMLç®¡ç†æ¨¡å‹çš„åºåˆ—å·ã€‚</p><h3 id="ç«¯åˆ°ç«¯åº”ç”¨å®ç°"><a href="#ç«¯åˆ°ç«¯åº”ç”¨å®ç°" class="headerlink" title="ç«¯åˆ°ç«¯åº”ç”¨å®ç°"></a>ç«¯åˆ°ç«¯åº”ç”¨å®ç°</h3><p>  é™¤äº†ä½œä¸ºä¸€ç§æ¡†æ¶ï¼ŒOryx2 åŒ…å«å®Œæ•´çš„ä¸‰ä¸­æœºå™¨å­¦ä¹ éœ€è¦çš„æ‰¹å¤„ç†å±‚ï¼Œå®æ—¶å¤„ç†å±‚ï¼ŒæœåŠ¡å±‚ã€‚<br>  å¼€ç®±å³ç”¨ï¼Œæˆ–è€…ä½œä¸ºè‡ªå®šä¹‰ç¨‹åºçš„åŸºç¡€ï¼š</p><pre><code>* åŸºäºæœ€å°äºŒä¹˜æ³•çš„ååŒè¿‡æ»¤/æ¨è* åŸºäºk-meansçš„èšç±»* åŸºäºéšæœºå†³ç­–æ£®æ—çš„åˆ†ç±»å’Œå›å½’</code></pre><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul><li><a href="http://oryx.io/index.html">http://oryx.io/index.html</a></li><li><a href="http://www.ivanopt.com/oryx-document%E7%BF%BB%E8%AF%91/">http://www.ivanopt.com/oryx-document%E7%BF%BB%E8%AF%91/</a></li><li><a href="http://jameskinley.tumblr.com/post/37398560534/the-lambda-architecture-principles-for">http://jameskinley.tumblr.com/post/37398560534/the-lambda-architecture-principles-for</a></li><li><a href="http://dmg.org/pmml/v4-1/GeneralStructure.html">http://dmg.org/pmml/v4-1/GeneralStructure.html</a></li><li><a href="http://blog.csdn.net/nxcjh321/article/details/24796879">http://blog.csdn.net/nxcjh321/article/details/24796879</a></li><li><a href="http://youngfor.me/post/recsys/oryx-tui-jian-xi-tong-chu-ti-yan">http://youngfor.me/post/recsys/oryx-tui-jian-xi-tong-chu-ti-yan</a></li><li><a href="https://github.com/OryxProject/oryx">https://github.com/OryxProject/oryx</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Oryx2 ç®¡ç†å‘˜æ–‡æ¡£</title>
      <link href="/2015-12-21-Oryx2-Admin-Docs.html"/>
      <url>/2015-12-21-Oryx2-Admin-Docs.html</url>
      
        <content type="html"><![CDATA[<h3 id="Oryx-2-1-0-ç³»ç»Ÿè¦æ±‚"><a href="#Oryx-2-1-0-ç³»ç»Ÿè¦æ±‚" class="headerlink" title="Oryx 2.1.0 ç³»ç»Ÿè¦æ±‚"></a>Oryx 2.1.0 ç³»ç»Ÿè¦æ±‚</h3><ul><li>Java 7 or later (JRE only is required)</li><li>A Hadoop cluster running the following components:<ul><li>Apache Hadoop 2.6.0 or later</li><li>Apache Zookeeper 3.4.5 or later</li><li>Apache Kafka 0.8.2 or later (in 0.8.x line)</li><li>Apache Spark 1.5.0 or later</li></ul></li></ul><span id="more"></span><h3 id="æœåŠ¡"><a href="#æœåŠ¡" class="headerlink" title="æœåŠ¡"></a>æœåŠ¡</h3><p>Hadoop cluster æœåŠ¡</p><ul><li>HDFS</li><li>YARN</li><li>Zookeeper</li><li>Kafka</li><li>Spark (on YARN)</li></ul><p>Note that for CDH, Kafka is available as a parcel from <a href="http://www.cloudera.com/content/cloudera/en/developers/home/cloudera-labs/apache-kafka.html">Cloudera Labs</a>.</p><p>Kafka brokers éœ€è¦é…ç½®åœ¨é›†ç¾¤ä¸­ï¼Œæ ¹æ®å®ä¾‹ï¼Œéœ€è¦æ³¨æ„hostså’Œç«¯å£ã€‚ç«¯å£ä¸€èˆ¬ä¼šè®¾ç½®ä¸º9092ï¼Œæ­¤å¤„å’ŒZK serverçš„ç«¯å£ä¿æŒä¸€è‡´ï¼Œç¼ºçœè®¾ç½®ä¸º2181ã€‚ç¼ºçœç«¯å£ä¼šåœ¨éšåçš„ä¾‹å­ä¸­ä½¿ç”¨ã€‚</p><p>å¤šä¸ªhostséœ€è¦é€šè¿‡é€—å·åˆ†å‰²ï¼Œå¹¶éœ€è¦æä¾›host:port è¿™ç§æ–¹å¼ï¼Œæ¯”å¦‚ ï¼š your-zk-1:2181,your-zk-2:2181ã€‚</p><p>åŒæ—¶éœ€è¦æ³¨æ„ï¼Œä½ çš„ZKå®ä¾‹æ˜¯å¦ä½¿ç”¨äº†chroot pathã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„è·¯å¾„å‰ç¼€ï¼Œæ¯”å¦‚ your-zk:2181/your-chroot<br>/kafka æ˜¯ç»å¸¸ç”¨åˆ°ä½œä¸ºå‰ç¼€çš„ã€‚å¦‚æœæ²¡æœ‰ä½¿ç”¨chrootï¼Œå°±å¯ä»¥å¿½ç•¥è¿™ä¸ªã€‚æ³¨æ„ï¼šå¦‚æœå­˜åœ¨å¤šä¸ªZK serverï¼Œå’Œä¸€ä¸ªchrootï¼Œåªéœ€è¦åœ¨æœ€åæ·»åŠ ä¸€æ¬¡chrootå³å¯ï¼Œæ¯”å¦‚ your-zk-1:2181,your-zk-2:2181/kafka</p><h3 id="é…ç½®Kafka"><a href="#é…ç½®Kafka" class="headerlink" title="é…ç½®Kafka"></a>é…ç½®Kafka</h3><p>Oryx ä½¿ç”¨2ä¸ªKafka topics åšæ•°æ®ä¼ è¾“ã€‚</p><ul><li>ä¸€ä¸ªä¼ è¾“è¾“å…¥æ•°æ®åˆ°æ‰¹é‡å¤„ç†ï¼Œå’Œå®æ—¶è®¡ç®—å±‚</li><li>å¦ä¸€ä¸ªåŒæ­¥æ¨¡å‹æ›´æ–°åˆ°æœåŠ¡å±‚</li></ul><p>ç¼ºçœçš„topicsçš„åç§°åˆ†åˆ«ä¸ºOryxInput å’Œ OryxUpdateï¼Œåªæœ‰OryxæœåŠ¡å¯åŠ¨åæ‰èƒ½åˆ›å»ºè¿™ä¸¤ä¸ªtopicsã€‚</p><p>è¾“å…¥topicçš„åˆ†åŒºæ•°ç›®ä¼šå½±å“æ¶ˆè´¹æ•°æ®çš„Spark Streaming ä½œä¸šçš„åˆ†åŒºæ•°ï¼Œç”šè‡³æ˜¯å¹¶å‘æ•°ã€‚æ¯”å¦‚ï¼Œæ‰¹é‡å¤„ç†å±‚è¯»å–HDFSä¸Šçš„å†å²æ•°æ®åˆ†åŒºå’ŒKafkaæ•°æ®ã€‚</p><p>å¦‚æœè¾“å…¥topicåªæœ‰ä¸€ä¸ªåˆ†åŒºï¼Œä¸”åœ¨æ¯ä¸ªæ—¶é—´é—´éš”å†…æœ‰å¤§é‡çš„æ•°æ®æ¶Œå…¥ï¼Œè¿™æ—¶KafkaåŸºäºçš„è¾“å…¥åˆ†åŒºç›¸å¯¹çš„éœ€è¦å¾ˆé•¿çš„æ—¶é—´å»å¤„ç†ã€‚ä¸€ä¸ªæ¯”è¾ƒåˆé€‚çš„ç»éªŒå€¼æ˜¯é€‰æ‹©ä¸€äº›topicåˆ†åŒºï¼Œåœ¨ä¸€ä¸ªæ‰¹å¤„ç†æ—¶é—´é—´éš”å†…åˆ°è¾¾çš„å¤§é‡æ•°æ®ï¼Œå¤§çº¦æ˜¯ä¸€ä¸ªHDFSå—å¤§å°ï¼Œç¼ºçœå€¼æ˜¯128MBã€‚</p><p>æä¾›çš„oryx-run.sh kafkaè®¾ç½®è„šæœ¬ï¼Œç¼ºçœè®¾ç½®ä¸º4ä¸ªåˆ†åŒºï¼Œå½“ç„¶äº†ï¼Œè¿™ä¸ªå€¼ä¹‹åæ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚å¿…é¡»æ³¨æ„ä¸èƒ½è®¾ç½®æ›´æ–°topicå¤šäº1ä¸ªåˆ†åŒºã€‚</p><p>é‡å¤å› å­å¯ä»¥è®¾ç½®ä¸ºä»»ä½•å€¼ï¼Œä½†æ˜¯å»ºè®®æœ€å°‘æ˜¯2ã€‚æ³¨æ„ï¼šé‡å¤å› å­æ•°ç›®ä¸èƒ½è¶…è¿‡Kafka brokersåœ¨é›†ç¾¤ä¸Šçš„æ•°ç›®ã€‚æ‰€ä»¥æä¾›çš„è®¾ç½®è„šæœ¬é‡Œç¼ºçœè®¾ç½®é‡å¤å› å­ä¸º1. ä¹‹åä½ å¯ä»¥é€šè¿‡kafka-topics â€“zookeeper â€¦ â€“alter â€“topic â€¦ â€“replication-factor N ç­‰ä¿®æ”¹è¿™äº›ç¼ºçœå€¼ã€‚</p><p>ä½ éœ€è¦ä¸ºå…¶ä¸­ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªtopicé…ç½®æŒç»­æ—¶é—´ã€‚å°¤å…¶é‡è¦çš„æ˜¯éœ€è¦é™åˆ¶æ›´æ–°topicçš„æŒç»­æ—¶é—´ï¼Œå› ä¸ºå®æ—¶è®¡ç®—å±‚å’ŒæœåŠ¡å±‚éœ€è¦ä»å¯åŠ¨å¼€å§‹çš„èµ·ç‚¹è·å–æ•´ä¸ªtopicã€‚è¿™ä¸ªæœºåˆ¶å¹¶ä¸å¦‚è¾“å…¥æ•°æ®é‡è¦ï¼Œè¾“å…¥æ•°æ®ä¸ä¼šå†æ¬¡ä»å¤´è¯»å–æ•°æ®ã€‚</p><p>è®¾ç½®è¿™ä¸ªå€¼ä¸ºæ‰¹é‡å¤„ç†å±‚æ›´æ–°é—´éš”çš„2å€æ˜¯æ¯”è¾ƒåˆé€‚ã€‚æ¯”å¦‚è®¾ç½®è¯¥å€¼ä¸º1å¤©ï¼ˆ24 * 60 * 60 * 1000 = 86400000 msï¼‰ï¼Œè®¾ç½®topicçš„ä¸º86400000msã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡oryx-run.shè®¾ç½®è„šæœ¬è‡ªåŠ¨è®¾ç½®ã€‚</p><p>ä¸Šè¿°ä¸¤ä¸ªtopicsä¼šåŒ…å«å¤§é‡ä¿¡æ¯ï¼›å°¤å…¶æ˜¯æ›´æ–°topicåŒ…å«æ•´ä¸ªåºåˆ—åŒ–çš„PMMLæ¨¡å‹ã€‚å¾ˆæœ‰å¯èƒ½ä»–ä¼šè¶…è¿‡Kafkaç¼ºçœæœ€å¤§æ¶ˆæ¯çš„å¤§å°ï¼ˆkafkaæ¶ˆæ¯æœ€å¤§1Mibï¼‰ã€‚å¦‚æœæœ‰æ›´å¤§çš„æ•°æ®åˆ™éœ€è¦è®¾ç½®topicâ€™s max.message.bytesã€‚oryx-run.sh Kafkaè®¾ç½®è„šæœ¬è®¾ç½®æ›´æ–°topicç¼ºçœä¸º16Mibã€‚è¿™ä¹Ÿæ˜¯Oryxè¯•å›¾å¸å…¥æ›´æ–°topicé‡Œçš„æ¨¡å‹çš„æœ€å¤§å€¼é»˜è®¤ï¼›æ›´å¤§çš„æ¨¡å‹åªä¼šä»¥æ–‡ä»¶çš„å½¢å¼ä¿å­˜åˆ°HDFSä¸­çš„è·¯å¾„ä¸­ã€‚è¯·æŸ¥çœ‹å±æ€§oryx.update-topic.message.max-sizeã€‚</p><p>Kafkaä»£ç†çš„message.max.byteså±æ€§å¯ä»¥æ§åˆ¶è¿™ä¸ªï¼Œä½†æ˜¯è®¾ç½®è¿™ä¸ªå€¼ä¼šå½±å“åˆ°ä»£ç†ç®¡ç†çš„æ‰€æœ‰çš„topicsï¼Œç”šè‡³åŒ…æ‹¬ä¸è‰¯çŠ¶æ€çš„topicsã€‚å¯ä»¥é€šè¿‡æŸ¥çœ‹æ€§èƒ½å’Œèµ„æºéƒ¨åˆ†äº†è§£æ›´å¤šã€‚å°¤å…¶æ˜¯éœ€è¦æ³¨æ„çš„ï¼Œå¿…é¡»è®¾ç½®ä»£ç†çš„replica.fetch.max.byteså±æ€§ï¼Œä»¥é˜²æ­¢é‡å¤ä»»ä½•éå¸¸å¤§çš„æ¶ˆæ¯ã€‚</p><blockquote><p>There is no per-topic equivalent to this.</p></blockquote><h3 id="Kafkaé…ç½®è‡ªåŠ¨è®¾ç½®"><a href="#Kafkaé…ç½®è‡ªåŠ¨è®¾ç½®" class="headerlink" title="Kafkaé…ç½®è‡ªåŠ¨è®¾ç½®"></a>Kafkaé…ç½®è‡ªåŠ¨è®¾ç½®</h3><p>æä¾›çš„oryx-run.shè„šæœ¬å¯ä»¥æ‰“å°ZKçš„å½“å‰é…ç½®ï¼Œåˆ—å‡ºå·²ç»å­˜åœ¨çš„Kafkaä¸­çš„topicsï¼Œå¦‚æœéœ€è¦ï¼Œä¼šåˆ›å»ºé…ç½®å¥½çš„è¾“å…¥topicså’Œæ›´æ–°topicsã€‚</p><p>ä½ éœ€è¦å…ˆåˆ›å»ºOryxé…ç½®æ–‡ä»¶ï¼Œæˆ–è€…å¯ä»¥æ‹·è´conf/als-example.confã€‚éœ€è¦æŒ‰ç…§è¦æ±‚ä¿®æ”¹Kafkaå’ŒZKçš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚topicåç§°ã€‚</p><p>oryx.confæ–‡ä»¶éœ€è¦å’Œæ¯ä¸ªå±‚çš„JARæ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œç„¶åæ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">./oryx-run.sh kafka-setupInput  ZK:    your-zk:2181Input  Kafka: your-kafka:9092Input  topic: OryxInputUpdate ZK:    your-zk:2181Update Kafka: your-kafka:9092Update topic: OryxUpdateAll available topics:Input topic OryxInput does not exist. Create it? yCreating topic OryxInputCreated topic "OryxInput".Status of topic OryxInput:Topic:OryxInputPartitionCount:4ReplicationFactor:1Configs:Topic: OryxInputPartition: 0Leader: 120Replicas: 120,121Isr: 120,121Topic: OryxInputPartition: 1Leader: 121Replicas: 121,120Isr: 121,120Topic: OryxInputPartition: 2Leader: 120Replicas: 120,121Isr: 120,121Topic: OryxInputPartition: 3Leader: 121Replicas: 121,120Isr: 121,120Update topic OryxUpdate does not exist. Create it? yCreating topic OryxUpdateCreated topic "OryxUpdate".Updated config for topic "OryxUpdate".Status of topic OryxUpdate:Topic:OryxUpdatePartitionCount:1ReplicationFactor:1Configs:retention.ms=86400000,max.message.bytes=16777216Topic: OryxUpdatePartition: 0Leader: 120Replicas: 120,121Isr: 120,121<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŸ¥çœ‹å‘é€åˆ°è¾“å…¥å’Œæ›´æ–°topicï¼Œç›‘æ§åº”ç”¨çš„åŠ¨ä½œï¼Œå¯ä»¥æ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">./oryx-run.sh kafka-tailInput  ZK:    your-zk:2181Input  Kafka: your-kafka:9092Input  topic: OryxInputUpdate ZK:    your-zk:2181Update Kafka: your-kafka:9092Update topic: OryxUpdate...output...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ç€åœ¨å¦å¤–ä¸€ä¸ªçª—å£ï¼Œå¯ä»¥æ¥å—è¾“å…¥æ•°æ®ï¼Œæ¯”å¦‚å°†æ¥è‡ªç»ˆç«¯ç”¨æˆ·çš„æ–‡æ¡£data.csvåŠ å…¥åˆ°è¾“å…¥é˜Ÿåˆ—ï¼Œå¹¶éªŒè¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">./oryx-run.sh kafka-input --input-file data.csv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœä»¥ä¸Šå…¨éƒ¨æˆåŠŸäº†ï¼Œå¯ä»¥å…³é—­è¿™äº›è¿›ç¨‹ã€‚é›†ç¾¤è‡³æ­¤å·²ç»å‡†å¤‡å¥½è¿è¡ŒOryxäº†ã€‚</p><h3 id="HDFSå’Œæ•°æ®å±‚"><a href="#HDFSå’Œæ•°æ®å±‚" class="headerlink" title="HDFSå’Œæ•°æ®å±‚"></a>HDFSå’Œæ•°æ®å±‚</h3><p>åœ¨Oryxä¸­ï¼ŒKafkaæ˜¯æ•°æ®ä¼ è¾“çš„é€”å¾„ï¼Œå› æ­¤æ•°æ®åœ¨Kafkaä¸­åªæ˜¯éœ€è¦æš‚æ—¶å­˜æ”¾çš„ã€‚ç„¶è€Œè¾“å…¥æ•°æ®ä¹Ÿä¼šæŒä¹…åŒ–åˆ°HDFSä¸­ä»¥å¤‡ä¹‹åä½¿ç”¨ã€‚åŒæ ·çš„ï¼Œæ¨¡å‹å’Œæ›´æ–°ç”¨æ¥ä¸ºKafkaçš„æ›´æ–°topicæä¾›æ•°æ®ï¼Œæ¨¡å‹ä¹Ÿä¼šæŒä¹…åŒ–åˆ°HDFSä»¥å¤‡ä¹‹åå¼•ç”¨ã€‚</p><p>oryx.batch.storage.data-dirå®šä¹‰äº†è¾“å…¥æ•°æ®å­˜æ”¾åœ¨HDFSä¸­çš„ä½ç½®ã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå­ç›®å½•æ ‡é¢˜ä¼šä»¥oryx-[timestamp].dataå½¢å¼åˆ›å»ºï¼Œæ¯ä¸€ä¸ªä¼šé€šè¿‡Spark Stramingåœ¨æ‰¹é‡å¤„ç†å±‚æ‰§è¡Œã€‚åœ¨è¿™é‡Œï¼Œæ—¶é—´æˆ³æ ¼å¼æ ¼å¼ä¸Unixç›¸åŒï¼Œä¸”ä»¥æ¯«ç§’ä¸ºå•ä½ã€‚</p><p>å®é™…ä¸Šï¼Œå’Œå¤§å¤šæ•°Hadoopä¸­åˆ†å¸ƒå¼è¿›ç¨‹è¾“å‡ºçš„ã€æ–‡ä»¶ã€ä¸€æ ·ï¼Œå­˜åœ¨è¿™æ ·çš„ä¸€ä¸ªå­ç›®å½•ï¼ŒåŒ…å«äº†å¾ˆå¤šä»¥part-å¼€å¤´çš„æ–‡ä»¶ã€‚æ¯ä¸ªæ–‡ä»¶éƒ½æ˜¯åºåˆ—åŒ–æ–‡ä»¶ï¼Œé€šè¿‡Writableç±»åºåˆ—åŒ–Kafkaè¾“å…¥topicsçš„é”®å€¼ï¼ŒWritableç±»å®ç°è‡ªoryx.batch.storage.key-writable-class å’Œ oryx.batch.storage.message-writable-classç±»ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™æ˜¯TextWritableï¼Œå¹¶ä¸”keyså’Œæ¶ˆæ¯æ˜¯ä»¥å­—ç¬¦ä¸²å½¢å¼è¢«è®°å½•ä¸‹æ¥çš„ã€‚</p><p>è¯¥ç›®å½•ä¸‹çš„æ•°æ®ä¼šè¢«åˆ é™¤ã€‚ä¹Ÿå°±ä¸ä¼šå†æ¬¡è¢«æ‰¹å¤„ç†å±‚è®¡ç®—ä½¿ç”¨ã€‚å°¤å…¶æ˜¯ï¼Œè®¾ç½®oryx.batch.storage.max-age-data-hoursä¸ºä¸€ä¸ªéè´Ÿæ•°ï¼Œå°†ä¼šä½¿æ‰¹å¤„ç†å±‚è‡ªåŠ¨åˆ é™¤å¤§äºç»™å®šæ—¶é—´çš„æ•°æ®ã€‚</p><p>åŒæ ·çš„ï¼Œåœ¨æ¯ä¸ªæ‰¹å¤„ç†é—´éš”å†…è¢«æ‰¹å¤„ç†å±‚é€‰ä¸­çš„æ¨¡å‹ä¼šè¢«åŸå§‹çš„æœºå™¨å­¦ä¹ åº”ç”¨ï¼ˆæ‰©å±•å­MLUpdateï¼‰è¾“å‡ºã€‚ä¹Ÿä¼šè¢«æŒä¹…åŒ–åˆ°oryx.batch.storage.model-dirå®šä¹‰çš„ç›®å½•ä¸‹çš„å­ç›®å½•ä¸­ã€‚åœ¨è¿™ä¸ªç›®å½•ä¸‹ï¼Œå­ç›®å½•çš„å‘½åéƒ½æ˜¯ä»¥æ—¶é—´æˆ³å½¢å¼å®ç°çš„ï¼ŒåŒUnixæ¯«ç§’å½¢å¼ã€‚</p><p>å­ç›®å½•ä¸‹çš„å†…å®¹å–å†³äºåº”ç”¨ï¼Œä½†æ˜¯ä¸€èˆ¬ä¼šåŒ…å«ä»¥model.pmmlå‘½åçš„PMMLæ¨¡å—ï¼Œå¹¶ä¸”å’Œæ¨¡å—ä¸€èµ·å­˜åœ¨çš„å¯é€‰çš„è¿½åŠ æ–‡ä»¶ã€‚</p><p>è¿™ä¸ªç›®å½•ä¹‹æ‰€ä»¥å­˜åœ¨æ˜¯å› ä¸ºéœ€è¦è®°å½•PMMLæ¨¡å—ç”¨æ¥å½’æ¡£ç”¨æˆ–è€…è¢«å…¶ä»–å·¥å…·ä½¿ç”¨ã€‚ä¹Ÿå¯æŒ‰ç…§è§„åˆ™åˆ é™¤å…¶å†…å®¹ã€‚</p><h3 id="æ•è·é”™è¯¯"><a href="#æ•è·é”™è¯¯" class="headerlink" title="æ•è·é”™è¯¯"></a>æ•è·é”™è¯¯</h3><p>æœ€åï¼Œä½ å¯èƒ½å¸Œæœ›åœæ­¢å…¶ä¸­ä¸€ä¸ªæˆ–è€…å‡ ä¸ªå±‚çš„è¿è¡Œï¼Œæˆ–è€…é‡å¯ã€‚æœåŠ¡ä¹Ÿå¯èƒ½æŒ‚é¸Ÿã€‚è¿™åˆ°åº•å‘ç”Ÿäº†ç¥é©¬ï¼Ÿä¸ºå•¥ä¼šè¿™æ ·æï¼Ÿ</p><h4 id="æ•°æ®ä¸¢å¤±"><a href="#æ•°æ®ä¸¢å¤±" class="headerlink" title="æ•°æ®ä¸¢å¤±"></a>æ•°æ®ä¸¢å¤±</h4><p>å†å²æ•°æ®å­˜æ”¾åœ¨HDFSä¸­ï¼Œç†è®ºä¸Šä¼šå­˜æ”¾å¤šä¸ªå‰¯æœ¬ã€‚HDFSä¼šç¡®ä¿æ•°æ®è¢«é è°±çš„å­˜æ”¾ç€ã€‚å½“è®¾ç½®äº†å‰¯æœ¬ï¼ŒKafkaä¹Ÿè¢«è®¾è®¡ä¸ºé‡‡ç”¨å‰¯æœ¬æ–¹å¼åº”å¯¹æ•…éšœã€‚</p><p>è¿™å¹¶æ²¡æœ‰å•¥é¸Ÿç”¨ï¼Œè¿™æ ·ä¸èƒ½ç¡®ä¿æ•°æ®ä¸ä¼šä¸¢å¤±ï¼Œåªèƒ½ä¾é HDFSå’ŒKafkaèƒ½æ­£å¸¸å¯ç”¨ç½¢äº†ã€‚</p><h4 id="æœåŠ¡å™¨æŒ‚é¸Ÿ"><a href="#æœåŠ¡å™¨æŒ‚é¸Ÿ" class="headerlink" title="æœåŠ¡å™¨æŒ‚é¸Ÿ"></a>æœåŠ¡å™¨æŒ‚é¸Ÿ</h4><p>é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ä¸‰å±‚æœåŠ¡è¿›ç¨‹åº”è¯¥ä¼šæŒç»­çš„å·¥ä½œï¼Œå¦‚æœä¸å¾—ä¸åœæ­¢æˆ–è€…æŒ‚é¸Ÿçš„è¯ï¼ŒæœåŠ¡è‡ªå·±ä¼šç«‹å³é‡å¯ã€‚è¿™ä¸ªå¯ä»¥é€šè¿‡åˆå§‹åŒ–è„šæœ¬å®Œç¾çš„å®Œæˆæˆ–è€…ç±»ä¼¼æœºåˆ¶ï¼ˆå°šæœªå®ç°é¸Ÿï¼‰</p><h5 id="æœåŠ¡å±‚"><a href="#æœåŠ¡å±‚" class="headerlink" title="æœåŠ¡å±‚"></a>æœåŠ¡å±‚</h5><p>æœåŠ¡å±‚æ˜¯æ— çŠ¶æ€çš„ã€‚å¯åŠ¨åï¼Œä»–ä¼šè¯»å–æ›´æ–°topicsä¸­çš„æ‰€æœ‰çš„æ¨¡å‹å’Œå¯ç”¨æ›´æ–°ã€‚å½“é¦–ä¸ªå¯ç”¨çš„æ¨¡å‹å°±ç»ªåï¼Œå°±å¯ä»¥å¼€å§‹åº”ç­”è¯·æ±‚ã€‚åŸºäºè¿™ä¸ªåŸå› ï¼Œéœ€è¦é€‚å½“çš„é™åˆ¶æ›´æ–°topicçš„æŒç»­æ—¶é—´ã€‚</p><p>æœåŠ¡å±‚çš„æ“ä½œä¸æ˜¯åˆ†å¸ƒå¼çš„ï¼Œæ¯ä¸ªå®ä¾‹æ˜¯ç‹¬ç«‹çš„ï¼Œå¯åŠ¨å’Œåœæ­¢ä¸ä¼šå½±å“åˆ°å…¶ä»–éƒ¨åˆ†ã€‚</p><h5 id="å®æ—¶è®¡ç®—å±‚"><a href="#å®æ—¶è®¡ç®—å±‚" class="headerlink" title="å®æ—¶è®¡ç®—å±‚"></a>å®æ—¶è®¡ç®—å±‚</h5><p>å®æ—¶è®¡ç®—å±‚åŒæ ·ä¹Ÿä¸å­˜åœ¨çŠ¶æ€ï¼Œä¹Ÿä¼šåœ¨è¯»å–å…¨éƒ¨çš„æ¨¡å‹å’Œæ›´æ–°topicçš„æ›´æ–°ã€‚åªè¦å­˜åœ¨åˆæ³•çš„æ¨¡å‹ï¼Œå°±å¯ä»¥ç”Ÿæˆæ›´æ–°ã€‚åŒæ—¶ï¼Œä»æœ€åä¸€æ¬¡åç§»ä½ç½®å¼€å§‹è¯»å–è¾“å…¥topicsã€‚</p><p>å®æ—¶è®¡ç®—å±‚ä½¿ç”¨Sparkå’ŒSpark Streaming åšè®¡ç®—ã€‚Sparkä¼šå“åº”è®¡ç®—è¿‡ç¨‹ä¸­å¤±è´¥æƒ…å†µï¼Œå¹¶é‡è¯•ä»»åŠ¡ã€‚</p><p>Spark Streamingçš„Kafkaé›†æˆæ¨¡å—åœ¨æŸäº›æƒ…å†µä¸‹å¯ä»¥æ¢å¤æ¥æ”¶çš„æ•…éšœã€‚<br>å¦‚æœæ˜¯æ•´ä¸ªè¿›ç¨‹æ­»æ‰å¹¶è¢«é‡æ–°å¯åŠ¨ï¼Œoryx.idçš„å€¼è¢«è®¾å®šä»¥åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ä»ä¸Šä¸€æ¬¡Kafkaè®°å½•çš„åç§»åœ°å€å¼€å§‹è¯»å–ã€‚ï¼ˆå¦åˆ™ï¼Œå°†ä¼šä»ä¸Šæ¬¡åç§»åœ°å€å¼€å§‹ï¼Œè¿™å°±æ„å‘³ç€å®æ—¶è®¡ç®—å±‚æ²¡æœ‰è¿è¡Œçš„æ—¶å€™ï¼Œåˆ°è¾¾çš„æ•°æ®å°±ä¸ä¼šç”Ÿæˆä»»ä½•æ›´æ–°ã€‚ï¼‰ï¼ŒåŒæ ·çš„ï¼Œå¦‚æœå®æ—¶è®¡ç®—å±‚çš„æ¨¡å‹è¿˜æ²¡æœ‰å‡†å¤‡å¥½çš„è¯ï¼Œæ”¶åˆ°çš„æ•°æ®ä¹Ÿä¼šè¢«å¿½ç•¥ã€‚It effectively adopts â€œat most onceâ€ semantics.</p><p>ç”±äºå®æ—¶è®¡ç®—å±‚çš„ä½œç”¨æ˜¯ä¸ºæœ€åå‘å¸ƒçš„æ¨¡å‹æä¾›approximate, â€œbest effortâ€çš„æ›´æ–°ã€‚è¿™ç§è¡Œä¸ºç”±äºå…¶é—´æ¥æ€§ä¸€èˆ¬æ˜¯æ²¡æœ‰é—®é¢˜ï¼Œä¸”ä»¤äººæ»¡æ„çš„ã€‚</p><h5 id="æ‰¹å¤„ç†å±‚"><a href="#æ‰¹å¤„ç†å±‚" class="headerlink" title="æ‰¹å¤„ç†å±‚"></a>æ‰¹å¤„ç†å±‚</h5><p>æ‰¹å¤„ç†å±‚æ˜¯æœ€å¤æ‚çš„ï¼Œå› ä¸ºä»–å¹¶ç”ŸæˆæŸäº›çŠ¶æ€ï¼š</p><ul><li>å†å²æ•°æ®ï¼Œæ€»æ˜¯æŒä¹…åŒ–åˆ°HDFS</li><li>å¦‚æœåº”ç”¨é€‰æ‹©çš„è¯ï¼Œæ¨¡å‹çš„æ‰©å±•çŠ¶æ€å’Œtopicséƒ½å¯ä»¥è¢«æŒä¹…åŒ–åˆ°HDFSä¸Š</li></ul><p>å¯¹äºå¤šæ¬¡æˆ–è€…æ ¹æœ¬ä¸è¯»å–æ•°æ®æ˜¯éå¸¸æ•æ„Ÿçš„ï¼Œå› ä¸ºä»–æœ¬æ¥å°±æ˜¯ç”Ÿäº§å®˜æ–¹ä¸‹ä¸€ä»£æ¨¡å‹çš„ç»„ä»¶</p><p>ä¸å®æ—¶è®¡ç®—å±‚ä¸€èµ·ï¼ŒSparkå’ŒSpark Streamingåœ¨è®¡ç®—è¿‡ç¨‹ä¸­å¯ä»¥æ•è·å¾ˆå¤šé”™è¯¯æƒ…å†µã€‚ä¹Ÿå¯ä»¥ç®¡ç†å­˜å‚¨åˆ°HDFSä¸­çš„æ•°æ®ï¼Œè´Ÿè´£é¿å…ä¸¤æ¬¡å†™å…¥ç›¸åŒæ•°æ®ã€‚</p><p>åº”ç”¨è´Ÿè´£å›å¤å„è‡ªçš„ã€ŒçŠ¶æ€ã€ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå»ºç«‹åœ¨Oryx MLå±‚çš„åº”ç”¨ä¼šå°†çŠ¶æ€å†™å…¥å”¯ä¸€çš„å­ç›®å½•ä¸­ï¼Œå¹¶ä¸”é‡å¯åä¼šåœ¨æ–°çš„ç›®å½•ç®€å•çš„äº§ç”Ÿä¸€ä¸ªæ–°çŠ¶æ€ã€‚å‰ä¸€ä¸ªçŠ¶æ€å¦‚æœå­˜åœ¨çš„è¯ï¼Œä¹Ÿä¼šè¢«å®Œæ•´å†™å…¥æˆ–è€…è¢«å®Œå…¨å¿½è§†ã€‚</p><p>æ‰¹å¤„ç†å±‚ä¹Ÿå’Œå®æ—¶è®¡ç®—å±‚ä¸€æ ·ï¼Œç¬¦åˆã€è‡³å¤šä¸€æ¬¡ã€çš„è§„åˆ™ã€‚ç»¼ä¸Šï¼Œå¦‚æœæ•´ä¸ªè¿›ç¨‹æ­»æ‰æˆ–è€…è¢«é‡å¯ï¼Œoryx.idè¢«è®¾ç½®çš„è¯ï¼Œåˆ™ä¼šä»Kafkaè®°å½•çš„æœ€åä¸€æ¬¡åç§»é‡æ–°è¯»å–ï¼Œå¦åˆ™ä¼šåœ¨æœ€åä¸€æ¬¡åç§»å¤„é‡æ–°è¯»å–æ•°æ®ã€‚</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Apache Flume-ng Structure</title>
      <link href="/2015-12-10-apache-flume-ng-structure.html"/>
      <url>/2015-12-10-apache-flume-ng-structure.html</url>
      
        <content type="html"><![CDATA[<h2 id="Apache-flume-NG-é…ç½®"><a href="#Apache-flume-NG-é…ç½®" class="headerlink" title="Apache-flume NG é…ç½®"></a>Apache-flume NG é…ç½®</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>  Flume NGæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ã€å¯é ã€å¯ç”¨çš„ç³»ç»Ÿï¼Œå®ƒèƒ½å¤Ÿå°†ä¸åŒæ•°æ®æºçš„æµ·é‡æ—¥å¿—æ•°æ®è¿›è¡Œé«˜æ•ˆæ”¶é›†ã€èšåˆã€ç§»åŠ¨ï¼Œæœ€åå­˜å‚¨åˆ°ä¸€ä¸ªä¸­å¿ƒåŒ–æ•°æ®å­˜å‚¨ç³»ç»Ÿä¸­ã€‚</p><p>  ç”±åŸæ¥çš„Flume OGåˆ°ç°åœ¨çš„Flume NGï¼Œè¿›è¡Œäº†æ¶æ„é‡æ„ï¼Œå¹¶ä¸”ç°åœ¨NGç‰ˆæœ¬å®Œå…¨ä¸å…¼å®¹åŸæ¥çš„OGç‰ˆæœ¬ã€‚</p><p>  ç»è¿‡æ¶æ„é‡æ„åï¼ŒFlume NGæ›´åƒæ˜¯ä¸€ä¸ªè½»é‡çš„å°å·¥å…·ï¼Œéå¸¸ç®€å•ï¼Œå®¹æ˜“é€‚åº”å„ç§æ–¹å¼æ—¥å¿—æ”¶é›†ï¼Œå¹¶æ”¯æŒfailoverå’Œè´Ÿè½½å‡è¡¡ã€‚</p><span id="more"></span><h3 id="æ¶æ„è®¾è®¡è¦ç‚¹"><a href="#æ¶æ„è®¾è®¡è¦ç‚¹" class="headerlink" title="æ¶æ„è®¾è®¡è¦ç‚¹"></a>æ¶æ„è®¾è®¡è¦ç‚¹</h3><h4 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h4><ul><li>Eventï¼šä¸€ä¸ªæ•°æ®å•å…ƒï¼Œå¸¦æœ‰ä¸€ä¸ªå¯é€‰çš„æ¶ˆæ¯å¤´</li><li>Flowï¼šEventä»æºç‚¹åˆ°è¾¾ç›®çš„ç‚¹çš„è¿ç§»çš„æŠ½è±¡</li><li>Clientï¼šæ“ä½œä½äºæºç‚¹å¤„çš„Eventï¼Œå°†å…¶å‘é€åˆ°Flume Agent</li><li>Agentï¼šä¸€ä¸ªç‹¬ç«‹çš„Flumeè¿›ç¨‹ï¼ŒåŒ…å«ç»„ä»¶Sourceã€Channelã€Sink</li><li>Sourceï¼šç”¨æ¥æ¶ˆè´¹ä¼ é€’åˆ°è¯¥ç»„ä»¶çš„Event</li><li>Channelï¼šä¸­è½¬Eventçš„ä¸€ä¸ªä¸´æ—¶å­˜å‚¨ï¼Œä¿å­˜æœ‰Sourceç»„ä»¶ä¼ é€’è¿‡æ¥çš„Event</li><li>Sinkï¼šä»Channelä¸­è¯»å–å¹¶ç§»é™¤Eventï¼Œå°†Eventä¼ é€’åˆ°Flow Pipelineä¸­çš„ä¸‹ä¸€ä¸ªAgentï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰</li></ul><h4 id="æ¶æ„å›¾"><a href="#æ¶æ„å›¾" class="headerlink" title="æ¶æ„å›¾"></a>æ¶æ„å›¾</h4><p>![flume-ngæ€»ä½“ç»“æ„å›¾](/assets/images/posts/flume-ng/flume-ng-architecture.png)</p><h4 id="åŸºæœ¬æµç¨‹"><a href="#åŸºæœ¬æµç¨‹" class="headerlink" title="åŸºæœ¬æµç¨‹"></a>åŸºæœ¬æµç¨‹</h4><p>å¤–éƒ¨ç³»ç»Ÿäº§ç”Ÿæ—¥å¿—ï¼Œç›´æ¥é€šè¿‡Flumeçš„Agentçš„Sourceç»„ä»¶å°†äº‹ä»¶ï¼ˆå¦‚æ—¥å¿—è¡Œï¼‰å‘é€åˆ°ä¸­é—´ä¸´æ—¶çš„channelç»„ä»¶ï¼Œæœ€åä¼ é€’ç»™Sinkç»„ä»¶ï¼ŒHDFS Sinkç»„ä»¶å¯ä»¥ç›´æ¥æŠŠæ•°æ®å­˜å‚¨åˆ°HDFSé›†ç¾¤ä¸Šã€‚</p><h4 id="å•Agent"><a href="#å•Agent" class="headerlink" title="å•Agent"></a>å•Agent</h4><p>  ä¸€ä¸ªæœ€åŸºæœ¬Flowçš„é…ç½®ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>  <pre class="line-numbers language-none"><code class="language-none"># list the sources, sinks and channels for the agent&lt;Agent&gt;.sources = &lt;Source1&gt; &lt;Source2&gt;&lt;Agent&gt;.sinks = &lt;Sink1&gt; &lt;Sink2&gt;&lt;Agent&gt;.channels = &lt;Channel1&gt; &lt;Channel2&gt;# set channel for source&lt;Agent&gt;.sources.&lt;Source1&gt;.channels = &lt;Channel1&gt; &lt;Channel2&gt; ...&lt;Agent&gt;.sources.&lt;Source2&gt;.channels = &lt;Channel1&gt; &lt;Channel2&gt; ...# set channel for sink&lt;Agent&gt;.sinks.&lt;Sink1&gt;.channel = &lt;Channel1&gt;&lt;Agent&gt;.sinks.&lt;Sink2&gt;.channel = &lt;Channel2&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>  å°–æ‹¬å·é‡Œé¢çš„ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å®é™…éœ€æ±‚æˆ–ä¸šåŠ¡æ¥ä¿®æ”¹åç§°ã€‚</p><p>  ä¸‹é¢è¯¦ç»†è¯´æ˜ï¼š</p><ul><li><agent> è¡¨ç¤ºé…ç½®ä¸€ä¸ªAgentçš„åç§°ï¼Œä¸€ä¸ªAgentè‚¯å®šæœ‰ä¸€ä¸ªåç§°ã€‚</agent></li><li><source1>å’Œ<source2>æ˜¯Agentçš„Sourceç»„ä»¶çš„åç§°ï¼Œæ¶ˆè´¹ä¼ é€’è¿‡æ¥çš„Eventã€‚</source2></source1></li><li><channel1>å’Œ<channel2>æ˜¯Agentçš„Channelç»„ä»¶çš„åç§°ã€‚</channel2></channel1></li><li><sink1>ä¸<sink2>æ˜¯Agentçš„Sinkç»„ä»¶çš„åç§°ï¼Œä»Channelä¸­æ¶ˆè´¹ï¼ˆç§»é™¤ï¼‰Eventã€‚</sink2></sink1></li></ul><p>  ä¸Šé¢é…ç½®å†…å®¹ä¸­</p><ul><li>ç¬¬ä¸€ç»„ä¸­é…ç½®Sourceã€Sinkã€Channelï¼Œå®ƒä»¬çš„å€¼å¯ä»¥æœ‰1ä¸ªæˆ–è€…å¤šä¸ªï¼›</li><li>ç¬¬äºŒç»„ä¸­é…ç½®Sourceå°†æŠŠæ•°æ®å­˜å‚¨ï¼ˆPutï¼‰åˆ°å“ªä¸€ä¸ªChannelä¸­ï¼Œå¯ä»¥å­˜å‚¨åˆ°1ä¸ªæˆ–å¤šä¸ªChannelä¸­ï¼Œ<br>åŒä¸€ä¸ªSourceå°†æ•°æ®å­˜å‚¨åˆ°å¤šä¸ªChannelä¸­ï¼Œå®é™…ä¸Šæ˜¯Replicationï¼›</li><li>ç¬¬ä¸‰ç»„ä¸­é…ç½®Sinkä»å“ªä¸€ä¸ªChannelä¸­å–ï¼ˆTaskï¼‰æ•°æ®ï¼Œä¸€ä¸ªSinkåªèƒ½ä»ä¸€ä¸ªChannelä¸­å–æ•°æ®ã€‚</li></ul><h4 id="å¤šä¸ªAgenté¡ºåºè¿æ¥"><a href="#å¤šä¸ªAgenté¡ºåºè¿æ¥" class="headerlink" title="å¤šä¸ªAgenté¡ºåºè¿æ¥"></a>å¤šä¸ªAgenté¡ºåºè¿æ¥</h4><p>![flume-ng å¤šä¸ªAgenté¡ºåºè¿æ¥](/assets/images/posts/flume-ng/flume-multiseq-agents.png)</p><p>  å¯ä»¥å°†å¤šä¸ªAgenté¡ºåºè¿æ¥èµ·æ¥ï¼Œå°†æœ€åˆçš„æ•°æ®æºç»è¿‡æ”¶é›†ï¼Œå­˜å‚¨åˆ°æœ€ç»ˆçš„å­˜å‚¨ç³»ç»Ÿä¸­ã€‚è¿™æ˜¯æœ€ç®€å•çš„æƒ…å†µï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåº”è¯¥æ§åˆ¶è¿™ç§é¡ºåºè¿æ¥çš„Agentçš„æ•°é‡ï¼Œå› ä¸ºæ•°æ®æµç»çš„è·¯å¾„å˜é•¿äº†ï¼Œå¦‚æœä¸è€ƒè™‘failoverçš„è¯ï¼Œå‡ºç°æ•…éšœå°†å½±å“æ•´ä¸ªFlowä¸Šçš„Agentæ”¶é›†æœåŠ¡ã€‚</p><h4 id="å¤šä¸ªAgentçš„æ•°æ®æ±‡èšåˆ°åŒä¸€ä¸ªAgent"><a href="#å¤šä¸ªAgentçš„æ•°æ®æ±‡èšåˆ°åŒä¸€ä¸ªAgent" class="headerlink" title="å¤šä¸ªAgentçš„æ•°æ®æ±‡èšåˆ°åŒä¸€ä¸ªAgent"></a>å¤šä¸ªAgentçš„æ•°æ®æ±‡èšåˆ°åŒä¸€ä¸ªAgent</h4><p>![flume-ng å¤šä¸ªAgentçš„æ•°æ®æ±‡èšåˆ°åŒä¸€ä¸ªAgent](/assets/images/posts/flume-ng/flume-join-agent.png)</p><p>  è¿™ç§æƒ…å†µåº”ç”¨çš„åœºæ™¯æ¯”è¾ƒå¤šï¼Œæ¯”å¦‚è¦æ”¶é›†Webç½‘ç«™çš„ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼ŒWebç½‘ç«™ä¸ºäº†å¯ç”¨æ€§ä½¿ç”¨çš„è´Ÿè½½å‡è¡¡çš„é›†ç¾¤æ¨¡å¼ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½äº§ç”Ÿç”¨æˆ·è¡Œä¸ºæ—¥å¿—ï¼Œå¯ä»¥ä¸ºæ¯ä¸ªèŠ‚ç‚¹éƒ½é…ç½®ä¸€ä¸ªAgentæ¥å•ç‹¬æ”¶é›†æ—¥å¿—æ•°æ®ï¼Œç„¶åå¤šä¸ªAgentå°†æ•°æ®æœ€ç»ˆæ±‡èšåˆ°ä¸€ä¸ªç”¨æ¥å­˜å‚¨æ•°æ®å­˜å‚¨ç³»ç»Ÿï¼Œå¦‚HDFSä¸Šã€‚</p><h4 id="å¤šè·¯ï¼ˆMultiplexingï¼‰Agent"><a href="#å¤šè·¯ï¼ˆMultiplexingï¼‰Agent" class="headerlink" title="å¤šè·¯ï¼ˆMultiplexingï¼‰Agent"></a>å¤šè·¯ï¼ˆMultiplexingï¼‰Agent</h4><p>![flume-ng å¤šè·¯ï¼ˆMultiplexingï¼‰Agent](/assets/images/posts/flume-ng/flume-multiplexing-agent.png)</p><p>  è¿™ç§æ¨¡å¼ï¼Œæœ‰ä¸¤ç§æ–¹å¼</p><ul><li><p>ä¸€ç§æ˜¯ç”¨æ¥å¤åˆ¶ï¼ˆReplicationï¼‰</p><ul><li><p>Replicationæ–¹å¼ï¼Œå¯ä»¥å°†æœ€å‰ç«¯çš„æ•°æ®æºå¤åˆ¶å¤šä»½ï¼Œåˆ†åˆ«ä¼ é€’åˆ°å¤šä¸ªchannelä¸­ï¼Œæ¯ä¸ªchannelæ¥æ”¶åˆ°çš„æ•°æ®éƒ½æ˜¯ç›¸åŒçš„ï¼Œé…ç½®æ ¼å¼</p><pre class="line-numbers language-none"><code class="language-none"># List the sources, sinks and channels for the agent&lt;Agent&gt;.sources = &lt;Source1&gt;&lt;Agent&gt;.sinks = &lt;Sink1&gt; &lt;Sink2&gt;&lt;Agent&gt;.channels = &lt;Channel1&gt; &lt;Channel2&gt;# set list of channels for source (separated by space)&lt;Agent&gt;.sources.&lt;Source1&gt;.channels = &lt;Channel1&gt; &lt;Channel2&gt;# set channel for sinks&lt;Agent&gt;.sinks.&lt;Sink1&gt;.channel = &lt;Channel1&gt;&lt;Agent&gt;.sinks.&lt;Sink2&gt;.channel = &lt;Channel2&gt;&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.type = replicating<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨çš„Replicationæ–¹å¼ï¼ŒSource1ä¼šå°†æ•°æ®åˆ†åˆ«å­˜å‚¨åˆ°Channel1å’ŒChannel2ï¼Œè¿™ä¸¤ä¸ªchannelé‡Œé¢å­˜å‚¨çš„æ•°æ®æ˜¯ç›¸åŒçš„ï¼Œç„¶åæ•°æ®è¢«ä¼ é€’åˆ°Sink1å’ŒSink2ã€‚</p></li></ul></li><li><p>å¦ä¸€ç§æ˜¯ç”¨æ¥åˆ†æµï¼ˆMultiplexingï¼‰</p><ul><li><p>Multiplexingæ–¹å¼ï¼Œselectorå¯ä»¥æ ¹æ®headerçš„å€¼æ¥ç¡®å®šæ•°æ®ä¼ é€’åˆ°å“ªä¸€ä¸ªchannel</p><pre class="line-numbers language-none"><code class="language-none"># Mapping for multiplexing selector&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.type = multiplexing&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.header = &lt;someHeader&gt;&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.mapping.&lt;Value1&gt; = &lt;Channel1&gt;&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.mapping.&lt;Value2&gt; = &lt;Channel1&gt; &lt;Channel2&gt;&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.mapping.&lt;Value3&gt; = &lt;Channel2&gt;#...&lt;Agent&gt;.sources.&lt;Source1&gt;.selector.default = &lt;Channel2&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸Šé¢selectorçš„typeçš„å€¼ä¸ºmultiplexingï¼ŒåŒæ—¶é…ç½®selectorçš„headerä¿¡æ¯ï¼Œè¿˜é…ç½®äº†å¤šä¸ªselectorçš„mappingçš„å€¼ï¼Œå³headerçš„å€¼ï¼šå¦‚æœheaderçš„å€¼ä¸ºValue1ã€Value2ï¼Œæ•°æ®ä»Source1è·¯ç”±åˆ°Channel1ï¼›å¦‚æœheaderçš„å€¼ä¸ºValue2ã€Value3ï¼Œæ•°æ®ä»Source1è·¯ç”±åˆ°Channel2ã€‚</p></li></ul></li></ul><h4 id="å®ç°load-balanceåŠŸèƒ½"><a href="#å®ç°load-balanceåŠŸèƒ½" class="headerlink" title="å®ç°load balanceåŠŸèƒ½"></a>å®ç°load balanceåŠŸèƒ½</h4><p>![å®ç°load balanceåŠŸèƒ½](/assets/images/posts/flume-ng/flume-load-balance-agents.png)</p><p>  Load balancing Sink Processorèƒ½å¤Ÿå®ç°load balanceåŠŸèƒ½ï¼Œä¸Šå›¾Agent1æ˜¯ä¸€ä¸ªè·¯ç”±èŠ‚ç‚¹ï¼Œ<br>  è´Ÿè´£å°†Channelæš‚å­˜çš„Eventå‡è¡¡åˆ°å¯¹åº”çš„å¤šä¸ªSinkç»„ä»¶ä¸Šï¼Œè€Œæ¯ä¸ªSinkç»„ä»¶åˆ†åˆ«è¿æ¥åˆ°ä¸€ä¸ªç‹¬ç«‹çš„Agentä¸Š</p>  <pre class="line-numbers language-none"><code class="language-none">a1.sinkgroups = g1a1.sinkgroups.g1.sinks = k1 k2 k3a1.sinkgroups.g1.processor.type = load_balancea1.sinkgroups.g1.processor.backoff = truea1.sinkgroups.g1.processor.selector = round_robina1.sinkgroups.g1.processor.selector.maxTimeOut=10000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®ç°failoverèƒ½"><a href="#å®ç°failoverèƒ½" class="headerlink" title="å®ç°failoverèƒ½"></a>å®ç°failoverèƒ½</h4><p>  Failover Sink Processorèƒ½å¤Ÿå®ç°failoveråŠŸèƒ½ï¼Œå…·ä½“æµç¨‹ç±»ä¼¼load balanceï¼Œ<br>  ä½†æ˜¯å†…éƒ¨å¤„ç†æœºåˆ¶ä¸load balanceå®Œå…¨ä¸åŒï¼šFailover Sink Processorç»´æŠ¤ä¸€ä¸ªä¼˜å…ˆçº§Sinkç»„ä»¶åˆ—è¡¨ï¼Œåªè¦æœ‰ä¸€ä¸ªSinkç»„ä»¶å¯ç”¨ï¼Œ<br>  Eventå°±è¢«ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªç»„ä»¶ã€‚å¦‚æœä¸€ä¸ªSinkèƒ½å¤ŸæˆåŠŸå¤„ç†Eventï¼Œåˆ™ä¼šåŠ å…¥åˆ°ä¸€ä¸ªPoolä¸­ï¼Œå¦åˆ™ä¼šè¢«ç§»å‡ºPoolå¹¶è®¡ç®—å¤±è´¥æ¬¡æ•°ï¼Œè®¾ç½®ä¸€ä¸ªæƒ©ç½šå› å­</p>  <pre class="line-numbers language-none"><code class="language-none">a1.sinkgroups = g1a1.sinkgroups.g1.sinks = k1 k2 k3a1.sinkgroups.g1.processor.type = failovera1.sinkgroups.g1.processor.priority.k1 = 5a1.sinkgroups.g1.processor.priority.k2 = 7a1.sinkgroups.g1.processor.priority.k3 = 6a1.sinkgroups.g1.processor.maxpenalty = 20000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®‰è£…é…ç½®"><a href="#å®‰è£…é…ç½®" class="headerlink" title="å®‰è£…é…ç½®"></a>å®‰è£…é…ç½®</h3><pre class="line-numbers language-none"><code class="language-none"># ä¸‹è½½äºŒè¿›åˆ¶åŒ…[mofun_mining@i-tev02vc1 ~]$ wget "http://apache.arvixe.com/flume/1.6.0/apache-flume-1.6.0-bin.tar.gz"[mofun_mining@i-tev02vc1 ~]$ tar xvzf apache-flume-1.6.0-bin.tar.gz[mofun_mining@i-tev02vc1 ~]$ mv apache-flume-1.6.0-bin /usr/local/# ä¿®æ”¹é…ç½®æ–‡ä»¶[mofun_mining@i-qe32ajmq conf]$ pwd/usr/local/apache-flume-1.6.0-bin/conf[mofun_mining@i-qe32ajmq conf]$ sudo cp flume-conf.properties.template flume-conf.properties<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡‡ç”¨ Avro Source+Memory Channel+HDFS Sink æ–¹å¼</p><ul><li>æœåŠ¡å™¨ï¼ˆæ—¥å¿—æ±‡æ€»æœåŠ¡å™¨agentï¼‰ç«¯é…ç½®æ–‡ä»¶</li></ul>  <pre class="line-numbers language-none"><code class="language-none">[mofun_mining@i-tev02vc1 ~]$ cd /usr/local/apache-flume-1.6.0-bin/conf/[mofun_mining@i-tev02vc1 conf]$ lsflume-conf.properties  flume-conf.properties.template  flume-env.ps1.template  flume-env.sh  flume-env.sh.template  log4j.properties[mofun_mining@i-tev02vc1 conf]$ pwd/usr/local/apache-flume-1.6.0-bin/conf[mofun_mining@i-tev02vc1 conf]$ sudo vim flume-conf.properties# example.conf: A single-node Flume configuration# Name the components on this agentagent1.sources = r1agent1.sinks = k1agent1.channels = c1# Describe/configure the sourceagent1.sources.r1.type = avroagent1.sources.r1.bind = 192.168.1.33agent1.sources.r1.port = 41414agent1.sources.r1.channels = c1# Describe the sinkagent1.sinks.k1.type = hdfsagent1.sinks.k1.channel = c1agent1.sinks.k1.hdfs.fileType = DataStreamagent1.sinks.k1.hdfs.useLocalTimeStamp = trueagent1.sinks.k1.hdfs.path = /flume/events/%Y-%m-%d#agent1.sinks.k1.hdfs.round = true#agent1.sinks.k1.hdfs.roundValue = 10#agent1.sinks.k1.hdfs.roundUnit = minuteagent1.sinks.k1.hdfs.rollCount = 5000agent1.sinks.k1.hdfs.rollSize = 0agent1.sinks.k1.hdfs.rollInterval= 0# Use a channel which buffers events in memoryagent1.channels.c1.type = memoryagent1.channels.c1.capacity = 10000agent1.channels.c1.transactionCapacity = 1000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å®¢æˆ·ç«¯ï¼ˆæ—¥å¿—æ”¶é›†agentï¼‰</li></ul>  <pre class="line-numbers language-none"><code class="language-none">[reason@i-qunray9x conf]$ cd /usr/local/apache-flume-1.6.0-bin/conf/[reason@i-qunray9x conf]$ pwd/usr/local/apache-flume-1.6.0-bin/conf[reason@i-qunray9x conf]$ sudo vim flume-conf.properties# example.conf: A single-node Flume configuration# Name the components on this agentagent1.sources = r1agent1.sinks = k1agent1.channels = c1# Describe/configure the sourceagent1.sources.r1.type = execagent1.sources.r1.command = tail -n 0 -F /home/reason/1.txtagent1.sources.r1.channels = c1# Describe the sinkagent1.sinks.k1.type = avroagent1.sinks.k1.channel = c1agent1.sinks.k1.hdfs.useLocalTimeStamp = trueagent1.sinks.k1.hdfs.path = /flume/events/%Y-%m-%dagent1.sinks.k1.hostname=192.168.1.33agent1.sinks.k1.port = 41414# Use a channel which buffers events in memoryagent1.channels.c1.type = memoryagent1.channels.c1.capacity = 5000agent1.channels.c1.transactionCapacity = 500<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¯åŠ¨æœåŠ¡å™¨</li></ul>  <pre class="line-numbers language-none"><code class="language-none">[mofun_mining@i-tev02vc1 conf]$/usr/local/apache-flume-1.6.0-bin/bin/flume-ng agent -c ./conf/ -f /usr/local/apache-flume-1.6.0-bin/conf/flume-conf.properties -n agent1 -Dflume.root.logger=INFO,console<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å¯åŠ¨å®¢æˆ·ç«¯</li></ul>  <pre class="line-numbers language-none"><code class="language-none">[reason@i-qunray9x conf]$/usr/local/apache-flume-1.6.0-bin/bin/flume-ng agent -c conf -f /usr/local/apache-flume-1.6.0-bin/conf/flume-conf.properties -n agent1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>æµ‹è¯•</li></ul>  <pre class="line-numbers language-none"><code class="language-none">[mofun_mining@i-r6cuv8iq ~]$ hdfs dfs -ls /flume/events/2015-12-15Found 40 items-rw-r--r--   2 mofun_mining supergroup      34844 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340281-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340282-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340283-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340284-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340285-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340286-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340287-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340288-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39 /flume/events/2015-12-15/FlumeData.1450172340289-rw-r--r--   2 mofun_mining supergroup      34850 2015-12-15 17:39...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>  æ­¤æ—¶ï¼Œé€šè¿‡nginxå®æ—¶äº§ç”Ÿçš„æ—¥å¿—ï¼Œå³å¯å®æ—¶æ’å…¥åˆ°hdfsä¸­äº†ã€‚</p><h3 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h3><ul><li><a href="http://shiyanjun.cn/archives/915.html">http://shiyanjun.cn/archives/915.html</a></li><li><a href="http://my.oschina.net/leejun2005/blog/288136">http://my.oschina.net/leejun2005/blog/288136</a></li><li><a href="http://tech.meituan.com/mt-log-system-optimization.html">http://tech.meituan.com/mt-log-system-optimization.html</a></li><li><a href="http://www.ixirong.com/2015/05/18/how-to-install-flume-ng/">http://www.ixirong.com/2015/05/18/how-to-install-flume-ng/</a></li><li><a href="https://flume.apache.org/FlumeUserGuide.html#setting-up-an-agent">https://flume.apache.org/FlumeUserGuide.html#setting-up-an-agent</a></li><li><a href="http://m.blog.csdn.net/blog/xueliang1029/24039459">http://m.blog.csdn.net/blog/xueliang1029/24039459</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Apache Kafka Structure</title>
      <link href="/2015-12-08-apache-kafka-structure.html"/>
      <url>/2015-12-08-apache-kafka-structure.html</url>
      
        <content type="html"><![CDATA[<h4 id="Apache-Kafkaæ¶ˆæ¯æœåŠ¡"><a href="#Apache-Kafkaæ¶ˆæ¯æœåŠ¡" class="headerlink" title="Apache Kafkaæ¶ˆæ¯æœåŠ¡"></a>Apache Kafkaæ¶ˆæ¯æœåŠ¡</h4><ul><li>å‚è€ƒåœ°å€ <a href="http://kafka.apache.org/documentation.html#brokerconfigs">http://kafka.apache.org/documentation.html</a></li></ul><span id="more"></span><ul><li><p>æ¶ˆæ¯é˜Ÿåˆ—çš„åˆ†ç±»</p><ul><li><p>ç‚¹å¯¹ç‚¹</p><p>ç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯å‘é€åˆ°Queueä¸­ï¼Œæ¶ˆè´¹è€…æ¶ˆè´¹Queueä¸­çš„æ¶ˆæ¯ï¼Œå…¶ä¸­ï¼š</p><ul><li>Queueä¸­ä¸å†å­˜å‚¨å·²ç»è¢«æ¶ˆè´¹çš„æ¶ˆæ¯</li><li>Queueæ”¯æŒå¤šä¸ªæ¶ˆè´¹è€…ï¼Œä½†æ˜¯åŒä¸€ä¸ªæ¶ˆæ¯ï¼Œåªèƒ½è¢«ä¸€ä¸ªæ¶ˆè´¹è€…æ¶ˆè´¹</li></ul></li><li><p>å‘å¸ƒ/è®¢é˜…</p><p>ç”Ÿäº§è€…ï¼ˆç”Ÿäº§ï¼‰å°†æ¶ˆæ¯å‘å¸ƒåˆ°topicä¸­ï¼ŒåŒæ—¶å¤šä¸ªæ¶ˆè´¹è€…ï¼ˆæ¶ˆè´¹ï¼‰è®¢é˜…è¯¥æ¶ˆæ¯ã€‚å’Œç‚¹å¯¹ç‚¹æ–¹å¼ä¸åŒçš„æ˜¯ï¼Œå‘å¸ƒåˆ°topicçš„æ¶ˆæ¯ä¼šè¢«æ‰€æœ‰è®¢é˜…è€…æ¶ˆè´¹</p></li></ul></li><li><p>ç®€ä»‹</p><p>èƒŒæ™¯ Kafkaä½¿ç”¨Scalaè¯­è¨€ç¼–å†™ï¼Œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ï¼Œåˆ†åŒºçš„ï¼Œæ”¯æŒå¤šå‰¯æœ¬ï¼Œå¤šè®¢é˜…è€…çš„æ—¥å¿—ç³»ç»Ÿã€‚</p><p>ç›®å‰æ”¯æŒJavaï¼ŒPythonï¼ŒC++ï¼Œ PHPç­‰</p><ul><li>æ€»ä½“ç»“æ„</li></ul></li></ul><p>![kafkaæ€»ä½“ç»“æ„å›¾](/assets/images/posts/kafka.0.9.0/structure.png)</p><ul><li><p>åè¯è§£é‡Š</p><ul><li><p>Producer</p><p>  æ¶ˆæ¯ç”Ÿäº§è€…ï¼Œå°±æ˜¯å‘kafka brokerå‘æ¶ˆæ¯çš„å®¢æˆ·ç«¯</p></li><li><p>Consumer</p><p>  æ¶ˆæ¯æ¶ˆè´¹è€…ï¼Œå‘kafka brokerå–æ¶ˆæ¯çš„å®¢æˆ·ç«¯</p></li><li><p>Topic</p><p>  æ˜¯ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ï¼Ÿ</p></li><li><p>Consumer Group ï¼ˆCGï¼‰</p><ul><li><p>è¿™æ˜¯Kafkaç”¨æ¥å®ç°ä¸€ä¸ªTopicæ¶ˆæ¯çš„å¹¿æ’­ï¼ˆå‘ç»™æ‰€æœ‰çš„Consumerï¼‰å’Œå•æ’­ï¼ˆå‘ç»™ä»»æ„ä¸€ä¸ªConsumerï¼‰çš„æ‰‹æ®µ</p></li><li><p>ä¸€ä¸ªTopicå¯ä»¥æœ‰å¤šä¸ªCG</p></li><li><p>Topicçš„æ¶ˆæ¯ä¼šå¤åˆ¶ï¼ˆä¸æ˜¯çœŸçš„å¤åˆ¶ï¼Œæ˜¯æ¦‚å¿µä¸Šçš„ï¼‰åˆ°æ‰€æœ‰çš„CGï¼Œä½†æ¯ä¸ªCGåªä¼šæŠŠæ¶ˆæ¯å‘ç»™è¯¥CGä¸­çš„ä¸€ä¸ªconsumer</p></li><li><p>å¦‚æœéœ€è¦å®ç°å¹¿æ’­ï¼Œåªè¦æ¯ä¸ªConsumeræœ‰ä¸€ä¸ªç‹¬ç«‹çš„CGå°±å¯ä»¥äº†</p></li><li><p>è¦å®ç°å•æ’­åªè¦æ‰€æœ‰çš„Consumeråœ¨åŒä¸€ä¸ªCG</p></li><li><p>ç”¨CGè¿˜å¯ä»¥å°†Consumerè¿›è¡Œè‡ªç”±çš„åˆ†ç»„è€Œä¸éœ€è¦å¤šæ¬¡å‘é€æ¶ˆæ¯åˆ°ä¸åŒçš„topic</p></li><li><p>Broker</p><ul><li>ä¸€å°KafkaæœåŠ¡å™¨å°±æ˜¯ä¸€ä¸ªBroker</li><li>ä¸€ä¸ªé›†ç¾¤ç”±å¤šä¸ªBrokerç»„æˆã€‚ä¸€ä¸ªBrokerå¯ä»¥å®¹çº³å¤šä¸ªTopic</li></ul></li><li><p>Partition</p><p>ä¸ºäº†å®ç°æ‰©å±•æ€§ï¼Œä¸€ä¸ªéå¸¸å¤§çš„Topicå¯ä»¥åˆ†å¸ƒåˆ°å¤šä¸ªBrokerï¼ˆå³æœåŠ¡å™¨ï¼‰ä¸Šï¼Œä¸€ä¸ªTopicå¯ä»¥åˆ†ä¸ºå¤šä¸ªPartitionï¼Œæ¯ä¸ªPartitionæ˜¯ä¸€ä¸ªæœ‰åºçš„é˜Ÿåˆ—ã€‚Prtitionä¸­çš„æ¯æ¡æ¶ˆæ¯éƒ½ä¼šè¢«åˆ†é…ä¸€ä¸ªæœ‰åºçš„idï¼ˆOffsetï¼‰ã€‚Kafkaåªä¿è¯æŒ‰ä¸€ä¸ªPartitionä¸­çš„é¡ºåºå°†æ¶ˆæ¯å‘ç»™Consumerï¼Œä¸ä¿è¯ä¸€ä¸ªTopicçš„æ•´ä½“ï¼ˆå¤šä¸ªPartitioné—´ï¼‰çš„é¡ºåºã€‚</p></li><li><p>Offset</p><ul><li>kafkaçš„å­˜å‚¨æ–‡ä»¶éƒ½æ˜¯æŒ‰ç…§offset.kafkaæ¥å‘½åï¼Œç”¨offsetåšåå­—çš„å¥½å¤„æ˜¯æ–¹ä¾¿æŸ¥æ‰¾</li><li>ä¾‹å¦‚ä½ æƒ³æ‰¾ä½äº2049çš„ä½ç½®ï¼Œåªè¦æ‰¾åˆ°2048.kafkaçš„æ–‡ä»¶å³å¯ï¼Œå½“ç„¶the first offsetå°±æ˜¯00000000000.kafka</li></ul></li></ul></li></ul></li><li><p>ç‰¹æ€§</p><ul><li>é€šè¿‡O(1)çš„ç£ç›˜æ•°æ®ç»“æ„æä¾›æ¶ˆæ¯çš„æŒä¹…åŒ–ï¼Œè¿™ç§ç»“æ„å¯¹äºå³ä½¿æ•°ä»¥TBçš„æ¶ˆæ¯å­˜å‚¨ä¹Ÿèƒ½å¤Ÿä¿æŒé•¿æ—¶é—´çš„ç¨³å®šæ€§èƒ½</li><li>é«˜ååé‡ï¼šå³ä½¿æ˜¯éå¸¸æ™®é€šçš„ç¡¬ä»¶Kafkaä¹Ÿå¯ä»¥æ”¯æŒæ¯ç§’æ•°åä¸‡çš„æ¶ˆæ¯</li><li>æ”¯æŒ <em>åŒæ­¥</em> å’Œ <em>å¼‚æ­¥</em> å¤åˆ¶ä¸¤ç§HA</li><li>Consumerå®¢æˆ·ç«¯<ul><li>pull</li><li>éšæœºè¯»</li><li>åˆ©ç”¨sendfileç³»ç»Ÿè°ƒç”¨</li><li>zero-copy</li><li>æ‰¹é‡æ‹‰æ•°æ®</li></ul></li><li>æ¶ˆè´¹çŠ¶æ€ä¿å­˜åœ¨å®¢æˆ·ç«¯</li><li>æ¶ˆæ¯å­˜å‚¨é¡ºåºå†™</li><li>æ•°æ®è¿ç§»ã€æ‰©å®¹å¯¹ç”¨æˆ·é€æ˜</li><li>æ”¯æŒHadoopå¹¶è¡Œæ•°æ®åŠ è½½</li><li>æ”¯æŒonlineå’Œofflineçš„åœºæ™¯</li><li>æŒä¹…åŒ–ï¼šé€šè¿‡å°†æ•°æ®æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä»¥åŠreplicationé˜²æ­¢æ•°æ®ä¸¢å¤±</li><li>scale outï¼šæ— éœ€åœæœºå³å¯æ‰©å±•æœºå™¨</li><li>å®šæœŸåˆ é™¤æœºåˆ¶ï¼Œæ”¯æŒè®¾å®špartitionsçš„segment fileä¿ç•™æ—¶é—´</li></ul></li><li><p>å¯é æ€§ï¼ˆä¸€è‡´æ€§)</p><p>ä¼ ç»Ÿçš„MQç³»ç»Ÿé€šå¸¸éƒ½æ˜¯é€šè¿‡brokerå’Œconsumeré—´çš„ç¡®è®¤ï¼ˆackï¼‰æœºåˆ¶å®ç°çš„ï¼Œå¹¶åœ¨brokerä¿å­˜æ¶ˆæ¯åˆ†å‘çš„çŠ¶æ€ï¼Œå³ä½¿è¿™æ ·ä¸€è‡´æ€§ä¹Ÿæ˜¯å¾ˆéš¾ä¿è¯çš„ã€‚</p><p>Kafkaçš„åšæ³•æ˜¯ç”±consumerè‡ªå·±ä¿å­˜çŠ¶æ€ï¼Œä¹Ÿä¸è¦ä»»ä½•ç¡®è®¤ã€‚è¿™æ ·è™½ç„¶consumerè´Ÿæ‹…æ›´é‡ï¼Œä½†å…¶å®æ›´çµæ´»äº†ã€‚å› ä¸ºä¸ç®¡consumerä¸Šä»»ä½•åŸå› å¯¼è‡´éœ€è¦é‡æ–°å¤„ç†æ¶ˆæ¯ï¼Œéƒ½å¯ä»¥å†æ¬¡ä»brokerè·å¾—ã€‚</p></li><li><p>å¯æ‰©å±•æ€§</p><p>Kafka ä½¿ç”¨Zookeeperå®ç°åŠ¨æ€çš„é›†ç¾¤æ‰©å±•ï¼Œä¸éœ€è¦æ›´æ”¹å®¢æˆ·ç«¯ï¼ˆç”Ÿäº§è€…å’Œæ¶ˆè´¹è€…ï¼‰çš„é…ç½®ã€‚brokerä¼šåœ¨ZKæ³¨å†Œå¹¶ä¿æŒç›¸å…³çš„å…ƒæ•°æ®æ›´æ–°ã€‚è€Œå®¢æˆ·ç«¯ä¼šåœ¨ZKä¸Šæ³¨å†Œç›¸å…³çš„watcherï¼Œä¸€æ—¦ZKå‘ç”Ÿå˜åŒ–ï¼Œå®¢æˆ·ç«¯èƒ½åŠæ—¶åšå‡ºç›¸åº”è°ƒæ•´ã€‚è¿™æ ·å¯ä»¥ä¿è¯å˜æ›´brokeræ—¶ï¼Œå„ä¸ªbrokerä¹‹é—´èƒ½è‡ªåŠ¨å®ç°è´Ÿè½½å‡è¡¡ã€‚</p></li><li><p>è®¾è®¡ç›®æ ‡</p><p>é«˜ååé‡</p><ul><li>æ•°æ®ç£ç›˜æŒä¹…åŒ–ï¼šæ¶ˆæ¯ä¸åœ¨å†…å­˜ä¸­cacheï¼Œç›´æ¥å†™å…¥åˆ°ç£ç›˜ï¼Œå……åˆ†åˆ©ç”¨ç£ç›˜çš„é¡ºåºè¯»å†™æ€§èƒ½</li><li>zero-copyï¼šå‡å°‘IOæ“ä½œæ­¥éª¤</li><li>æ”¯æŒæ•°æ®æ‰¹é‡å‘é€å’Œæ‹‰å–</li><li>æ”¯æŒæ•°æ®å‹ç¼©</li><li>Topicåˆ’åˆ†ä¸ºå¤šä¸ªpartitionï¼Œæé«˜å¹¶è¡Œå¤„ç†èƒ½åŠ›</li></ul></li><li><p>Producerè´Ÿè½½å‡è¡¡å’ŒHAæœºåˆ¶</p><ul><li>produceræ ¹æ®ç”¨æˆ·æŒ‡å®šçš„ç®—æ³•ï¼Œå°†æ¶ˆæ¯å‘é€åˆ°æŒ‡å®šçš„partitionã€‚</li><li>å­˜åœ¨å¤šä¸ªpartiitonï¼Œæ¯ä¸ªpartitionæœ‰è‡ªå·±çš„replicaï¼Œæ¯ä¸ªreplicaåˆ†å¸ƒåœ¨ä¸åŒçš„BrokerèŠ‚ç‚¹ä¸Šã€‚</li><li>å¤šä¸ªpartitionéœ€è¦é€‰å–å‡ºlead partitionï¼Œlead partitionè´Ÿè´£è¯»å†™ï¼Œå¹¶ç”±zookeeperè´Ÿè´£fail overã€‚</li><li>é€šè¿‡zookeeperç®¡ç†brokerä¸consumerçš„åŠ¨æ€åŠ å…¥ä¸ç¦»å¼€ã€‚</li></ul></li><li><p>Consumerçš„pullæœºåˆ¶</p><p>ç”±äºbrokerä¼šæŒä¹…åŒ–æ•°æ®ï¼Œbrokeræ²¡æœ‰cacheå‹åŠ›ï¼Œå› æ­¤ï¼Œconsumeræ¯”è¾ƒé€‚åˆæ‰å»pullçš„æ–¹å¼æ¶ˆè´¹æ•°æ®ï¼š</p><ul><li>ç®€åŒ–kafkaè®¾è®¡ï¼Œé™ä½äº†éš¾åº¦</li><li>Consumeræ ¹æ®æ¶ˆè´¹èƒ½åŠ›è‡ªä¸»æ§åˆ¶æ¶ˆæ¯æ‹‰å–é€Ÿåº¦</li><li>Consumeræ ¹æ®è‡ªèº«æƒ…å†µè‡ªä¸»é€‰æ‹©æ¶ˆè´¹æ¨¡å¼ï¼Œä¾‹å¦‚æ‰¹é‡ï¼Œé‡å¤æ¶ˆè´¹ï¼Œä»åˆ¶å®špartitionæˆ–ä½ç½®(offset)å¼€å§‹æ¶ˆè´¹ç­‰</li></ul></li><li><p>Consumerä¸Topicå…³ç³»ä»¥åŠæœºåˆ¶</p><p>æ¯ä¸ªgroupåŒ…å«å¤šä¸ªconsumerã€‚å¯¹äºtopicä¸­çš„ä¸€æ¡ç‰¹å®šæ¶ˆæ¯ï¼Œåªä¼šè¢«è®¢é˜…æ­¤Topicæ¯ä¸ªgroupä¸­çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼Œé‚£ä¹ˆä¸€ä¸ªgroupä¸­çš„æ‰€æœ‰consumerå°†ä¼šäº¤é”™çš„æ¶ˆè´¹æ•´ä¸ªTopicã€‚</p><p>å¦‚æœæ‰€æœ‰çš„consumeréƒ½å…·æœ‰ç›¸åŒçš„groupï¼ˆç±»ä¼¼JMS queueï¼‰ï¼Œæ¶ˆæ¯å°†æœ‰æ‰€æœ‰çš„consumerè´Ÿè½½å‡è¡¡</p><p>å¦‚æœæ‰€æœ‰çš„consumeréƒ½å…·æœ‰ä¸åŒçš„groupï¼Œé‚£ä¹ˆè¿™å°±æ˜¯ã€å‘å¸ƒ-è®¢é˜…ã€ï¼Œæ¶ˆæ¯å°†ä¼šå¹¿æ’­ç»™æ‰€æœ‰æ¶ˆè´¹è€…</p><p>åœ¨Kafkaä¸­ï¼Œä¸€ä¸ªpartitionä¸­çš„æ¶ˆæ¯åªä¼šè¢«groupä¸­çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼ˆåŒä¸€æ—¶åˆ»ï¼‰ï¼›æ¯ä¸ªgroupä¸­consumeræ¶ˆæ¯æ¶ˆè´¹äº’ç›¸ç‹¬ç«‹ï¼›<br>ä¸€ä¸ªgroupæ˜¯ä¸€ä¸ªã€è®¢é˜…ã€è€…ï¼Œä¸€ä¸ªTopicä¸­çš„æ¯ä¸ªpartitionåªä¼šè¢«ä¸€ä¸ªã€è®¢é˜…ã€è€…ä¸­çš„ä¸€ä¸ªconsumeræ¶ˆè´¹ï¼Œä½†æ˜¯ä¸€ä¸ªconsumerå¯ä»¥åŒäº‹æ¶ˆè´¹å¤šä¸ªpartitionsä¸­çš„æ¶ˆæ¯ã€‚</p><p>Kafkaåªèƒ½ä¿è¯ä¸€ä¸ªpartitionä¸­çš„æ¶ˆæ¯è¢«æŸä¸ªconsumeræ¶ˆè´¹æ˜¯é¡ºåºçš„ï¼Œä½†æ˜¯ä»Topicè§’åº¦ï¼Œå½“æœ‰å¤šä¸ªpartitionsæ—¶ï¼Œæ¶ˆæ¯ä»ä¸æ˜¯å…¨å±€æœ‰åºçš„</p><p>ä¸€ä¸ªgroupä¸­åŒ…å«å¤šä¸ªconsumerï¼Œè¿™æ ·çš„è¯ä¸ä»…èƒ½æé«˜topicä¸­æ¶ˆæ¯çš„å¹¶å‘æ¶ˆè´¹èƒ½åŠ›ï¼Œè¿˜èƒ½æé«˜ã€æ•…éšœå®¹é”™ã€æ€§ï¼Œå¦‚æœgroupä¸­çš„æŸä¸ªconsumerå¤±æ•ˆï¼Œé‚£ä¹ˆå…¶æ¶ˆè´¹çš„partitionå°†ä¼šè¢«å…¶ä»–consumeræ¥ç®¡</p><p>Kafkaçš„è®¾è®¡åŸç†å†³å®šï¼Œå¯¹äºä¸€ä¸ªTopicï¼ŒåŒä¸€ä¸ªgroupä¸­ä¸èƒ½æœ‰å¤šäºpartitionä¸ªæ•°çš„consumeråŒæ—¶æ¶ˆè´¹ï¼Œå¦åˆ™å°†æ„å‘³ç€æŸäº›consumerå°†æ— æ³•å¾—åˆ°æ¶ˆæ¯</p></li><li><p>Producerå‡è¡¡ç®—æ³•</p><p>Kafkaé›†ç¾¤ä¸­çš„ä»»ä½•ä¸€ä¸ªbrokerï¼Œéƒ½å¯ä»¥å‘produceræä¾›metadataï¼Œè¿™äº›metadataä¸­åŒ…å«ã€é›†ç¾¤ä¸­å­˜è´§çš„servers/partition leadersã€ï¼Œå½“producerè·å–åˆ°metadataåï¼Œä¼šå’Œtopicä¸‹æ‰€æœ‰çš„partition leaderä¿æŒsockerè¿æ¥ï¼›æ¶ˆæ¯ç”±producerç›´æ¥é€šè¿‡sockerå‘é€åˆ°broker</p><blockquote><p>ä¸­é—´ä¸ä¼šç»è¿‡ä»»ä½•ã€è·¯ç”±å±‚ã€ï¼Œå³ï¼Œæ¶ˆæ¯è¢«è·¯ç”±åˆ°å“ªä¸ªpartitionä¸Šï¼Œæ˜¯æœ‰producerå†³å®šçš„<br>åœ¨producerç«¯çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥æŒ‡å®špartitionçš„è·¯ç”±æ–¹å¼ï¼šã€randomã€ï¼Œã€key-hashã€ç­‰</p></blockquote></li><li><p>Consumerå‡è¡¡ç®—æ³•</p><p>å½“ä¸€ä¸ªgroupä¸­ï¼Œæœ‰consumeråŠ å…¥æˆ–è€…ç¦»å¼€æ—¶ï¼Œä¼šè§¦å‘partitionså‡è¡¡ã€‚å‡è¡¡çš„æœ€ç»ˆç›®çš„ï¼Œæ˜¯æå‡topicçš„å¹¶å‘æ¶ˆè´¹èƒ½åŠ›ã€‚</p><ul><li>å‡å¦‚topic1,å…·æœ‰å¦‚ä¸‹partitions: P0,P1,P2,P3</li><li>åŠ å…¥groupä¸­,æœ‰å¦‚ä¸‹consumer: C0,C1</li><li>é¦–å…ˆæ ¹æ®partitionç´¢å¼•å·å¯¹partitionsæ’åº: P0,P1,P2,P3</li><li>æ ¹æ®consumer.idæ’åº: C0,C1</li><li>è®¡ç®—å€æ•°: M = [P0,P1,P2,P3].size / [C0,C1].size,æœ¬ä¾‹å€¼M=2(å‘ä¸Šå–æ•´)</li><li>ç„¶åä¾æ¬¡åˆ†é…partitions: C0 = [P0,P1],C1=[P2,P3],å³Ci = [P(i * M),P((i + 1) * M -1)]</li></ul></li><li><p>Brokeré›†ç¾¤å†…brokerä¹‹é—´replicaæœºåˆ¶</p><p>replicationç­–ç•¥æ˜¯åŸºäºpartitonï¼Œè€Œä¸æ˜¯topic</p><blockquote><p>kafkaå°†æ¯ä¸ªpartitionå¤åˆ¶åˆ°å¤šä¸ªserverä¸Š<br>ä»»ä½•ä¸€ä¸ªpartitionæœ‰ä¸€ä¸ªleaderå’Œä»»æ„æ•°é‡çš„follower<br>å¤‡ä»½çš„æ•°é‡å¯ä»¥ç”±brokeré…ç½®æ–‡ä»¶è®¾å®š<br>leaderå¤„ç†æ‰€æœ‰çš„read-writeè¯·æ±‚ï¼Œè´Ÿè´£è·Ÿè¸ªæ‰€æœ‰çš„followerçŠ¶æ€ï¼Œ<br>å¦‚æœfollowerã€è½åã€å¤ªå¤šæˆ–è€…å¤±æ•ˆï¼Œleaderä¼šæŠŠå®ƒä»replicasåŒæ­¥åˆ—è¡¨ä¸­åˆ é™¤<br>followeréœ€è¦å’Œleaderä¿æŒåŒæ­¥ï¼Œfollowerå°±åƒä¸€ä¸ªconsumerï¼Œæ¶ˆè´¹ä¿¡æ¯å¹¶ä¿å­˜åœ¨æœ¬åœ°æ—¥å¿—ä¸­<br>å½“æ‰€æœ‰çš„followeréƒ½å°†ä¸€ä¸ªæ¶ˆæ¯ä¿å­˜æˆåŠŸï¼Œæ­¤æ¶ˆæ¯æ‰èƒ½è¢«è®¤ä¸ºæ˜¯ã€committedã€ï¼Œ<br>æ­¤æ—¶consumeræ‰èƒ½æ¶ˆè´¹å®ƒï¼Œè¿™ç§ç­–ç•¥è¦æ±‚leaderå’Œfollowerä¹‹é—´ä¿æŒè‰¯å¥½çš„ç½‘ç»œç¯å¢ƒ<br>åªè¦ZKé›†ç¾¤å­˜æ´»ï¼Œå³ä½¿åªå­˜æ´»ä¸€ä¸ªreplicaï¼Œä»å¯ä»¥ä¿è¯æ¶ˆæ¯çš„æ­£å¸¸å‘é€å’Œæ¥æ”¶</p></blockquote><ul><li>Kafkaåˆ¤å®šä¸€ä¸ªfollowerå­˜æ´»çš„æ¡ä»¶<ul><li>å’ŒZKä¿æŒè‰¯å¥½çš„é“¾æ¥</li><li>åŠæ—¶è·Ÿè¿›leaderï¼Œä¸èƒ½è½åå¤ªå¤š</li></ul></li></ul><blockquote><p>å¦‚æœæ­¤replicasè½åå¤ªå¤šï¼Œå®ƒä¼šç»§ç»­åœ¨leaderä¸­fetchæ•°æ®ï¼Œç„¶ååŠ å…¥åŒæ­¥åˆ—è¡¨ä¸­ï¼Œ<br>Kafkaä¸ä¼šæ›´æ¢å®¿ä¸»ï¼Œåªæœ‰è¿™æ ·æ‰èƒ½ä¿è¯replicasè¶³å¤Ÿå¿«ï¼Œæ‰èƒ½ä¿è¯producerå‘å¸ƒæ¶ˆæ¯æ—¶æ¥æ”¶ACKçš„å»¶è¿Ÿè¾ƒå°</p></blockquote><ul><li>å½“leaderå¤±æ•ˆï¼Œéœ€è¦è€ƒè™‘è´Ÿè½½å‡è¡¡ï¼Œpartition leaderè¾ƒå°‘çš„brokeræ›´æœ‰å¯èƒ½æˆä¸ºæ–°çš„leaderï¼Œå› ä¸º<ul><li>ä¸èƒ½é‡‡ç”¨ã€æŠ•ç¥¨å¤šæ•°æ´¾ã€çš„ç®—æ³•ï¼Œå› ä¸ºè¿™ç§ç®—æ³•å¯¹äºã€ç½‘ç»œç¨³å®šæ€§/æŠ•ç¥¨å‚ä¸è€…æ•°é‡ã€è¦æ±‚è¾ƒé«˜</li><li>Kafkaé›†ç¾¤è®¾è®¡ä¸­ï¼Œå®¹å¿N-1ä¸ªreplicaså¤±æ•ˆ</li><li>æ¯ä¸ªpartitonä¸­æ‰€æœ‰çš„replicaä¿¡æ¯éƒ½å¯ä»¥åœ¨ZKä¸­è·å¾—ï¼Œé‚£ä¹ˆé€‰æ‹©leaderæ˜¯éå¸¸ç®€å•çš„</li><li>é€‰æ‹©followeræ—¶éœ€è¦æ³¨æ„ï¼šé¿å…æ–°çš„leader serverä¸Šæ‰¿è½½çš„partiton leaderçš„ä¸ªæ•°è¿‡å¤šï¼Œå¦åˆ™æ­¤serverå°†æ‰¿å—æ›´å¤šçš„IOå‹åŠ›</li></ul></li></ul></li><li><p>æ€»ç»“</p><ul><li>Producerç«¯ç›´æ¥è¿æ¥brokeråˆ—è¡¨ï¼Œä»åˆ—è¡¨ä¸­è¿”å›TopicMetadataResponseï¼Œè¯¥MetadataåŒ…å«Topicä¸‹æ¯ä¸ªpartition leaderå»ºç«‹socketè¿æ¥å¹¶å‘é€æ¶ˆæ¯ã€‚</li><li>Brokerç«¯ä½¿ç”¨ZKç”¨æ¥æ³¨å†Œbrokerä¿¡æ¯ï¼Œä»¥åŠç›‘æ§partition leaderå­˜æ´»æ€§ã€‚</li><li>Consumerç«¯ä½¿ç”¨ZKç”¨æ¥æ³¨å†Œconsumerä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬consumeræ¶ˆè´¹çš„partitionåˆ—è¡¨ç­‰ï¼ŒåŒæ—¶ä¹Ÿç”¨æ¥å‘ç°brokeråˆ—è¡¨ï¼Œå¹¶å’Œpartition leaderå»ºç«‹socketè¿æ¥ï¼Œå¹¶è·å–æ¶ˆæ¯ã€‚</li></ul></li></ul><h4 id="Kafkaåœ¨Zookeeperä¸­å­˜å‚¨ç»“æ„"><a href="#Kafkaåœ¨Zookeeperä¸­å­˜å‚¨ç»“æ„" class="headerlink" title="Kafkaåœ¨Zookeeperä¸­å­˜å‚¨ç»“æ„"></a>Kafkaåœ¨Zookeeperä¸­å­˜å‚¨ç»“æ„</h4><ul><li>ç»“æ„å›¾</li></ul><p>![kafkaåœ¨ZKä¸­çš„å­˜å‚¨ç»“æ„å›¾](/assets/images/posts/kafka.0.9.0/kafka_in_zk.png)</p><h4 id="Kafka-å®‰è£…å’Œé…ç½®"><a href="#Kafka-å®‰è£…å’Œé…ç½®" class="headerlink" title="Kafka å®‰è£…å’Œé…ç½®"></a>Kafka å®‰è£…å’Œé…ç½®</h4><h4 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h4><ul><li><a href="http://blog.csdn.net/zhongwen7710/article/details/41252649">http://blog.csdn.net/zhongwen7710/article/details/41252649</a></li><li><a href="http://kafka.apache.org/documentation.html#brokerconfigs">http://kafka.apache.org/documentation.html#brokerconfigs</a></li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Linux shell è·å¾—ä»¥å‰æ—¥æœŸ</title>
      <link href="/2015-12-05-linux-shell-generate-date.html"/>
      <url>/2015-12-05-linux-shell-generate-date.html</url>
      
        <content type="html"><![CDATA[<h3 id="åœ¨linux-shellé‡Œï¼Œæˆ‘æƒ³è·å¾—ä»¥å‰çš„æ—¥æœŸ"><a href="#åœ¨linux-shellé‡Œï¼Œæˆ‘æƒ³è·å¾—ä»¥å‰çš„æ—¥æœŸ" class="headerlink" title="åœ¨linux shellé‡Œï¼Œæˆ‘æƒ³è·å¾—ä»¥å‰çš„æ—¥æœŸ"></a>åœ¨linux shellé‡Œï¼Œæˆ‘æƒ³è·å¾—ä»¥å‰çš„æ—¥æœŸ</h3><p>1ã€æ¯”å¦‚ï¼Œå»å¹´çš„ä¸Šä¸ªæœˆçš„æ˜¨å¤©çš„æ—¥æœŸï¼šï¼ˆä»Šå¤©æ˜¯2009å¹´2æœˆ2æ—¥ï¼Œä¹Ÿå°±æ˜¯2008å¹´1æœˆ1æ—¥ï¼‰</p><pre class="line-numbers language-none"><code class="language-none">reasonpun@reasonpun:~$ logRecordDate="`date -d "-1 year -1 month -1 day" "+%Y_%m_%d"`"reasonpun@reasonpun:~$ echo $logRecordDate2008_01_01reasonpun@reasonpun:~$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><!--more--><p>2ã€ä¸Šä¸ªæœˆçš„ä»Šå¤©ï¼š</p><pre class="line-numbers language-none"><code class="language-none">reasonpun@reasonpun:~$ logRecordDate="`date -d "-1 month" "+%Y_%m_%d"`"reasonpun@reasonpun:~$ echo $logRecordDate2009_01_02<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>3ã€å»å¹´çš„ä»Šå¤©ï¼š</p><pre class="line-numbers language-none"><code class="language-none">reasonpun@reasonpun:~$ logRecordDate="`date -d "-1 year" "+%Y_%m_%d"`"reasonpun@reasonpun:~$ echo $logRecordDate2008_02_02<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>4ã€ä¸Šä¸ªæœˆçš„æ˜¨å¤©ï¼š</p><pre class="line-numbers language-none"><code class="language-none">reasonpun@reasonpun:~$ logRecordDate="`date -d "-1 month -1 day" "+%Y_%m_%d"`"reasonpun@reasonpun:~$ echo $logRecordDate2009_01_01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>5ã€æ ¹æ®æ—¶é—´æˆ³è½¬æ¢æˆæ—¥æœŸ</p><pre class="line-numbers language-none"><code class="language-none">[mofun_mining@i-qe32ajmq ~]$ date -d @1434847028 "+%Y-%m-%d"2015-06-21<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å…¶ä»–çš„ç±»æ¨ï½ï½å‘µå‘µï¼Œè¿˜æ˜¯å¸Œæœ›å¤§å®¶ç»™æµ‹æµ‹å…¶ä»–æ—¥æœŸä¼šä¸ä¼šå‡ºé”™å‘µå‘µã€‚å¤šè°¢ï½ï½ï½<br>é¼“æ£ä¹‹ç¯å¢ƒï¼šubuntu8.04</p><p>update @ 2016-12-19 15:48</p><h3 id="PHPè·å–åä¸€å¤©æ—¥æœŸçš„å†™æ³•"><a href="#PHPè·å–åä¸€å¤©æ—¥æœŸçš„å†™æ³•" class="headerlink" title="PHPè·å–åä¸€å¤©æ—¥æœŸçš„å†™æ³•"></a>PHPè·å–åä¸€å¤©æ—¥æœŸçš„å†™æ³•</h3><pre class="line-numbers language-none"><code class="language-none">$date = "04-15-2013";$date1 = str_replace('-', '/', $date);$tomorrow = date('m-d-Y', strtotime($date1 . "+1 days"));echo $tomorrow;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¦é™„ä¸Šwindowsä¸‹è·å¾—å‰ä¸€å¤©çš„æ—¥æœŸï¼š"><a href="#å¦é™„ä¸Šwindowsä¸‹è·å¾—å‰ä¸€å¤©çš„æ—¥æœŸï¼š" class="headerlink" title="å¦é™„ä¸Šwindowsä¸‹è·å¾—å‰ä¸€å¤©çš„æ—¥æœŸï¼š"></a>å¦é™„ä¸Šwindowsä¸‹è·å¾—å‰ä¸€å¤©çš„æ—¥æœŸï¼š</h3><pre class="line-numbers language-none"><code class="language-none">@echo offset td=%date:~2,2%%date:~5,2%%date:~8,2%set dy=%date:~0,4%set dm=%date:~5,2%set dd=%date:~8,2%set da=%date:~8,2%if %dm%%dd%==0101 goto L01if %dm%%dd%==0201 goto L02if %dm%%dd%==0301 goto L07if %dm%%dd%==0401 goto L02if %dm%%dd%==0501 goto L04if %dm%%dd%==0601 goto L02if %dm%%dd%==0701 goto L04if %dm%%dd%==0801 goto L02if %dm%%dd%==0901 goto L02if %dm%%dd%==1001 goto L05if %dm%%dd%==1101 goto L03if %dm%%dd%==1201 goto L06if %dd%==02 goto L10if %dd%==03 goto L10if %dd%==04 goto L10if %dd%==05 goto L10if %dd%==06 goto L10if %dd%==07 goto L10if %dd%==08 goto L10if %dd%==09 goto L10if %dd%==10 goto L11set /A dd=dd-1set dt=%dy%-%dm%-%dd%goto END:L10set /A dd=%dd:~1,1%-1set dt=%dy%-%dm%-0%dd%goto END:L11set dt=%dy%-%dm%-09goto END:L02set /A dm=%dm:~1,1%-1set dt=%dy%-0%dm%-31goto END:L04set /A dm=dm-1set dt=%dy%-0%dm%-30goto END:L05set dt=%dy%-09-30goto END:L03set dt=%dy%-10-31goto END:L06set dt=%dy%-11-30goto END:L01set /A dy=dy-1set dt=%dy%-12-31goto END:L07set /A "dd=dy%%4"if not %dd%==0 goto L08set /A "dd=dy%%100"if not %dd%==0 goto L09set /A "dd=dy%%400"if %dd%==0 goto L09:L08set dt=%dy%-02-28goto END:L09set dt=%dy%-02-29goto END:ENDset dateTime=20%dt:~2,2%%dt:~5,2%%dt:~8,2%<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Dockerä¸­æ­å»ºSparkè®¡ç®—æ¡†æ¶</title>
      <link href="/2015-12-04-spark-in-docker.html"/>
      <url>/2015-12-04-spark-in-docker.html</url>
      
        <content type="html"><![CDATA[<h4 id="å®‰è£…å¥½Dockerä¹‹å"><a href="#å®‰è£…å¥½Dockerä¹‹å" class="headerlink" title="å®‰è£…å¥½Dockerä¹‹å"></a>å®‰è£…å¥½Dockerä¹‹å</h4><h4 id="å…ˆæ‹‰å–ä¸€ä¸ªå®˜æ–¹çš„åŸºæœ¬é•œåƒubuntu"><a href="#å…ˆæ‹‰å–ä¸€ä¸ªå®˜æ–¹çš„åŸºæœ¬é•œåƒubuntu" class="headerlink" title="å…ˆæ‹‰å–ä¸€ä¸ªå®˜æ–¹çš„åŸºæœ¬é•œåƒubuntu"></a>å…ˆæ‹‰å–ä¸€ä¸ªå®˜æ–¹çš„åŸºæœ¬é•œåƒubuntu</h4><p>docker pull ubuntu</p><p>æˆ‘ä»¬å°†åœ¨è¿™ä¸ªåŸºç¡€é•œåƒä¸Šè¿è¡Œå®¹å™¨ï¼Œå°†è¿™ä¸ªå®¹å™¨å½“æˆä¸€ä¸ªæ™®é€šçš„ubuntuè™šæ‹Ÿæœºæ¥æ“ä½œéƒ¨ç½²sparkï¼Œæœ€åå°†é…ç½®å¥½çš„å®¹å™¨commitä¸ºä¸€ä¸ªé•œåƒï¼Œä¹‹åå°±å¯ä»¥é€šè¿‡è¿™ä¸ªé•œåƒè¿è¡Œnä¸ªèŠ‚ç‚¹æ¥å®Œæˆé›†ç¾¤çš„æ­å»º</p><!--more--><h4 id="ä¸‹è½½å®Œubuntué•œåƒä¹‹åè¿è¡Œ"><a href="#ä¸‹è½½å®Œubuntué•œåƒä¹‹åè¿è¡Œ" class="headerlink" title="ä¸‹è½½å®Œubuntué•œåƒä¹‹åè¿è¡Œ"></a>ä¸‹è½½å®Œubuntué•œåƒä¹‹åè¿è¡Œ</h4><pre class="line-numbers language-none"><code class="language-none">[reason@localhost ~]$ docker imagesREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZEmofun/spark         v2.0                b2dacac3e132        About an hour ago   1.508 GBmofun/spark         v1.3                4d2f33ca61ee        18 hours ago        1.506 GBubuntu              latest              0a17decee413        6 days ago          188.3 MBdocker/whalesay     latest              ded5e192a685        4 months ago        247 MB[reason@localhost ~]$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œubuntuå®¹å™¨"><a href="#è¿è¡Œubuntuå®¹å™¨" class="headerlink" title="è¿è¡Œubuntuå®¹å™¨"></a>è¿è¡Œubuntuå®¹å™¨</h4><pre class="line-numbers language-none"><code class="language-none">[reason@localhost ~]$ docker run -v /home/docker/software/:/software -it ubunturoot@f4c0a9d42852:/#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="åœ¨å®¹å™¨ä¸­å®‰è£…ssh"><a href="#åœ¨å®¹å™¨ä¸­å®‰è£…ssh" class="headerlink" title="åœ¨å®¹å™¨ä¸­å®‰è£…ssh"></a>åœ¨å®¹å™¨ä¸­å®‰è£…ssh</h4><pre class="line-numbers language-none"><code class="language-none">[reason@localhost ~]$ docker run -v /home/docker/software/:/software -it ubunturoot@3970c1e5466e:/# apt-get install sshReading package lists... DoneBuilding dependency treeReading state information... Done# sshé»˜è®¤é…ç½®rootæ— æ³•ç™»é™†root@3970c1e5466e:~/.ssh# vim /etc/ssh/sshd_configroot@3970c1e5466e:~/.ssh## å°† /etc/ssh/sshd_configä¸­PermitRootLogin no/without_passwd æ”¹ä¸ºyes# ç”Ÿæˆè®¿é—®å¯†é’¥root@3970c1e5466e:~# ssh-keygen -t rsa -P '' -f ~/.ssh/id_rsaGenerating public/private rsa key pair.Created directory '/root/.ssh'.Your identification has been saved in /root/.ssh/id_rsa.Your public key has been saved in /root/.ssh/id_rsa.pub.The key fingerprint is:b5:d1:e1:dd:98:7d:be:cc:55:69:c6:e7:67:80:d8:d3 root@3970c1e5466eThe key's randomart image is:+--[ RSA 2048]----+|            .    ||           = =.=.||          + * E=*||         . o .o++||        S .     *||              o.+||               + ||                 ||                 |+-----------------+root@3970c1e5466e:~#root@3970c1e5466e:~# cd ~/.ssh/root@3970c1e5466e:~/.ssh# cat id_rsa.pub &gt;&gt; authorized_keysroot@3970c1e5466e:~/.ssh#root@3970c1e5466e:~/.ssh# vim ~/.bashrc#åŠ å…¥/usr/sbin/sshd#å¦‚æœåœ¨å¯åŠ¨å®¹å™¨çš„æ—¶å€™è¿˜æ˜¯æ— æ³•å¯åŠ¨sshçš„è¯ï¼Œ# åœ¨/etc/rc.localæ–‡ä»¶ä¸­ä¹ŸåŠ å…¥root@3970c1e5466e:~/.ssh# vim /etc/rc.local#åŠ å…¥root@3970c1e5466e:~/.ssh# /usr/sbin/sshdMissing privilege separation directory: /var/run/sshdroot@3970c1e5466e:~/.ssh# mkdir /var/run/sshdroot@3970c1e5466e:~/.ssh# /usr/sbin/sshdroot@3970c1e5466e:~/.ssh## å¼€å¯sshæœåŠ¡åéªŒè¯æ˜¯å¦å¯ä»¥ä½¿ç”¨ï¼Œæ‰“å°å‡ºå½“å‰æ—¶é—´root@3970c1e5466e:~/.ssh# ssh localhost dateThe authenticity of host 'localhost (::1)' can't be established.ECDSA key fingerprint is ab:43:27:e6:1c:44:be:2c:f1:17:27:90:6d:2c:68:86.Are you sure you want to continue connecting (yes/no)? yesWarning: Permanently added 'localhost' (ECDSA) to the list of known hosts.Mon Oct 19 05:57:44 UTC 2015root@3970c1e5466e:~/.ssh## sshå®‰è£…å®Œæ¯•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®‰è£…JDK"><a href="#å®‰è£…JDK" class="headerlink" title="å®‰è£…JDK"></a>å®‰è£…JDK</h4><p>å¯ä»¥ä½¿ç”¨apt-getæ–¹å¼ç›´æ¥ä¸‹è½½å®‰è£…jdkï¼ˆä¸æ¨èï¼Œä¸‹è½½é€Ÿåº¦æ…¢ï¼Œæœ‰å¯èƒ½è¿˜ä¼šå¤±è´¥ï¼‰<br>è¿™é‡Œé€‰æ‹©ä»ç½‘ä¸Šä¸‹è½½å®Œjdk-8u60-linux-xx.binä¹‹å<br>å°†å…¶ä¼ åˆ°Ubuntuå®¿ä¸»æœºä¸­ï¼Œåœ¨è¿è¡Œå®¹å™¨çš„æ—¶å€™ä½¿ç”¨-vå‚æ•°å°†å®¿ä¸»æœºä¸Šçš„ç›®å½•æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œè¿™æ ·åœ¨å®¹å™¨ä¸­å°±å¯ä»¥è®¿é—®åˆ°å®¿ä¸»æœºä¸­çš„æ–‡ä»¶äº†</p><pre class="line-numbers language-none"><code class="language-none">å¦‚æœæç¤ºä¸èƒ½å®‰è£….binæ–‡ä»¶ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å³å¯è§£å†³root@3970c1e5466e:~/.ssh# apt-get updateroot@3970c1e5466e:~/.ssh# apt-getinstall g++-multilib<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="å®‰è£…Zookeeper"><a href="#å®‰è£…Zookeeper" class="headerlink" title="å®‰è£…Zookeeper"></a>å®‰è£…Zookeeper</h4><pre class="line-numbers language-none"><code class="language-none">å°†ä¸‹è½½å¥½çš„zookeeper-3.4.6.tar.gzä¸Šä¼ root@3970c1e5466e:~/.ssh# mv /software/zookeeper-3.4.6.tar.gz /usr/local/zookeeper-3.4.6root@3970c1e5466e:~/.ssh# tar -zxvf zookeeper-3.4.6.tar.gzroot@3970c1e5466e:~/.ssh# cd /usr/local/zookeeper-3.4.6/conf/root@3970c1e5466e:~/.ssh# cp zoo_sample.cfgzoo.cfgvim zoo.cfgroot@3970c1e5466e:~/.ssh# vim zoo.cfg#ä¿®æ”¹ï¼šdataDir=/root/zookeeper/tmp#åœ¨æœ€åæ·»åŠ ï¼šserver.1=cloud4:2888:3888server.2=cloud5:2888:3888server.3=cloud6:2888:3888#ä¿å­˜é€€å‡ºï¼Œç„¶ååˆ›å»ºä¸€ä¸ªtmpæ–‡ä»¶å¤¹root@3970c1e5466e:~/.ssh# mkdir /data/zookeeper/tmp#å†åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶root@3970c1e5466e:~/.ssh# touch /data/zookeeper/tmp/myid#æœ€åå‘è¯¥æ–‡ä»¶å†™å…¥IDroot@3970c1e5466e:~/.ssh# echo 1&gt; /data/zookeeper/tmp/myid<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®‰è£…Hadoop"><a href="#å®‰è£…Hadoop" class="headerlink" title="å®‰è£…Hadoop"></a>å®‰è£…Hadoop</h4><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:~/.ssh# mv /software/hadoop-2.6.1.tar.gz /usr/local/root@3970c1e5466e:~/.ssh# tar -zxvf hadoop-2.2.0-64bit.tar.gzroot@3970c1e5466e:~/.ssh# cd /usr/local/hadoop/etc/hadoop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ›´æ”¹hadoop-env.sh</p><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:/data/test# cd /usr/local/hadoop-2.6.1/root@3970c1e5466e:/usr/local/hadoop-2.6.1# lsLICENSE.txt  NOTICE.txt  README.txt  bin  etc  include  lib  libexec  logs  sbin  shareroot@3970c1e5466e:/usr/local/hadoop-2.6.1# cd etc/hadoop/root@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# vim hadoop-env.sh#åŠ å…¥javaç¯å¢ƒå˜é‡export JAVA_HOME=/usr/local/jdk1.8.0_60<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹core-site.xml</p><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# vim core-site.xml&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;&lt;configuration&gt;&lt;property&gt;&lt;name&gt;fs.defaultFS&lt;/name&gt;&lt;value&gt;hdfs://ns1&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;&lt;value&gt;/data/hadoop/tmp&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;ha.zookeeper.quorum&lt;/name&gt;&lt;value&gt;cloud4:2181,cloud5:2182,cloud6:2183&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹hdfs-site.xml, mapred-site.xml, yarn-site.xml</p><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# vim hdfs-site.xml&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;&lt;configuration&gt;&lt;property&gt;&lt;name&gt;dfs.nameservices&lt;/name&gt;&lt;value&gt;ns1&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.ha.namenodes.ns1&lt;/name&gt;&lt;value&gt;nn1,nn2&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.rpc-address.ns1.nn1&lt;/name&gt;&lt;value&gt;cloud1:9000&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.http-address.ns1.nn1&lt;/name&gt;&lt;value&gt;cloud1:50070&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.rpc-address.ns1.nn2&lt;/name&gt;&lt;value&gt;cloud2:9000&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.http-address.ns1.nn2&lt;/name&gt;&lt;value&gt;cloud2:50070&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.namenode.shared.edits.dir&lt;/name&gt;&lt;value&gt;qjournal://cloud4:8485;cloud5:8485;cloud6:8485/ns1&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.journalnode.edits.dir&lt;/name&gt;&lt;value&gt;/data/hadoop/journal&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.ha.automatic-failover.enabled&lt;/name&gt;&lt;value&gt;true&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.client.failover.proxy.provider.ns1&lt;/name&gt;&lt;value&gt;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.ha.fencing.methods&lt;/name&gt;&lt;value&gt;sshfence&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.ha.fencing.ssh.private-key-files&lt;/name&gt;&lt;value&gt;/root/.ssh/id_rsa&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;dfs.ha.fencing.ssh.connect-timeout&lt;/name&gt;&lt;value&gt;30000&lt;/value&gt;&lt;/property&gt;&lt;property&gt;        &lt;name&gt;dfs.namenode.name.dir&lt;/name&gt;        &lt;value&gt;file:///data/hadoop/workspace/hdfs/name&lt;/value&gt;&lt;/property&gt;&lt;property&gt;        &lt;name&gt;dfs.datanode.data.dir&lt;/name&gt;        &lt;value&gt;file:///data/hadoop/workspace/hdfs/data&lt;/value&gt;&lt;/property&gt;&lt;property&gt;       &lt;name&gt;dfs.replication&lt;/name&gt;       &lt;value&gt;2&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# mv mapred-site.xml.template mapred-site.xmlroot@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# vim mapred-site.xml&lt;?xml version="1.0"?&gt;&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;&lt;configuration&gt;&lt;property&gt;&lt;name&gt;mapreduce.framework.name&lt;/name&gt;&lt;value&gt;yarn&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# vim yarn-site.xml&lt;?xml version="1.0"?&gt;&lt;configuration&gt;&lt;property&gt;&lt;name&gt;yarn.resourcemanager.hostname&lt;/name&gt;&lt;value&gt;cloud3&lt;/value&gt;&lt;/property&gt;&lt;property&gt;&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;&lt;value&gt;mapreduce_shuffle&lt;/value&gt;&lt;/property&gt;&lt;/configuration&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:/usr/local/hadoop-2.6.1/etc/hadoop# vim slavescloud1cloud2cloud3cloud4cloud5cloud6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å®‰è£…Spark"><a href="#å®‰è£…Spark" class="headerlink" title="å®‰è£…Spark"></a>å®‰è£…Spark</h4><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:~/.ssh# mv /software/scala-2.11.7 /usr/local/root@3970c1e5466e:~/.ssh# tar -zxvf scala-2.11.7.tgzroot@3970c1e5466e:~/.ssh# vim ~/.bashrcexport JAVA_HOME=/usr/local/jdk1.8.0_60export HADOOP_HOME=/usr/local/hadoop-2.6.1export SCALA_HOME=/usr/local/scala-2.11.7export SPARK_HOME=/usr/local/spark-1.5.1-bin-hadoop2.6export PATH=$PATH:$JAVA_HOME/bin:$HADOOP_HOME/bin:$SCALA_HOME/bin:$SPARK_HOME/binroot@3970c1e5466e:~/.ssh# mv /software/spark-1.5.1-bin-hadoop2.6.tgz /usr/local/root@3970c1e5466e:~/.ssh# tar -zxvf spark-1.5.1-bin-hadoop2.6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¼–è¾‘é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-none"><code class="language-none">root@3970c1e5466e:~/.ssh# cd /usr/local/spark-1.5.1-bin-hadoop2.6/root@3970c1e5466e:/usr/local/spark-1.5.1-bin-hadoop2.6# cd conf/root@3970c1e5466e:/usr/local/spark-1.5.1-bin-hadoop2.6# vim slavescloud1cloud2cloud3cloud4cloud5cloud6root@3970c1e5466e:/usr/local/spark-1.5.1-bin-hadoop2.6# mv spark-env.sh.template spark-env.shroot@3970c1e5466e:/usr/local/spark-1.5.1-bin-hadoop2.6# vim ~/spark/conf/spark-env.shexport SPARK_MASTER_IP=cloud1export SPARK_WORKER_MEMORY=128mexport JAVA_HOME=/usr/local/jdk1.8.0_60export SCALA_HOME=/usr/local/scala-2.11.7export SPARK_HOME=/usr/local/spark-1.5.1-bin-hadoop2.6export HADOOP_CONF_DIR=/usr/local/hadoop-2.6.1/etc/hadoopexport SPARK_LIBRARY_PATH=$$SPARK_HOME/libexport SCALA_LIBRARY_PATH=$SPARK_LIBRARY_PATHexport SPARK_WORKER_CORES=1export SPARK_WORKER_INSTANCES=1export SPARK_MASTER_PORT=7077<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤æ—¶é…ç½®å·²ç»åŸºæœ¬å®Œæˆï¼Œæ‰€ä»¥éœ€è¦__ä¿å­˜é•œåƒ__</p><pre class="line-numbers language-none"><code class="language-none">[reason@localhost ~]$ sudo docker commit -m "mofun spark first commit" -a "reason" cloud1 mofun/spark:v1.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹æ‰§è¡Œè¿‡çš„é•œåƒ</p><pre class="line-numbers language-none"><code class="language-none">[reason@localhost ~]$ sudo docker ps -aCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                         PORTS               NAMESd4e581ba6af8        mofun/spark:v1.0   "/bin/bash"              11 seconds ago      Exited (0) 7 seconds ago                           hungry_pasteur<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨å®¹å™¨</p><pre class="line-numbers language-none"><code class="language-none"># åå°æ¨¡å¼è¿è¡Œ[reason@localhost ~]$ docker run -d --name cloud2 -h cloud2 -it mofun/spark:v2.0 /bin/bashéœ€è¦ä½¿ç”¨åˆšæ‰åˆ¶ä½œçš„é•œåƒå¯åŠ¨6ä¸ªå®¹å™¨[reason@localhost ~]$ docker run --name cloud1 -h cloud1 -it mofun/spark:v2.0 /bin/bash[reason@localhost ~]$ docker run --name cloud2 -h cloud2 -it mofun/spark:v2.0 /bin/bash[reason@localhost ~]$ docker run --name cloud3 -h cloud3 -it mofun/spark:v2.0 /bin/bash[reason@localhost ~]$ docker run --name cloud4 -h cloud4 -it mofun/spark:v2.0 /bin/bash[reason@localhost ~]$ docker run --name cloud5 -h cloud5 -it mofun/spark:v2.0 /bin/bash[reason@localhost ~]$ docker run --name cloud6 -h cloud6 -it mofun/spark:v2.0 /bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åšæœ€åçš„ä¿®æ”¹</p><pre class="line-numbers language-none"><code class="language-none">#åœ¨cloud5~cloud6ä¸­åˆ†åˆ«æ‰‹åŠ¨ä¿®æ”¹myidroot@cloud5:~# echo 2 &gt;  /data/zookeeper/myidroot@cloud5:~# echo 2 &gt; /usr/local/zookeeper-3.4.6/tmp/myidroot@cloud6:~# echo 3 &gt;  /data/zookeeper/myidroot@cloud6:~# echo 3 &gt; /usr/local/zookeeper-3.4.6/tmp/myid<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨zookeeperé›†ç¾¤</p><pre class="line-numbers language-none"><code class="language-none"># å¯åŠ¨zookeeperé›†ç¾¤ï¼ˆåˆ†åˆ«åœ¨cloud4ã€cloud5ã€cloud6ä¸Šå¯åŠ¨zkï¼‰# å…¨éƒ¨èŠ‚ç‚¹å¯åŠ¨åï¼Œå†æ‰§è¡ŒzkServer.sh status# è¿”å›æ­£å¸¸# root@cloud6:/usr/local/zookeeper-3.4.6/bin# ./zkServer.sh status# JMX enabled by default# Using config: /usr/local/zookeeper-3.4.6/bin/../conf/zoo.cfg# Mode: followerroot@cloud5:~# /usr/local/zookeeper-3.4.6/bin/zkServer.sh start# å½“3ä¸ªèŠ‚ç‚¹æœåŠ¡æ­£å¸¸å¯åŠ¨å# ä½¿ç”¨statusæŸ¥çœ‹æ˜¯å¦å¯åŠ¨root@cloud5:~# /usr/local/zookeeper-3.4.6/bin/zkServer.sh statusJMX enabled by defaultUsing config: /usr/local/zookeeper-3.4.6/bin/../conf/zoo.cfgMode: followerroot@cloud5:~#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿›å…¥cloud1ï¼Œå¼€å¯hadoopå’ŒsparkæœåŠ¡</p><pre class="line-numbers language-none"><code class="language-none"># å¯åŠ¨journalnodeï¼ˆåœ¨cloud1ä¸Šå¯åŠ¨æ‰€æœ‰journalnodeï¼Œæ³¨æ„ï¼šæ˜¯è°ƒç”¨çš„hadoop-daemons.shè¿™ä¸ªè„šæœ¬ï¼Œæ³¨æ„æ˜¯å¤æ•°sçš„é‚£ä¸ªè„šæœ¬ï¼‰# è¿è¡Œjpså‘½ä»¤æ£€éªŒï¼Œcloud4ã€cloud5ã€cloud6ä¸Šå¤šäº†JournalNodeè¿›ç¨‹root@cloud1:/usr/local/hadoop-2.6.1/sbin# pwd/usr/local/hadoop-2.6.1/sbinroot@cloud1:/usr/local/hadoop-2.6.1/sbin#root@cloud1:/usr/local/hadoop-2.6.1/sbin# hadoop-daemons.sh start journalnode# æ ¼å¼åŒ–ZK(åœ¨cloud1ä¸Šæ‰§è¡Œå³å¯ï¼Œåœ¨binç›®å½•ä¸‹)root@cloud1:/usr/local/hadoop-2.6.1/bin# hdfs zkfc -formatZK# è¿›å…¥èŠ‚ç‚¹cloud4ï¼ŒæŸ¥çœ‹zookeeperä¿¡æ¯root@cloud4:/usr/local/zookeeper-3.4.6/bin# pwd/usr/local/zookeeper-3.4.6/binroot@cloud4:/usr/local/zookeeper-3.4.6/bin# lsREADME.txt  zkCleanup.sh  zkCli.cmd  zkCli.sh  zkEnv.cmd  zkEnv.sh  zkServer.cmd  zkServer.sh  zookeeper.outroot@cloud4:/usr/local/zookeeper-3.4.6/bin#root@cloud4:/usr/local/zookeeper-3.4.6/bin# ./zkCli.shConnecting to localhost:21812015-10-21 09:34:34,485 [myid:] - INFO  [main:Environment@100] - Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT2015-10-21 09:34:34,487 [myid:] - INFO  [main:Environment@100] - Client environment:host.name=cloud42015-10-21 09:34:34,487 [myid:] - INFO  [main:Environment@100] - Client environment:java.version=1.8.0_......[zk: localhost:2181(CONNECTED) 2] ls /hadoop-ha[ns1][zk: localhost:2181(CONNECTED) 3]# æ ¼å¼åŒ–HDFS(åœ¨binç›®å½•ä¸‹),åœ¨cloud1ä¸Šæ‰§è¡Œå‘½ä»¤:root@cloud1:/usr/local/hadoop-2.6.1/bin# hdfs namenode -format# é¦–å…ˆå¯åŠ¨activeèŠ‚ç‚¹ï¼Œæ‰§è¡Œå¦‚ä¸‹å‘½ä»¤(åœ¨cloud1ä¸Šæ‰§è¡Œ)root@cloud1:/usr/local/hadoop-2.6.1/sbin# hadoop-daemon.sh start namenode  # è¿›å…¥cloud2ï¼Œéœ€è¦å¯åŠ¨standyæ¨¡å¼root@cloud2:/usr/local/hadoop-2.6.1/bin# pwd/usr/local/hadoop-2.6.1/binroot@cloud2:/usr/local/hadoop-2.6.1/bin# ./hdfs namenode -bootstrapStandbyroot@cloud2:/usr/local/hadoop-2.6.1/sbin# pwd/usr/local/hadoop-2.6.1/sbin# è¿™æ¡å‘½ä»¤å¯ä»¥ç­‰åˆ°hadoop-daemons.sh start zkfc æˆåŠŸä»¥åæ‰§è¡Œ# è²Œä¼¼æ˜¯zkfcçš„å¯åŠ¨æ…¢å¯¼è‡´standbyæ¨¡å¼å¯åŠ¨å‡ºé”™ï¼Ÿroot@cloud1:/usr/local/spark-1.5.1-bin-hadoop2.6/bin# jps1522 NameNode2546 Jps1859 DFSZKFailoverController1109 Worker104 JournalNode426 DataNode558 NodeManager943 Master# ä»”ç»†è§‚å¯ŸDFSZKFailoverController è¿™ä¸ªè¿›ç¨‹çš„å­˜åœ¨æƒ…å†µroot@cloud2:/usr/local/hadoop-2.6.1/sbin# ./hadoop-daemon.sh start namenode# é‡æ–°è¿›å…¥cloud1 ï¼Œå¯åŠ¨datanoderoot@cloud4:/usr/local/hadoop-2.6.1/sbin# pwd/usr/local/hadoop-2.6.1/sbinroot@cloud4:/usr/local/hadoop-2.6.1/sbin# ./hadoop-daemons.sh start datanode# åœ¨cloud3ä¸Šæ‰§è¡Œstart-yarn.shroot@cloud3:/usr/local/hadoop-2.6.1/sbin# start-yarn.sh# å¯åŠ¨ZKFCroot@cloud1:/usr/local/hadoop-2.6.1/sbin# ./hadoop-daemons.sh start zkfc# å¯åŠ¨sparké›†ç¾¤root@cloud1:/usr/local/hadoop-2.6.1/sbin# cd /usr/local/spark-1.5.1-bin-hadoop2.6/sbin/root@cloud1:/usr/local/spark-1.5.1-bin-hadoop2.6/sbin# start-all.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤æ—¶å¯ä»¥é€šè¿‡CURLè®¿é—®æœåŠ¡äº†ï¼Œå¦‚æœå®¿ä¸»æœºä¸­çš„hostsæ–‡ä»¶æ²¡æœ‰é…ç½®dockerå®¹å™¨çš„ä¸»æœºåå’ŒIPåœ°å€æ˜ å°„å…³ç³»çš„è¯è¦æ¢æˆç”¨IPè®¿é—®</p><pre class="line-numbers language-none"><code class="language-none">[reason@localhost ~]$ curl http://172.17.0.56:50070[reason@localhost ~]$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h4><pre class="line-numbers language-none"><code class="language-none"># åˆ é™¤é•œåƒ[reason@localhost ~]$ docker imagesREPOSITORY          TAG                 IMAGE ID            CREATED             VIRTUAL SIZEmofun/spark         v2.0                b2dacac3e132        3 hours ago         1.508 GBmofun/spark         v1.3                4d2f33ca61ee        21 hours ago        1.506 GBubuntu              latest              0a17decee413        6 days ago          188.3 MBdocker/whalesay     latest              ded5e192a685        4 months ago        247 MB[reason@localhost ~]$ sudo docker rmi 4d2f<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none"># åˆ é™¤å®¹å™¨[reason@localhost ~]$ docker ps -aCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS                        PORTS               NAMES8258875263be        ubuntu              "/bin/bash"         3 minutes ago       Exited (127) 3 minutes ago                        mad_mestorf[reason@localhost ~]$ sudo docker rm 8258875263be8258875263be[reason@localhost ~]$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none"># åˆ é™¤(NULL) å®¹å™¨root@iZ28ikebrg6Z:/var/run# docker images  REPOSITORY             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE  &lt;none&gt;                 &lt;none&gt;              def2e0b08cbc        About an hour ago   1.37 GB  sameersbn/redmine      latest              f0bec095f291        2 hours ago         614.6 MB  root@iZ28ikebrg6Z:/var/run# docker ps -a  CONTAINER ID        IMAGE                    COMMAND                CREATED             STATUS                     PORTS               NAMES  5d6373cb79e6        224b40d4b89f             "/bin/sh -c 'apt-get   25 hours ago        Exited (0) 25 hours ago                        distracted_blackwell    root@iZ28ikebrg6Z:/var/run# docker rm 5d63  5d63<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none"># é•œåƒå¯¼å‡º[reason@localhost ~]$ sudo docker ps -aCONTAINER ID        IMAGE                 COMMAND                  CREATED             STATUS                         PORTS               NAMESd4e581ba6af8        mofun/spark_rc:v1.0   "/bin/bash"              11 seconds ago      Exited (0) 7 seconds ago                           hungry_pasteur[reason@localhost ~]$ sudo docker export d4e581ba6af8 &gt; mofunspark_v1.0.tar# å’Œå¯¼å…¥æ¢å¤[reason@localhost ~]$ cat mofunspark_v1.0.tar | sudo docker import - mofun/spark:v1.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰§è¡ŒScalaäº¤äº’æ¨¡å¼æ—¶å‡ºé”™æ—¶ï¼Œéœ€è¦æ£€æŸ¥</p><pre class="line-numbers language-none"><code class="language-none">root@cloud1:/usr/local/jdk1.8.0_60/jre/lib/ext# ls -latotal 25632drwxr-xr-x.  3  501 staff     4096 Oct 19 02:35 .drwxr-xr-x. 15  501 staff     4096 Oct 18 03:34 ..-rw-r--r--.  1  501 staff  3860522 Aug  4 19:29 cldrdata.jar-rw-r--r--.  1  501 staff     8286 Aug  4 19:29 dnsns.jar-rw-r--r--.  1  501 staff    44516 Aug  4 19:29 jaccess.jar-rwxr-xr-x.  1  501 staff 18464934 Aug  3 17:58 jfxrt.jar-rw-r--r--.  1  501 staff  1178935 Aug  4 19:29 localedata.jar-rw-r--r--.  1  501 staff     1269 Aug  4 19:29 meta-index-rw-r--r--.  1  501 staff  2014239 Aug  4 19:29 nashorn.jar-rw-r--r--.  1  501 staff    39771 Aug  4 19:29 sunec.jar-rw-r--r--.  1  501 staff   278680 Aug  4 19:29 sunjce_provider.jar-rw-r--r--.  1  501 staff   250826 Aug  4 19:29 sunpkcs11.jardrwxr-xr-x.  2 root root      4096 Oct 19 02:35 tmp-rw-r--r--.  1  501 staff    68848 Aug  4 19:29 zipfs.jarroot@cloud1:/usr/local/jdk1.8.0_60/jre/lib/ext## è¯¥ç›®å½•ä¸‹å‡ºç°äº†å¾ˆå¤šç±»ä¼¼._jfxrt.jar çš„åŒ…ï¼Œç›´æ¥äºˆä»¥åˆ é™¤å³å¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h4><ul><li><a href="http://eksliang.iteye.com/blog/2226986">http://eksliang.iteye.com/blog/2226986</a></li><li><a href="http://dockerpool.com/static/books/docker_practice/container/daemon.html">http://dockerpool.com/static/books/docker_practice/container/daemon.html</a></li><li><a href="http://dockerpool.com/static/books/docker_practice/install/ubuntu.html">http://dockerpool.com/static/books/docker_practice/install/ubuntu.html</a></li><li><a href="http://dockerpool.com/static/books/docker_practice/image/create.html">http://dockerpool.com/static/books/docker_practice/image/create.html</a></li><li><a href="http://dockerpool.com/static/books/docker_practice/image/save_load.html">http://dockerpool.com/static/books/docker_practice/image/save_load.html</a></li><li><a href="http://dockerpool.com/static/books/docker_practice/container/rm.html">http://dockerpool.com/static/books/docker_practice/container/rm.html</a></li><li><a href="http://blog.csdn.net/qq1010885678/article/details/46353101">http://blog.csdn.net/qq1010885678/article/details/46353101</a></li><li><a href="http://cn.soulmachine.me/blog/20131027/">http://cn.soulmachine.me/blog/20131027/</a></li><li><a href="http://my.oschina.net/zjzhai/blog/225112">http://my.oschina.net/zjzhai/blog/225112</a></li><li><a href="http://blog.csdn.net/minimicall/article/details/40188251">http://blog.csdn.net/minimicall/article/details/40188251</a></li><li><a href="http://www.scala-lang.org/documentation/">http://www.scala-lang.org/documentation/</a>  </li><li><a href="https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/streaming/NetworkWordCount.scala">https://github.com/apache/spark/blob/master/examples/src/main/scala/org/apache/spark/examples/streaming/NetworkWordCount.scala</a></li><li><a href="http://spark.apache.org/docs/latest/">http://spark.apache.org/docs/latest/</a></li><li><a href="https://docs.sigmoidanalytics.com/index.php/Error:_Failed_to_initialize_compiler:_object_scala_not_found.">https://docs.sigmoidanalytics.com/index.php/Error:_Failed_to_initialize_compiler:_object_scala_not_found.</a></li><li><a href="http://docs.docker.com/linux/step_one/">http://docs.docker.com/linux/step_one/</a></li><li><a href="http://blog.sequenceiq.com/blog/2015/01/09/spark-1-2-0-docker/">http://blog.sequenceiq.com/blog/2015/01/09/spark-1-2-0-docker/</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> Spark </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nginx Logrotate</title>
      <link href="/2015-12-04-nginx-logrotate.html"/>
      <url>/2015-12-04-nginx-logrotate.html</url>
      
        <content type="html"><![CDATA[<h3 id="Centos-Logrotate"><a href="#Centos-Logrotate" class="headerlink" title="Centos Logrotate"></a>Centos Logrotate</h3><h4 id="å…³äº"><a href="#å…³äº" class="headerlink" title="å…³äº"></a>å…³äº</h4><p><em>logrotate</em> is  designed to ease administration of systems that generatelarge numbers of log files.  It allows automatic rotation, compression,removal, and mailing of log files.  Each log file may be handled daily,weekly, monthly, or when it grows too large. (<a href="http://linuxcommand.org/man_pages/logrotate8.html">Logrotate man page</a>)</p><!--more--><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><h5 id="å†…å®¹ç¤ºä¾‹"><a href="#å†…å®¹ç¤ºä¾‹" class="headerlink" title="å†…å®¹ç¤ºä¾‹"></a>å†…å®¹ç¤ºä¾‹</h5><pre class="line-numbers language-none"><code class="language-none">[reason@online_http:/etc/logrotate.d]$ cat nginx.logrotate.d## author: reason@mofunsky.com# date:   2015-03-31 10:15# cron:#       59 23 * * * /usr/sbin/logrotate /etc/logrotate.conf &gt; /dev/null## location:#       /etc/logrotate.d/nginx.logrotate.d#/local/nginx*.log {    daily    rotate 10    missingok    compress    notifempty    sharedscripts    postrotate        /bin/kill -USR1 $(cat /var/nginx.pid 2&gt;/dev/null) 2&gt;/dev/null || :    endscript}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å­˜æ”¾ä½ç½®"><a href="#å­˜æ”¾ä½ç½®" class="headerlink" title="å­˜æ”¾ä½ç½®"></a>å­˜æ”¾ä½ç½®</h5><pre class="line-numbers language-none"><code class="language-none">[reason@online_http:/etc/logrotate.d]$ pwd/etc/logrotate.d[reason@online_http:/etc/logrotate.d]$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="æ‰§è¡Œæ–¹å¼å’Œæ—¶é—´"><a href="#æ‰§è¡Œæ–¹å¼å’Œæ—¶é—´" class="headerlink" title="æ‰§è¡Œæ–¹å¼å’Œæ—¶é—´"></a>æ‰§è¡Œæ–¹å¼å’Œæ—¶é—´</h5><pre class="line-numbers language-none"><code class="language-none"># add by reason @ 2015-04-05 20:41# logrotate nginx log daily59      23      *       *       *       root /usr/sbin/logrotate /etc/logrotate.conf &gt;/dev/null 2&gt;&amp;1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="æ‰§è¡Œæ•ˆæœ"><a href="#æ‰§è¡Œæ•ˆæœ" class="headerlink" title="æ‰§è¡Œæ•ˆæœ"></a>æ‰§è¡Œæ•ˆæœ</h5><pre class="line-numbers language-none"><code class="language-none"># ä¼šæŒ‰ç…§æ—¥æœŸï¼Œåœ¨æ¯å¤©çš„23ï¼š59åˆ†å°†æ”¹å¤©æ—¥å¿—è½¬å‚¨å‹ç¼©ä¸º*.gzæ–‡ä»¶[reason@online_http:/local/nginx_access_log]$ ls -lshtotal 5.1G427M -rwxrwxrwx 1 nginx nginx 427M Oct 11 12:01 nginx_me_access.log259M -rwxrwxrwx 1 nginx nginx 259M Oct  1 23:59 nginx_me_access.log-20151001.gz233M -rwxrwxrwx 1 nginx nginx 233M Oct  2 23:59 nginx_me_access.log-20151002.gz228M -rwxrwxrwx 1 nginx nginx 228M Oct  3 23:59 nginx_me_access.log-20151003.gz225M -rwxrwxrwx 1 nginx nginx 225M Oct  4 23:59 nginx_me_access.log-20151004.gz232M -rwxrwxrwx 1 nginx nginx 232M Oct  5 23:59 nginx_me_access.log-20151005.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å¦å¤–ä¸€ç§æ‰§è¡Œæ–¹å¼"><a href="#å¦å¤–ä¸€ç§æ‰§è¡Œæ–¹å¼" class="headerlink" title="å¦å¤–ä¸€ç§æ‰§è¡Œæ–¹å¼"></a>å¦å¤–ä¸€ç§æ‰§è¡Œæ–¹å¼</h5><p>logrotate æ˜¯linuxç³»ç»Ÿçš„ç¼ºçœå®‰è£…å‘½ä»¤ï¼Œåˆå§‹åŒ–çŠ¶æ€ä¸‹å³å­˜åœ¨ç¼ºçœçš„é…ç½®ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬æ‰§è¡Œæ–‡ä»¶å’Œæ—¶é—´</p><pre class="line-numbers language-none"><code class="language-none">[reason@online_http:/local/nginx_access_log]$ cd /etc/logrotate.d/[reason@online_http:/etc/logrotate.d]$ lsnginx.logrotate.d[reason@online_http:/etc/logrotate.d]$ pwd/etc/logrotate.d[reason@online_http:/etc/logrotate.d]$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¯”å¦‚åœ¨/etc/logrotate.dç›®å½•ä¸‹ä¼šç¼ºçœæ”¾ç½®ä¸€æ‰¹éœ€è¦è½¬å‚¨çš„æ—¥å¿—æœåŠ¡å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚httpdï¼Œeximç­‰ï¼Œlogrotateä¼šæŒ‰ç…§é…ç½®æ–‡ä»¶ä¿¡æ¯æŒ‰ç…§æ—¢å®šæ—¶é—´å¯¹å…¶äº§ç”Ÿçš„æ—¥å¿—æ•°æ®è¿›è¡Œè½¬å‚¨æ“ä½œã€‚</p><pre class="line-numbers language-none"><code class="language-none">[reason@online_http:/etc/logrotate.d]$ pwd/etc/logrotate.d[reason@online_http:/etc/logrotate.d]$ cat yum/var/log/yum.log {    missingok    notifempty    size 30k    yearly    create 0600 root root}[reason@online_http:/etc/logrotate.d]$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…·ä½“å‚æ•°æ¶µä¹‰å¯å‚è€ƒ<a href="http://linuxcommand.org/man_pages/logrotate8.html">Logrotate man page</a></p><p>ç¼ºçœçŠ¶æ€ä¸‹ï¼Œlogrotateçš„è‡ªåŠ¨æ‰§è¡Œåˆ†åˆ«è¢«æ”¾å…¥äº†å¦‚ä¸‹å‡ ä¸ªæ–‡ä»¶ä¸­</p><ul><li>cron.daily</li><li>cron.weekly</li><li>cron.monthly</li></ul><p>è€Œå¯¹äºä¸åŒçš„linuxå‘è¡Œç‰ˆæœ¬ä»¥ä¸Šè„šæœ¬å¯èƒ½è¢«æ”¾ç½®åœ¨/etc/crontabä¸­<br>æˆ–è€…</p><pre class="line-numbers language-none"><code class="language-none">[root@i-bntub2bp logrotate.d]# cat /etc/anacrontab# /etc/anacrontab: configuration file for anacron# See anacron(8) and anacrontab(5) for details.SHELL=/bin/shPATH=/sbin:/bin:/usr/sbin:/usr/binMAILTO=root# the maximal random delay added to the base delay of the jobsRANDOM_DELAY=45# the jobs will be started during the following hours onlySTART_HOURS_RANGE=3-22#period in days   delay in minutes   job-identifier   command1       5       cron.daily              nice run-parts /etc/cron.daily7       25      cron.weekly             nice run-parts /etc/cron.weekly@monthly 45     cron.monthly            nice run-parts /etc/cron.monthly[root@i-bntub2bp logrotate.d]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é’ˆå¯¹</p><pre class="line-numbers language-none"><code class="language-none">[root@i-bntub2bp logrotate.d]# cat /etc/redhat-releaseCentOS release 6.6 (Final)[root@i-bntub2bp logrotate.d]#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è€Œè¨€ï¼Œå¯ä»¥ç›´æ¥åœ¨/etc/<a href="https://www.centos.org/docs/2/rhl-cg-en-7.2/anacron.html">anacrontab</a>ä¸­æ‰¾åˆ°å¦‚ä¸Šä¿¡æ¯ã€‚</p><p>å¤§ä½“è§£é‡Šä¸‹anacrontabçš„éƒ¨åˆ†å‚æ•°æ¶µä¹‰</p><pre class="line-numbers language-none"><code class="language-none">START_HOURS_RANGE=3-22  # æ‰§è¡Œæ—¶é—´ä¸º3ç‚¹åˆ°22ç‚¹ä¹‹é—´RANDOM_DELAY=45 # æ—¶é—´å¤„äºå¯æ‰§è¡ŒåŒºé—´å†…éšæœºå»¶è¿Ÿ45åˆ†é’Ÿä¹‹å†…ä»»æ„æ—¶é—´1       5       cron.daily              nice run-parts /etc/cron.daily# æ‰§è¡Œæ—¶é—´ä¸º3ç‚¹åˆ°22ç‚¹ä¹‹é—´æ‰§è¡Œ/etc/cron.dailyè„šæœ¬ (after reboot and after the machine has been up for 5 minutes^^), å¦‚æœæ²¡æœ‰é‡å¯æœåŠ¡ï¼Œåˆ™ä¼šåœ¨3ï¼š05ä¹‹åæ‰§è¡Œã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å‚è€ƒæ–‡çŒ®"><a href="#å‚è€ƒæ–‡çŒ®" class="headerlink" title="å‚è€ƒæ–‡çŒ®"></a>å‚è€ƒæ–‡çŒ®</h4><ul><li><a href="http://huoding.com/2013/04/21/246">http://huoding.com/2013/04/21/246</a></li><li><a href="http://serverfault.com/questions/135906/when-does-cron-daily-run">http://serverfault.com/questions/135906/when-does-cron-daily-run</a></li><li><a href="http://www.cyberciti.biz/faq/linux-when-does-cron-daily-weekly-monthly-run/">http://www.cyberciti.biz/faq/linux-when-does-cron-daily-weekly-monthly-run/</a></li><li><a href="http://linuxcommand.org/man_pages/logrotate8.html">http://linuxcommand.org/man_pages/logrotate8.html</a></li><li><a href="https://www.centos.org/docs/2/rhl-cg-en-7.2/anacron.html">https://www.centos.org/docs/2/rhl-cg-en-7.2/anacron.html</a></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> nginx </tag>
            
            <tag> logrotate </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
