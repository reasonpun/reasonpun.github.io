<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png"><link rel="mask-icon" href="/images/logo.svg" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" integrity="sha256-jTIdiMuX/e3DGJUGwl3pKSxuc6YOuqtJYkM0bGQESA4=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous"><script class="next-config" data-name="main" type="application/json">{"hostname":"pangz.fun","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.10.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4592202470693653" crossorigin="anonymous"></script><meta name="description" content="付款始终是企业不可或缺的一部分，当向错误的个人付款或向正确的人多付钱时，它就会成为一件非常麻烦的事情。作为开发人员，集成支付模块是需要额外重视的关键主题之一，以确保正确完成支付，同时确保支付安全并发送给正确的接收者。但是，如果商家希望从不同地点的客户进行付款&#x2F;接收付款，但在如何无缝地做到这一点方面的选择有限，那么您如何进行这些集成呢？"><meta property="og:type" content="article"><meta property="og:title" content="在Flutter中集成Flutterwave"><meta property="og:url" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App.html"><meta property="og:site_name" content="酷学小栈"><meta property="og:description" content="付款始终是企业不可或缺的一部分，当向错误的个人付款或向正确的人多付钱时，它就会成为一件非常麻烦的事情。作为开发人员，集成支付模块是需要额外重视的关键主题之一，以确保正确完成支付，同时确保支付安全并发送给正确的接收者。但是，如果商家希望从不同地点的客户进行付款&#x2F;接收付款，但在如何无缝地做到这一点方面的选择有限，那么您如何进行这些集成呢？"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/0.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/1.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/2.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/3.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/4.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/5.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/6.gif"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/7.png"><meta property="og:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/8.png"><meta property="article:published_time" content="2022-03-24T02:07:47.000Z"><meta property="article:modified_time" content="2025-01-23T09:09:21.724Z"><meta property="article:author" content="木辛念做梓"><meta property="article:tag" content="Flutter"><meta property="article:tag" content="Flutterwave"><meta property="article:tag" content="Payment"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App/0.png"><link rel="canonical" href="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App.html"><script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App.html","path":"Integrating-Flutterwave-with-a-Flutter-App.html","title":"在Flutter中集成Flutterwave"}</script><script class="next-config" data-name="calendar" type="application/json">""</script><title>在Flutter中集成Flutterwave | 酷学小栈</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-1HVT1YE421"></script><script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"G-1HVT1YE421","only_pageview":false}</script><script src="/js/third-party/analytics/google-analytics.js"></script><link rel="stylesheet" type="text/css" href="/css/injector/main.css"><link rel="preload" as="style" href="/css/injector/light.css"><link rel="preload" as="style" href="/css/injector/dark.css"><noscript><link rel="stylesheet" href="/css/noscript.css"></noscript><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="alternate" href="/atom.xml" title="酷学小栈" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage" class="use-motion"><div class="headband"></div><main class="main"><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><i class="logo-line"></i><p class="site-title">酷学小栈</p><i class="logo-line"></i></a><p class="site-subtitle" itemprop="description">还要再走500里</p></div><div class="site-nav-right"><div class="toggle popup-trigger"></div></div></div><nav class="site-nav"><ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-rss"><a href="/atom.xml" rel="section"><i class="fa fa-rss fa-fw"></i>RSS</a></li></ul></nav></div><div class="toggle sidebar-toggle" role="button"><span class="toggle-line"></span> <span class="toggle-line"></span> <span class="toggle-line"></span></div><aside class="sidebar"><div class="sidebar-inner sidebar-nav-active sidebar-toc-active"><ul class="sidebar-nav"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="sidebar-panel-container"><div class="post-toc-wrap sidebar-panel"><div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Flutterwave%E6%98%AF%E4%B8%AA%E5%95%A5%EF%BC%9F"><span class="nav-number">1.</span> <span class="nav-text">Flutterwave是个啥？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Flutterwave-%E9%9B%86%E6%88%90%E9%80%89%E9%A1%B9"><span class="nav-number">2.</span> <span class="nav-text">Flutterwave 集成选项</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A5%E9%97%A8"><span class="nav-number">3.</span> <span class="nav-text">入门</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-Flutterwave-%E5%B8%90%E6%88%B7%E3%80%82"><span class="nav-number">3.1.</span> <span class="nav-text">创建一个 Flutterwave 帐户。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%99%BB%E5%BD%95%E5%88%B0%E6%82%A8%E7%9A%84-Flutterwave-%E5%B8%90%E6%88%B7%E3%80%82"><span class="nav-number">3.2.</span> <span class="nav-text">登录到您的 Flutterwave 帐户。</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4"><span class="nav-number">4.</span> <span class="nav-text">步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A4%BA%E4%BE%8B-Flutter-%E9%A1%B9%E7%9B%AE"><span class="nav-number">4.1.</span> <span class="nav-text">1. 创建一个示例 Flutter 项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%88%A0%E9%99%A4%E9%A2%84%E7%94%9F%E6%88%90%E7%9A%84%E4%BB%A3%E7%A0%81"><span class="nav-number">4.2.</span> <span class="nav-text">2.删除预生成的代码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%9C%A8-pubspec-yml-%E4%B8%AD%E6%B7%BB%E5%8A%A0-Flutterwave-%E5%8C%85"><span class="nav-number">4.3.</span> <span class="nav-text">3. 在 pubspec.yml 中添加 Flutterwave 包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%9C%A8main-dart%E6%96%87%E4%BB%B6%E4%B8%AD%E5%AF%BC%E5%85%A5Flutterwave%E5%8C%85"><span class="nav-number">4.4.</span> <span class="nav-text">4.在main.dart文件中导入Flutterwave包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA-FlutterWave-%E5%AE%9E%E4%BE%8B%E3%80%82"><span class="nav-number">4.5.</span> <span class="nav-text">5. 创建一个 FlutterWave 实例。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-%E5%A4%84%E7%90%86%E5%93%8D%E5%BA%94"><span class="nav-number">4.6.</span> <span class="nav-text">6. 处理响应</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-%E5%90%91-Flutterwave-%E4%BB%98%E6%AC%BE%E3%80%82"><span class="nav-number">4.7.</span> <span class="nav-text">7. 向 Flutterwave 付款。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-Flutterwave-%E6%94%AF%E4%BB%98%E7%A1%AE%E8%AE%A4"><span class="nav-number">4.8.</span> <span class="nav-text">8. Flutterwave 支付确认</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">5.</span> <span class="nav-text">总结</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person"><p class="site-author-name" itemprop="name">木辛念做梓</p><div class="site-description" itemprop="description">读万卷书，行万里路，胸中脱去尘浊</div></div><div class="site-state-wrap site-overview-item animated"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">109</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">21</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">113</span> <span class="site-state-item-name">标签</span></a></div></nav></div><div class="links-of-blogroll site-overview-item animated"><div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i> Links</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://io-oi.me/" title="https:&#x2F;&#x2F;io-oi.me" rel="noopener" target="_blank">reuixiy</a></li></ul></div></div></div></div></aside><div class="sidebar-dimmer"></div></header><div class="back-to-top" role="button" aria-label="返回顶部"><i class="fa fa-arrow-up"></i> <span>0%</span></div><noscript><div class="noscript-warning">Theme NexT works best with JavaScript enabled</div></noscript><div class="main-inner post posts-expand"><div class="post-block"><article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pangz.fun/Integrating-Flutterwave-with-a-Flutter-App.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.gif"><meta itemprop="name" content="木辛念做梓"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="酷学小栈"><meta itemprop="description" content="读万卷书，行万里路，胸中脱去尘浊"></span><span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork"><meta itemprop="name" content="在Flutter中集成Flutterwave | 酷学小栈"><meta itemprop="description" content=""></span><header class="post-header"><h1 class="post-title" itemprop="name headline">在Flutter中集成Flutterwave</h1><div class="post-meta-container"><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2022-03-24 10:07:47" itemprop="dateCreated datePublished" datetime="2022-03-24T10:07:47+08:00">2022-03-24</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar-check"></i> </span><span class="post-meta-item-text">更新于</span> <time title="修改时间：2025-01-23 17:09:21" itemprop="dateModified" datetime="2025-01-23T17:09:21+08:00">2025-01-23</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Flutter/" itemprop="url" rel="index"><span itemprop="name">Flutter</span></a> </span></span><span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv"><span class="post-meta-item-icon"><i class="far fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span id="busuanzi_value_page_pv"></span> </span><span class="post-meta-break"></span> <span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>7.2k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>7 分钟</span></span></div></div></header><div class="post-body" itemprop="articleBody"><img src="/Integrating-Flutterwave-with-a-Flutter-App/0.png" title="示意图 width=400"><p>付款始终是企业不可或缺的一部分，当向错误的个人付款或向正确的人多付钱时，它就会成为一件非常麻烦的事情。<br>作为开发人员，集成支付模块是需要额外重视的关键主题之一，以确保正确完成支付，同时确保支付安全并发送给正确的接收者。<br>但是，如果商家希望从不同地点的客户进行付款/接收付款，但在如何无缝地做到这一点方面的选择有限，那么您如何进行这些集成呢？</p><span id="more"></span><p>使用各种支付服务提供商进行这些集成的方法有很多，但是，在本教程中，我将向您展示如何在Flutter中集成将提供各种支付选项的支付服务提供商 Flutterwave的模块。</p><h3 id="Flutterwave是个啥？"><a href="#Flutterwave是个啥？" class="headerlink" title="Flutterwave是个啥？"></a>Flutterwave是个啥？</h3><p>Flutterwave 是一家支付服务提供商，提供各种服务来发送和接收付款。 如果您是企业主，您可以使用 Flutterwave 的各种选项向客户收取款项，例如：</p><ul><li>银行转账</li><li>移动货币</li><li>借记卡和信用卡</li><li>POS</li><li>银行账户</li><li>Visa QR</li><li>USSD</li><li>Mpesa（肯尼亚）</li></ul><h3 id="Flutterwave-集成选项"><a href="#Flutterwave-集成选项" class="headerlink" title="Flutterwave 集成选项"></a>Flutterwave 集成选项</h3><p><strong>Flutterwave Inline</strong> — 这使企业能够通过将 FlutterwaveCheckout() JavaScript 函数嵌入到代码中来使用他们的 Inline Javascript 集成流程。<br><strong>Flutterwave Standard</strong> — 这向您展示了如何使用 Flutterwave 标准集成流程使用其 /payments 端来接受付款。<br><strong>Direct Charge API</strong> — 本指南介绍在 Flutterwave 上执行 Direct API 卡收费。<br>支付链接——支付链接允许商家在他们的网站上接受支付，而无需集成。 这对于没有开发人员资源的个人和商家来说非常有用。<br><strong>HTML Checkout</strong> — 本文档将向您展示如何在 HTML 文件中使用 Flutterwave 内联向您的客户收取付款</p><h3 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h3><h4 id="创建一个-Flutterwave-帐户。"><a href="#创建一个-Flutterwave-帐户。" class="headerlink" title="创建一个 Flutterwave 帐户。"></a>创建一个 Flutterwave 帐户。</h4><p>导航到 Flutterwave 主页并创建一个帐户（如果您还没有帐户）。<br><a target="_blank" rel="noopener" href="https://flutterwave.com/us">https://flutterwave.com/us</a></p><h4 id="登录到您的-Flutterwave-帐户。"><a href="#登录到您的-Flutterwave-帐户。" class="headerlink" title="登录到您的 Flutterwave 帐户。"></a>登录到您的 Flutterwave 帐户。</h4><p>创建帐户后，登录到您的 Flutterwave 帐户，您将可以在其中看到您的仪表板。<br>仪表板包含您可以浏览的各种帐户详细信息项目，例如交易、转账、子帐户、计费选项、付款计划、发票等。<br>请参阅下图中的仪表板概述（当前使用测试模式）：</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/1.png" title="示意图 width=400"><p>仪表板可帮助您在测试模式下进行集成，当准备好进行正式操作时，您可以切换到“生产模式”。</p><p>在本文中，我们将使用 Flutter + Flutterwave 插件，其实现模仿了支付集成的 Flutterwave Inline 方法。</p><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><h4 id="1-创建一个示例-Flutter-项目"><a href="#1-创建一个示例-Flutter-项目" class="headerlink" title="1. 创建一个示例 Flutter 项目"></a>1. 创建一个示例 Flutter 项目</h4><p>让我们创建我们的演示应用程序。 在终端上，输入 $ flutter create 命令，后跟应用程序的名称。<br>在这种情况下，我们将使用名称 <strong>flutterwave_flutter_app</strong>。</p><pre class="line-numbers language-none"><code class="language-none">$ flutter create flutterwave_flutter_app<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="2-删除预生成的代码"><a href="#2-删除预生成的代码" class="headerlink" title="2.删除预生成的代码"></a>2.删除预生成的代码</h4><p>成功创建flutter+flutter wave示例app后，在main.dart文件中，去掉默认生成的代码，替换为如下代码：<br>（这一步假设你对 Flutter 项目结构有一个基本的想法）。 如果您是 Flutter 新手，请查看 <a target="_blank" rel="noopener" href="https://flutter.dev/docs/get-started/codelab">Flutter 官方文档</a>。</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">import</span> <span class="token string-literal"><span class="token string">'package:flutter/material.dart'</span></span><span class="token punctuation">;</span>

<span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">runApp</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token keyword">extends</span> <span class="token class-name">StatelessWidget</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token class-name">MyApp</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">MaterialApp</span><span class="token punctuation">(</span>
        debugShowCheckedModeBanner<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        theme<span class="token punctuation">:</span> <span class="token class-name">ThemeData</span><span class="token punctuation">(</span>
          primarySwatch<span class="token punctuation">:</span> <span class="token class-name">Colors</span><span class="token punctuation">.</span>green<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        home<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

  <span class="token keyword">class</span> <span class="token class-name">HomePage</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token class-name">HomePage</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Key</span><span class="token operator">?</span> key<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>key<span class="token punctuation">:</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
     
     <span class="token metadata function">@override</span>
     <span class="token class-name">HomePageState</span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">HomePageState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">class</span> <span class="token class-name">HomePageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token metadata function">@override</span>
    <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
       appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>
              title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Flutter + Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            body<span class="token punctuation">:</span> <span class="token class-name">Center</span><span class="token punctuation">(</span>
              child<span class="token punctuation">:</span><span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
                child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面的代码显示了一个简单的 UI，其标题为“Flutter +Flutterwave”，界面中心有一个按钮，用于使用 Flutterwave 发起支付。</p><h4 id="3-在-pubspec-yml-中添加-Flutterwave-包"><a href="#3-在-pubspec-yml-中添加-Flutterwave-包" class="headerlink" title="3. 在 pubspec.yml 中添加 Flutterwave 包"></a>3. 在 pubspec.yml 中添加 Flutterwave 包</h4><pre class="line-numbers language-none"><code class="language-none">flutterwave: ^1.0.1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>始终确保从 <a target="_blank" rel="noopener" href="https://pub.dev/packages/flutterwave#prerequisite">Pub dev</a> 下载包版本以获得最新包。</p><h4 id="4-在main-dart文件中导入Flutterwave包"><a href="#4-在main-dart文件中导入Flutterwave包" class="headerlink" title="4.在main.dart文件中导入Flutterwave包"></a>4.在main.dart文件中导入Flutterwave包</h4><pre class="line-numbers language-none"><code class="language-none">import 'package:flutterwave/flutterwave.dart';<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="5-创建一个-FlutterWave-实例。"><a href="#5-创建一个-FlutterWave-实例。" class="headerlink" title="5. 创建一个 FlutterWave 实例。"></a>5. 创建一个 FlutterWave 实例。</h4><p>通过调用 Flutterwave.forUIPayment() 构造函数创建 Flutterwave 实例。<br>构造函数接受以下详细信息的<strong>强制</strong>实例：</p><p><strong>Context</strong> , <strong>publicKey</strong> , <strong>encryptionKey</strong> , <strong>amount</strong> , <strong>currency</strong> , <strong>email</strong> , <strong>fullName</strong> , <strong>txRef</strong> , <strong>isDebugMode</strong> and <strong>phoneNumber</strong></p><p>这将返回 Flutterwave 的一个实例。<br>好吧，既然有一些必需的参数，让我们调整 UI 以使用户在付款时只从 UI 输入字段中填写必要的详细信息，例如电子邮件、金额、全名和电话号码。<br>注意：如果您希望使用不同货币的用户进行 Flutterwave 付款，您可以在 UI 中添加货币输入字段。<br>但是，如果您只想使用一种货币，您可以在代码中预先配置它，这样用户就不必在每次进行 Flutterwave 支付时都填写它。<br>有了这些新增功能，您的代码将如下所示：</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart">  <span class="token comment">//add the following values to create the UI for Flutterwave Payment</span>
<span class="token keyword">class</span> <span class="token class-name">HomePageState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HomePage</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">//use the currency you would like the user to Pay In, in this case, I used KES currency</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> currency <span class="token operator">=</span> <span class="token class-name">FlutterwaveCurrency</span><span class="token punctuation">.</span>KES<span class="token punctuation">;</span>
  <span class="token keyword">final</span> formKey <span class="token operator">=</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">FormState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> fullname <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> phone <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> email <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">TextEditingController</span> amount <span class="token operator">=</span> <span class="token class-name">TextEditingController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Scaffold</span><span class="token punctuation">(</span>
        appBar<span class="token punctuation">:</span> <span class="token class-name">AppBar</span><span class="token punctuation">(</span>
          title<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Flutter + Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          centerTitle<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
        body<span class="token punctuation">:</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>
                padding<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>top<span class="token punctuation">:</span> <span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
       child<span class="token punctuation">:</span> <span class="token class-name">Form</span><span class="token punctuation">(</span>
            key<span class="token punctuation">:</span> formKey<span class="token punctuation">,</span>
         child<span class="token punctuation">:</span><span class="token class-name">Column</span><span class="token punctuation">(</span>
          children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          <span class="token keyword">const</span> <span class="token class-name">Padding</span><span class="token punctuation">(</span>padding<span class="token punctuation">:</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token number">10.0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">Container</span><span class="token punctuation">(</span>
            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>
              controller<span class="token punctuation">:</span> fullname<span class="token punctuation">,</span>
              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Full Name"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                   validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>
                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in Your Name"</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">Container</span><span class="token punctuation">(</span>
            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>
              controller<span class="token punctuation">:</span> phone<span class="token punctuation">,</span>
              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Phone Number"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>
                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in Your Phone number"</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">Container</span><span class="token punctuation">(</span>
            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>
              controller<span class="token punctuation">:</span> email<span class="token punctuation">,</span>
              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Email"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>
                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in Your Email"</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">Container</span><span class="token punctuation">(</span>
            margin<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">EdgeInsets</span><span class="token punctuation">.</span><span class="token function">only</span><span class="token punctuation">(</span>bottom<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            child<span class="token punctuation">:</span> <span class="token class-name">TextFormField</span><span class="token punctuation">(</span>
              controller<span class="token punctuation">:</span> amount<span class="token punctuation">,</span>
              decoration<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">InputDecoration</span><span class="token punctuation">(</span>labelText<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Amount"</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              validator<span class="token punctuation">:</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>
                      value<span class="token operator">!</span><span class="token punctuation">.</span>isNotEmpty<span class="token operator">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Please fill in the Amount you are Paying"</span></span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>上面的代码有一些输入字段，用户可以在使用 Flutterwave 付款之前填写这些字段，例如电子邮件、金额、全名和电话号码。 它还有一个简单的验证，以防止在启动支付时提交空值，因为这些值是必需的参数。<br>接下来，创建一个用于为 Flutterwave 实例配置以下值的方法，包括：<strong>Context</strong> 、<strong>publicKey</strong> 、<strong>encryptionKey</strong> 、<strong>amount</strong> 、<strong>currency</strong> 、<strong>email</strong> 、<strong>fullName</strong> 、<strong>txRef</strong> 、<strong>isDebugMode</strong> 和 <strong>phoneNumber</strong> 。<br>您可以为该方法使用您喜欢的名称。 在这个例子中，我使用 _makeFlutterwavePayment()。<br>可以从下图所示的 Flutterwave 帐户仪表板中检索所需的<strong>公钥</strong>和<strong>加密密钥</strong>：</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/2.png" title="示意图 width=400"><p>在上图中，我使用的是我的 TestMode 公钥和加密密钥。</p><p>请参阅下面创建 Flutterwave 实例的完整代码：</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"> <span class="token comment">//Add a method to make the flutter wave payment</span>
 <span class="token comment">//This Method includes all the values needed to create the Flutterwave Instance</span>
<span class="token keyword">void</span> <span class="token function">_makeFlutterwavePayment</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">String</span> fullname<span class="token punctuation">,</span> <span class="token class-name">String</span> phone<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> <span class="token class-name">String</span> amount<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token class-name">Flutterwave</span> flutterwave <span class="token operator">=</span> <span class="token class-name">Flutterwave</span><span class="token punctuation">.</span><span class="token function">forUIPayment</span><span class="token punctuation">(</span>
          <span class="token comment">//the first 10 fields below are required/mandatory</span>
          context<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">,</span>
          fullName<span class="token punctuation">:</span> fullname<span class="token punctuation">,</span>
          phoneNumber<span class="token punctuation">:</span> phone<span class="token punctuation">,</span>
          email<span class="token punctuation">:</span> email<span class="token punctuation">,</span>
          amount<span class="token punctuation">:</span> amount<span class="token punctuation">,</span>
          <span class="token comment">//Use your Public and Encription Keys from your Flutterwave account on the dashboard</span>
          encryptionKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Your Encription Key"</span></span><span class="token punctuation">,</span>
          publicKey<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">"Your Public Key"</span></span><span class="token punctuation">,</span>
          currency<span class="token punctuation">:</span> currency<span class="token punctuation">,</span>
          txRef<span class="token punctuation">:</span> <span class="token class-name">DateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toIso8601String</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token comment">//Setting DebugMode below to true since will be using test mode.</span>
          <span class="token comment">//You can set it to false when using production environment.</span>
          isDebugMode<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token comment">//configure the the type of payments that your business will accept</span>
          acceptCardPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptUSSDPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptAccountPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptFrancophoneMobileMoney<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptGhanaPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptMpesaPayment<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          acceptRwandaMoneyPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptUgandaPayment<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
          acceptZambiaPayment<span class="token punctuation">:</span> <span class="token boolean">false</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>注意：在这个 Demo 中，我们将使用 Mpesa 测试 Flutterwave 付款，可以通过 Mpesa 接受付款，这就是为什么在上述方法的第 26 行中将 acceptMpesaPayment 设置为 true 的原因。</p><p>但是，您可以根据您所在的国家/地区和可接受的付款类型，将您想要测试的其他付款设置为真实。<br>如果您也想测试 CardPayment，请随意将其设置为 true。</p><h4 id="6-处理响应"><a href="#6-处理响应" class="headerlink" title="6. 处理响应"></a>6. 处理响应</h4><p>接下来，在 Flutterwave 实例下方添加一个响应，该实例返回一个 Flutterwave 实例，然后我们在其上调用异步方法 .initializeForUiPayments()。<br>请参阅下面的示例代码：</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token keyword">final</span> response <span class="token operator">=</span> <span class="token keyword">await</span> flutterwave<span class="token punctuation">.</span><span class="token function">initializeForUiPayments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token keyword">if</span> <span class="token punctuation">(</span>response <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token function">print</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">"Transaction Failed"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
 
       <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token string-literal"><span class="token string">"Transaction successful"</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
         <span class="token function">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token function">print</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="7-向-Flutterwave-付款。"><a href="#7-向-Flutterwave-付款。" class="headerlink" title="7. 向 Flutterwave 付款。"></a>7. 向 Flutterwave 付款。</h4><p>现在您已经创建了 Flutterwave 实例和响应，请在 onPressed() 函数上调用您在上面（在步骤 6 中）创建的 _makeFlutterwavePayment 方法，以在按下按钮时执行付款。<br>请看下面的代码：</p><pre class="line-numbers language-dart" data-language="dart"><code class="language-dart"><span class="token class-name">ElevatedButton</span><span class="token punctuation">(</span>
            child<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token class-name">Text</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Pay with Flutterwave'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            onPressed<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">final</span> name <span class="token operator">=</span> fullname<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
              <span class="token keyword">final</span> userPhone <span class="token operator">=</span> phone<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
              <span class="token keyword">final</span> userEmail <span class="token operator">=</span> email<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
              <span class="token keyword">final</span> amountPaid <span class="token operator">=</span> amount<span class="token punctuation">.</span>text<span class="token punctuation">;</span>

              <span class="token keyword">if</span> <span class="token punctuation">(</span>formKey<span class="token punctuation">.</span>currentState<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token function">_makeFlutterwavePayment</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span>name<span class="token punctuation">,</span>userPhone<span class="token punctuation">,</span>userEmail<span class="token punctuation">,</span>amountPaid<span class="token punctuation">)</span><span class="token punctuation">;</span>
             <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>是的，我们已经完成了代码实现。</p><h4 id="8-Flutterwave-支付确认"><a href="#8-Flutterwave-支付确认" class="headerlink" title="8. Flutterwave 支付确认"></a>8. Flutterwave 支付确认</h4><p>现在运行我们刚刚按照上述说明构建的 Flutterwave Flutter 示例应用程序，并以测试用户的身份填写 UI 付款详细信息。<br>见下图：</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/3.png" title="示意图 width=400"><p>然后按下使用 Flutterwave 付款按钮，您现在应该可以开始付款了。 这只会显示一个付款选项，即 Mpesa，因为这是我们设置的。 检查下面的屏幕截图。</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/4.png" title="示意图 width=400"><p>这将触发事务验证，如下所示：</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/5.png" title="示意图 width=400"><p>示例演示</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/6.gif" title="示意图 width=400"><p>付款后，您将收到一封由使用 Flutterwave 付款的客户完成的交易报告的电子邮件。 检查下面的屏幕截图。</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/7.png" title="示意图 width=400"><p>您还可以在 Flutterwave 仪表板中获取对您的 Flutterwave 帐户进行的所有交易的列表，如下所示：</p><img src="/Integrating-Flutterwave-with-a-Flutter-App/8.png" title="示意图 width=400"><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>在本教程中，您学习了如何使用 Flutterwave Inline 方法将 Flutterwave 集成到 Flutter 应用程序中。 以及如何使用 Mpesa 付款选项以无缝方式确认您作为商家从客户那里收到付款。</p></div><footer class="post-footer"><div class="reward-container"><div>你的鼓励是我更新的动力！</div><button>赞赏</button><div class="post-reward"><div><img src="/images/wechatpay.png" alt="木辛念做梓 微信"> <span>微信</span></div><div><img src="/images/alipay.png" alt="木辛念做梓 支付宝"> <span>支付宝</span></div></div></div><div class="post-tags"><a href="/tags/Flutter/" rel="tag"># Flutter</a> <a href="/tags/Flutterwave/" rel="tag"># Flutterwave</a> <a href="/tags/Payment/" rel="tag"># Payment</a></div><div class="post-nav"><div class="post-nav-item"><a href="/Flutter-TimePicker.html" rel="prev" title="Flutter TimePicker"><i class="fa fa-chevron-left"></i> Flutter TimePicker</a></div><div class="post-nav-item"><a href="/How-to-scale-Microservices-with-Message-Queues-Spring-Boot-and-Kubernetes.html" rel="next" title="如何使用消息队列、Spring Boot 和 Kubernetes 扩展微服务">如何使用消息队列、Spring Boot 和 Kubernetes 扩展微服务 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2025</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">木辛念做梓</span></div><div class="wordcount"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-chart-line"></i> </span><span>站点总字数：</span> <span title="站点总字数">530k</span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span>站点阅读时长 &asymp;</span> <span title="站点阅读时长">8:02</span></span></div><div class="busuanzi-count"><span class="post-meta-item" id="busuanzi_container_site_uv"><span class="post-meta-item-icon"><i class="fa fa-user"></i> </span><span class="site-uv" title="总访客量"><span id="busuanzi_value_site_uv"></span> </span></span><span class="post-meta-item" id="busuanzi_container_site_pv"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="site-pv" title="总访问量"><span id="busuanzi_value_site_pv"></span></span></span></div><div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动</div></div></footer><script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script><script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="moon-menu"><div class="moon-menu-items"><div id="moon-menu-item-back2bottom" class="moon-menu-item"><i class="fas fa-chevron-down"></i></div><div id="moon-menu-item-back2top" class="moon-menu-item"><i class="fas fa-chevron-up"></i></div></div><div class="moon-menu-button"><svg class="moon-menu-bg"><circle class="moon-menu-cricle" cx="50%" cy="50%" r="44%"></circle><circle class="moon-menu-border" cx="50%" cy="50%" r="48%"></circle></svg><div class="moon-menu-content"><div class="moon-menu-icon"><i class="fas fa-ellipsis-v"></i></div><div class="moon-menu-text"></div></div></div></div><script src="/js/injector.js"></script></body></html>